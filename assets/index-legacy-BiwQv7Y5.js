System.register([],(function(e,t){"use strict";return{execute:function(){var e=document.createElement("style");e.textContent=":root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:rgba(255,255,255,.87);background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}#root{width:100%;height:100%}body{width:100%;margin:0;height:100vh}header{display:flex;align-content:center;justify-content:center;width:100%;background:#a3ccec}.content{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%;max-height:100%}.logs-container{position:absolute;top:12px;left:12px;box-sizing:border-box;padding:20px 0;height:70%;max-height:70%;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none;background:rgba(255,255,255,.5)}.help-container{position:absolute;top:12px;right:12px;box-sizing:border-box;padding:20px 0;height:70%;max-height:70%;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none;background:rgba(255,255,255,.5);color:#000}.logs-container::-webkit-scrollbar{display:none}.logs-content{position:relative;height:100%;width:100%}.log{display:flex;align-items:center;justify-content:flex-start;gap:12px}.log.info{color:#00f}.log.error{color:red}.log.warn{color:#dead00}.log.debug{color:#464646}.player{width:100%;height:100%}.player video{width:100%;height:100%}.player .videoType{position:absolute;padding:0 24px;top:12px;left:50%;background:red}\n/*$vite$:1*/",document.head.appendChild(e);var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r,i,a,o,s={exports:{}},u={},l=(i||(i=1,s.exports=function(){if(r)return u;r=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return u.Fragment=t,u.jsx=n,u.jsxs=n,u}()),s.exports),c={exports:{}},d={},f={exports:{}},p={};function h(){return o||(o=1,f.exports=(a||(a=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,d=null,f=3,p=!1,h=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(l);null!==i;){if(null===i.callback)r(l);else{if(!(i.startTime<=e))break;r(l),i.sortIndex=i.expirationTime,t(u,i)}i=n(l)}}function S(e){if(g=!1,w(e),!h)if(null!==n(u))h=!0,T||(T=!0,x());else{var t=n(l);null!==t&&P(S,t.startTime-e)}}var x,T=!1,k=-1,A=5,E=-1;function C(){return!(!m&&e.unstable_now()-E<A)}function I(){if(m=!1,T){var t=e.unstable_now();E=t;var i=!0;try{e:{h=!1,g&&(g=!1,y(k),k=-1),p=!0;var a=f;try{t:{for(w(t),d=n(u);null!==d&&!(d.expirationTime>t&&C());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,w(t),i=!0;break t}d===n(u)&&r(u),w(t)}else r(u);d=n(u)}if(null!==d)i=!0;else{var c=n(l);null!==c&&P(S,c.startTime-t),i=!1}}break e}finally{d=null,f=a,p=!1}i=void 0}}finally{i?x():T=!1}}}if("function"==typeof b)x=function(){b(I)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,D=M.port2;M.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){v(I,0)};function P(t,n){k=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(A=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),null===n(u)&&r===n(l)&&(g?(y(k),k=-1):g=!0,P(S,a-o))):(r.sortIndex=s,t(u,r),h||p||(h=!0,T||(T=!0,x()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(p)),p)),f.exports}var g,m,v={exports:{}},y={};function b(){if(g)return y;g=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var w=b.prototype=new v;w.constructor=b,p(w,m.prototype),w.isPureReactComponent=!0;var S=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function k(t,n,r,i,a,o){return r=o.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:o}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var E=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function I(){}function M(n,r,i,a,o){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var u,l,f=!1;if(null===n)f=!0;else switch(s){case"bigint":case"string":case"number":f=!0;break;case"object":switch(n.$$typeof){case e:case t:f=!0;break;case c:return M((f=n._init)(n._payload),r,i,a,o)}}if(f)return o=o(n),f=""===a?"."+C(n,0):a,S(o)?(i="",null!=f&&(i=f.replace(E,"$&/")+"/"),M(o,r,i,"",(function(e){return e}))):null!=o&&(A(o)&&(u=o,l=i+(null==o.key||n&&n.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+f,o=k(u.type,l,void 0,0,0,u.props)),r.push(o)),1;f=0;var p,h=""===a?".":a+":";if(S(n))for(var g=0;g<n.length;g++)f+=M(a=n[g],r,i,s=h+C(a,g),o);else if("function"==typeof(g=null===(p=n)||"object"!=typeof p?null:"function"==typeof(p=d&&p[d]||p["@@iterator"])?p:null))for(n=g.call(n),g=0;!(a=n.next()).done;)f+=M(a=a.value,r,i,s=h+C(a,g++),o);else if("object"===s){if("function"==typeof n.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,o);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return f}function D(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function R(){}return y.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},y.Component=m,y.Fragment=n,y.Profiler=i,y.PureComponent=b,y.StrictMode=r,y.Suspense=u,y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,y.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},y.cache=function(e){return function(){return e.apply(null,arguments)}},y.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),i=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(i=""+t.key),t)!T.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return k(e.type,i,void 0,0,0,r)},y.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},y.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,a,void 0,0,0,i)},y.createRef=function(){return{current:null}},y.forwardRef=function(e){return{$$typeof:s,render:e}},y.isValidElement=A,y.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},y.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},y.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(R,L)}catch(a){L(a)}finally{x.T=t}},y.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},y.use=function(e){return x.H.use(e)},y.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},y.useCallback=function(e,t){return x.H.useCallback(e,t)},y.useContext=function(e){return x.H.useContext(e)},y.useDebugValue=function(){},y.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},y.useEffect=function(e,t,n){var r=x.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},y.useId=function(){return x.H.useId()},y.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},y.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},y.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},y.useMemo=function(e,t){return x.H.useMemo(e,t)},y.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},y.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},y.useRef=function(e){return x.H.useRef(e)},y.useState=function(e){return x.H.useState(e)},y.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},y.useTransition=function(){return x.H.useTransition()},y.version="19.1.0",y}function w(){return m||(m=1,v.exports=b()),v.exports}var S,x,T,k,A={exports:{}},E={};function C(){if(S)return E;S=1;var e=w();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return E.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,E.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},E.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},E.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},E.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},E.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=o(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},E.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=o(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},E.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=o(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},E.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=o(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},E.requestFormReset=function(e){r.d.r(e)},E.unstable_batchedUpdates=function(e,t){return e(t)},E.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},E.useFormStatus=function(){return a.H.useHostTransitionStatus()},E.version="19.1.0",E}function I(){if(T)return d;T=1;var e=h(),t=w(),n=(x||(x=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),A.exports=C()),A.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function s(e){if(a(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var l=Object.assign,c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var _=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case S:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var j=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},z=[],V=-1;function H(e){return{current:e}}function G(e){0>V||(e.current=z[V],z[V]=null,V--)}function K(e,t){V++,z[V]=e.current,e.current=t}var q=H(null),W=H(null),X=H(null),Y=H(null);function $(e,t){switch(K(X,t),K(W,e),K(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=ud(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(q),K(q,e)}function Q(){G(q),G(W),G(X)}function J(e){null!==e.memoizedState&&K(Y,e);var t=q.current,n=ld(t,e.type);t!==n&&(K(W,e),K(q,n))}function Z(e){W.current===e&&(G(q),G(W)),Y.current===e&&(G(Y),Jd._currentValue=B)}var ee=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,re=e.unstable_shouldYield,ie=e.unstable_requestPaint,ae=e.unstable_now,oe=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,ce=e.unstable_LowPriority,de=e.unstable_IdlePriority,fe=e.log,pe=e.unstable_setDisableYieldValue,he=null,ge=null;function me(e){if("function"==typeof fe&&pe(e),ge&&"function"==typeof ge.setStrictMode)try{ge.setStrictMode(he,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ye(e)/be|0)|0},ye=Math.log,be=Math.LN2,we=256,Se=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!=(r=s&~a)?i=xe(r):0!=(o&=s)?i=xe(o):n||0!=(n=s&~e)&&(i=xe(n)):0!=(s=r&~a)?i=xe(s):0!==o?i=xe(o):n||0!=(n=r&~e)&&(i=xe(n)),0===i?0:0===t||t===i||t&a||!((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?i:t}function ke(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=we;return!(4194048&(we<<=1))&&(we=256),e}function Ce(){var e=Se;return!(62914560&(Se<<=1))&&(Se=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ne(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:hf(e.type)}var _e=Math.random().toString(36).slice(2),Oe="__reactFiber$"+_e,je="__reactProps$"+_e,Ue="__reactContainer$"+_e,Fe="__reactEvents$"+_e,Be="__reactListeners$"+_e,ze="__reactHandles$"+_e,Ve="__reactResources$"+_e,He="__reactMarker$"+_e;function Ge(e){delete e[Oe],delete e[je],delete e[Fe],delete e[Be],delete e[ze]}function Ke(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Td(e);null!==e;){if(n=e[Oe])return n;e=Td(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Oe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Xe(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[He]=!0}var $e=new Set,Qe={};function Je(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(Qe[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var et,tt,nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},it={};function at(e,t,n){if(i=t,ee.call(it,i)||!ee.call(rt,i)&&(nt.test(i)?it[i]=!0:(rt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){if(void 0===et)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||"",tt=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+et+e+tt}var lt=!1;function ct(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"==typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var u=o.split("\n"),l=s.split("\n");for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===l.length)for(r=u.length-1,i=l.length-1;1<=r&&0<=i&&u[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||u[r]!==l[i]){var c="\n"+u[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ut(n):""}function dt(e){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return ct(e.type,!1);case 11:return ct(e.type.render,!1);case 1:return ct(e.type,!0);case 31:return ut("Activity");default:return""}}function ft(e){try{var t="";do{t+=dt(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function gt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function vt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var yt=/[\n"\\]/g;function bt(e){return e.replace(yt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function wt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?xt(e,o,pt(t)):null!=n?xt(e,o,pt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+pt(s):e.removeAttribute("name")}function St(e,t,n,r,i,a,o,s){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+pt(n):"",t=null!=t?""+pt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function xt(e,t,n){"number"===t&&vt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Tt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+pt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+pt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(j(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=pt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&It(e,a,i)}else for(var o in t)t.hasOwnProperty(o)&&It(e,o,t[o])}function Dt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Lt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function _t(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,jt=null;function Ut(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[je]||null;if(!a)throw Error(r(90));wt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&mt(i)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Tt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Bt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==jt)&&(Kl(),Ot&&(t=Ot,e=jt,jt=Ot=null,Ut(t),e)))for(t=0;t<e.length;t++)Ut(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[je]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Vt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ht=!1;if(Vt)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(Uf){Ht=!1}var Kt=null,qt=null,Wt=null;function Xt(){if(Wt)return Wt;var e,t,n=qt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return l(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),an=l({},nn,{view:0,detail:0}),on=Jt(an),sn=l({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),un=Jt(sn),ln=Jt(l({},sn,{dataTransfer:0})),cn=Jt(l({},an,{relatedTarget:0})),dn=Jt(l({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Jt(l({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Jt(l({},nn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return vn}var bn=Jt(l({},an,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Jt(l({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Jt(l({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Jt(l({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=Jt(l({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Jt(l({},nn,{newState:0,oldState:0})),An=[9,13,27,32],En=Vt&&"CompositionEvent"in window,Cn=null;Vt&&"documentMode"in document&&(Cn=document.documentMode);var In=Vt&&"TextEvent"in window&&!Cn,Mn=Vt&&(!En||Cn&&8<Cn&&11>=Cn),Dn=String.fromCharCode(32),Pn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1,_n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_n[e.type]:"textarea"===t}function jn(e,t,n,r){Ot?jt?jt.push(r):jt=[r]:Ot=r,0<(t=Xc(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Fn=null;function Bn(e){Bc(e,0)}function zn(e){if(mt(We(e)))return e}function Vn(e,t){if("change"===e)return t}var Hn=!1;if(Vt){var Gn;if(Vt){var Kn="oninput"in document;if(!Kn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Kn="function"==typeof qn.oninput}Gn=Kn}else Gn=!1;Hn=Gn&&(!document.documentMode||9<document.documentMode)}function Wn(){Un&&(Un.detachEvent("onpropertychange",Xn),Fn=Un=null)}function Xn(e){if("value"===e.propertyName&&zn(Fn)){var t=[];jn(t,Fn,e,_t(e)),Bt(Bn,t)}}function Yn(e,t,n){"focusin"===e?(Wn(),Fn=n,(Un=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Wn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Fn)}function Qn(e,t){if("click"===e)return zn(t)}function Jn(e,t){if("input"===e||"change"===e)return zn(t)}var Zn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function er(e,t){if(Zn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ee.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=vt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=vt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,ur=null,lr=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==vt(r)||(r="selectionStart"in(r=sr)&&ar(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&er(lr,r)||(lr=r,0<(r=Xc(ur,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},hr={},gr={};function mr(e){if(hr[e])return hr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return hr[e]=n[t];return e}Vt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=mr("animationend"),yr=mr("animationiteration"),br=mr("animationstart"),wr=mr("transitionrun"),Sr=mr("transitionstart"),xr=mr("transitioncancel"),Tr=mr("transitionend"),kr=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){kr.set(e,t),Je(t,[e])}Ar.push("scrollEnd");var Cr=new WeakMap;function Ir(e,t){if("object"==typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ft(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:ft(t)}}var Mr=[],Dr=0,Pr=0;function Lr(){for(var e=Dr,t=Pr=Dr=0;t<e;){var n=Mr[t];Mr[t++]=null;var r=Mr[t];Mr[t++]=null;var i=Mr[t];Mr[t++]=null;var a=Mr[t];if(Mr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Or(n,i,a)}}function Rr(e,t,n,r){Mr[Dr++]=e,Mr[Dr++]=t,Mr[Dr++]=n,Mr[Dr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Rr(e,t,n,r),jr(e)}function _r(e,t){return Rr(e,null,null,t),jr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-ve(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function jr(e){if(50<Ol)throw Ol=0,jl=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gr(e,t,n,i,a,o){var s=0;if(i=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Br(31,n,t,a)).elementType=P,e.lanes=o,e;case g:return Kr(n.children,a,o,t);case m:s=8,a|=24;break;case v:return(e=Br(12,n,t,2|a)).elementType=v,e.lanes=o,e;case E:return(e=Br(13,n,t,a)).elementType=E,e.lanes=o,e;case I:return(e=Br(19,n,t,a)).elementType=I,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case S:s=10;break e;case b:s=9;break e;case k:s=11;break e;case M:s=14;break e;case D:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Br(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Kr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=[],Yr=0,$r=null,Qr=0,Jr=[],Zr=0,ei=null,ti=1,ni="";function ri(e,t){Xr[Yr++]=Qr,Xr[Yr++]=$r,$r=e,Qr=t}function ii(e,t,n){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ei=e;var r=ti;e=ni;var i=32-ve(r)-1;r&=~(1<<i),n+=1;var a=32-ve(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ti=1<<32-ve(t)+i|n<<i|r,ni=a+e}else ti=1<<a|n<<i|r,ni=e}function ai(e){null!==e.return&&(ri(e,1),ii(e,1,0))}function oi(e){for(;e===$r;)$r=Xr[--Yr],Xr[Yr]=null,Qr=Xr[--Yr],Xr[Yr]=null;for(;e===ei;)ei=Jr[--Zr],Jr[Zr]=null,ni=Jr[--Zr],Jr[Zr]=null,ti=Jr[--Zr],Jr[Zr]=null}var si=null,ui=null,li=!1,ci=null,di=!1,fi=Error(r(519));function pi(e){throw bi(Ir(Error(r(418,"")),e)),fi}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[je]=r,n){case"dialog":zc("cancel",t),zc("close",t);break;case"iframe":case"object":case"embed":zc("load",t);break;case"video":case"audio":for(n=0;n<Uc.length;n++)zc(Uc[n],t);break;case"source":zc("error",t);break;case"img":case"image":case"link":zc("error",t),zc("load",t);break;case"details":zc("toggle",t);break;case"input":zc("invalid",t),St(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),gt(t);break;case"select":zc("invalid",t);break;case"textarea":zc("invalid",t),At(t,r.value,r.defaultValue,r.children),gt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ed(t.textContent,n)?(null!=r.popover&&(zc("beforetoggle",t),zc("toggle",t)),null!=r.onScroll&&zc("scroll",t),null!=r.onScrollEnd&&zc("scrollend",t),null!=r.onClick&&(t.onclick=td),t=!0):t=!1,t||pi(e)}function gi(e){for(si=e.return;si;)switch(si.tag){case 5:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:si=si.return}}function mi(e){if(e!==si)return!1;if(!li)return gi(e),li=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||cd(e.type,e.memoizedProps)),t=!t),t&&ui&&pi(e),gi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ui=Sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ui=null}}else 27===n?(n=ui,vd(e.type)?(e=xd,xd=null,ui=e):ui=n):ui=si?Sd(e.stateNode.nextSibling):null;return!0}function vi(){ui=si=null,li=!1}function yi(){var e=ci;return null!==e&&(null===Tl?Tl=e:Tl.push.apply(Tl,e),ci=null),e}function bi(e){null===ci?ci=[e]:ci.push(e)}var wi=H(null),Si=null,xi=null;function Ti(e,t,n){K(wi,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=wi.current,G(wi)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var u=o;o=a;for(var l=0;l<t.length;l++)if(u.context===t[l]){o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ai(o.return,n,e),i||(s=null);break e}o=u.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ai(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Ci(e,t,n,i){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var u=a.type;Zn(a.pendingProps.value,s.value)||(null!==e?e.push(u):e=[u])}}else if(a===Y.current){if(null===(s=a.alternate))throw Error(r(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Jd):e=[Jd])}a=a.return}null!==e&&Ei(t,e,n,i),t.flags|=262144}function Ii(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){Si=e,xi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return Li(Si,e)}function Pi(e,t){return null===Si&&Mi(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xi){if(null===e)throw Error(r(308));xi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xi=xi.next=t;return n}var Ri="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ni=e.unstable_scheduleCallback,_i=e.unstable_NormalPriority,Oi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Ri,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&Ni(_i,(function(){e.controller.abort()}))}var Fi=null,Bi=0,zi=0,Vi=null;function Hi(){if(0==--Bi&&null!==Fi){null!==Vi&&(Vi.status="fulfilled");var e=Fi;Fi=null,zi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=U.S;U.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fi){var n=Fi=[];Bi=0,zi=Rc(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Hi,Hi)}(0,t),null!==Gi&&Gi(e,t)};var Ki=H(null);function qi(){var e=Ki.current;return null!==e?e:sl.pooledCache}function Wi(e,t){K(Ki,null===t?Ki.current:t.pool)}function Xi(){var e=qi();return null===e?null:{parent:Oi._currentValue,pool:e}}var Yi=Error(r(460)),$i=Error(r(474)),Qi=Error(r(542)),Ji={then:function(){}};function Zi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ea(){}function ta(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ea,ea),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"==typeof t.status)t.then(ea,ea);else{if(null!==(e=sl)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw na=t,Yi}}var na=null;function ra(){if(null===na)throw Error(r(459));var e=na;return na=null,e}function ia(e){if(e===Yi||e===Qi)throw Error(r(483))}var aa=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function la(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ol){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Or(e,null,n),t}return Rr(e,r,t,n),jr(e)}function ca(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fa=!1;function pa(){if(fa&&null!==Vi)throw Vi}function ha(e,t,n,r){fa=!1;var i=e.updateQueue;aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=u)}if(null!==a){var f=i.baseState;for(o=0,d=c=u=null,s=a;;){var p=-536870913&s.lane,h=p!==s.lane;if(h?(ll&p)===p:(r&p)===p){0!==p&&p===zi&&(fa=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;p=t;var v=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){f=g.call(v,f,p);break e}f=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(p="function"==typeof(g=m.payload)?g.call(v,f,p):g))break e;f=l({},f,p);break e;case 2:aa=!0}}null!==(p=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[p]:h.push(p))}else h={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=h,u=f):d=d.next=h,o|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),vl|=o,e.lanes=o,e.memoizedState=f}}function ga(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ga(n[e],t)}var va=H(null),ya=H(0);function ba(e,t){K(ya,e=gl),K(va,t),gl=e|t.baseLanes}function wa(){K(ya,gl),K(va,va.current)}function Sa(){gl=ya.current,G(va),G(ya)}var xa=0,Ta=null,ka=null,Aa=null,Ea=!1,Ca=!1,Ia=!1,Ma=0,Da=0,Pa=null,La=0;function Ra(){throw Error(r(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){return xa=a,Ta=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=null===e||null===e.memoizedState?$o:Qo,Ia=!1,a=n(r,i),Ia=!1,Ca&&(a=ja(t,n,r,i)),Oa(e),a}function Oa(e){U.H=Yo;var t=null!==ka&&null!==ka.next;if(xa=0,Aa=ka=Ta=null,Ea=!1,Da=0,Pa=null,t)throw Error(r(300));null===e||Ps||null!==(e=e.dependencies)&&Ii(e)&&(Ps=!0)}function ja(e,t,n,i){Ta=e;var a=0;do{if(Ca&&(Pa=null),Da=0,Ca=!1,25<=a)throw Error(r(301));if(a+=1,Aa=ka=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}U.H=Jo,o=t(n,i)}while(Ca);return o}function Ua(){var e=U.H,t=e.useState()[0];return t="function"==typeof t.then?Ga(t):t,e=e.useState()[0],(null!==ka?ka.memoizedState:null)!==e&&(Ta.flags|=1024),t}function Fa(){var e=0!==Ma;return Ma=0,e}function Ba(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function za(e){if(Ea){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ea=!1}xa=0,Aa=ka=Ta=null,Ca=!1,Da=Ma=0,Pa=null}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Aa?Ta.memoizedState=Aa=e:Aa=Aa.next=e,Aa}function Ha(){if(null===ka){var e=Ta.alternate;e=null!==e?e.memoizedState:null}else e=ka.next;var t=null===Aa?Ta.memoizedState:Aa.next;if(null!==t)Aa=t,ka=e;else{if(null===e){if(null===Ta.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ka=e).memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},null===Aa?Ta.memoizedState=Aa=e:Aa=Aa.next=e}return Aa}function Ga(e){var t=Da;return Da+=1,null===Pa&&(Pa=[]),e=ta(Pa,e,t),t=Ta,null===(null===Aa?t.memoizedState:Aa.next)&&(t=t.alternate,U.H=null===t||null===t.memoizedState?$o:Qo),e}function Ka(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ga(e);if(e.$$typeof===S)return Di(e)}throw Error(r(438,String(e)))}function qa(e){var t=null,n=Ta.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ta.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=L;return t.index++,n}function Wa(e,t){return"function"==typeof t?t(e):t}function Xa(e){return Ya(Ha(),ka,e)}function Ya(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var u=s=null,l=null,c=t=a.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(ll&f)===f:(xa&f)===f){var p=c.revertLane;if(0===p)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===zi&&(d=!0);else{if((xa&p)===p){c=c.next,p===zi&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=f,s=o):l=l.next=f,Ta.lanes|=p,vl|=p}f=c.action,Ia&&n(o,f),o=c.hasEagerState?c.eagerState:n(o,f)}else p={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=p,s=o):l=l.next=p,Ta.lanes|=f,vl|=f;c=c.next}while(null!==c&&c!==t);if(null===l?s=o:l.next=u,!Zn(o,e.memoizedState)&&(Ps=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,i.lastRenderedState=o}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $a(e){var t=Ha(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Zn(o,t.memoizedState)||(Ps=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Qa(e,t,n){var i=Ta,a=Ha(),o=li;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!Zn((ka||a).memoizedState,n);if(s&&(a.memoizedState=n,Ps=!0),a=a.queue,So(2048,8,eo.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==Aa&&1&Aa.memoizedState.tag){if(i.flags|=2048,yo(9,{destroy:void 0,resource:void 0},Za.bind(null,i,a,n,t),null),null===sl)throw Error(r(349));o||124&xa||Ja(i,t,n)}return n}function Ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ta.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Za(e,t,n,r){t.value=n,t.getSnapshot=r,to(t)&&no(e)}function eo(e,t,n){return n((function(){to(t)&&no(e)}))}function to(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function no(e){var t=_r(e,2);null!==t&&Bl(t,0,2)}function ro(e){var t=Va();if("function"==typeof e){var n=e;if(e=n(),Ia){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function io(e,t,n,r){return e.baseState=n,Ya(e,ka,"function"==typeof r?r:Wa)}function ao(e,t,n,i,a){if(qo(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==U.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,oo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function oo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=U.T,o={};U.T=o;try{var s=n(i,r),u=U.S;null!==u&&u(o,s),so(e,t,s)}catch(l){lo(e,t,l)}finally{U.T=a}}else try{so(e,t,a=n(i,r))}catch(c){lo(e,t,c)}}function so(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){uo(e,t,n)}),(function(n){return lo(e,t,n)})):uo(e,t,n)}function uo(e,t,n){t.status="fulfilled",t.value=n,co(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,oo(e,n)))}function lo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,co(t),t=t.next}while(t!==r)}e.action=null}function co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fo(e,t){return t}function po(e,t){if(li){var n=sl.formState;if(null!==n){e:{var r=Ta;if(li){if(ui){t:{for(var i=ui,a=di;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Sd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Sd(i.nextSibling),r="F!"===i.data;break e}}pi(r)}r=!1}r&&(t=n[0])}}return(n=Va()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:t},n.queue=r,n=Ho.bind(null,Ta,r),r.dispatch=n,r=ro(!1),a=Ko.bind(null,Ta,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Va()).queue=i,n=ao.bind(null,Ta,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ho(e){return go(Ha(),ka,e)}function go(e,t,n){if(t=Ya(e,t,fo)[0],e=Xa(Wa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Ga(t)}catch(o){if(o===Yi)throw Qi;throw o}else r=t;var i=(t=Ha()).queue,a=i.dispatch;return n!==t.memoizedState&&(Ta.flags|=2048,yo(9,{destroy:void 0,resource:void 0},mo.bind(null,i,n),null)),[r,a,e]}function mo(e,t){e.action=t}function vo(e){var t=Ha(),n=ka;if(null!==n)return go(t,n,e);Ha(),t=t.memoizedState;var r=(n=Ha()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function yo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ta.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bo(){return Ha().memoizedState}function wo(e,t,n,r){var i=Va();r=void 0===r?null:r,Ta.flags|=e,i.memoizedState=yo(1|t,{destroy:void 0,resource:void 0},n,r)}function So(e,t,n,r){var i=Ha();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ka&&null!==r&&Na(r,ka.memoizedState.deps)?i.memoizedState=yo(t,a,n,r):(Ta.flags|=e,i.memoizedState=yo(1|t,a,n,r))}function xo(e,t){wo(8390656,8,e,t)}function To(e,t){So(2048,8,e,t)}function ko(e,t){return So(4,2,e,t)}function Ao(e,t){return So(4,4,e,t)}function Eo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Co(e,t,n){n=null!=n?n.concat([e]):null,So(4,4,Eo.bind(null,t,e),n)}function Io(){}function Mo(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Do(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Na(t,r[1]))return r[0];if(r=e(),Ia){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Po(e,t,n){return void 0===n||1073741824&xa?e.memoizedState=t:(e.memoizedState=n,e=Fl(),Ta.lanes|=e,vl|=e,n)}function Lo(e,t,n,r){return Zn(n,t)?n:null!==va.current?(e=Po(e,n,r),Zn(e,t)||(Ps=!0),e):42&xa?(e=Fl(),Ta.lanes|=e,vl|=e,t):(Ps=!0,e.memoizedState=n)}function Ro(e,t,n,r,i){var a=F.p;F.p=0!==a&&8>a?a:8;var o,s,u,l=U.T,c={};U.T=c,Ko(e,!1,t,n);try{var d=i(),f=U.S;null!==f&&f(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Go(e,t,(o=r,s=[],u={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then((function(){u.status="fulfilled",u.value=o;for(var e=0;e<s.length;e++)(0,s[e])(o)}),(function(e){for(u.status="rejected",u.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),u),Ul()):Go(e,t,r,Ul())}catch(p){Go(e,t,{then:function(){},status:"rejected",reason:p},Ul())}finally{F.p=a,U.T=l}}function No(){}function _o(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=Oo(e).queue;Ro(e,a,t,B,null===n?No:function(){return jo(e),n(i)})}function Oo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function jo(e){Go(e,Oo(e).next.queue,{},Ul())}function Uo(){return Di(Jd)}function Fo(){return Ha().memoizedState}function Bo(){return Ha().memoizedState}function zo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ul(),r=la(t,e=ua(n),n);return null!==r&&(Bl(r,0,n),ca(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function Vo(e,t,n){var r=Ul();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qo(e)?Wo(t,n):null!==(n=Nr(e,t,n,r))&&(Bl(n,0,r),Xo(n,t,r))}function Ho(e,t,n){Go(e,t,n,Ul())}function Go(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qo(e))Wo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,o))return Rr(e,t,i,0),null===sl&&Lr(),!1}catch(u){}if(null!==(n=Nr(e,t,i,r)))return Bl(n,0,r),Xo(n,t,r),!0}return!1}function Ko(e,t,n,i){if(i={lane:2,revertLane:Rc(),action:i,hasEagerState:!1,eagerState:null,next:null},qo(e)){if(t)throw Error(r(479))}else null!==(t=Nr(e,n,i,2))&&Bl(t,0,2)}function qo(e){var t=e.alternate;return e===Ta||null!==t&&t===Ta}function Wo(e,t){Ca=Ea=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Yo={readContext:Di,use:Ka,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useLayoutEffect:Ra,useInsertionEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useSyncExternalStore:Ra,useId:Ra,useHostTransitionStatus:Ra,useFormState:Ra,useActionState:Ra,useOptimistic:Ra,useMemoCache:Ra,useCacheRefresh:Ra},$o={readContext:Di,use:Ka,useCallback:function(e,t){return Va().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:xo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,wo(4194308,4,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){wo(4,2,e,t)},useMemo:function(e,t){var n=Va();t=void 0===t?null:t;var r=e();if(Ia){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Va();if(void 0!==n){var i=n(t);if(Ia){me(!0);try{n(t)}finally{me(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Vo.bind(null,Ta,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Va().memoizedState=e},useState:function(e){var t=(e=ro(e)).queue,n=Ho.bind(null,Ta,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Io,useDeferredValue:function(e,t){return Po(Va(),e,t)},useTransition:function(){var e=ro(!1);return e=Ro.bind(null,Ta,e.queue,!0,!1),Va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ta,a=Va();if(li){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===sl)throw Error(r(349));124&ll||Ja(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,xo(eo.bind(null,i,o,e),[e]),i.flags|=2048,yo(9,{destroy:void 0,resource:void 0},Za.bind(null,i,o,n,t),null),n},useId:function(){var e=Va(),t=sl.identifierPrefix;if(li){var n=ni;t=""+t+"R"+(n=(ti&~(1<<32-ve(ti)-1)).toString(32)+n),0<(n=Ma++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=La++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:po,useActionState:po,useOptimistic:function(e){var t=Va();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ko.bind(null,Ta,!0,n),n.dispatch=t,[e,t]},useMemoCache:qa,useCacheRefresh:function(){return Va().memoizedState=zo.bind(null,Ta)}},Qo={readContext:Di,use:Ka,useCallback:Mo,useContext:Di,useEffect:To,useImperativeHandle:Co,useInsertionEffect:ko,useLayoutEffect:Ao,useMemo:Do,useReducer:Xa,useRef:bo,useState:function(){return Xa(Wa)},useDebugValue:Io,useDeferredValue:function(e,t){return Lo(Ha(),ka.memoizedState,e,t)},useTransition:function(){var e=Xa(Wa)[0],t=Ha().memoizedState;return["boolean"==typeof e?e:Ga(e),t]},useSyncExternalStore:Qa,useId:Fo,useHostTransitionStatus:Uo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){return io(Ha(),0,e,t)},useMemoCache:qa,useCacheRefresh:Bo},Jo={readContext:Di,use:Ka,useCallback:Mo,useContext:Di,useEffect:To,useImperativeHandle:Co,useInsertionEffect:ko,useLayoutEffect:Ao,useMemo:Do,useReducer:$a,useRef:bo,useState:function(){return $a(Wa)},useDebugValue:Io,useDeferredValue:function(e,t){var n=Ha();return null===ka?Po(n,e,t):Lo(n,ka.memoizedState,e,t)},useTransition:function(){var e=$a(Wa)[0],t=Ha().memoizedState;return["boolean"==typeof e?e:Ga(e),t]},useSyncExternalStore:Qa,useId:Fo,useHostTransitionStatus:Uo,useFormState:vo,useActionState:vo,useOptimistic:function(e,t){var n=Ha();return null!==ka?io(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qa,useCacheRefresh:Bo},Zo=null,es=0;function ts(e){var t=es;return es+=1,null===Zo&&(Zo=[]),ta(Zo,e,t)}function ns(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function rs(e,t){if(t.$$typeof===c)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function is(e){return(0,e._init)(e._payload)}function as(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===D&&is(i)===t.type)?(ns(t=a(t,n.props),n),t.return=e,t):(ns(t=Gr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Kr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return ns(n=Gr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Wr(t,e.mode,n)).return=e,t;case D:return h(e,t=(0,t._init)(t._payload),n)}if(j(t)||N(t))return(t=Kr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,ts(t),n);if(t.$$typeof===S)return h(e,Pi(e,t),n);rs(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?l(e,t,n,r):null;case p:return n.key===i?c(e,t,n,r):null;case D:return m(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||N(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,ts(n),r);if(n.$$typeof===S)return m(e,t,Pi(e,n),r);rs(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,ts(r),i);if(r.$$typeof===S)return v(e,t,n,Pi(t,r),i);rs(t,r)}return null}function y(u,l,c,d){if("object"==typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==l;){if(l.key===b){if((b=c.type)===g){if(7===l.tag){n(u,l.sibling),(d=a(l,c.props.children)).return=u,u=d;break e}}else if(l.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===D&&is(b)===l.type){n(u,l.sibling),ns(d=a(l,c.props),c),d.return=u,u=d;break e}n(u,l);break}t(u,l),l=l.sibling}c.type===g?((d=Kr(c.props.children,u.mode,d,c.key)).return=u,u=d):(ns(d=Gr(c.type,c.key,c.props,null,u.mode,d),c),d.return=u,u=d)}return s(u);case p:e:{for(b=c.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(u,l.sibling),(d=a(l,c.children||[])).return=u,u=d;break e}n(u,l);break}t(u,l),l=l.sibling}(d=Wr(c,u.mode,d)).return=u,u=d}return s(u);case D:return y(u,l,c=(b=c._init)(c._payload),d)}if(j(c))return function(r,a,s,u){for(var l=null,c=null,d=a,f=a=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=m(r,d,s[f],u);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(r,d),a=o(g,a,f),null===c?l=g:c.sibling=g,c=g,d=p}if(f===s.length)return n(r,d),li&&ri(r,f),l;if(null===d){for(;f<s.length;f++)null!==(d=h(r,s[f],u))&&(a=o(d,a,f),null===c?l=d:c.sibling=d,c=d);return li&&ri(r,f),l}for(d=i(d);f<s.length;f++)null!==(p=v(d,r,f,s[f],u))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),a=o(p,a,f),null===c?l=p:c.sibling=p,c=p);return e&&d.forEach((function(e){return t(r,e)})),li&&ri(r,f),l}(u,l,c,d);if(N(c)){if("function"!=typeof(b=N(c)))throw Error(r(150));return function(a,s,u,l){if(null==u)throw Error(r(151));for(var c=null,d=null,f=s,p=s=0,g=null,y=u.next();null!==f&&!y.done;p++,y=u.next()){f.index>p?(g=f,f=null):g=f.sibling;var b=m(a,f,y.value,l);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),s=o(b,s,p),null===d?c=b:d.sibling=b,d=b,f=g}if(y.done)return n(a,f),li&&ri(a,p),c;if(null===f){for(;!y.done;p++,y=u.next())null!==(y=h(a,y.value,l))&&(s=o(y,s,p),null===d?c=y:d.sibling=y,d=y);return li&&ri(a,p),c}for(f=i(f);!y.done;p++,y=u.next())null!==(y=v(f,a,p,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),s=o(y,s,p),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(a,e)})),li&&ri(a,p),c}(u,l,c=b.call(c),d)}if("function"==typeof c.then)return y(u,l,ts(c),d);if(c.$$typeof===S)return y(u,l,Pi(u,c),d);rs(u,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==l&&6===l.tag?(n(u,l.sibling),(d=a(l,c)).return=u,u=d):(n(u,l),(d=qr(c,u.mode,d)).return=u,u=d),s(u)):n(u,l)}return function(e,t,n,r){try{es=0;var i=y(e,t,n,r);return Zo=null,i}catch(o){if(o===Yi||o===Qi)throw o;var a=Br(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var os=as(!0),ss=as(!1),us=H(null),ls=null;function cs(e){var t=e.alternate;K(hs,1&hs.current),K(us,e),null===ls&&(null===t||null!==va.current||null!==t.memoizedState)&&(ls=e)}function ds(e){if(22===e.tag){if(K(hs,hs.current),K(us,e),null===ls){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ls=e)}}else fs()}function fs(){K(hs,hs.current),K(us,us.current)}function ps(e){G(us),ls===e&&(ls=null),G(hs)}var hs=H(0);function gs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||wd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ms(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:l({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ul(),i=ua(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=la(e,i,r))&&(Bl(t,0,r),ca(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ul(),i=ua(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=la(e,i,r))&&(Bl(t,0,r),ca(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ul(),r=ua(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=la(e,r,n))&&(Bl(t,0,n),ca(t,e,n))}};function ys(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&er(n,r)&&er(i,a))}function bs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function ws(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=l({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ss="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function xs(e){Ss(e)}function Ts(e){}function ks(e){Ss(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Es(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Cs(e,t,n){return(n=ua(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function Is(e){return(e=ua(e)).tag=3,e}function Ms(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Es(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Es(t,n,r),"function"!=typeof i&&(null===Il?Il=new Set([this]):Il.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ds=Error(r(461)),Ps=!1;function Ls(e,t,n,r){t.child=null===e?ss(t,null,n,r):os(t,e.child,n,r)}function Rs(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Mi(t),r=_a(e,t,n,o,a,i),s=Fa(),null===e||Ps?(li&&s&&ai(t),t.flags|=1,Ls(e,t,r,i),t.child):(Ba(e,t,i),Zs(e,t,i))}function Ns(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||zr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Gr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,!eu(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:er)(o,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(er(a,r)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=r=a,!eu(e,i))return t.lanes=e.lanes,Zs(e,t,i);131072&e.flags&&(Ps=!0)}}return Fs(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return js(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,js(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==a?a.cachePool:null),null!==a?ba(t,a):wa(),ds(t)}else null!==a?(Wi(0,a.cachePool),ba(t,a),fs(),t.memoizedState=null):(null!==e&&Wi(0,null),wa(),fs());return Ls(e,t,i,n),t.child}function js(e,t,n,r){var i=qi();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),wa(),ds(t),null!==e&&Ci(e,t,r,!0),null}function Us(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fs(e,t,n,r,i){return Mi(t),n=_a(e,t,n,r,void 0,i),r=Fa(),null===e||Ps?(li&&r&&ai(t),t.flags|=1,Ls(e,t,n,i),t.child):(Ba(e,t,i),Zs(e,t,i))}function Bs(e,t,n,r,i,a){return Mi(t),t.updateQueue=null,n=ja(t,r,n,i),Oa(e),r=Fa(),null===e||Ps?(li&&r&&ai(t),t.flags|=1,Ls(e,t,n,a),t.child):(Ba(e,t,a),Zs(e,t,a))}function zs(e,t,n,r,i){if(Mi(t),null===t.stateNode){var a=Ur,o=n.contextType;"object"==typeof o&&null!==o&&(a=Di(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=vs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},oa(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Di(o):Ur,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(ms(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&vs.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),pa(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,u=ws(n,s);a.props=u;var l=a.context,c=n.contextType;o=Ur,"object"==typeof c&&null!==c&&(o=Di(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||l!==o)&&bs(t,a,r,o),aa=!1;var f=t.memoizedState;a.state=f,ha(t,r,a,i),pa(),l=t.memoizedState,s||f!==l||aa?("function"==typeof d&&(ms(t,n,d,r),l=t.memoizedState),(u=aa||ys(t,n,u,r,f,l,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=u):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,sa(e,t),c=ws(n,o=t.memoizedProps),a.props=c,d=t.pendingProps,f=a.context,l=n.contextType,u=Ur,"object"==typeof l&&null!==l&&(u=Di(l)),(l="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||f!==u)&&bs(t,a,r,u),aa=!1,f=t.memoizedState,a.state=f,ha(t,r,a,i),pa();var p=t.memoizedState;o!==d||f!==p||aa||null!==e&&null!==e.dependencies&&Ii(e.dependencies)?("function"==typeof s&&(ms(t,n,s,r),p=t.memoizedState),(c=aa||ys(t,n,c,r,f,p,u)||null!==e&&null!==e.dependencies&&Ii(e.dependencies))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Us(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=os(t,e.child,null,i),t.child=os(t,null,n,i)):Ls(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Zs(e,t,i),e}function Vs(e,t,n,r){return vi(),t.flags|=256,Ls(e,t,n,r),t.child}var Hs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gs(e){return{baseLanes:e,cachePool:Xi()}}function Ks(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=wl),e}function qs(e,t,n){var i,a=t.pendingProps,o=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&hs.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(li){if(o?cs(t):fs(),li){var u,l=ui;if(u=l){e:{for(u=l,l=di;8!==u.nodeType;){if(!l){l=null;break e}if(null===(u=Sd(u.nextSibling))){l=null;break e}}l=u}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(u=Br(18,null,null,0)).stateNode=l,u.return=t,t.child=u,si=t,ui=null,u=!0):u=!1}u||pi(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return wd(l)?t.lanes=32:t.lanes=536870912,null;ps(t)}return l=a.children,a=a.fallback,o?(fs(),l=Xs({mode:"hidden",children:l},o=t.mode),a=Kr(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(o=t.child).memoizedState=Gs(n),o.childLanes=Ks(e,i,n),t.memoizedState=Hs,a):(cs(t),Ws(t,l))}if(null!==(u=e.memoizedState)&&null!==(l=u.dehydrated)){if(s)256&t.flags?(cs(t),t.flags&=-257,t=Ys(e,t,n)):null!==t.memoizedState?(fs(),t.child=e.child,t.flags|=128,t=null):(fs(),o=a.fallback,l=t.mode,a=Xs({mode:"visible",children:a.children},l),(o=Kr(o,l,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,os(t,e.child,null,n),(a=t.child).memoizedState=Gs(n),a.childLanes=Ks(e,i,n),t.memoizedState=Hs,t=o);else if(cs(t),wd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(a=Error(r(419))).stack="",a.digest=i,bi({value:a,source:null,stack:null}),t=Ys(e,t,n)}else if(Ps||Ci(e,t,n,!1),i=!!(n&e.childLanes),Ps||i){if(null!==(i=sl)&&0!==(a=(a=42&(a=n&-n)?1:Le(a))&(i.suspendedLanes|n)?0:a)&&a!==u.retryLane)throw u.retryLane=a,_r(e,a),Bl(i,0,a),Ds;"$?"===l.data||Ql(),t=Ys(e,t,n)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ui=Sd(l.nextSibling),si=t,li=!0,ci=null,di=!1,null!==e&&(Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ti=e.id,ni=e.overflow,ei=t),(t=Ws(t,a.children)).flags|=4096);return t}return o?(fs(),o=a.fallback,l=t.mode,c=(u=e.child).sibling,(a=Vr(u,{mode:"hidden",children:a.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?o=Vr(c,o):(o=Kr(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(l=e.child.memoizedState)?l=Gs(n):(null!==(u=l.cachePool)?(c=Oi._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=Xi(),l={baseLanes:l.baseLanes|n,cachePool:u}),o.memoizedState=l,o.childLanes=Ks(e,i,n),t.memoizedState=Hs,a):(cs(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ws(e,t){return(t=Xs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xs(e,t){return(e=Br(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ys(e,t,n){return os(t,e.child,null,n),(e=Ws(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function Qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Js(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ls(e,t,r.children,n),2&(r=hs.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(hs,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),vl|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function eu(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Ii(e))}function tu(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!(eu(e,n)||128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),Ti(0,Oi,e.memoizedState.cache),vi();break;case 27:case 5:J(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(cs(t),t.flags|=128,null):n&t.child.childLanes?qs(e,t,n):(cs(t),null!==(e=Zs(e,t,n))?e.sibling:null);cs(t);break;case 19:var i=!!(128&e.flags);if((r=!!(n&t.childLanes))||(Ci(e,t,n,!1),r=!!(n&t.childLanes)),i){if(r)return Js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(hs,hs.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n);case 24:Ti(0,Oi,e.memoizedState.cache)}return Zs(e,t,n)}(e,t,n);Ps=!!(131072&e.flags)}else Ps=!1,li&&1048576&t.flags&&ii(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((a=i.$$typeof)===k){t.tag=11,t=Rs(null,t,i,e,n);break e}if(a===M){t.tag=14,t=Ns(null,t,i,e,n);break e}}throw t=O(i)||i,Error(r(306,t,""))}zr(i)?(e=ws(i,e),t.tag=1,t=zs(null,t,i,e,n)):(t.tag=0,t=Fs(null,t,i,e,n))}return t;case 0:return Fs(e,t,t.type,t.pendingProps,n);case 1:return zs(e,t,i=t.type,a=ws(i,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;a=o.element,sa(e,t),ha(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Ti(0,Oi,i),i!==o.cache&&Ei(t,[Oi],n,!0),pa(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Vs(e,t,i,n);break e}if(i!==a){bi(a=Ir(Error(r(424)),t)),t=Vs(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ui=Sd(e.firstChild),si=t,li=!0,ci=null,di=!0,n=ss(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vi(),i===a){t=Zs(e,t,n);break e}Ls(e,t,i,n)}t=t.child}return t;case 26:return Us(e,t),null===e?(n=Ld(t.type,null,t.pendingProps,null))?t.memoizedState=n:li||(n=t.type,e=t.pendingProps,(i=sd(X.current).createElement(n))[Oe]=t,i[je]=e,id(i,n,e),Ye(i),t.stateNode=i):t.memoizedState=Ld(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&li&&(i=t.stateNode=kd(t.type,t.pendingProps,X.current),si=t,di=!0,a=ui,vd(t.type)?(xd=a,ui=Sd(i.firstChild)):ui=a),Ls(e,t,t.pendingProps.children,n),Us(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&li&&((a=i=ui)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Sd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,di))?(t.stateNode=i,si=t,ui=Sd(i.firstChild),di=!1,a=!0):a=!1),a||pi(t)),J(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,cd(a,o)?i=null:null!==s&&cd(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=_a(e,t,Ua,null,null,n),Jd._currentValue=a),Us(e,t),Ls(e,t,i,n),t.child;case 6:return null===e&&li&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Sd(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,si=t,ui=null,e=!0):e=!1),e||pi(t)),null;case 13:return qs(e,t,n);case 4:return $(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=os(t,null,i,n):Ls(e,t,i,n),t.child;case 11:return Rs(e,t,t.type,t.pendingProps,n);case 7:return Ls(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ls(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ti(0,t.type,i.value),Ls(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Mi(t),i=i(a=Di(a)),t.flags|=1,Ls(e,t,i,n),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 19:return Js(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Xs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Vr(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Os(e,t,n);case 24:return Mi(t),i=Di(Oi),null===e?(null===(a=qi())&&(a=sl,o=ji(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},oa(t),Ti(0,Oi,a)):(!!(e.lanes&n)&&(sa(e,t),ha(t,null,null,n),pa()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ti(0,Oi,i)):(i=o.cache,Ti(0,Oi,i),i!==a.cache&&Ei(t,[Oi],n,!0))),Ls(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function nu(e){e.flags|=4}function ru(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Kd(t)){if(null!==(t=us.current)&&((4194048&ll)===ll?null!==ls:(62914560&ll)!==ll&&!(536870912&ll)||t!==ls))throw na=Ji,$i;e.flags|=8192}}function iu(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Sl|=t)}function au(e,t){if(!li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ou(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function su(e,t,n){var i=t.pendingProps;switch(oi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ou(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ki(Oi),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mi(t)?nu(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,yi())),ou(t),null;case 26:return n=t.memoizedState,null===e?(nu(t),null!==n?(ou(t),ru(t,n)):(ou(t),t.flags&=-16777217)):n?n!==e.memoizedState?(nu(t),ou(t),ru(t,n)):(ou(t),t.flags&=-16777217):(e.memoizedProps!==i&&nu(t),ou(t),t.flags&=-16777217),null;case 27:Z(t),n=X.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&nu(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ou(t),null}e=q.current,mi(t)?hi(t):(e=kd(a,i,n),t.stateNode=e,nu(t))}return ou(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&nu(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ou(t),null}if(e=q.current,mi(t))hi(t);else{switch(a=sd(X.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}e[Oe]=t,e[je]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(id(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&nu(t)}}return ou(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&nu(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=X.current,mi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=si))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||ed(e.nodeValue,n)))||pi(t)}else(e=sd(e).createTextNode(i))[Oe]=t,t.stateNode=e}return ou(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=mi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Oe]=t}else vi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ou(t),a=!1}else a=yi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ps(t),t):(ps(t),null)}if(ps(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),iu(t,t.updateQueue),ou(t),null;case 4:return Q(),null===e&&Gc(t.stateNode.containerInfo),ou(t),null;case 10:return ki(t.type),ou(t),null;case 19:if(G(hs),null===(a=t.memoizedState))return ou(t),null;if(i=!!(128&t.flags),null===(o=a.rendering))if(i)au(a,!1);else{if(0!==ml||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=gs(e))){for(t.flags|=128,au(a,!1),e=o.updateQueue,t.updateQueue=e,iu(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return K(hs,1&hs.current|2),t.child}e=e.sibling}null!==a.tail&&ae()>El&&(t.flags|=128,i=!0,au(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=gs(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,iu(t,e),au(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!li)return ou(t),null}else 2*ae()-a.renderingStartTime>El&&536870912!==n&&(t.flags|=128,i=!0,au(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ae(),t.sibling=null,e=hs.current,K(hs,i?1&e|2:1&e),t):(ou(t),null);case 22:case 23:return ps(t),Sa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(ou(t),6&t.subtreeFlags&&(t.flags|=8192)):ou(t),null!==(n=t.updateQueue)&&iu(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&G(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(Oi),ou(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function uu(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ki(Oi),Q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(ps(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(hs),null;case 4:return Q(),null;case 10:return ki(t.type),null;case 22:case 23:return ps(t),Sa(),null!==e&&G(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ki(Oi),null;default:return null}}function lu(e,t){switch(oi(t),t.tag){case 3:ki(Oi),Q();break;case 26:case 27:case 5:Z(t);break;case 4:Q();break;case 13:ps(t);break;case 19:G(hs);break;case 10:ki(t.type);break;case 22:case 23:ps(t),Sa(),null!==e&&G(Ki);break;case 24:ki(Oi)}}function cu(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){hc(t,t.return,s)}}function du(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var u=n,l=s;try{l()}catch(c){hc(i,u,c)}}}r=r.next}while(r!==a)}}catch(c){hc(t,t.return,c)}}function fu(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(r){hc(e,e.return,r)}}}function pu(e,t,n){n.props=ws(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hc(e,t,r)}}function hu(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hc(e,t,i)}}function gu(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hc(e,t,a)}else n.current=null}function mu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hc(e,e.return,i)}}function vu(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,u=null,l=null,c=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(h)||nd(e,t,h,null,i,f)}}for(var p in i){var h=i[p];if(f=n[p],i.hasOwnProperty(p)&&(null!=h||null!=f))switch(p){case"type":o=h;break;case"name":a=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==f&&nd(e,t,p,h,i,f)}}return void wt(e,s,u,l,c,d,o,a);case"select":for(o in h=s=u=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":h=l;default:i.hasOwnProperty(o)||nd(e,t,o,null,i,l)}for(a in i)if(o=i[a],l=n[a],i.hasOwnProperty(a)&&(null!=o||null!=l))switch(a){case"value":p=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==l&&nd(e,t,a,o,i,l)}return t=u,n=s,i=h,void(null!=p?Tt(e,!!n,p,!1):!!i!=!!n&&(null!=t?Tt(e,!!n,t,!0):Tt(e,!!n,n?[]:"",!1)));case"textarea":for(u in h=p=null,n)if(a=n[u],n.hasOwnProperty(u)&&null!=a&&!i.hasOwnProperty(u))switch(u){case"value":case"children":break;default:nd(e,t,u,null,i,a)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":p=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==o&&nd(e,t,s,a,i,o)}return void kt(e,p,h);case"option":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&("selected"===g?e.selected=!1:nd(e,t,g,null,i,p));for(l in i)p=i[l],h=n[l],!i.hasOwnProperty(l)||p===h||null==p&&null==h||("selected"===l?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:nd(e,t,l,p,i,h));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m)&&nd(e,t,m,null,i,p);for(c in i)if(p=i[c],h=n[c],i.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:nd(e,t,c,p,i,h)}return;default:if(Dt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&rd(e,t,v,void 0,i,p);for(d in i)p=i[d],h=n[d],!i.hasOwnProperty(d)||p===h||void 0===p&&void 0===h||rd(e,t,d,p,i,h);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&nd(e,t,y,null,i,p);for(f in i)p=i[f],h=n[f],!i.hasOwnProperty(f)||p===h||null==p&&null==h||nd(e,t,f,p,i,h)}(i,e.type,n,t),i[je]=t}catch(a){hc(e,e.return,a)}}function yu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&vd(e.type)||4===e.tag}function bu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&vd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=td));else if(4!==r&&(27===r&&vd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(wu(e,t,n),e=e.sibling;null!==e;)wu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&vd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function xu(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);id(t,r,n),t[Oe]=e,t[je]=n}catch(a){hc(e,e.return,a)}}var Tu=!1,ku=!1,Au=!1,Eu="function"==typeof WeakSet?WeakSet:Set,Cu=null;function Iu(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zu(e,n),4&r&&cu(5,n);break;case 1:if(zu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hc(n,n.return,o)}else{var i=ws(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){hc(n,n.return,s)}}64&r&&fu(n),512&r&&hu(n,n.return);break;case 3:if(zu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(o){hc(n,n.return,o)}}break;case 27:null===t&&4&r&&xu(n);case 26:case 5:zu(e,n),null===t&&4&r&&mu(n),512&r&&hu(n,n.return);break;case 12:zu(e,n);break;case 13:zu(e,n),4&r&&Nu(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=yc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Tu)){t=null!==t&&null!==t.memoizedState||ku,i=Tu;var a=ku;Tu=r,(ku=t)&&!a?Hu(e,n,!!(8772&n.subtreeFlags)):zu(e,n),Tu=i,ku=a}break;case 30:break;default:zu(e,n)}}function Mu(e){var t=e.alternate;null!==t&&(e.alternate=null,Mu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ge(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Du=null,Pu=!1;function Lu(e,t,n){for(n=n.child;null!==n;)Ru(e,t,n),n=n.sibling}function Ru(e,t,n){if(ge&&"function"==typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(he,n)}catch(a){}switch(n.tag){case 26:ku||gu(n,t),Lu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ku||gu(n,t);var r=Du,i=Pu;vd(n.type)&&(Du=n.stateNode,Pu=!1),Lu(e,t,n),Ad(n.stateNode),Du=r,Pu=i;break;case 5:ku||gu(n,t);case 6:if(r=Du,i=Pu,Du=null,Lu(e,t,n),Pu=i,null!==(Du=r))if(Pu)try{(9===Du.nodeType?Du.body:"HTML"===Du.nodeName?Du.ownerDocument.body:Du).removeChild(n.stateNode)}catch(o){hc(n,t,o)}else try{Du.removeChild(n.stateNode)}catch(o){hc(n,t,o)}break;case 18:null!==Du&&(Pu?(yd(9===(e=Du).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Lf(e)):yd(Du,n.stateNode));break;case 4:r=Du,i=Pu,Du=n.stateNode.containerInfo,Pu=!0,Lu(e,t,n),Du=r,Pu=i;break;case 0:case 11:case 14:case 15:ku||du(2,n,t),ku||du(4,n,t),Lu(e,t,n);break;case 1:ku||(gu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&pu(n,t,r)),Lu(e,t,n);break;case 21:Lu(e,t,n);break;case 22:ku=(r=ku)||null!==n.memoizedState,Lu(e,t,n),ku=r;break;default:Lu(e,t,n)}}function Nu(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Lf(e)}catch(n){hc(t,t.return,n)}}function _u(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Eu),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Eu),t;default:throw Error(r(435,e.tag))}}(e);t.forEach((function(t){var r=bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ou(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 27:if(vd(u.type)){Du=u.stateNode,Pu=!1;break e}break;case 5:Du=u.stateNode,Pu=!1;break e;case 3:case 4:Du=u.stateNode.containerInfo,Pu=!0;break e}u=u.return}if(null===Du)throw Error(r(160));Ru(o,s,a),Du=null,Pu=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Uu(t,e),t=t.sibling}var ju=null;function Uu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ou(t,e),Fu(e),4&i&&(du(3,e,e.return),cu(3,e),du(5,e,e.return));break;case 1:Ou(t,e),Fu(e),512&i&&(ku||null===n||gu(n,n.return)),64&i&&Tu&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=ju;if(Ou(t,e),Fu(e),512&i&&(ku||null===n||gu(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(o=a.getElementsByTagName("title")[0])||o[He]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(i),a.head.insertBefore(o,a.querySelector("head > title"))),id(o,i,n),o[Oe]=e,Ye(o),i=o;break e;case"link":var s=Hd("link","href",a).get(i+(n.href||""));if(s)for(var u=0;u<s.length;u++)if((o=s[u]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(u,1);break t}id(o=a.createElement(i),i,n),a.head.appendChild(o);break;case"meta":if(s=Hd("meta","content",a).get(i+(n.content||"")))for(u=0;u<s.length;u++)if((o=s[u]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(u,1);break t}id(o=a.createElement(i),i,n),a.head.appendChild(o);break;default:throw Error(r(468,i))}o[Oe]=e,Ye(o),i=o}e.stateNode=i}else Gd(a,e.type,e.stateNode);else e.stateNode=Ud(a,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?Gd(a,e.type,e.stateNode):Ud(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ou(t,e),Fu(e),512&i&&(ku||null===n||gu(n,n.return)),null!==n&&4&i&&vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ou(t,e),Fu(e),512&i&&(ku||null===n||gu(n,n.return)),32&e.flags){a=e.stateNode;try{Et(a,"")}catch(h){hc(e,e.return,h)}}4&i&&null!=e.stateNode&&vu(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(Au=!0);break;case 6:if(Ou(t,e),Fu(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(h){hc(e,e.return,h)}}break;case 3:if(Vd=null,a=ju,ju=Id(t.containerInfo),Ou(t,e),ju=a,Fu(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Lf(t.containerInfo)}catch(h){hc(e,e.return,h)}Au&&(Au=!1,Bu(e));break;case 4:i=ju,ju=Id(e.stateNode.containerInfo),Ou(t,e),Fu(e),ju=i;break;case 12:default:Ou(t,e),Fu(e);break;case 13:Ou(t,e),Fu(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Al=ae()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,_u(e,i));break;case 22:a=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,c=Tu,d=ku;if(Tu=c||a,ku=d||l,Ou(t,e),ku=d,Tu=c,Fu(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||l||Tu||ku||Vu(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(o=l.stateNode,a)"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{u=l.stateNode;var f=l.memoizedProps.style,p=null!=f&&f.hasOwnProperty("display")?f.display:null;u.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(h){hc(l,l.return,h)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(h){hc(l,l.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,_u(e,n));break;case 19:Ou(t,e),Fu(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,_u(e,i));case 30:case 21:}}function Fu(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(yu(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;Su(e,bu(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(Et(o,""),n.flags&=-33),Su(e,bu(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;wu(e,bu(e),s);break;default:throw Error(r(161))}}catch(u){hc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Bu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Iu(e,t.alternate,t),t=t.sibling}function Vu(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:du(4,t,t.return),Vu(t);break;case 1:gu(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&pu(t,t.return,n),Vu(t);break;case 27:Ad(t.stateNode);case 26:case 5:gu(t,t.return),Vu(t);break;case 22:null===t.memoizedState&&Vu(t);break;default:Vu(t)}e=e.sibling}}function Hu(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Hu(i,a,n),cu(4,a);break;case 1:if(Hu(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){hc(r,r.return,l)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(null!==u)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)ga(u[i],s)}catch(l){hc(r,r.return,l)}}n&&64&o&&fu(a),hu(a,a.return);break;case 27:xu(a);case 26:case 5:Hu(i,a,n),n&&null===r&&4&o&&mu(a),hu(a,a.return);break;case 12:Hu(i,a,n);break;case 13:Hu(i,a,n),n&&4&o&&Nu(i,a);break;case 22:null===a.memoizedState&&Hu(i,a,n),hu(a,a.return);break;case 30:break;default:Hu(i,a,n)}t=t.sibling}}function Gu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Ku(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function qu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wu(e,t,n,r),t=t.sibling}function Wu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:qu(e,t,n,r),2048&i&&cu(9,t);break;case 1:case 13:default:qu(e,t,n,r);break;case 3:qu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){qu(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(u){hc(t,t.return,u)}}else qu(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?qu(e,t,n,r):Yu(e,t):2&a._visibility?qu(e,t,n,r):(a._visibility|=2,Xu(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Gu(o,t);break;case 24:qu(e,t,n,r),2048&i&&Ku(t.alternate,t)}}function Xu(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,u=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Xu(a,o,s,u,i),cu(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Xu(a,o,s,u,i):Yu(a,o):(c._visibility|=2,Xu(a,o,s,u,i)),i&&2048&l&&Gu(o.alternate,o);break;case 24:Xu(a,o,s,u,i),i&&2048&l&&Ku(o.alternate,o);break;default:Xu(a,o,s,u,i)}t=t.sibling}}function Yu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Yu(n,r),2048&i&&Gu(r.alternate,r);break;case 24:Yu(n,r),2048&i&&Ku(r.alternate,r);break;default:Yu(n,r)}t=t.sibling}}var $u=8192;function Qu(e){if(e.subtreeFlags&$u)for(e=e.child;null!==e;)Ju(e),e=e.sibling}function Ju(e){switch(e.tag){case 26:Qu(e),e.flags&$u&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(r(475));var i=qd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Rd(n.href),o=e.querySelector(Nd(a));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Xd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void Ye(o);o=e.ownerDocument||e,n=_d(n),(a=Ed.get(a))&&Bd(n,a),Ye(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),id(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Xd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(ju,e.memoizedState,e.memoizedProps);break;case 5:default:Qu(e);break;case 3:case 4:var t=ju;ju=Id(e.stateNode.containerInfo),Qu(e),ju=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$u,$u=16777216,Qu(e),$u=t):Qu(e))}}function Zu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function el(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cu=r,rl(r,e)}Zu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)tl(e),e=e.sibling}function tl(e){switch(e.tag){case 0:case 11:case 15:el(e),2048&e.flags&&du(9,e,e.return);break;case 3:case 12:default:el(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,nl(e)):el(e)}}function nl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cu=r,rl(r,e)}Zu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:du(8,t,t.return),nl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,nl(t));break;default:nl(t)}e=e.sibling}}function rl(e,t){for(;null!==Cu;){var n=Cu;switch(n.tag){case 0:case 11:case 15:du(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cu=r;else e:for(n=e;null!==Cu;){var i=(r=Cu).sibling,a=r.return;if(Mu(r),r===n){Cu=null;break e}if(null!==i){i.return=a,Cu=i;break e}Cu=a}}}var il={getCacheForType:function(e){var t=Di(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},al="function"==typeof WeakMap?WeakMap:Map,ol=0,sl=null,ul=null,ll=0,cl=0,dl=null,fl=!1,pl=!1,hl=!1,gl=0,ml=0,vl=0,yl=0,bl=0,wl=0,Sl=0,xl=null,Tl=null,kl=!1,Al=0,El=1/0,Cl=null,Il=null,Ml=0,Dl=null,Pl=null,Ll=0,Rl=0,Nl=null,_l=null,Ol=0,jl=null;function Ul(){return 2&ol&&0!==ll?ll&-ll:null!==U.T?0!==zi?zi:Rc():Ne()}function Fl(){0===wl&&(wl=536870912&ll&&!li?536870912:Ee());var e=us.current;return null!==e&&(e.flags|=32),wl}function Bl(e,t,n){(e!==sl||2!==cl&&9!==cl)&&null===e.cancelPendingCommit||(Wl(e,0),Gl(e,ll,wl,!1)),Me(e,n),2&ol&&e===sl||(e===sl&&(!(2&ol)&&(yl|=n),4===ml&&Gl(e,ll,wl,!1)),Ec(e))}function zl(e,t,n){if(6&ol)throw Error(r(327));for(var i=!n&&!(124&t)&&!(t&e.expiredLanes)||ke(e,t),a=i?function(e,t){var n=ol;ol|=2;var i=Yl(),a=$l();sl!==e||ll!==t?(Cl=null,El=ae()+500,Wl(e,t)):pl=ke(e,t);e:for(;;)try{if(0!==cl&&null!==ul){t=ul;var o=dl;t:switch(cl){case 1:cl=0,dl=null,rc(e,t,o,1);break;case 2:case 9:if(Zi(o)){cl=0,dl=null,nc(t);break}t=function(){2!==cl&&9!==cl||sl!==e||(cl=7),Ec(e)},o.then(t,t);break e;case 3:cl=7;break e;case 4:cl=5;break e;case 7:Zi(o)?(cl=0,dl=null,nc(t)):(cl=0,dl=null,rc(e,t,o,7));break;case 5:var s=null;switch(ul.tag){case 26:s=ul.memoizedState;case 5:case 27:var u=ul;if(!s||Kd(s)){cl=0,dl=null;var l=u.sibling;if(null!==l)ul=l;else{var c=u.return;null!==c?(ul=c,ic(c)):ul=null}break t}}cl=0,dl=null,rc(e,t,o,5);break;case 6:cl=0,dl=null,rc(e,t,o,6);break;case 8:ql(),ml=6;break e;default:throw Error(r(462))}}ec();break}catch(d){Xl(e,d)}return xi=Si=null,U.H=i,U.A=a,ol=n,null!==ul?0:(sl=null,ll=0,Lr(),ml)}(e,t):Jl(e,t,!0),o=i;;){if(0===a){pl&&!i&&Gl(e,t,0,!1);break}if(n=e.current.alternate,!o||Hl(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var u=e;a=xl;var l=u.current.memoizedState.isDehydrated;if(l&&(Wl(u,s).flags|=256),2!==(s=Jl(u,s,!1))){if(hl&&!l){u.errorRecoveryDisabledLanes|=o,yl|=o,a=4;break e}o=Tl,Tl=a,null!==o&&(null===Tl?Tl=o:Tl.push.apply(Tl,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){Wl(e,0),Gl(e,t,0,!0);break}e:{switch(i=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Gl(i,t,wl,!fl);break e;case 2:Tl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Al+300-ae())){if(Gl(i,t,wl,!fl),0!==Te(i,0,!0))break e;i.timeoutHandle=fd(Vl.bind(null,i,n,Tl,Cl,kl,t,wl,yl,Sl,fl,o,2,-0,0),a)}else Vl(i,n,Tl,Cl,kl,t,wl,yl,Sl,fl,o,0,-0,0)}break}a=Jl(e,t,!1),o=!1}Ec(e)}function Vl(e,t,n,i,a,o,s,u,l,c,d,f,p,h){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(qd={stylesheets:null,count:0,unsuspend:Wd},Ju(t),null!==(f=function(){if(null===qd)throw Error(r(475));var e=qd;return e.stylesheets&&0===e.count&&$d(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(oc.bind(null,e,t,o,n,i,a,s,u,l,d,1,p,h)),void Gl(e,o,s,!c);oc(e,t,o,n,i,a,s,u,l)}function Hl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Zn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,r){t&=~bl,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ve(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&De(e,n,t)}function Kl(){return!!(6&ol)||(Cc(0),!1)}function ql(){if(null!==ul){if(0===cl)var e=ul.return;else xi=Si=null,za(e=ul),Zo=null,es=0,e=ul;for(;null!==e;)lu(e.alternate,e),e=e.return;ul=null}}function Wl(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,pd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),ql(),sl=e,ul=n=Vr(e.current,null),ll=t,cl=0,dl=null,fl=!1,pl=ke(e,t),hl=!1,Sl=wl=bl=yl=vl=ml=0,Tl=xl=null,kl=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ve(r),a=1<<i;t|=e[i],r&=~a}return gl=t,Lr(),n}function Xl(e,t){Ta=null,U.H=Yo,t===Yi||t===Qi?(t=ra(),cl=3):t===$i?(t=ra(),cl=4):cl=t===Ds?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,dl=t,null===ul&&(ml=1,As(e,Ir(t,e.current)))}function Yl(){var e=U.H;return U.H=Yo,null===e?Yo:e}function $l(){var e=U.A;return U.A=il,e}function Ql(){ml=4,fl||(4194048&ll)!==ll&&null!==us.current||(pl=!0),!(134217727&vl)&&!(134217727&yl)||null===sl||Gl(sl,ll,wl,!1)}function Jl(e,t,n){var r=ol;ol|=2;var i=Yl(),a=$l();sl===e&&ll===t||(Cl=null,Wl(e,t)),t=!1;var o=ml;e:for(;;)try{if(0!==cl&&null!==ul){var s=ul,u=dl;switch(cl){case 8:ql(),o=6;break e;case 3:case 2:case 9:case 6:null===us.current&&(t=!0);var l=cl;if(cl=0,dl=null,rc(e,s,u,l),n&&pl){o=0;break e}break;default:l=cl,cl=0,dl=null,rc(e,s,u,l)}}Zl(),o=ml;break}catch(c){Xl(e,c)}return t&&e.shellSuspendCounter++,xi=Si=null,ol=r,U.H=i,U.A=a,null===ul&&(sl=null,ll=0,Lr()),o}function Zl(){for(;null!==ul;)tc(ul)}function ec(){for(;null!==ul&&!re();)tc(ul)}function tc(e){var t=tu(e.alternate,e,gl);e.memoizedProps=e.pendingProps,null===t?ic(e):ul=t}function nc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bs(n,t,t.pendingProps,t.type,void 0,ll);break;case 11:t=Bs(n,t,t.pendingProps,t.type.render,t.ref,ll);break;case 5:za(t);default:lu(n,t),t=tu(n,t=ul=Hr(t,gl),gl)}e.memoizedProps=e.pendingProps,null===t?ic(e):ul=t}function rc(e,t,n,i){xi=Si=null,za(t),Zo=null,es=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ci(t,n,a,!0),null!==(n=us.current)){switch(n.tag){case 13:return null===ls?Ql():null===n.alternate&&0===ml&&(ml=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),gc(e,i,a)),!1;case 22:return n.flags|=65536,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),gc(e,i,a)),!1}throw Error(r(435,n.tag))}return gc(e,i,a),Ql(),!1}if(li)return null!==(t=us.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==fi&&bi(Ir(e=Error(r(422),{cause:i}),n))):(i!==fi&&bi(Ir(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Ir(i,n),da(e,a=Cs(e.stateNode,i,a)),4!==ml&&(ml=2)),!1;var o=Error(r(520),{cause:i});if(o=Ir(o,n),null===xl?xl=[o]:xl.push(o),4!==ml&&(ml=2),null===t)return!0;i=Ir(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,da(n,e=Cs(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Il&&Il.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Ms(a=Is(a),e,n,i),da(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ll))return ml=1,As(e,Ir(n,e.current)),void(ul=null)}catch(o){if(null!==a)throw ul=a,o;return ml=1,As(e,Ir(n,e.current)),void(ul=null)}32768&t.flags?(li||1===i?e=!0:pl||536870912&ll?e=!1:(fl=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=us.current)&&13===i.tag&&(i.flags|=16384)),ac(t,e)):ic(t)}function ic(e){var t=e;do{if(32768&t.flags)return void ac(t,fl);e=t.return;var n=su(t.alternate,t,gl);if(null!==n)return void(ul=n);if(null!==(t=t.sibling))return void(ul=t);ul=t=e}while(null!==t);0===ml&&(ml=5)}function ac(e,t){do{var n=uu(e.alternate,e);if(null!==n)return n.flags&=32767,void(ul=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ul=e);ul=e=n}while(null!==e);ml=6,ul=null}function oc(e,t,n,i,a,o,s,u,l){e.cancelPendingCommit=null;do{dc()}while(0!==Ml);if(6&ol)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,u=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-ve(n),d=1<<c;s[c]=0,u[c]=-1;var f=l[c];if(null!==f)for(l[c]=null,c=0;c<f.length;c++){var p=f[c];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o|=Pr,s,u,l),e===sl&&(ul=sl=null,ll=0),Pl=t,Dl=e,Ll=n,Rl=o,Nl=a,_l=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,te(le,(function(){return fc(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=U.T,U.T=null,a=F.p,F.p=2,s=ol,ol|=4;try{!function(e,t){if(e=e.containerInfo,ad=sf,ar(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(u=s+a),f!==o||0!==i&&3!==f.nodeType||(l=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===a&&(u=s),p===o&&++d===i&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(od={focusedElem:e,selectionRange:n},sf=!1,Cu=t;null!==Cu;)if(e=(t=Cu).child,1024&t.subtreeFlags&&null!==e)e.return=t,Cu=e;else for(;null!==Cu;){switch(o=(t=Cu).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var g=ws(n.type,a,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){hc(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))bd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Cu=e;break}Cu=t.return}}(e,t)}finally{ol=s,F.p=a,U.T=i}}Ml=1,sc(),uc(),lc()}}function sc(){if(1===Ml){Ml=0;var e=Dl,t=Pl,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=U.T,U.T=null;var r=F.p;F.p=2;var i=ol;ol|=4;try{Uu(t,e);var a=od,o=ir(e.containerInfo),s=a.focusedElem,u=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&rr(s.ownerDocument.documentElement,s)){if(null!==u&&ar(s)){var l=u.start,c=u.end;if(void 0===c&&(c=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=s.textContent.length,g=Math.min(u.start,h),m=void 0===u.end?g:Math.min(u.end,h);!p.extend&&g>m&&(o=m,m=g,g=o);var v=nr(s,g),y=nr(s,m);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),g>m?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}sf=!!ad,od=ad=null}finally{ol=i,F.p=r,U.T=n}}e.current=t,Ml=2}}function uc(){if(2===Ml){Ml=0;var e=Dl,t=Pl,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=U.T,U.T=null;var r=F.p;F.p=2;var i=ol;ol|=4;try{Iu(e,t.alternate,t)}finally{ol=i,F.p=r,U.T=n}}Ml=3}}function lc(){if(4===Ml||3===Ml){Ml=0,ie();var e=Dl,t=Pl,n=Ll,r=_l;10256&t.subtreeFlags||10256&t.flags?Ml=5:(Ml=0,Pl=Dl=null,cc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Il=null),Re(n),t=t.stateNode,ge&&"function"==typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(u){}if(null!==r){t=U.T,i=F.p,F.p=2,U.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{U.T=t,F.p=i}}3&Ll&&dc(),Ec(e),i=e.pendingLanes,4194090&n&&42&i?e===jl?Ol++:(Ol=0,jl=e):Ol=0,Cc(0)}}function cc(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t))}function dc(e){return sc(),uc(),lc(),fc()}function fc(){if(5!==Ml)return!1;var e=Dl,t=Rl;Rl=0;var n=Re(Ll),i=U.T,a=F.p;try{F.p=32>n?32:n,U.T=null,n=Nl,Nl=null;var o=Dl,s=Ll;if(Ml=0,Pl=Dl=null,Ll=0,6&ol)throw Error(r(331));var u=ol;if(ol|=4,tl(o.current),Wu(o,o.current,s,n),ol=u,Cc(0),ge&&"function"==typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(he,o)}catch(l){}return!0}finally{F.p=a,U.T=i,cc(e,t)}}function pc(e,t,n){t=Ir(n,t),null!==(e=la(e,t=Cs(e.stateNode,t,2),2))&&(Me(e,2),Ec(e))}function hc(e,t,n){if(3===e.tag)pc(e,e,n);else for(;null!==t;){if(3===t.tag){pc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Il||!Il.has(r))){e=Ir(n,e),null!==(r=la(t,n=Is(2),2))&&(Ms(n,r,t,e),Me(r,2),Ec(r));break}}t=t.return}}function gc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new al;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hl=!0,i.add(n),e=mc.bind(null,e,t,n),t.then(e,e))}function mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sl===e&&(ll&n)===n&&(4===ml||3===ml&&(62914560&ll)===ll&&300>ae()-Al?!(2&ol)&&Wl(e,0):bl|=n,Sl===ll&&(Sl=0)),Ec(e)}function vc(e,t){0===t&&(t=Ce()),null!==(e=_r(e,t))&&(Me(e,t),Ec(e))}function yc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function bc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),vc(e,n)}var wc=null,Sc=null,xc=!1,Tc=!1,kc=!1,Ac=0;function Ec(e){e!==Sc&&null===e.next&&(null===Sc?wc=Sc=e:Sc=Sc.next=e),Tc=!0,xc||(xc=!0,gd((function(){6&ol?te(se,Ic):Mc()})))}function Cc(e,t){if(!kc&&Tc){kc=!0;do{for(var n=!1,r=wc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-ve(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Lc(r,a))}else a=ll,!(3&(a=Te(r,r===sl?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,a)||(n=!0,Lc(r,a));r=r.next}}while(n);kc=!1}}function Ic(){Mc()}function Mc(){Tc=xc=!1;var e,t=0;0!==Ac&&(((e=window.event)&&"popstate"===e.type?e!==dd&&(dd=e,!0):(dd=null,!1))&&(t=Ac),Ac=0);for(var n=ae(),r=null,i=wc;null!==i;){var a=i.next,o=Dc(i,n);0===o?(i.next=null,null===r?wc=a:r.next=a,null===a&&(Sc=r)):(r=i,(0!==t||3&o)&&(Tc=!0)),i=a}Cc(t)}function Dc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-ve(a),s=1<<o,u=i[o];-1===u?s&n&&!(s&r)||(i[o]=Ae(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}if(n=ll,n=Te(e,e===(t=sl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===cl||9===cl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ne(r),Re(n)){case 2:case 8:n=ue;break;case 32:default:n=le;break;case 268435456:n=de}return r=Pc.bind(null,e),n=te(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Pc(e,t){if(0!==Ml&&5!==Ml)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var r=ll;return 0===(r=Te(e,e===sl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zl(e,r,t),Dc(e,ae()),null!=e.callbackNode&&e.callbackNode===n?Pc.bind(null,e):null)}function Lc(e,t){if(dc())return null;zl(e,t,!0)}function Rc(){return 0===Ac&&(Ac=Ee()),Ac}function Nc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Rt(""+e)}function _c(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Oc=0;Oc<Ar.length;Oc++){var jc=Ar[Oc];Er(jc.toLowerCase(),"on"+(jc[0].toUpperCase()+jc.slice(1)))}Er(vr,"onAnimationEnd"),Er(yr,"onAnimationIteration"),Er(br,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(wr,"onTransitionRun"),Er(Sr,"onTransitionStart"),Er(xr,"onTransitionCancel"),Er(Tr,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uc));function Bc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(c){Ss(c)}i.currentTarget=null,a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(c){Ss(c)}i.currentTarget=null,a=u}}}}function zc(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(Kc(t,e,2,!1),n.add(r))}function Vc(e,t,n){var r=0;t&&(r|=4),Kc(n,e,r,t)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[Hc]){e[Hc]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Fc.has(t)||Vc(t,!1,e),Vc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hc]||(t[Hc]=!0,Vc("selectionchange",!1,t))}}function Kc(e,t,n,r){switch(hf(t)){case 2:var i=uf;break;case 8:i=lf;break;default:i=cf}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qc(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var u=r.stateNode.containerInfo;if(u===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==u;){if(null===(s=Ke(u)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=o=s;continue e}u=u.parentNode}}r=r.return}Bt((function(){var r=o,i=_t(n),s=[];e:{var u=kr.get(e);if(void 0!==u){var l=rn,c=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":l=bn;break;case"focusin":c="focus",l=cn;break;case"focusout":c="blur",l=cn;break;case"beforeblur":case"afterblur":l=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case vr:case yr:case br:l=dn;break;case Tr:l=xn;break;case"scroll":case"scrollend":l=on;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=wn;break;case"toggle":case"beforetoggle":l=kn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==u?u+"Capture":null:u;d=[];for(var h,g=r;null!==g;){var m=g;if(h=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===h||null===p||null!=(m=zt(g,p))&&d.push(Wc(g,m,h)),f)break;g=g.return}0<d.length&&(u=new l(u,c,null,n,i),s.push({event:u,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[Ue])&&(l||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(f=a(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=r),l!==c)){if(d=un,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,m="onPointerLeave",p="onPointerEnter",g="pointer"),f=null==l?u:We(l),h=null==c?u:We(c),(u=new d(m,g+"leave",l,n,i)).target=f,u.relatedTarget=h,m=null,Ke(i)===r&&((d=new d(p,g+"enter",c,n,i)).target=h,d.relatedTarget=f,m=d),f=m,l&&c)e:{for(p=c,g=0,h=d=l;h;h=Yc(h))g++;for(h=0,m=p;m;m=Yc(m))h++;for(;0<g-h;)d=Yc(d),g--;for(;0<h-g;)p=Yc(p),h--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=Yc(d),p=Yc(p)}d=null}else d=null;null!==l&&$c(s,u,l,d,!1),null!==c&&null!==f&&$c(s,f,c,d,!0)}if("select"===(l=(u=r?We(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===l&&"file"===u.type)var v=Vn;else if(On(u))if(Hn)v=Jn;else{v=$n;var y=Yn}else!(l=u.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==u.type&&"radio"!==u.type?r&&Dt(r.elementType)&&(v=Vn):v=Qn;switch(v&&(v=v(e,r))?jn(s,v,n,i):(y&&y(e,u,r),"focusout"===e&&r&&"number"===u.type&&null!=r.memoizedProps.value&&xt(u,"number",u.value)),y=r?We(r):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(sr=y,ur=r,lr=null);break;case"focusout":lr=ur=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(s,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Nn?Ln(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Nn&&(b=Xt()):(qt="value"in(Kt=i)?Kt.value:Kt.textContent,Nn=!0)),0<(y=Xc(r,w)).length&&(w=new pn(w,e,null,n,i),s.push({event:w,listeners:y}),(b||null!==(b=Rn(n)))&&(w.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!En&&Ln(e,t)?(e=Xt(),Wt=qt=Kt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=Xc(r,"onBeforeInput")).length&&(y=new pn("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:w}),y.data=b),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Nc((i[je]||null).action),o=r.submitter;o&&null!==(t=(t=o[je]||null)?Nc(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new rn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ac){var e=o?_c(i,o):new FormData(i);_o(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(s.preventDefault(),e=o?_c(i,o):new FormData(i),_o(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Bc(s,t)}))}function Wc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=zt(e,n))&&r.unshift(Wc(e,i,a)),null!=(i=zt(e,t))&&r.push(Wc(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Yc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $c(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(s=s.tag,null!==u&&u===r)break;5!==s&&26!==s&&27!==s||null===l||(u=l,i?null!=(l=zt(n,a))&&o.unshift(Wc(n,l,u)):i||null!=(l=zt(n,a))&&o.push(Wc(n,l,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qc=/\r\n?/g,Jc=/\u0000|\uFFFD/g;function Zc(e){return("string"==typeof e?e:""+e).replace(Qc,"\n").replace(Jc,"")}function ed(e,t){return t=Zc(t),Zc(e)===t}function td(){}function nd(e,t,n,i,a,o){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Et(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Et(e,""+i);break;case"className":ot(e,"class",i);break;case"tabIndex":ot(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,i);break;case"style":Mt(e,i,o);break;case"data":if("object"!==t){ot(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&nd(e,t,"name",a.name,a,null),nd(e,t,"formEncType",a.formEncType,a,null),nd(e,t,"formMethod",a.formMethod,a,null),nd(e,t,"formTarget",a.formTarget,a,null)):(nd(e,t,"encType",a.encType,a,null),nd(e,t,"method",a.method,a,null),nd(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=td);break;case"onScroll":null!=i&&zc("scroll",e);break;case"onScrollEnd":null!=i&&zc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":zc("beforetoggle",e),zc("toggle",e),at(e,"popover",i);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":at(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Pt.get(n)||n,i)}}function rd(e,t,n,i,a,o){switch(n){case"style":Mt(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Et(e,i):("number"==typeof i||"bigint"==typeof i)&&Et(e,""+i);break;case"onScroll":null!=i&&zc("scroll",e);break;case"onScrollEnd":null!=i&&zc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(o=null!=(o=e[je]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):at(e,n,i):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function id(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zc("error",e),zc("load",e);var i,a=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:nd(e,t,i,s,n,null)}}return o&&nd(e,t,"srcSet",n.srcSet,n,null),void(a&&nd(e,t,"src",n.src,n,null));case"input":zc("invalid",e);var u=i=s=o=null,l=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:nd(e,t,a,d,n,null)}}return St(e,i,u,l,c,s,o,!1),void gt(e);case"select":for(o in zc("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(u=n[o]))switch(o){case"value":i=u;break;case"defaultValue":s=u;break;case"multiple":a=u;default:nd(e,t,o,u,n,null)}return t=i,n=s,e.multiple=!!a,void(null!=t?Tt(e,!!a,t,!1):null!=n&&Tt(e,!!a,n,!0));case"textarea":for(s in zc("invalid",e),i=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(u=n[s]))switch(s){case"value":a=u;break;case"defaultValue":o=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(91));break;default:nd(e,t,s,u,n,null)}return At(e,a,o,i),void gt(e);case"option":for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&("selected"===l?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:nd(e,t,l,a,n,null));return;case"dialog":zc("beforetoggle",e),zc("toggle",e),zc("cancel",e),zc("close",e);break;case"iframe":case"object":zc("load",e);break;case"video":case"audio":for(a=0;a<Uc.length;a++)zc(Uc[a],e);break;case"image":zc("error",e),zc("load",e);break;case"details":zc("toggle",e);break;case"embed":case"source":case"link":zc("error",e),zc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:nd(e,t,c,a,n,null)}return;default:if(Dt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&rd(e,t,d,a,n,void 0);return}}for(u in n)n.hasOwnProperty(u)&&null!=(a=n[u])&&nd(e,t,u,a,n,null)}var ad=null,od=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ud(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function cd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var dd=null,fd="function"==typeof setTimeout?setTimeout:void 0,pd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,gd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:fd;function md(e){setTimeout((function(){throw e}))}function vd(e){return"head"===e}function yd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Ad(o.documentElement),2&n&&Ad(o.body),4&n)for(Ad(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,u=o.nodeName;o[He]||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Lf(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Lf(t)}function bd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bd(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function wd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function Sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xd=null;function Td(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Ad(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var Ed=new Map,Cd=new Set;function Id(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Md=F.d;F.d={f:function(){var e=Md.f(),t=Kl();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?jo(t):Md.r(e)},D:function(e){Md.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){Md.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){Md.L(e,t,n);var r=Dd;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var a=i;switch(t){case"style":a=Rd(e);break;case"script":a=Od(e)}Ed.has(a)||(e=l({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ed.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Nd(a))||"script"===t&&r.querySelector(jd(a))||(id(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}},m:function(e,t){Md.m(e,t);var n=Dd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Od(e)}if(!Ed.has(a)&&(e=l({rel:"modulepreload",href:e},t),Ed.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jd(a)))return}id(r=n.createElement("link"),"link",e),Ye(r),n.head.appendChild(r)}}},X:function(e,t){Md.X(e,t);var n=Dd;if(n&&e){var r=Xe(n).hoistableScripts,i=Od(e),a=r.get(i);a||((a=n.querySelector(jd(i)))||(e=l({src:e,async:!0},t),(t=Ed.get(i))&&zd(e,t),Ye(a=n.createElement("script")),id(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Md.S(e,t,n);var r=Dd;if(r&&e){var i=Xe(r).hoistableStyles,a=Rd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Nd(a)))s.loading=5;else{e=l({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ed.get(a))&&Bd(e,n);var u=o=r.createElement("link");Ye(u),id(u,"link",e),u._p=new Promise((function(e,t){u.onload=e,u.onerror=t})),u.addEventListener("load",(function(){s.loading|=1})),u.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Fd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Md.M(e,t);var n=Dd;if(n&&e){var r=Xe(n).hoistableScripts,i=Od(e),a=r.get(i);a||((a=n.querySelector(jd(i)))||(e=l({src:e,async:!0,type:"module"},t),(t=Ed.get(i))&&zd(e,t),Ye(a=n.createElement("script")),id(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Dd="undefined"==typeof document?null:document;function Pd(e,t,n){var r=Dd;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Cd.has(i)||(Cd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(id(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}}function Ld(e,t,n,i){var a,o,s,u,l=(l=X.current)?Id(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Rd(n.href),(i=(n=Xe(l).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Rd(n.href);var c=Xe(l).hoistableStyles,d=c.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=l.querySelector(Nd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Ed.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ed.set(e,n),c||(a=l,o=e,s=n,u=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=a.createElement("link"),u.preload=o,o.addEventListener("load",(function(){return u.loading|=1})),o.addEventListener("error",(function(){return u.loading|=2})),id(o,"link",s),Ye(o),a.head.appendChild(o))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Od(n),(i=(n=Xe(l).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rd(e){return'href="'+bt(e)+'"'}function Nd(e){return'link[rel="stylesheet"]['+e+"]"}function _d(e){return l({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+bt(e)+'"]'}function jd(e){return"script[async]"+e}function Ud(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,Ye(i),i;var a=l({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(i=(e.ownerDocument||e).createElement("style")),id(i,"style",a),Fd(i,n.precedence,e),t.instance=i;case"stylesheet":a=Rd(n.href);var o=e.querySelector(Nd(a));if(o)return t.state.loading|=4,t.instance=o,Ye(o),o;i=_d(n),(a=Ed.get(a))&&Bd(i,a),Ye(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),id(o,"link",i),t.state.loading|=4,Fd(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(a=e.querySelector(jd(o)))?(t.instance=a,Ye(a),a):(i=n,(a=Ed.get(o))&&zd(i=l({},n),a),Ye(a=(e=e.ownerDocument||e).createElement("script")),id(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Fd(i,n.precedence,e));return t.instance}function Fd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Vd=null;function Hd(e,t,n){if(null===Vd){var r=new Map,i=Vd=new Map;i.set(n,r)}else(r=(i=Vd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[He]||a[Oe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Kd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var qd=null;function Wd(){}function Xd(){if(this.count--,0===this.count)if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yd=null;function $d(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yd=new Map,t.forEach(Qd,e),Yd=null,Xd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Yd.get(e);if(n)var r=n.get(null);else{n=new Map,Yd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Xd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Jd={$$typeof:S,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Zd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function ef(e,t,n,r,i,a,o,s,u,l,c,d){return e=new Zd(e,t,n,o,s,u,l,d),t=1,!0===a&&(t|=24),a=Br(3,null,null,t),e.current=a,a.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},oa(a),e}function tf(e){return e?e=Ur:Ur}function nf(e,t,n,r,i,a){i=tf(i),null===r.context?r.context=i:r.pendingContext=i,(r=ua(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=la(e,r,t))&&(Bl(n,0,t),ca(n,e,t))}function rf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function af(e,t){rf(e,t),(e=e.alternate)&&rf(e,t)}function of(e){if(13===e.tag){var t=_r(e,67108864);null!==t&&Bl(t,0,67108864),af(e,67108864)}}var sf=!0;function uf(e,t,n,r){var i=U.T;U.T=null;var a=F.p;try{F.p=2,cf(e,t,n,r)}finally{F.p=a,U.T=i}}function lf(e,t,n,r){var i=U.T;U.T=null;var a=F.p;try{F.p=8,cf(e,t,n,r)}finally{F.p=a,U.T=i}}function cf(e,t,n,r){if(sf){var i=df(r);if(null===i)qc(e,t,r,ff,n),Tf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return mf=kf(mf,e,t,n,r,i),!0;case"dragenter":return vf=kf(vf,e,t,n,r,i),!0;case"mouseover":return yf=kf(yf,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return bf.set(a,kf(bf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,wf.set(a,kf(wf.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Tf(e,r),4&t&&-1<xf.indexOf(e)){for(;null!==i;){var a=qe(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=xe(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var u=1<<31-ve(o);s.entanglements[1]|=u,o&=~u}Ec(a),!(6&ol)&&(El=ae()+500,Cc(0))}}break;case 13:null!==(s=_r(a,2))&&Bl(s,0,2),Kl(),af(a,2)}if(null===(a=df(r))&&qc(e,t,r,ff,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qc(e,t,r,null,n)}}function df(e){return pf(e=_t(e))}var ff=null;function pf(e){if(ff=null,null!==(e=Ke(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ff=e,null}function hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case se:return 2;case ue:return 8;case le:case ce:return 32;case de:return 268435456;default:return 32}default:return 32}}var gf=!1,mf=null,vf=null,yf=null,bf=new Map,wf=new Map,Sf=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tf(e,t){switch(e){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":vf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":bf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(t.pointerId)}}function kf(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=qe(t))&&of(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Af(e){var t=Ke(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ul();e=Le(e);var t=_r(n,e);null!==t&&Bl(t,0,e),af(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ef(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=df(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&of(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Cf(e,t,n){Ef(e)&&n.delete(t)}function If(){gf=!1,null!==mf&&Ef(mf)&&(mf=null),null!==vf&&Ef(vf)&&(vf=null),null!==yf&&Ef(yf)&&(yf=null),bf.forEach(Cf),wf.forEach(Cf)}function Mf(t,n){t.blockedOn===n&&(t.blockedOn=null,gf||(gf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,If)))}var Df=null;function Pf(t){Df!==t&&(Df=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,(function(){Df===t&&(Df=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===pf(r||n))continue;break}var a=qe(n);null!==a&&(t.splice(e,3),e-=3,_o(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Lf(e){function t(t){return Mf(t,e)}null!==mf&&Mf(mf,e),null!==vf&&Mf(vf,e),null!==yf&&Mf(yf,e),bf.forEach(t),wf.forEach(t);for(var n=0;n<Sf.length;n++){var r=Sf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Sf.length&&null===(n=Sf[0]).blockedOn;)Af(n),null===n.blockedOn&&Sf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[je]||null;if("function"==typeof a)o||Pf(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[je]||null)s=o.formAction;else if(null!==pf(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Pf(n)}}}function Rf(e){this._internalRoot=e}function Nf(e){this._internalRoot=e}Nf.prototype.render=Rf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));nf(t.current,Ul(),e,t,null,null)},Nf.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;nf(e.current,2,null,e,null,null),Kl(),t[Ue]=null}},Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sf.length&&0!==t&&t<Sf[n].priority;n++);Sf.splice(n,0,e),0===n&&Af(e)}};var _f=t.version;if("19.1.0"!==_f)throw Error(r(527,_f,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var u=o.alternate;if(null===u){if(null!==(i=o.return)){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return s(o),e;if(u===i)return s(o),t;u=u.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=u;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,i=u;break}if(c===i){l=!0,i=o,n=u;break}c=c.sibling}if(!l){for(c=u.child;c;){if(c===n){l=!0,n=u,i=o;break}if(c===i){l=!0,i=u,n=o;break}c=c.sibling}if(!l)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Of={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{he=jf.inject(Of),ge=jf}catch(Ff){}}return d.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",o=xs,s=Ts,u=ks;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(u=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=ef(e,1,!1,null,0,n,a,o,s,u,0,null),e[Ue]=t.current,Gc(e),new Rf(t)},d.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,o="",s=xs,u=Ts,l=ks,c=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(u=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=ef(e,1,!0,t,0,a,o,s,u,l,0,c)).context=tf(null),n=t.current,(o=ua(a=Le(a=Ul()))).callback=null,la(n,o,a),n=a,t.current.lanes=n,Me(t,n),Ec(t),e[Ue]=t.current,Gc(e),new Nf(t)},d.version="19.1.0",d}var M=(k||(k=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),c.exports=I()),c.exports);const D=()=>l.jsx("header",{children:l.jsx("h2",{children:"Shaka player"})});var P=w();const L=n(P),R=L.createContext({logs:[],addLog:()=>{}}),N=({children:e})=>{const[t,n]=L.useState([]),r=P.useCallback(((e,t)=>{n((n=>[...n,{message:e,level:t??"info",date:Date.now()}]))}),[]);return l.jsx(R.Provider,{value:{logs:t,addLog:r},children:e})},_=()=>L.useContext(R),O=()=>{const{logs:e}=_(),t=P.useRef(null);return P.useEffect((()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)}),[e]),l.jsx("div",{className:"logs-container",ref:t,children:l.jsx("div",{className:"logs",children:e.map((e=>l.jsxs("div",{className:`log ${e.level}`,children:[l.jsx("span",{className:"date",children:new Date(Date.now()).toLocaleString()}),l.jsx("span",{className:"message",children:e.message})]},e.date)))})})},j=48,U=49,F=50,B=51,z=52,V=53;var H,G={},K=(H||(H=1,function(e){!function(){var n="undefined"!=typeof window?window:t,r={};for(var i in function(e,t,n){var r;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(e,t){if(t)e:{var n=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function l(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:a(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function d(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}u("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=s[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&o(r.prototype,e,{configurable:!0,writable:!0,value:function(){return l(a(this))}})}return e}));var f,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var h;e:{var g={};try{g.__proto__={a:!0},h=g.a;break e}catch(TT){}h=!1}f=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=f;function v(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Tk=t.prototype}function y(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function b(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function w(e,t){e.i={Ng:t,Zg:!0},e.g=e.m||e.j}function S(e,t,n){return e.g=n,{value:t}}function x(e){e.g=0}function T(e,t,n){e.m=t,null!=n&&(e.j=n)}function k(e,t){e.m=0,e.j=t||0}function A(e,t,n){e.g=t,e.m=n||0}function E(e,t){return e.m=t||0,t=e.i.Ng,e.i=null,t}function C(e){e.A=[e.i],e.m=0,e.j=0}function I(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Zg?e.g=e.m||e.j:null!=n.s&&e.j<n.s?(e.g=n.s,e.i=null):e.g=e.j:e.g=t}function M(e){this.g=new y,this.h=e}function D(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(o){return e.g.l=null,w(e.g,o),P(e)}return e.g.l=null,r.call(e.g,a),P(e)}function P(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,w(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Zg)throw t.Ng;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function L(e){this.next=function(t){return b(e.g),e.g.l?t=D(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=P(e)),t},this.throw=function(t){return b(e.g),e.g.l?t=D(e,e.g.l.throw,t,e.g.u):(w(e.g,t),t=P(e)),t},this.return=function(t){return function(e,t){b(e.g);var n=e.g.l;return n?D(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),P(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function R(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new L(new M(e)))}function N(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function j(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function U(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Xg:i,v:a}}return{Xg:-1,v:void 0}}y.prototype.u=function(e){this.h=e},y.prototype.return=function(e){this.i={return:e},this.g=this.j},y.prototype.s=function(e){this.g=e},u("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=s.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.l)}},t.prototype.F=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(i){return void this.l(i)}"function"==typeof t?this.I(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.A()},t.prototype.G=function(){var e=this;a((function(){if(e.B()){var t=s.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.H=function(e){var t=this.j();e.Sd(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Sd(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Sd=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?o.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=c(e),a=i.next();!a.done;a=i.next())r(a.value).Sd(t,n)}))},t.all=function(e){var n=c(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Sd(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),u("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!_(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!_(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&_(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&_(e,s)&&_(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&_(e,s)&&_(e[s],this.g))&&delete e[s][this.g]},t})),u("Map",(function(e){function t(){var e={};return e.Yb=e.next=e.head=e}function n(e,t){var n=e[1];return l((function(){if(n){for(;n.head!=e[1];)n=n.Yb;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e[0][n];if(r&&_(e[0],n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this[0]={},this[1]=t(),this.size=0,e){e=c(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this[1],Yb:this[1].Yb,head:this[1],key:e,value:t},n.list.push(n.entry),this[1].Yb.next=n.entry,this[1].Yb=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this[0][e.id],e.entry.Yb.next=e.entry.next,e.entry.next.Yb=e.entry.Yb,e.entry.head=null,this.size--,0))},i.prototype.clear=function(){this[0]={},this[1]=this[1].Yb=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),u("Set",(function(e){function t(e){if(this.g=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),u("Array.prototype.values",(function(e){return e||function(){return O(this,(function(e,t){return t}))}})),u("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),u("Array.prototype.keys",(function(e){return e||function(){return O(this,(function(e){return e}))}})),u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),u("String.prototype.includes",(function(e){return e||function(e,t){return-1!==j(this,e,"includes").indexOf(e,t||0)}})),u("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),u("Array.prototype.findIndex",(function(e){return e||function(e,t){return U(this,e,t).Xg}})),u("WeakSet",(function(e){function t(e){if(this.g=new WeakMap,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}}return function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([t]);return!(!r.has(t)||r.has(n))&&(r.delete(t),r.add(n),!r.has(t)&&r.has(n))}catch(i){return!1}}()?e:(t.prototype.add=function(e){return this.g.set(e,!0),this},t.prototype.has=function(e){return this.g.has(e)},t.prototype.delete=function(e){return this.g.delete(e)},t)})),u("Array.prototype.find",(function(e){return e||function(e,t){return U(this,e,t).v}})),u("String.prototype.startsWith",(function(e){return e||function(e,t){var n=j(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),u("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)_(e,t)&&n.push([t,e[t]]);return n}}));var F="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)_(r,i)&&(e[i]=r[i])}return e};u("Object.assign",(function(e){return e||F})),u("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),u("Array.prototype.entries",(function(e){return e||function(){return O(this,(function(e,t){return[e,t]}))}})),u("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),u("String.prototype.repeat",(function(e){return e||function(e){var t=j(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),u("Number.EPSILON",(function(){return Math.pow(2,-52)})),u("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),u("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&!isNaN(e)&&1/0!==e&&-1/0!==e}})),u("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)_(e,t)&&n.push(e[t]);return n}})),u("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),u("String.prototype.endsWith",(function(e){return e||function(e,t){var n=j(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),u("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}}));var B=this||self;function z(e,t){e=e.split(".");var n,r=B;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function V(){}function H(){}function G(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function K(e){return e.h/(1-Math.pow(e.g,e.i))}function q(){this.h=new G(2),this.j=new G(5),this.g=0,this.i=128e3,this.l=16e3}function W(){}function X(){}function Y(){}function $(e){var t=N.apply(1,arguments);J.has(e)||(J.add(e),Y.apply(W,d(t)))}function Q(){}G.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},q.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},q.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},q.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(K(this.h),K(this.j))};var J=new Set;function Z(){this.g=new Map}function ee(){this.g=new Z}function te(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=ne;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}ne=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}e.console&&((new Map).set(1,(function(){})).set(2,(function(){})).set(3,(function(){})).set(4,(function(){})).set(5,(function(){})).set(6,(function(){})),Y=function(){},X=function(){}),(r=Z.prototype).push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},r.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},r.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter((function(e){return e!=t}));this.g.set(e,n),n.length||this.g.delete(e)}},r.forEach=function(e){this.g.forEach((function(t,n){e(n,t)}))},r.size=function(){return this.g.size},r.keys=function(){return Array.from(this.g.keys())},(r=ee.prototype).release=function(){this.Qa(),this.g=null},r.D=function(e,t,n,r){this.g&&(e=new te(e,t,n,r),this.g.push(t,e))},r.ma=function(e,t,n,r){var i=this;this.D(e,t,(function r(a){i.Ja(e,t,r),n(a)}),r)},r.Ja=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.Ja(),this.g.remove(t,i))},r.Qa=function(){if(this.g){for(var e=[],t=c(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,d(n.value));for(t=(e=c(e)).next();!t.done;t=e.next())t.value.Ja();this.g.g.clear()}},z("shaka.util.EventManager",ee),ee.prototype.removeAll=ee.prototype.Qa,ee.prototype.unlisten=ee.prototype.Ja,ee.prototype.listenOnce=ee.prototype.ma,ee.prototype.listen=ee.prototype.D,ee.prototype.release=ee.prototype.release,te.prototype.Ja=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var ne=void 0;function re(e,t){this.g=e,this.h=t}function ie(e,t){var n=new re(5,0),r=se,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function ae(e,t,n,r){Y([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function oe(e,t,n,r){X([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}z("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),re.prototype.toString=function(){return"v"+this.g+"."+this.h};var se=null,ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");
/*
      		 @license
      		 Copyright 2008 The Closure Library Authors
      		 SPDX-License-Identifier: Apache-2.0
      		*/
/*
      		 @license
      		 Copyright 2006 The Closure Library Authors
      		 SPDX-License-Identifier: Apache-2.0
      		*/
function le(e){var t;e instanceof le?(ce(this,e.Kb),this.Hc=e.Hc,de(this,e.nb),fe(this,e.$c),this.ab=e.ab,pe(this,e.g.clone()),this.qc=e.qc):e&&(t=String(e).match(ue))?(ce(this,t[1]||"",!0),this.Hc=he(t[2]||""),de(this,t[3]||"",!0),fe(this,t[4]),this.ab=he(t[5]||"",!0),pe(this,t[6]||"",!0),this.qc=he(t[7]||"")):this.g=new xe(null)}function ce(e,t,n){e.Kb=n?he(t,!0):t,e.Kb&&(e.Kb=e.Kb.replace(/:$/,""))}function de(e,t,n){e.nb=n?he(t,!0):t}function fe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.$c=t}else e.$c=null}function pe(e,t,n){t instanceof xe?e.g=t:(n||(t=ge(t,we)),e.g=new xe(t))}function he(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function ge(e,t,n){return null!=e?(e=encodeURI(e).replace(t,me),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function me(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=le.prototype).Kb="",r.Hc="",r.nb="",r.$c=null,r.ab="",r.qc="",r.toString=function(){var e=[],t=this.Kb;if(t&&e.push(ge(t,ve,!0),":"),t=this.nb){e.push("//");var n=this.Hc;n&&e.push(ge(n,ve,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.$c)&&e.push(":",String(t))}return(t=this.ab)&&(this.nb&&"/"!=t.charAt(0)&&e.push("/"),e.push(ge(t,"/"==t.charAt(0)?be:ye,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.qc)&&e.push("#",ge(t,Se)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.Kb&&(t=new le);var n=!!e.Kb;n?ce(t,e.Kb):n=!!e.Hc,n?t.Hc=e.Hc:n=!!e.nb,n?de(t,e.nb):n=null!=e.$c;var r=e.ab;if(n)fe(t,e.$c);else if(n=!!e.ab){if("/"!=r.charAt(0))if(this.nb&&!this.ab)r="/"+r;else{var i=t.ab.lastIndexOf("/");-1!=i&&(r=t.ab.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ab=r:n=""!==e.g.toString(),n?pe(t,e.g.clone()):n=!!e.qc,n&&(t.qc=e.qc),t},r.clone=function(){return new le(this)};var ve=/[#\/\?@]/g,ye=/[#\?:]/g,be=/[#\?]/g,we=/[#\?@]/g,Se=/#/g;function xe(e){this.g=e||null}function Te(e){if(!e.Va&&(e.Va=new Map,e.kd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function ke(e){return Te(e),e.kd}function Ae(){}function Ee(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ie(e);t=Ie(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Ce(e){return ArrayBuffer.isView(e)?0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Ie(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Me(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)}function De(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Pe(e,t,n,r){var i=ArrayBuffer.isView(e)?e.buffer:e,a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var o=((e.byteOffset||0)+e.byteLength)/a;return new r(i,e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,o))),Math.floor(Math.min(e+Math.max(n,0),o))-e)}function Le(e,t,n){var r=N.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}function Re(e){this.h=e,this.g=void 0}function Ne(e,t){return!e.length||!t.length||e===t||0<_e(e,t).length}function _e(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var o=c((r.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,i.set(s.keyId,s);i=Array.from(i.values()),o=r.keyIds&&a.keyIds?new Set([].concat(d(r.keyIds),d(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:o});break}}return n}function Oe(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function je(e){return!!e&&!!e.match(/^com\.apple\.fps/)}(r=xe.prototype).Va=null,r.kd=null,r.add=function(e,t){Te(this),this.g=null;var n=this.Va.has(e)?this.Va.get(e):null;return n||this.Va.set(e,n=[]),n.push(t),this.kd++,this},r.set=function(e,t){return Te(this),this.g=null,this.Va.has(e)?this.Va.set(e,[t]):this.add(e,t),this},r.get=function(e){return Te(this),this.Va.get(e)||[]},r.toString=function(){if(this.g)return this.g;if(!this.Va||!this.Va.size)return"";for(var e=[],t=c(this.Va.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=encodeURIComponent(r),r=this.Va.get(r);for(var i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}}return this.g=e.join("&")},r.clone=function(){var e=new xe;if(e.g=this.g,this.Va){for(var t=new Map,n=c(this.Va),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,t.set(r,i.concat())}e.Va=t,e.kd=this.kd}return e},z("shaka.util.BufferUtils",Ae),Ae.toDataView=De,Ae.toUint16=Me,Ae.toUint8=Ie,Ae.toArrayBuffer=Ce,Ae.equal=Ee,Le.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},z("shaka.util.Error",Le),Le.Severity={RECOVERABLE:1,CRITICAL:2},Le.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Le.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},Re.prototype.value=function(){return void 0===this.g&&(this.g=this.h()),this.g};var Ue=new Re((function(){return Ce(new Uint8Array([0]))})),Fe=new Map;function Be(e){this.h=e,this.g=null}function ze(e){this.h=e,this.g=null}function Ve(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.isTypeSupported)}function He(e){return""!=lt().canPlayType(e)}function Ge(){return!!navigator.userAgent.match(/Edge?\//)}function Ke(){return st("Xbox One")}function qe(){return st("Tizen")}function We(){return st("Tizen 3")}function Xe(){return st("Web0S")}function Ye(){return Xe()&&38===Qe()}function $e(){return st("CrKey")&&!st("VIZIO SmartCast")}function Qe(){if(!st("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function Je(){return ut()&&((navigator.userAgentData&&navigator.userAgentData.platform?"macos"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("mac"))||!!/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||ut()&&1<navigator.maxTouchPoints)}function Ze(){return st("PlayStation 5")}function et(){return st("PlayStation 4")}function tt(){return st("Hisense")||st("VIDAA")}function nt(){if(!Je()&&(!ut()||Je()))return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function rt(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")}function it(){return navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase():st("Android")}function at(){return navigator.userAgentData&&navigator.userAgentData.platform?"fuchsia"==navigator.userAgentData.platform.toLowerCase():st("Fuchsia")}function ot(){return!!(qe()||Xe()||Ke()||et()||Ze()||$e()||tt()||st("VIZIO SmartCast")||ut()&&!Je())}function st(e){return(navigator.userAgent||"").includes(e)}function ut(){return(navigator.vendor||"").includes("Apple")}function lt(){return pt||(ft||(ft=new ze((function(){pt=null}))),(pt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(pt=document.createElement("video")),ft.da(1),pt)}function ct(){if(We()||st("Tizen 2")||Ye()||et()||Ze())return!1;var e=nt();return!(ut()&&!Je()&&null!=e&&15>e)}function dt(){var t,n,r,i,a,o,s,u,l,c,d,f,p,h,g;return R((function(m){switch(m.g){case 1:if(t={width:1/0,height:1/0},$e()){if(p=e.cast&&cast.__platform__&&cast.__platform__.canDisplayType,t.width=1280,t.height=720,T(m,14),!(h=p)){m.s(16);break}return S(m,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(qe()){n=e.devicePixelRatio,t.width=1920<e.screen.width*n?3840:1920,t.height=1080<e.screen.height*n?2160:1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(r=webapis.systeminfo.getMaxVideoResolution(),t.width=r.width,t.height=r.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(t.width=7680,t.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(t.width=3840,t.height=2160)}catch(v){Y("Tizen: Error detecting screen size, default screen size 1920x1080.")}m.s(3);break}if(Xe()){try{i=JSON.parse(e.PalmSystem.deviceInfo),t.width=Math.max(1920,i.screenWidth),t.height=Math.max(1080,i.screenHeight)}catch(v){Y("WebOS: Error detecting screen size, default screen size 1920x1080."),t.width=1920,t.height=1080}m.s(3);break}if(tt()){if(a=null,e.Hisense_Get4KSupportState)try{a=e.Hisense_Get4KSupportState()}catch(v){}null==a&&(a=st("UHD")),a?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),m.s(3);break}if(!et()&&!Ze()){o=void 0;try{o="undefined"!=typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(v){}if(o){t.width=1920,t.height=1080;try{s=new o.Media.Protection.ProtectionCapabilities,u=o.Media.Protection.ProtectionCapabilityResult,l=null;do{l=s.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(l===u.maybe);l===u.probably&&(t.width=3840,t.height=2160)}catch(v){Y("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else Ke()&&(t.width=1920,t.height=1080,Y("Xbox: Error detecting screen size, default screen size 1920x1080."));m.s(3);break}return c=!1,T(m,8),S(m,e.msdk.device.getDisplayInfo(),10);case 10:d=m.h,c="4K"===d.resolution,A(m,9);break;case 8:return E(m),T(m,11),S(m,e.msdk.device.getDisplayInfoImmediate(),13);case 13:f=m.h,c="4K"===f.resolution,A(m,9);break;case 11:Y("PlayStation: Failed to get the display info:",E(m));case 9:c?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),m.s(3);break;case 17:h=m.h;case 16:if(h){t.width=3840,t.height=2160,m.s(18);break}if(!(g=p)){m.s(19);break}return S(m,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:g=m.h;case 19:g&&(t.width=1920,t.height=1080);case 18:A(m,3);break;case 14:X("Failed to check canDisplayType:",E(m));case 3:return m.return(t)}}))}Be.prototype.da=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Be.prototype.stop=function(){this.g&&(this.g(),this.g=null)},ze.prototype.sb=function(){return this.stop(),this.h(),this},ze.prototype.da=function(e){var t=this;return this.stop(),this.g=new Be((function(){t.h()})).da(e),this},ze.prototype.ua=function(e){var t=this;return this.stop(),this.g=new Be((function(){t.g.da(e),t.h()})).da(e),this},ze.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},z("shaka.util.Timer",ze),ze.prototype.stop=ze.prototype.stop,ze.prototype.tickEvery=ze.prototype.ua,ze.prototype.tickAfter=ze.prototype.da,ze.prototype.tickNow=ze.prototype.sb;var ft=null,pt=null;function ht(){}function gt(t){if(!t)return"";if(239==(t=Ie(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!et())return(t=(new TextDecoder).decode(t)).includes("")&&X('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(128&t[r]?t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3):i=t[r],65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function mt(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Le(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=De(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return wt(r)}function vt(e){function t(e){return n.byteLength<=e||9<=n[e]&&126>=n[e]}if(!e)return"";var n=Ie(e);if(239==n[0]&&187==n[1]&&191==n[2])return gt(n);if(254==n[0]&&255==n[1])return mt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return mt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return mt(e,!1);if(0==n[1]&&0==n[3])return mt(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return gt(e);throw new Le(2,2,2003)}function yt(t){if(e.TextEncoder&&!et()){var n=new TextEncoder;return Ce(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return Ce(n)}function bt(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function wt(e){return xt.value()(e)}function St(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":"","&lrm;":"","&rlm;":""},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return"#"==e[1]?0<=(e="x"==e[2]||"X"==e[2]?parseInt(e.substring(3),16):parseInt(e.substring(2),10))&&1114111>=e?String.fromCodePoint(e):"":t[e]||"'"})):e||""}z("shaka.util.StringUtils",ht),ht.resetFromCharCode=function(){xt.g=void 0},ht.toUTF16=bt,ht.toUTF8=yt,ht.fromBytesAutoDetect=vt,ht.fromUTF16=mt,ht.fromUTF8=gt;var xt=new Re((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={jc:65536};0<t.jc;(t={jc:t.jc}).jc/=2)if(e(t.jc))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.jc)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.jc));return n}}(t);return null}));function Tt(){}function kt(e){return e=wt(Ie(e)),btoa(e)}function At(e,t){return t=null==t||t,e=kt(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function Et(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Ct(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function It(e){var t=Ie(e);e="";for(var n=(t=c(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Mt(){for(var e=N.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];ArrayBuffer.isView(i)&&1===i.BYTES_PER_ELEMENT?t.set(i,n):t.set(Ie(i),n),n+=i.byteLength}return t}function Dt(e,t,n){if(n=void 0===n?"":n,0==t.length)return e;if(1==e.length&&1==t.length){var r=new le(e[0]);return t=new le(t[0]),t=r.resolve(t),n&&pe(t,n),[t.toString()]}t=t.map((function(e){return new le(e)})),r=[];for(var i=(e=c(e)).next();!i.done;i=e.next()){i=new le(i.value);for(var a=c(t),o=a.next();!o.done;o=a.next())o=i.resolve(o.value),n&&pe(o,n),r.push(o.toString())}return r}function Pt(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function Lt(t,n){n=void 0===n?"cenc":n;var r=[],i=[],a=[];t.forEach((function(e,t){var n=t;22!=n.length&&(n=At(Ct(t),!1));var o=e;22!=o.length&&(o=At(Ct(e),!1)),e={kty:"oct",kid:n,k:o},r.push(e),i.push(e.kid),a.push(t)})),t=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:Ie(yt(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function Rt(e,t){if(1==t.length)return t[0];if(null!=(e=Nt(e,t)))return e;throw new Le(2,4,4025,t)}function Nt(e,t){for(var n=Ft.get(e),r=(n=c(n)).next();!r.done;r=n.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==Ot?"":null}function _t(e,t){for(var n=[],r=(e=c(e=Ft.get(e))).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}z("shaka.util.Uint8ArrayUtils",Tt),Tt.concat=Mt,Tt.toHex=It,Tt.fromHex=Ct,Tt.fromBase64=Et,Tt.toBase64=At,Tt.toStandardBase64=kt;var Ot="text",jt={la:"video",V:"audio",za:Ot,$e:"image",Mj:"application"},Ut=1/15,Ft=(new Map).set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function Bt(e,t,n,r){this.g=null,this.l=e,this.i=t,this.m=n,this.o=r,this.j=!1;e:{if("undefined"==typeof libDPIModule&&Y("Could not find LCEVC Library dependencies on this page"),"undefined"!=typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"==typeof LcevcDil){Y("Could not find LCEVC Library on this page"),e=!1;break e}this.h=LcevcDil,this.j=!0,ie("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}void 0===this.h.SupportObject?(Y("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||Y(this.h.SupportObject.SupportError),e=void 0!==this.h&&"undefined"!=typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function zt(e,t,n,r){"video"!==r.type||e.o&&!r.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",r.id,-n,!e.o)}function Vt(e){e.g&&e.i.classList.add("shaka-hidden")}function Ht(e){return!(!e||"undefined"==typeof LCEVCdec)&&"lvc1"==e.codecs}function Gt(t){if(Wt.has(t))return Wt.get(t);var n=e.ManagedMediaSource||e.MediaSource;return!!n&&(n=n.isTypeSupported(t),Wt.set(t,n),n)}function Kt(){var t=e.ManagedSourceBuffer||e.SourceBuffer;return!!t&&!!t.prototype&&!!t.prototype.changeType}function qt(){var t=e.ManagedMediaSource||e.MediaSource;return!!(t&&t.prototype&&t.prototype.setLiveSeekableRange&&t.prototype.clearLiveSeekableRange)}Bt.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},z("shaka.lcevc.Dec",Bt),Bt.prototype.release=Bt.prototype.release;var Wt=new Map;function Xt(){}function Yt(){}function $t(){}function Qt(e){this.l=new Yt,(e=Zt(e.toLowerCase()))&&(this.l=e()),this.h=new Xt,(e=tn)&&(this.h=e())}function Jt(e,t){en.set(e,t)}function Zt(e){return en.get(e)}Xt.prototype.extract=function(){},Xt.prototype.decode=function(){return[]},Xt.prototype.clear=function(){},Xt.prototype.getStreams=function(){return[]},Yt.prototype.init=function(){},Yt.prototype.parse=function(){return[]},$t.prototype.init=function(){},$t.prototype.i=function(){},$t.prototype.g=function(){},$t.prototype.j=function(){},z("shaka.media.IClosedCaptionParser",$t),Qt.prototype.init=function(e,t){void 0!==t&&t||this.g(),this.l.init(e)},Qt.prototype.i=function(e){for(var t=(e=c(e=this.l.parse(e))).next();!t.done;t=e.next()){var n=Ie((t=t.value).packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},Qt.prototype.g=function(){this.h.clear()},Qt.prototype.j=function(){return this.h.getStreams()},z("shaka.media.ClosedCaptionParser",Qt),Qt.findDecoder=function(){return tn},Qt.unregisterDecoder=function(){tn=null},Qt.registerDecoder=function(e){tn=e},Qt.findParser=Zt,Qt.unregisterParser=function(e){en.delete(e)},Qt.registerParser=Jt;var en=new Map,tn=null;function nn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=rn,this.scroll=an}z("shaka.text.CueRegion",nn);var rn=1;nn.units={PX:0,PERCENTAGE:rn,LINES:2};var an="";function on(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function sn(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function un(e,t,n){if(n||(n=on),e.length!=t.length)return!1;t=t.slice();for(var r=(e=c(e)).next(),i={};!r.done;i={ah:void 0},r=e.next()){if(i.ah=r.value,-1==(r=t.findIndex(function(e){return function(t){return n(e.ah,t)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function ln(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=on),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function cn(e){this.h=e||"",this.g=0}function dn(e){fn(e,/[ \t]+/gm)}function fn(e,t){return t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g?null:(e.g+=t.length,t.results)}function pn(e){return e.g==e.h.length?null:(e=fn(e,/[^ \t\n]*/gm))?e[0]:null}function hn(e){if(null==(e=fn(e,mn)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function gn(e){return e?hn(new cn(e)):null}nn.scrollMode={NONE:an,UP:"up"};var mn=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function vn(e){var t=new WeakSet;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function yn(e){var t,n={};for(t in e)n[t]=e[t];return n}function bn(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=n.toString(),i=e[n];void 0!==i&&(i=bn(i))&&t.push(r+":"+i)}e="["+t.join(",")+"]"}else if("function"==typeof e)e="";else if(e instanceof Object){for((n=Object.keys(e)).sort(),t=[],r=(n=c(n)).next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),void 0!==(i=e[i])&&(i=bn(i))&&t.push(r+":"+i);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function wn(e,t){var n=void 0!==n&&n;return Sn(e=vt(e),t,n)}function Sn(e,t,n){return e=function(e,t){function n(a,o){o=void 0!==o&&o;for(var s=[];e[i];)if(60==e.charCodeAt(i)){if(47===e.charCodeAt(i+1)){o=i+2,i=e.indexOf(">",i);var u=(o=e.substring(o,i)).indexOf(a);if(-1==u){var l=a.indexOf(".");0<l&&(u=o.indexOf(a.substring(0,l)))}if(-1==u)throw a=e.substring(0,i).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+e[i]);i+1&&(i+=1);break}if(33===e.charCodeAt(i+1)){if(45==e.charCodeAt(i+2)){for(;-1!==i&&(62!==e.charCodeAt(i)||45!=e.charCodeAt(i-1)||45!=e.charCodeAt(i-2)||-1==i);)i=e.indexOf(">",i+1);-1===i&&(i=e.length)}else if(91===e.charCodeAt(i+2)&&91===e.charCodeAt(i+8)&&"cdata"===e.substr(i+3,5).toLowerCase()){-1==(u=e.indexOf("]]>",i))?(s.push(e.substr(i+9)),i=e.length):(s.push(e.substring(i+9,u)),i=u+3);continue}i++;continue}e:{l=o,i++;var c=r(),f={};for(u=[];62!==e.charCodeAt(i)&&e[i];){var p=e.charCodeAt(i);if(64<p&&91>p||96<p&&123>p){p=r();for(var h=e.charCodeAt(i);h&&39!==h&&34!==h&&!(64<h&&91>h||96<h&&123>h)&&62!==h;)i++,h=e.charCodeAt(i);var g=i+1;if(i=e.indexOf(e[i],g),g=e.slice(g,i),39===h||34===h){if(-1===i){if(l={tagName:c,attributes:f,children:u,parent:null},t)for(c=0;c<u.length;c++)"string"!=typeof u[c]&&(u[c].parent=l);u=l;break e}}else g=null,i--;if(p.startsWith("xmlns:")){h=g;var m=p.split(":")[1];$n.set(h,m),Qn.set(m,h)}"tt"===c&&"xml:space"===p&&"preserve"===g&&(l=!0),f[p]=g}i++}for(47!==e.charCodeAt(i-1)?(i++,u=n(c,l)):i++,l={tagName:c,attributes:f,children:u,parent:null},c=u.length,f=0;f<c;f++)"string"!=typeof(p=u[f])?t&&(p.parent=l):f==c-1&&"\n"==p&&u.pop();u=l}if(s.push(u),"string"==typeof u)break;"?"===u.tagName[0]&&u.children&&(s.push.apply(s,d(u.children)),u.children=[])}else u=i,-2==(i=e.indexOf("<",i)-1)&&(i=e.length),u=e.slice(u,i+1),o?0<u.length&&s.push(u):(s.length&&1==u.length&&"\n"==u[0]||0<u.trim().length)&&s.push(u),i++;return s}function r(){for(var t=i;-1==="\r\n\t>/= ".indexOf(e[i])&&e[i];)i++;return e.slice(t,i)}var i=0;return n("")}(e,void 0!==n&&n),!t&&e.length?e[0]:(e=e.find((function(e){return t.split(",").includes(e.tagName)})))?e:null}function xn(e){return $n.has(e)?$n.get(e):""}function Tn(e){return"string"==typeof e}function kn(e){var t=[];if(!e.children)return[];for(var n=(e=c(e.children)).next();!n.done;n=e.next())"string"!=typeof(n=n.value)&&t.push(n);return t}function An(e,t){var n=[];if(!e.children)return[];for(var r=(e=c(e.children)).next();!r.done;r=e.next())(r=r.value).tagName===t&&n.push(r);return n}function En(e){return"string"==typeof e?St(e):""===(e=e.children.reduce((function(e,t){return"string"==typeof t?e+t:e}),""))?null:St(e)}function Cn(e){return Array.from(e.children).every((function(e){return"string"==typeof e}))?((e=En(e))&&(e=e.trim()),e):null}function In(e,t,n){if(n=void 0===n?[]:n,e.tagName===t&&n.push(e),e.children)for(var r=(e=c(e.children)).next();!r.done;r=e.next())In(r.value,t,n);return n}function Mn(e,t){return 1!=(e=An(e,t)).length?null:e[0]}function Dn(e,t,n){return 1!=(e=Rn(e,t,n)).length?null:e[0]}function Pn(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.attributes[t])&&(i=n(e)),null==i?r:i}function Ln(e,t,n){return t=xn(t),e.attributes[t+":"+n]||null}function Rn(e,t,n){var r=xn(t);if(t=[],e.children)for(n=r?r+":"+n:n,r=(e=c(e.children)).next();!r.done;r=e.next())(r=r.value)&&r.tagName===n&&t.push(r);return t}function Nn(e,t,n){for(var r=(t=c(t)).next();!r.done;r=t.next())if(r=Ln(e,r.value,n))return r;return null}function _n(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function On(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function jn(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Un(e){return 0==(e=Number(e))%1?e:null}function Fn(e){return 0==(e=Number(e))%1&&0<e?e:null}function Bn(e){return 0==(e=Number(e))%1&&0<=e?e:null}function zn(e){return e=Number(e),isNaN(e)?null:e}function Vn(e){return!!e&&"true"===e.toLowerCase()}function Hn(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Gn(e){for(var t=[],n=(e=c(e=St(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=e.next()){var r=(n=n.value).match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,ac:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].ac=n.slice(1))}return t}function Kn(e,t){var n=Gn(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;null==(n=r.position)&&(null!==r.t&&(n=qn(e,"t",r.t)),null!==r.n&&(n=qn(e,"n",r.n))),null===n?n="prepend"===i?0:e.length:"prepend"===i?--n:"after"===i&&++n,i=t.tagName,(r=r.ac)&&e[n]?Wn(e[n],i,r,Cn(t)||""):("remove"!==i&&"replace"!==i||e.splice(n,1),"add"!==i&&"replace"!==i||e.splice.apply(e,[n,0].concat(d(t.children))))}}function qn(e,t,n){for(var r=0,i=(e=c(e)).next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function Wn(e,t,n,r){"remove"===t?delete e.attributes[n]:"add"!==t&&"replace"!==t||(e.attributes[n]=r)}function Xn(e){var t="",n=e.tagName.split(":");for(var r in 0<n.length&&(t=n[0],t=Qn.has(t)?Qn.get(t):""),t=document.createElementNS(t,e.tagName),e.attributes)t.setAttribute(r,e.attributes[r]);for(r=(e=c(e.children)).next();!r.done;r=e.next())n=void 0,n="string"==typeof(r=r.value)?new Text(r):Xn(r),t.appendChild(n);return t}function Yn(e){if(!e)return null;for(var t={tagName:e.tagName,attributes:yn(e.attributes),children:[],parent:null},n=(e=c(e.children)).next();!n.done;n=e.next())"string"==typeof(n=n.value)||((n=Yn(n)).parent=t),t.children.push(n);return t}var $n=new Map,Qn=new Map;function Jn(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new nn,this.position=null,this.positionAlign=ar,this.size=0,this.textAlign=or,this.direction=cr,this.writingMode=dr,this.lineInterpretation=fr,this.line=null,this.lineHeight="",this.lineAlign=pr,this.displayAlign=ur,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=vr,this.fontStyle=br,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={oc:32,rows:15}}function Zn(e,t){return(e=new Jn(e,t,"")).lineBreak=!0,e}function er(e,t){if(e.payload!=t.payload||!(.001>Math.abs(e.startTime-t.startTime)&&.001>Math.abs(e.endTime-t.endTime)))return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!ln(e.nestedCues,t.nestedCues,er))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!ln(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function tr(e,t){t=void 0===t?new Map:t;var n=e.payload;if(n.includes("<")){0===t.size&&nr(t);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)"<"===r[a]?i=a+1:">"===r[a]&&0<i&&((i=r.substr(i,a-i)).match(Tr)&&n.push(i),i=-1);for(a=(n=c(n)).next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";e:{a=r,i=[];var o=-1;n="",r=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break e}if((u=a.substring(s+1,u))&&"v"==u){r=!0;var l=null;if(i.length&&(l=i[i.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=a[s];continue}n+="/"+l+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&0<o&&(i.push(a.substr(o,s-o)),o=-1),n+=a[s];for(i=(a=c(i)).next();!i.done;i=a.next())o=(i=i.value).replace(" ",".voice-"),n=(n=n.replace("<"+i+">","<"+o+">")).replace("</"+i+">","</"+o+">"),r||(n+="</"+o+">")}n=function(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return t[e]||""})):e||""}(n),e.payload="";try{var d=Sn("<span>"+n+"</span>","span")}catch(f){}if(d)if(1!=(d=d.children).length||d[0].tagName)for(n=(d=c(d)).next();!n.done;n=d.next())rr(n.value,e,t);else e.payload=St(n);else e.payload=St(n)}else e.payload=St(n)}function nr(e){for(var t=c(Object.entries(gr)),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value;var i=new Jn(0,0,"");i.color=r,e.set("."+n,i)}for(n=(t=c(Object.entries(mr))).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,(i=new Jn(0,0,"")).backgroundColor=r,e.set("."+n,i)}function rr(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new nn,r.position=null,r.size=0,r.textAlign=or,e.tagName)for(var i=c(e.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=r,o=n.get(o))&&(s.backgroundColor=ir(o.backgroundColor,s.backgroundColor),s.color=ir(o.color,s.color),s.fontFamily=ir(o.fontFamily,s.fontFamily),s.fontSize=ir(o.fontSize,s.fontSize),s.textShadow=ir(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return r=Zn(r.startTime,r.endTime),void t.nestedCues.push(r);case"b":r.fontWeight=yr;break;case"i":r.fontStyle=wr;break;case"u":r.textDecoration.push(xr);break;case"font":(a=e.attributes.color)&&(r.color=a);break;case"div":if(!(a=e.attributes.time))break;(a=gn(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=e.children,Tn(e)||1==i.length&&Tn(i[0]))for(n=En(e).split("\n"),e=!0,i=(n=c(n)).next();!i.done;i=n.next())i=i.value,e||(e=Zn(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&((e=r.clone()).payload=St(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),e=(t=c(i)).next();!e.done;e=t.next())rr(e.value,r,n)}function ir(e,t){return e&&0<e.length?e:t}Jn.prototype.clone=function(){var e,t=new Jn(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},z("shaka.text.Cue",Jn),Jn.parseCuePayload=tr,Jn.equal=er,Jn.prototype.clone=Jn.prototype.clone;var ar="auto";Jn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ar};var or="center",sr={LEFT:"left",RIGHT:"right",CENTER:or,START:"start",END:"end"};Jn.textAlign=sr;var ur="after",lr={BEFORE:"before",CENTER:"center",AFTER:ur};Jn.displayAlign=lr;var cr="ltr";Jn.direction={HORIZONTAL_LEFT_TO_RIGHT:cr,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var dr="horizontal-tb";Jn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:dr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var fr=0;Jn.lineInterpretation={LINE_NUMBER:fr,PERCENTAGE:1};var pr="start",hr={CENTER:"center",START:pr,END:"end"};Jn.lineAlign=hr;var gr={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Jn.defaultTextColor=gr;var mr={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Jn.defaultTextBackgroundColor=mr;var vr=400,yr=700;Jn.fontWeight={NORMAL:vr,BOLD:yr};var br="normal",wr="italic",Sr={NORMAL:br,ITALIC:wr,OBLIQUE:"oblique"};Jn.fontStyle=Sr;var xr="underline";Jn.textDecoration={UNDERLINE:xr,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Tr=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function kr(){}function Ar(e,t,n){Cr.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,se:t})}function Er(e,t){for(var n=e.toLowerCase().split(";")[0],r=c([Pr,Dr,Mr,Ir]),i=r.next();!i.done;i=r.next())if(i=Cr.get(n+"-"+i.value)){var a=i.se(),o=a.isSupported(e,t);if(a.destroy(),o)return i.se}return null}kr.prototype.destroy=function(){},z("shaka.transmuxer.TransmuxerEngine",kr),kr.findTransmuxer=Er,kr.unregisterTransmuxer=function(e,t){Cr.delete(e.toLowerCase().split(";")[0]+"-"+t)},kr.registerTransmuxer=Ar,kr.prototype.destroy=kr.prototype.destroy;var Cr=new Map,Ir=1,Mr=2,Dr=3,Pr=4;function Lr(){}function Rr(e,t){var n=e;return t&&!Kr.includes(e)&&(n+='; codecs="'+t+'"'),n}function Nr(e,t){return t&&(e+='; codecs="'+t+'"'),e}function _r(e,t,n){var r=Rr(e,t);return Er(t=Nr(e,t))?(e=Er(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function Or(e,t,n){var r=[t];return Gr.forEach((function(t,i){var a=e[i];"codecs"==i?Kr.includes(e.mimeType)||r.push('codecs="'+n+'"'):a&&r.push(t+'="'+a+'"')})),"PQ"==e.hdr&&r.push('eotf="smpte2084"'),r.join(";")}function jr(e){return e.split(";")[0].split("/")[1]}function Ur(e){var t=Hr(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:case"ac3"===e:case"ac-3"===e:return"ac-3";case"mp4a"===e&&"a6"===t:case"eac3"===e:case"ec-3"===e:return"ec-3";case"ac-4"===e:return"ac-4";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"vp09"===e:return"vp9";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"vvc1"===e:case"vvi1"===e:return"vvc";case"dvh1"===e:case"dvhe"===e:return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===e:case"dva1"===e:return"dovi-avc";case"dav1"===e:return"dovi-av1";case"dvc1"===e:case"dvi1"===e:return"dovi-vvc"}return e}function Fr(e){for(var t=[],n=(e=c(e.split(","))).next();!n.done;n=e.next())n=Hr(n.value),t.push(n[0]);return t.sort().join(",")}function Br(e){return e.split(";")[0]}function zr(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function Vr(e){return"application/x-mpegurl"===e||"application/vnd.apple.mpegurl"===e}function Hr(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}kr.PluginPriority={FALLBACK:Ir,PREFERRED_SECONDARY:Mr,PREFERRED:Dr,APPLICATION:Pr},z("shaka.util.MimeUtils",Lr),Lr.getFullTypeWithAllCodecs=Nr,Lr.getFullType=Rr;var Gr=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Kr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function qr(e){this.i=null,this.j=e,this.B=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Wr(e,t){Jr.set(e,t)}function Xr(e){return Jr.get(e)}function Yr(e){return!!Jr.has(e)||("application/cea-608"==e||"application/cea-708"==e)&&!!tn}function $r(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=c(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function Qr(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=c(t.nestedCues)).next();!r.done;r=t.next())Qr(e,r.value,n)}qr.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},qr.prototype.remove=function(e,t){var n=this;return R((function(r){if(1==r.g)return S(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),x(r)}))},z("shaka.text.TextEngine",qr),qr.prototype.destroy=qr.prototype.destroy,qr.findParser=Xr,qr.unregisterParser=function(e){Jr.delete(e)},qr.registerParser=Wr;var Jr=new Map;function Zr(e,t){return e.concat(t)}function ei(){}function ti(e){return null!=e}function ni(e,t){return Promise.race([t,new Promise((function(t,n){new ze(n).da(e)}))])}function ri(){}function ii(e,t){return e=si(e),t=si(t),e.split("-")[0]==t.split("-")[0]}function ai(e,t){return e=si(e),t=si(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function oi(e,t){return e=si(e),t=si(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function si(e){var t=(e=c(e.split("-x-"))).next().value;t=void 0===t?"":t,e=void 0===(e=e.next().value)?"":e;var n=c(t.split("-"));return t=void 0===(t=n.next().value)?"":t,n=void 0===(n=n.next().value)?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=fi.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function ui(e,t){return e=si(e),(t=si(t))==e?4:ai(t,e)?3:oi(t,e)?2:ai(e,t)?1:0}function li(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),fi.get(e)||e}function ci(e){return e.language?si(e.language):e.audio&&e.audio.language?si(e.audio.language):e.video&&e.video.language?si(e.video.language):"und"}function di(e,t){e=si(e);for(var n=new Set,r=(t=c(t)).next();!r.done;r=t.next())n.add(si(r.value));for(r=(t=c(n)).next();!r.done;r=t.next())if((r=r.value)==e)return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(ai(r=r.value,e))return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(oi(r=r.value,e))return r;for(t=(n=c(n)).next();!t.done;t=n.next())if(ai(e,t=t.value))return t;return null}z("shaka.util.LanguageUtils",ri),ri.findClosestLocale=di,ri.getLocaleForVariant=ci,ri.getLocaleForText=function(e){return si(e.language||"und")},ri.getBase=li,ri.relatedness=ui,ri.areSiblings=function(e,t){var n=li(e),r=li(t);return e!=n&&t!=r&&n==r},ri.normalize=si,ri.isSiblingOf=oi,ri.isParentOf=ai,ri.areLanguageCompatible=ii,ri.areLocaleCompatible=function(e,t){return(e=si(e))==(t=si(t))};var fi=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function pi(){}function hi(e,t,n,r,i){function a(e){var t=String(e.width||"")+String(e.height||"")+String(Math.round(e.frameRate||0))+(e.hdr||"")+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),t}if(i.length){for(var o=e.textStreams,s=(i=c(i)).next(),u={};!s.done;u={sg:void 0},s=i.next())if(u.sg=s.value,(s=o.filter(function(e){return function(t){return!(!t.codecs.startsWith(e.sg)&&!t.mimeType.startsWith(e.sg))}}(u))).length){o=s;break}e.textStreams=o}if(o=e.variants,(t.length||n.length)&&(o=function(e,t,n){for(var r=(t=c(t)).next(),i={};!r.done;i={Lh:void 0},r=t.next())if(i.Lh=r.value,r=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.Lh)}}(i)),r.length){e=r;break}for(n=c(n),t=n.next(),r={};!t.done;r={Cg:void 0},t=n.next())if(r.Cg=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.Cg)}}(r)),t.length){e=t;break}return e}(o,t,n)),r.length){for(t=new Z,o=(n=c(o)).next();!o.done;o=n.next())o=o.value,t.push(String(o.video.width||0),o);var l=[];t.forEach((function(e,t){e=0;for(var n=[],i=(t=c(t)).next(),a={};!i.done;a={Pe:void 0},i=t.next())a.Pe=i.value,(i=r.filter(function(e){return function(t){return e.Pe.decodingInfos[0][t]}}(a)).length)>e?(e=i,n=[a.Pe]):i==e&&n.push(a.Pe);l.push.apply(l,d(n))})),o=l}for(n=new Set,t=new Set,i=(o=c(o)).next();!i.done;i=o.next())(i=i.value).audio&&n.add(i.audio),i.video&&t.add(i.video);o=Array.from(n).sort((function(e,t){return e.bandwidth-t.bandwidth}));var f,p,h=[];for(n=new Map,i=(o=c(o)).next();!i.done;i=o.next()){if(i=i.value,p=void 0,p=(f=i).language+(f.channelsCount||0)+(f.audioSamplingRate||0)+f.roles.join(",")+f.label+f.groupId+f.fastSwitching,f.dependencyStream&&(p+=f.dependencyStream.baseOriginalId||""),s=p,(u=n.get(s)||[]).length){var g=u[u.length-1],m=Ur(g.codecs),v=Ur(i.codecs);m!=v||i.bandwidth&&g.bandwidth&&!(i.bandwidth>g.bandwidth)||(u.push(i),h.push(i.id))}else u.push(i),h.push(i.id);n.set(s,u)}var y={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};o=Array.from(t).sort((function(e,t){if(!e.bandwidth||!t.bandwidth||e.bandwidth==t.bandwidth){if(e.codecs&&t.codecs&&e.codecs!=t.codecs&&e.width==t.width){var n=Ur(e.codecs),r=Ur(t.codecs);if(n!=r)return(y[n]||1)-(y[r]||1)}return e.width-t.width}return e.bandwidth-t.bandwidth})),t=Kt();var b=[];for(n=new Map,i=(o=c(o)).next();!i.done;i=o.next()){if(s=a(i=i.value),(u=n.get(s)||[]).length){if(g=u[u.length-1],!t&&(m=Ur(g.codecs))!==(v=Ur(i.codecs)))continue;(m=Ur(g.codecs))!=(v=Ur(i.codecs))||i.bandwidth&&g.bandwidth&&!(i.bandwidth>g.bandwidth)||(u.push(i),b.push(i.id))}else u.push(i),b.push(i.id);n.set(s,u)}e.variants=e.variants.filter((function(e){var t=e.audio;return e=e.video,!(t&&!h.includes(t.id)||e&&!b.includes(e.id))}))}function gi(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;if(i&&i.width&&i.height){var a=i.width,o=i.height;if(o>a&&(a=(o=c([o,a])).next().value,o=o.next().value),!r(a,t.minWidth,Math.min(t.maxWidth,n.width))||!r(o,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function mi(e,t,n,r){return n=void 0===n?[]:n,r=void 0===r?{}:r,R((function(i){return 1==i.g?S(i,vi(e,t,0<t.offlineSessionIds.length,n,r),2):(function(e){e.textStreams=e.textStreams.filter((function(e){return Yr(e=Rr(e.mimeType,e.codecs))}))}(t),S(i,function(e){var t,n,r,i,a,o,s;return R((function(u){switch(u.g){case 1:t=[],n=c(e.imageStreams),r=n.next();case 2:if(r.done){u.s(4);break}if(i=r.value,"application/mp4"==(a=i.mimeType)&&"mjpg"==i.codecs&&(a="image/jpg"),Bi.has(a)){u.s(5);break}if(!(o=zi.get(a))){Bi.set(a,!1),u.s(5);break}return S(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(o),7);case 7:s=u.h,Bi.set(a,s);case 5:Bi.get(a)&&t.push(i),r=n.next(),u.s(2);break;case 4:e.imageStreams=t,x(u)}}))}(t),0))}))}function vi(e,t,n,r,i){var a,o;return R((function(s){if(1==s.g)return Ke()&&function(e){for(var t=(new Map).set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set,r=(e=c(e)).next();!r.done;r=e.next())(r=r.value).video&&n.add(r.video);for(n=c(n),e=n.next();!e.done;e=n.next()){e=e.value;for(var i=(r=c(t)).next();!i.done;i=r.next()){var a=c(i.value);if(i=a.next().value,a=a.next().value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,a);break}}}}(t.variants),S(s,wi(t.variants,n,!1,r),2);a=null,e&&(o=e.h)&&(a=o.keySystem),t.variants=t.variants.filter((function(e){var t=function(e,t,n){if(!e.decodingInfos.some((function(e){return!(!e.supported||t&&(e=e.keySystemAccess)&&(n[e.keySystem]||e.keySystem)!=t)})))return!1;var r=Ke(),i=st("Firefox")&&it(),a=e.video,o=a&&a.width||0,s=a&&a.height||0;return!(r&&a&&(1920<o||1080<s)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(r=a&&a.dependencyStream)&&!Ht(r)||(e=e.audio,i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}(e,a,i);if(!t){var n=[];e.audio&&n.push(Oi(e.audio)),e.video&&n.push(Oi(e.video))}return t})),x(s)}))}function yi(e,t){var n,r,i,a,o,s,u;return R((function(l){if(1==l.g){for(n=function(e,t){if(e){var n=yn(e);return n.supported=e.supported&&t.supported,n.powerEfficient=e.powerEfficient&&t.powerEfficient,n.smooth=e.smooth&&t.smooth,t.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=t.keySystemAccess),n}return t},r=null,i=[],a=c(t),o=a.next(),s={};!o.done;s={cache:void 0,Rd:void 0},o=a.next())u=o.value,s.Rd=bn(u),s.cache=Ui,s.cache.has(s.Rd)?r=n(r,s.cache.get(s.Rd)):i.push(bi(u).then(function(e){return function(t){for(var i=null,a=(t=c(t||[])).next();!a.done;a=t.next())i=n(i,a.value);i&&(e.cache.set(e.Rd,i),r=n(r,i))}}(s)));return S(l,Promise.all(i),2)}r&&e.decodingInfos.push(r),x(l)}))}function bi(e){var t=[""];e.video&&(t=zr(e.video.contentType).split(","));var n=[""];e.audio&&(n=zr(e.audio.contentType).split(","));for(var r=[],i=(t=c(t)).next();!i.done;i=t.next()){i=i.value;for(var a=c(n),o=a.next(),s={};!o.done;s={pc:void 0},o=a.next())o=o.value,s.pc=vn(e),e.video&&(s.pc.video.contentType=Rr(Br(s.pc.video.contentType),i)),e.audio&&(s.pc.audio.contentType=Rr(Br(s.pc.audio.contentType),o)),r.push(new Promise(function(e){return function(t,n){(it()?ni(5,navigator.mediaCapabilities.decodingInfo(e.pc)):navigator.mediaCapabilities.decodingInfo(e.pc)).then((function(e){t(e)})).catch(n)}}(s)))}return Promise.all(r).catch((function(){return JSON.stringify(e),null}))}function wi(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T;return R((function(k){switch(k.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return k.return();i=c(r),a=i.next(),o={};case 2:if(a.done){k.s(4);break}o.mh=a.value,s=!1,u=c(e),l=u.next();case 5:if(l.done){k.s(7);break}d=l.value,f=Si(d,t,n).filter((A=o,function(e){return((e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)===A.mh})),p=c(f),h=p.next();case 8:if(h.done){k.s(10);break}return g=h.value,S(k,yi(d,g),9);case 9:h=p.next(),k.s(8);break;case 10:d.decodingInfos.length&&(s=!0),l=u.next(),k.s(5);break;case 7:if(s)return k.return();o={mh:void 0},a=i.next(),k.s(2);break;case 4:m=c(e),v=m.next();case 12:if(v.done){k.s(0);break}y=v.value,b=Si(y,t,n).filter((function(e){return!(e=(e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),w=c(b),x=w.next();case 15:if(x.done){v=m.next(),k.s(12);break}return T=x.value,S(k,yi(y,T),16);case 16:x=w.next(),k.s(15)}var A}))}function Si(e,t,n){var r=e.audio,i=e.video,a=[],o=[];if(i)for(var s=c(i.fullMimeTypes),u=s.next();!u.done;u=s.next()){var l=zr(u=u.value);if(l.includes(",")&&!r){var d=l.split(","),f=Br(u);l=Rt("video",d),f=_r(f,d=xi(d=Rt("audio",d),f),"audio"),o.push({contentType:f,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=Ti(l),u={contentType:_r(Br(u),l,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":u.transferFunction="srgb";break;case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}i.colorGamut&&(u.colorGamut=i.colorGamut),a.push(u)}if(r)for(u=(s=c(r.fullMimeTypes)).next();!u.done;u=s.next())u=_r(u=Br(l=u.value),l=xi(zr(l),u),"audio"),o.push({contentType:u,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=c(a)).next();!u.done;u=a.next())for(u=u.value,f=(l=c(o)).next();!f.done;f=l.next())f=f.value,d={type:n?"file":"media-source"},u&&(d.video=u),f&&(d.audio=f),s.push(d);if(!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[s];for(e=[],n=new Map,a=(o=c(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],u=(a=c(n.keys())).next();!u.done;u=a.next()){for(u=u.value,f=n.get(u),l=new Map,d=(f=c(f)).next();!d.done;d=f.next()){var p=(d=d.value).videoRobustness+","+d.audioRobustness;l.get(p)||l.set(p,[]),l.get(p).push(d)}for(f=(l=c(l.values())).next();!f.done;f=l.next()){f=f.value,d=[];for(var h=(p=c(s)).next();!h.done;h=p.next()){h=Object.assign({},h.value);for(var g={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},m=c(f),v=m.next();!v.done;v=m.next()){if((v=v.value).initData&&v.initData.length){for(var y=new Set,b=c(v.initData),w=b.next();!w.done;w=b.next())y.add(w.value.initDataType);g.initDataType=v.initData[0].initDataType}v.distinctiveIdentifierRequired&&(g.distinctiveIdentifier="required"),v.persistentStateRequired&&(g.persistentState="required"),v.sessionType&&(g.sessionTypes=[v.sessionType]),r&&(g.audio?(v.encryptionScheme&&(g.audio.encryptionScheme=g.audio.encryptionScheme||v.encryptionScheme),g.audio.robustness=g.audio.robustness||v.audioRobustness):(g.audio={robustness:v.audioRobustness},v.encryptionScheme&&(g.audio.encryptionScheme=v.encryptionScheme)),""==g.audio.robustness&&delete g.audio.robustness),i&&(g.video?(v.encryptionScheme&&(g.video.encryptionScheme=g.video.encryptionScheme||v.encryptionScheme),g.video.robustness=g.video.robustness||v.videoRobustness):(g.video={robustness:v.videoRobustness},v.encryptionScheme&&(g.video.encryptionScheme=v.encryptionScheme)),""==g.video.robustness&&delete g.video.robustness)}h.keySystemConfiguration=g,d.push(h)}e.push(d)}}return e}function xi(e,t){return"flac"==e.toLowerCase()?Je()?"fLaC":"flac":"opus"===e.toLowerCase()?Je()&&"mp4"==jr(t)?"Opus":"opus":"ac-3"==e.toLowerCase()&&We()?"ec-3":e}function Ti(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function ki(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=t?t.groupId:null,u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var d=new Set;if(t)for(var f=c(t.roles),p=f.next();!p.done;p=f.next())d.add(p.value);if(n)for(p=(f=c(n.roles)).next();!p.done;p=f.next())d.add(p.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:"",audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(d),audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,(r=n.dependencyStream)&&(e.width=r.width||e.width,e.height=r.height||e.height,e.videoCodec=r.codecs||e.videoCodec),o.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=i,n=o.split(",");try{e.videoCodec=Rt("video",n),e.audioCodec=Rt("audio",n)}catch(h){}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,t=t.dependencyStream)&&(e.audioCodec=t.codecs||e.audioCodec),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function Ai(e){return{id:e.id,active:!1,type:Ot,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function Ei(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=Gu(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function Ci(e){return e.__shaka_id||(e.__shaka_id=Fi++),e.__shaka_id}function Ii(e){var t=Di(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="unknown"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function Mi(e){var t=Di(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Di(e){var t=e.language;return{id:Ci(e),active:!1,type:"",bandwidth:0,language:si(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Pi(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function Li(e){return e.filter((function(e){return Pi(e)}))}function Ri(e,t,n,r){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=di(si(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return si(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=Ni(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(Zr,[]),e.length?Ni(i,e[0]):i}function Ni(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function _i(e,t){t.length&&(t=t.filter((function(t){return Ur(e.codecs)==Ur(t.codecs)})).sort((function(e,t){return e.bandwidth&&t.bandwidth&&e.bandwidth!=t.bandwidth?e.bandwidth-t.bandwidth:(e.width||0)-(t.width||0)})),e.trickModeVideo=t[0],1<t.length&&(t=t.find((function(t){return e.width==t.width&&e.height==t.height}))))&&(e.trickModeVideo=t)}function Oi(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function ji(e,t,n){if(0==n.autoShowText)return!1;if(1==n.autoShowText)return!0;var r=si(n.preferredTextLanguage);return t=si(t.language),2==n.autoShowText?ii(t,r):3==n.autoShowText?!!e&&(e=si(e.language),ii(t,r)&&!ii(e,t)):(Y("Invalid autoShowText setting!"),!1)}z("shaka.util.StreamUtils",pi),pi.meetsRestrictions=gi;var Ui=new Map,Fi=0,Bi=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),zi=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Vi(){var t=this;this.G=null,this.o=!1,this.m=new q,this.j=new ee,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",(function(){if(t.o&&t.g.useNetworkInformation){t.m=new q,t.g&&t.m.configure(t.g.advanced);var e=t.chooseVariant();e&&navigator.onLine&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.u=null,this.A=new ze((function(){if(t.o&&(t.g.restrictToElementSize||t.g.restrictToScreenSize)){var e=t.chooseVariant();e&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.B=e,"documentPictureInPicture"in e&&this.j.D(e.documentPictureInPicture,"enter",(function(){t.B=e.documentPictureInPicture.window,t.A&&t.A.sb(),t.j.ma(t.B,"pagehide",(function(){t.B=e,t.A&&t.A.sb()}))})),this.C=this.i=null}function Hi(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.u-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.u<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function Gi(e,t,n,r,i){if(e.C){var a=e.C.Ug();a&&(n=n.filter((function(e){return!e.bandwidth||!a||e.bandwidth<=a})))}return t&&(n=n.filter((function(e){return gi(e,t,{width:i,height:r})}))),n.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(r=Vi.prototype).stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},r.release=function(){this.j.release(),this.A=null},r.init=function(e){this.G=e},r.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var r=this.l.clientHeight,i=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(r=this.i.height,i=this.i.width),e=Math.min(e,r*n),t=Math.min(t,i*n)}if((n=this.F.filter((function(e){return e&&!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))).length||(n=this.F),r=n,n.length!=this.F.length&&(r=this.F.filter((function(e){return e&&!!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))),n=Gi(this,this.g.restrictions,r,1/0,1/0),1/0!=e||1/0!=t){for(n=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort((function(e,t){return e.width-t.width}))}(n),i=(n=c(n)).next();!i.done;i=n.next())if((i=i.value).height>=e&&i.width>=t){e=i.height,t=i.width;break}n=Gi(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=[(n=Gi(this,null,r,1/0,1/0))[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var a=isNaN(this.H)?1:Math.abs(this.H),o=a*i.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},u=r+1;u<n.length;u++)if(i.bandwidth!=n[u].bandwidth){s=n[u];break}a=a*s.bandwidth/this.g.bandwidthUpgradeTarget,e>=o&&e<=a&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.u=Date.now(),t},r.enable=function(){this.o=!0},r.disable=function(){this.o=!1},r.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&null!=this.u&&this.o&&Hi(this))},r.trySuggestStreams=function(){null!=this.u&&this.o&&Hi(this)},r.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},r.setVariants=function(e){this.F=e},r.playbackRateChanged=function(e){this.H=e},r.setMediaElement=function(t){function n(){r.A.da(Ki)}var r=this;this.l=t,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in e&&(this.h=new ResizeObserver(n),this.h.observe(this.l)),this.j.D(t,"enterpictureinpicture",(function(e){e.pictureInPictureWindow&&(r.i=e.pictureInPictureWindow,r.j.D(r.i,"resize",n))})),this.j.D(t,"leavepictureinpicture",(function(){r.i&&r.j.Ja(r.i,"resize",n),r.i=null}))},r.setCmsdManager=function(e){this.C=e},r.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)},z("shaka.abr.SimpleAbrManager",Vi),Vi.prototype.configure=Vi.prototype.configure,Vi.prototype.setCmsdManager=Vi.prototype.setCmsdManager,Vi.prototype.setMediaElement=Vi.prototype.setMediaElement,Vi.prototype.playbackRateChanged=Vi.prototype.playbackRateChanged,Vi.prototype.setVariants=Vi.prototype.setVariants,Vi.prototype.getBandwidthEstimate=Vi.prototype.getBandwidthEstimate,Vi.prototype.trySuggestStreams=Vi.prototype.trySuggestStreams,Vi.prototype.segmentDownloaded=Vi.prototype.segmentDownloaded,Vi.prototype.disable=Vi.prototype.disable,Vi.prototype.enable=Vi.prototype.enable,Vi.prototype.chooseVariant=Vi.prototype.chooseVariant,Vi.prototype.init=Vi.prototype.init,Vi.prototype.release=Vi.prototype.release,Vi.prototype.stop=Vi.prototype.stop;var Ki=1;function qi(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function Wi(e){var t,n;return R((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Le(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),S(r,new Promise((function(e){new ze(e).da(n/1e3)})),2))}e.h*=e.m,x(r)}))}function Xi(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Yi(e,t){this.promise=e,this.i=t,this.g=null}function $i(e){return new Yi(Promise.reject(e),(function(){return Promise.resolve()}))}function Qi(){var e=Promise.reject(new Le(2,7,7001));return e.catch((function(){})),new Yi(e,(function(){return Promise.resolve()}))}function Ji(e){return new Yi(Promise.resolve(e),(function(){return Promise.resolve()}))}function Zi(e){return new Yi(e,(function(){return e.catch((function(){}))}))}function ea(e){return new Yi(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function ta(t,n){if(n)if(n instanceof Map)for(var r=c(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function na(e){var t,n=new ta(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}z("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"}),Xi.prototype.resolve=function(){},Xi.prototype.reject=function(){},Yi.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},Yi.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Yi.prototype.Ha=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new Xi;a.catch((function(){}));var o=new Le(2,7,7001);return this.promise.then(n(!0),n(!1)),new Yi(a,(function(){return r()}))},s.Object.defineProperties(Yi.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),z("shaka.util.AbortableOperation",Yi),Yi.prototype.chain=Yi.prototype.Ha,Yi.prototype.finally=Yi.prototype.finally,Yi.all=ea,Yi.prototype.abort=Yi.prototype.abort,Yi.notAbortable=Zi,Yi.completed=Ji,Yi.aborted=Qi,Yi.failed=$i,ta.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ta.prototype.stopImmediatePropagation=function(){this.g=!0},ta.prototype.stopPropagation=function(){},z("shaka.util.FakeEvent",ta);var ra={Oj:"abrstatuschanged",Pj:"adaptation",Qj:"audiotrackchanged",Rj:"audiotrackschanged",Sj:"boundarycrossed",Tj:"buffering",Uj:"complete",Vj:"downloadcompleted",Wj:"downloadfailed",Xj:"downloadheadersreceived",Yj:"drmsessionupdate",$j:"emsg",uk:"prft",Error:"error",ak:"expirationupdated",bk:"firstquartile",ck:"gapjumped",fk:"keystatuschanged",jk:"loaded",kk:"loading",mk:"manifestparsed",nk:"manifestupdated",pk:"mediaqualitychanged",qk:"mediasourcerecovered",Metadata:"metadata",rk:"midpoint",sk:"nospatialvideoinfo",tk:"onstatechange",vk:"ratechange",xk:"segmentappended",yk:"sessiondata",zk:"spatialvideoinfo",Ak:"stalldetected",Bk:"started",Ck:"statechanged",Dk:"streaming",Ek:"textchanged",Fk:"texttrackvisibility",Gk:"thirdquartile",Hk:"timelineregionadded",Ik:"timelineregionenter",Jk:"timelineregionexit",Kk:"trackschanged",Mk:"unloading",Ok:"variantchanged"};function ia(){this.Ea=new Z,this.Ge=this}function aa(){this.g=[]}function oa(e,t){e.g.push(t.finally((function(){sn(e.g,t)})))}function sa(e,t,n,r,i,a,o){ia.call(this),this.i=!1,this.u=new aa,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=r||null,this.G=i||null,this.I=a||null,this.H=o||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}function ua(e,t,n,r){r=void 0!==r&&r,n=n||ma;var i=va.get(e);(!i||n>=i.priority)&&va.set(e,{priority:n,se:t,ij:r})}function la(e,t){for(var n=c(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(n=(e=c(e.h)).next();!n.done;n=e.next())t.h.add(n.value)}function ca(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function da(e,t,n,r,i,a,o,s){e.B&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.A&&(n.uris[a]=n.uris[a].replace("http://","https://")),0<a&&e.I&&e.I(t,r,n.uris[a],n.uris[a-1]);var u=new le(n.uris[a]),l=u.Kb,c=!1;l||(ce(u,l=(l=location.protocol).slice(0,-1)),n.uris[a]=u.toString()),l=l.toLowerCase();var d=(l=va.get(l))?l.se:null;if(!d)return $i(new Le(2,1,1e3,u));var f=l.ij;(u=e.j.get(u.nb))&&(n.headers["common-access-token"]=u);var p,h=null,g=null,m=!1,v=!1;return Zi(Wi(i)).Ha((function(){if(e.i)return Qi();p=Date.now();var i=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,t,(function(a,o,u){h&&h.stop(),g&&g.da(l/1e3),e.m&&t==ga&&(i++,n.packetNumber=i,e.m(a,o,fa(r),n),c=!0,s.g=u)}),(function(r){v=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(r,n,t)}),{minBytesForProgressEvents:e.o});if(!f)return o;var u=n.retryParameters.connectionTimeout;u&&(h=new ze((function(){m=!0,o.abort()}))).da(u/1e3);var l=n.retryParameters.stallTimeout;return l&&(g=new ze((function(){m=!0,o.abort()}))),o})).Ha((function(r){h&&h.stop(),g&&g.stop(),null==r.timeMs&&(r.timeMs=Date.now()-p);var i=r.headers["common-access-token"];if(i){var a=new le(r.uri);e.j.set(a.nb,i)}return i={response:r,Oi:c},!v&&e.l&&e.l(r.headers,n,t),e.C&&e.C(n,r),i}),(function(u){if(h&&h.stop(),g&&g.stop(),e.F){var l=null,c=0;u instanceof Le&&(l=u,1001==u.code&&(c=u.data[1])),e.F(n,l,c,m)}if(e.i)return Qi();if(m&&(u=new Le(1,1,1003,n.uris[a],t)),u instanceof Le){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity){if((l=new ta("retry",l=(new Map).set("error",u))).cancelable=!0,e.dispatchEvent(l),l.defaultPrevented)throw u;return a=(a+1)%n.uris.length,da(e,t,n,r,i,a,u,s)}}throw u}))}function fa(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}function pa(){this.g=0}function ha(e,t,n){Yi.call(this,e,t),this.h=n}ia.prototype.addEventListener=function(e,t){this.Ea&&this.Ea.push(e,t)},ia.prototype.removeEventListener=function(e,t){this.Ea&&this.Ea.remove(e,t)},ia.prototype.dispatchEvent=function(e){if(!this.Ea)return!0;var t=this.Ea.get(e.type)||[],n=this.Ea.get("All");for(n&&(t=t.concat(n)),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Ge,e.currentTarget=this.Ge;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(r){}if(e.g)break}return e.defaultPrevented},ia.prototype.release=function(){this.Ea=null},aa.prototype.destroy=function(){for(var e=[],t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},v(sa,ia),(r=sa.prototype).kg=function(e){this.B=e},r.lg=function(e){this.A=e},r.lj=function(e){this.g.add(e)},r.Hj=function(e){this.g.delete(e)},r.$h=function(){this.g.clear()},r.mj=function(e){this.h.add(e)},r.Ij=function(e){this.h.delete(e)},r.ai=function(){this.h.clear()},r.Hg=function(){this.j.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),ia.prototype.release.call(this),this.u.destroy()},r.request=function(e,t,n){var r=this,i=new pa;if(this.i){var a=Promise.reject(new Le(2,7,7001));return a.catch((function(){})),new ha(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?vn(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=vn(t.uris),a=function(e,t,n,r){function i(e){a=a.Ha((function(){return n.body&&(n.body=Ce(n.body)),e(t,n,r)}))}var a=Ji(void 0);e.G&&i(e.G);for(var o=(e=c(e.g)).next();!o.done;o=e.next())i(o.value);return a.Ha(void 0,(function(e){if(e instanceof Le&&7001==e.code)throw e;throw new Le(2,1,1006,e)}))}(this,e,t,n);var o=a.Ha((function(){return da(r,e,t,n,new qi(t.retryParameters,!1),0,null,i)})),s=o.Ha((function(t){return function(e,t,n,r){for(var i=Ji(void 0),a=(e=c(e.h)).next(),o={};!a.done;o={ph:void 0},a=e.next())o.ph=a.value,i=i.Ha(function(e){return function(){var i=n.response;return i.data&&(i.data=Ce(i.data)),(0,e.ph)(t,i,r)}}(o));return i.Ha((function(){return n}),(function(e){var t=2;if(e instanceof Le){if(7001==e.code)throw e;t=e.severity}throw new Le(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),l=0;a.promise.then((function(){l=Date.now()-u}),(function(){}));var d=0;o.promise.then((function(){d=Date.now()}),(function(){}));var f=s.Ha((function(i){var a=Date.now()-d,o=i.response;return o.timeMs+=l,o.timeMs+=a,i.Oi||!r.m||o.fromCache||"HEAD"==t.method||e!=ga||r.m(o.timeMs,o.data.byteLength,fa(n)),r.H&&r.H(e,o,n),o}),(function(e){throw e&&(e.severity=2),e}));return a=new ha(f.promise,(function(){return f.abort()}),i),oa(this.u,a),a},z("shaka.net.NetworkingEngine",sa),sa.prototype.request=sa.prototype.request,sa.prototype.destroy=sa.prototype.destroy,sa.makeRequest=ca,sa.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},sa.prototype.clearCommonAccessTokenMap=sa.prototype.Hg,sa.prototype.clearAllResponseFilters=sa.prototype.ai,sa.prototype.unregisterResponseFilter=sa.prototype.Ij,sa.prototype.registerResponseFilter=sa.prototype.mj,sa.prototype.clearAllRequestFilters=sa.prototype.$h,sa.prototype.unregisterRequestFilter=sa.prototype.Hj,sa.prototype.registerRequestFilter=sa.prototype.lj,sa.unregisterScheme=function(e){va.delete(e)},sa.registerScheme=ua,sa.prototype.setForceHTTPS=sa.prototype.lg,sa.prototype.setForceHTTP=sa.prototype.kg,sa.NumBytesRemainingClass=pa,v(ha,Yi),sa.PendingRequest=ha;var ga=1;sa.RequestType={MANIFEST:0,SEGMENT:ga,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},sa.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var ma=3;sa.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:ma};var va=new Map;function ya(e){this.g=!1,this.h=new Xi,this.i=e}function ba(e,t){if(e.g){if(t instanceof Le&&7003==t.code)throw t;throw new Le(2,7,7003,t)}}function wa(e,t){for(var n=[],r=(e=c(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}function Sa(e){for(var t=new Map,n=c(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function xa(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Ta(e,t){this.h=De(e),this.i=t==Aa,this.g=0}function ka(){return new Le(2,3,3e3)}ya.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(r=Ta.prototype).ta=function(){return this.g<this.h.byteLength},r.Ba=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.X=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(t){throw ka()}},r.na=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(t){throw ka()}},r.S=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(t){throw ka()}},r.$f=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(t){throw ka()}},r.bd=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(n){throw ka()}if(2097151<t)throw new Le(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},r.Cb=function(e){if(this.g+e>this.h.byteLength)throw ka();var t=Ie(this.h,this.g,e);return this.g+=e,t},r.skip=function(e){if(this.g+e>this.h.byteLength)throw ka();this.g+=e},r.qh=function(e){if(this.g<e)throw ka();this.g-=e},r.seek=function(e){if(0>e||e>this.h.byteLength)throw ka();this.g=e},r.Cc=function(){for(var e=this.g;this.ta()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=Ie(this.h,e,this.g-e),this.g+=1,gt(e)},z("shaka.util.DataViewReader",Ta),Ta.prototype.readTerminatedString=Ta.prototype.Cc,Ta.prototype.seek=Ta.prototype.seek,Ta.prototype.rewind=Ta.prototype.qh,Ta.prototype.skip=Ta.prototype.skip,Ta.prototype.readBytes=Ta.prototype.Cb,Ta.prototype.readUint64=Ta.prototype.bd,Ta.prototype.readInt32=Ta.prototype.$f,Ta.prototype.readUint32=Ta.prototype.S,Ta.prototype.readUint16=Ta.prototype.na,Ta.prototype.readUint8=Ta.prototype.X,Ta.prototype.getLength=Ta.prototype.getLength,Ta.prototype.getPosition=Ta.prototype.Ba,Ta.prototype.hasMoreData=Ta.prototype.ta;var Aa=1;function Ea(){this.i=new Map,this.h=new Map,this.g=!1}function Ca(e){for(var t=Na(e);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Ia(e){for(var t=Na(e),n=e.reader.S(),r=0;r<n&&(e.parser.Yc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Ma(e){var t=Na(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Da(e){var t=Na(e);e.reader.skip(8);var n=e.reader.na();for(e.reader.skip(6),2==n?e.reader.skip(48):e.reader.skip(12),1==n&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Pa(e){return function(t){e(t.reader.Cb(t.reader.getLength()-t.reader.Ba()))}}function La(e){for(var t=0,n=(e=c(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ra(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Na(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}Ta.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Aa},(r=Ea.prototype).box=function(e,t){return e=La(e),this.i.set(e,_a),this.h.set(e,t),this},r.R=function(e,t){return e=La(e),this.i.set(e,Oa),this.h.set(e,t),this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new Ta(e,0),this.g=!1;e.ta()&&!this.g;)this.Yc(0,e,t,n)},r.Yc=function(e,t,n,r){var i=t.Ba();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.S(),o=t.S(),s=Ra(o),u=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.Ba()+8>t.getLength())return void(this.g=!0);a=t.bd(),u=!0}var l=this.h.get(o);if(l){var c=null,d=null;if(this.i.get(o)==Oa){if(r&&t.Ba()+4>t.getLength())return void(this.g=!0);c=(d=t.S())>>>24,d&=16777215}o=i+a,n&&o>t.getLength()&&(o=t.getLength()),r&&o>t.getLength()?this.g=!0:(r=o-t.Ba(),l({name:s,parser:this,partialOkay:n||!1,version:c,flags:d,reader:t=new Ta(t=0<r?t.Cb(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:u}))}else t.skip(Math.min(i+a-t.Ba(),t.getLength()-t.Ba()))}},z("shaka.util.Mp4Parser",Ea),Ea.headerSize=Na,Ea.typeToString=Ra,Ea.allData=Pa,Ea.audioSampleEntry=Da,Ea.visualSampleEntry=Ma,Ea.sampleDescription=Ia,Ea.children=Ca,Ea.prototype.parseNext=Ea.prototype.Yc,Ea.prototype.parse=Ea.prototype.parse,Ea.prototype.stop=Ea.prototype.stop,Ea.prototype.fullBox=Ea.prototype.R,Ea.prototype.box=Ea.prototype.box;var _a=0,Oa=1;function ja(e){var t=this;this.g=[],this.h=[],this.data=[],(new Ea).box("moov",Ca).box("moof",Ca).R("pssh",(function(e){if(!(1<e.version)){var n=Ie(e.reader.h,-12,e.size);if(t.data.push(n),t.g.push(It(e.reader.Cb(16))),0<e.version){n=e.reader.S();for(var r=0;r<n;r++){var i=It(e.reader.Cb(16));t.h.push(i)}}}})).parse(e)}function Ua(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=De(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=c(n)).next();!n.done;n=t.next())n=Ct(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(e,u+4),o}function Fa(e){var t=this;this.C=e,this.j=this.A=null,this.ka=this.ea=!1,this.H=0,this.h=null,this.o=new ee,this.i=new Map,this.T=[],this.B=new Map,this.K=!1,this.m=new Xi,this.g=null,this.u=function(n){2==n.severity&&t.m.reject(n),e.onError(n)},this.Y=new Map,this.fa=new Map,this.L=new ze((function(){return function(e){var t=e.Y,n=e.fa;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.u(new Le(2,6,6014)),e.C.pe(xa(n))}(t)})),this.O=!1,this.M=[],this.W=!1,this.I=new ze((function(){!function(e){e.i.forEach((function(t,n){var r=t.Vf,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Vf=i)}))}(t)})),this.m.catch((function(){})),this.l=new ya((function(){return function(e){return R((function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,S(t,Za(e),2);case 2:if(!e.j){t.s(3);break}return T(t,4),S(t,e.j.setMediaKeys(null),6);case 6:A(t,5);break;case 4:E(t);case 5:e.j=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.u=function(){},e.C=null,e.Z=!1,e.G=null,x(t)}}))}(t)})),this.Z=!1,this.F=this.G=null,this.P=function(){return!1}}function Ba(e,t,n,r){r=void 0===r||r,e.B=new Map;for(var i=(n=c(n)).next();!i.done;i=n.next())e.B.set(i.value,{initData:null,initDataType:null});for(i=(n=c(e.g.persistentSessionsMetadata)).next();!i.done;i=n.next())i=i.value,e.B.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.O=0<e.B.size,za(e,t,r)}function za(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w;return R((function(x){if(1==x.g){for(io(e.g.clearKeys,t),!(r=t.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))&&n&&(i=Sa(e.g.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),e=c(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(t,i)),a=new Set,o=c(t),s=o.next();!s.done;s=o.next())for(u=s.value,l=eo(u),d=c(l),f=d.next();!f.done;f=d.next())p=f.value,a.add(p);for(h=c(a),g=h.next();!g.done;g=h.next())ro(g.value,Sa(e.g.servers),Sa(e.g.advanced||{}),e.g.keySystemsMapping);for(m=function(t,n){for(var r=[],i=(t=c(t)).next();!i.done;i=t.next()){var a,o=(i=i.value)[n]||e.g.advanced&&e.g.advanced[i.keySystem]&&e.g.advanced[i.keySystem][n]||"";if((a=""==o)&&(a=!!(a=i.keySystem)&&!!a.match(/^com\.widevine\.alpha/)),a&&("audioRobustness"==n?o=[e.g.defaultAudioRobustnessForWidevine]:"videoRobustness"==n&&(o=[e.g.defaultVideoRobustnessForWidevine])),"string"==typeof o)r.push(i);else if(Array.isArray(o))for(0===o.length&&(o=[""]),a=(o=c(o)).next();!a.done;a=o.next()){var s={};r.push(Object.assign({},i,(s[n]=a.value,s)))}}return r},v=c(t),y=v.next();!y.done;y=v.next())(b=y.value).video&&(b.video.drmInfos=m(b.video.drmInfos,"videoRobustness"),b.video.drmInfos=m(b.video.drmInfos,"audioRobustness")),b.audio&&(b.audio.drmInfos=m(b.audio.drmInfos,"videoRobustness"),b.audio.drmInfos=m(b.audio.drmInfos,"audioRobustness"));return S(x,wi(t,e.O,e.Z,e.g.preferredKeySystems),2)}return ba(e.l),r||Object.keys(e.g.servers).length?(w=qa(e,void 0,t),x.return(r?w:w.catch((function(){})))):(e.ea=!0,x.return(Promise.resolve()))}))}function Va(e){var t;return R((function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.G){n.s(2);break}return S(n,e.G,3);case 3:return ba(e.l),n.return();case 2:return T(n,4),e.G=e.j.setMediaKeys(e.A),S(n,e.G,6);case 6:A(n,5);break;case 4:t=E(n),e.u(new Le(2,6,6003,t.message));case 5:ba(e.l),x(n)}}))}function Ha(e){var t,n,r,i;return R((function(a){if(1==a.g)return e.B.size?(e.B.forEach((function(t,n){Ya(e,n,t)})),S(a,e.m,3)):a.s(2);if(2!=a.g){if(0<(e.h&&e.h.keyIds||new Set([])).size&&function(e){for(var t=c(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.Y.get(n.value))return!1;return!0}(e))return a.return(e.m);e.K=!1,e.m=new Xi,e.m.catch((function(){}))}for(t=(e.h?e.h.initData:[])||[],n=c(t),r=n.next();!r.done;r=n.next())i=r.value,Ga(e,i.initDataType,i.initData);return to(e)&&e.m.resolve(),a.return(e.m)}))}function Ga(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){for(var r=e.i.values(),i=(r=c(r)).next();!i.done;i=r.next())if(Ee(n,i.value.initData))return;var a=!1;if(e.B.forEach((function(e){!a&&Ee(n,e.initData)&&(a=!0)})),a)return}e.K=!0,0<e.i.size&&to(e)&&(e.m.resolve(),e.K=!1,e.m=new Xi,e.m.catch((function(){}))),function(e,t,n,r){try{var i=e.A.createSession(r)}catch(a){return void e.u(new Le(2,6,6005,a.message))}e.o.D(i,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):$a(e,t)})),e.o.D(i,"keystatuseschange",(function(t){return Qa(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Vf:1/0,ub:null,type:r});try{n=e.g.initDataTransform(n,t,e.h)}catch(a){return t=a,a instanceof Le||(t=new Le(2,6,6016,a)),void e.u(t)}e.g.logLicenseExchange&&At(n),i.generateRequest(t,n).catch((function(t){if(!e.l.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.u(new Le(2,6,6006,t.message,t,r))}}))}(e,t,n,e.h.sessionType)}}function Ka(e){return e=wa(e=e.i.keys(),(function(e){return e.sessionId})),Array.from(e)}function qa(e,t,n){var r,i,a,o,s,u,l;return R((function(d){switch(d.g){case 1:if(r=new Map,n.length){i=function(e,t,n){for(var r=c(t),i=r.next();!i.done;i=r.next())for(var a=(i=c(eo(i.value))).next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new Le(2,6,6e3);(r=e.g.preferredKeySystems).length||1==(i=Sa(e.g.servers)).size&&(r=Array.from(i.keys()));var o=(i=c(r)).next();for(a={};!o.done;a={nh:void 0},o=i.next()){a.nh=o.value;for(var s=(o=c(t)).next();!s.done;s=o.next())if(s=s.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.nh}}(a)))return s.keySystemAccess}for(i=c([!0,!1]),a=i.next();!a.done;a=i.next())for(a=a.value,o=c(t),s=o.next();!s.done;s=o.next())for(var u=(s=c(s.value.decodingInfos)).next();!u.done;u=s.next())if((u=u.value).supported&&u.keySystemAccess){var l=u.keySystemAccess.keySystem;if(!r.includes(l)){var d=n.get(l);for(!d&&e.g.keySystemsMapping[l]&&(d=n.get(e.g.keySystemsMapping[l])),d=(l=c(d)).next();!d.done;d=l.next())if(!!d.value.licenseServerUri==a)return u.keySystemAccess}}return null}(e,n,r),d.s(2);break}return S(d,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y;return R((function(b){switch(b.g){case 1:if(1==t.size&&t.has(""))throw new Le(2,6,6e3);for(r=c(t.values()),i=r.next();!i.done;i=r.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;o=c(e.g.preferredKeySystems),s=o.next();case 2:if(s.done){b.s(4);break}if(u=s.value,!t.has(u)){b.s(3);break}return l=t.get(u),T(b,6),S(b,navigator.requestMediaKeySystemAccess(u,[l]),8);case 8:return n=b.h,b.return(n);case 6:E(b);case 7:ba(e.l);case 3:s=o.next(),b.s(2);break;case 4:d=c([!0,!1]),f=d.next();case 9:if(f.done){b.s(11);break}p=f.value,h=c(t.keys()),g=h.next();case 12:if(g.done){f=d.next(),b.s(9);break}if(m=g.value,v=t.get(m),y=v.drmInfos.some((function(e){return!!e.licenseServerUri})),y!=p){b.s(13);break}return T(b,15),S(b,navigator.requestMediaKeySystemAccess(m,[v]),17);case 17:return n=b.h,b.return(n);case 15:E(b);case 16:ba(e.l);case 13:g=h.next(),b.s(12);break;case 11:return b.return(n)}}))}(e,t),3);case 3:i=d.h;case 2:if(!(a=i)){if(!navigator.requestMediaKeySystemAccess)throw new Le(2,6,6020);throw new Le(2,6,6001)}if(ba(e.l),T(d,4),a.getConfiguration(),o=e.g.keySystemsMapping[a.keySystem]||a.keySystem,n.length){var f=o,p=r.get(o),h=[],g=[],m=[],v=[],y=[],b=new Set,w=new Set;no(p,h,g,v,m,y,b,w);var x=e.O?"persistent-license":"temporary";for(f={keySystem:f,encryptionScheme:h[0],licenseServerUri:g[0],distinctiveIdentifierRequired:p[0].distinctiveIdentifierRequired,persistentStateRequired:p[0].persistentStateRequired,sessionType:p[0].sessionType||x,audioRobustness:p[0].audioRobustness||"",videoRobustness:p[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:m[0],initData:y,keyIds:b},0<w.size&&(f.keySystemUris=w),w=(p=c(p)).next();!w.done;w=p.next())(w=w.value).distinctiveIdentifierRequired&&(f.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(f.persistentStateRequired=w.persistentStateRequired);p=f}else p=o,w=t.get(o),f=[],h=[],g=[],m=[],v=[],y=new Set,no(w.drmInfos,f,h,m,g,v,y),p={keySystem:p,encryptionScheme:f[0],licenseServerUri:h[0],distinctiveIdentifierRequired:"required"==w.distinctiveIdentifier,persistentStateRequired:"required"==w.persistentState,sessionType:w.sessionTypes[0]||"temporary",audioRobustness:(w.audioCapabilities?w.audioCapabilities[0].robustness:"")||"",videoRobustness:(w.videoCapabilities?w.videoCapabilities[0].robustness:"")||"",serverCertificate:m[0],serverCertificateUri:g[0],initData:v,keyIds:y};if(e.h=p,!e.h.licenseServerUri)throw new Le(2,6,6012,e.h.keySystem);return S(d,a.createMediaKeys(),6);case 6:if(s=d.h,ba(e.l),e.A=s,""==e.g.minHdcpVersion||!("getStatusForPolicy"in e.A)){d.s(7);break}return T(d,8),S(d,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if("usable"!=d.h)throw new Le(2,6,6018);ba(e.l),A(d,7,4);break;case 8:if((u=E(d,4))instanceof Le)throw u;throw new Le(2,6,6019,u.message);case 7:return e.ea=!0,S(d,function(e){var t,n;return R((function(r){switch(r.g){case 1:if(!e.A||!e.h)return r.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){r.s(2);break}return t=ca([e.h.serverCertificateUri],e.g.retryParameters),T(r,3),S(r,e.C.Xb.request(5,t,{isPreload:e.P()}).promise,5);case 5:n=r.h,e.h.serverCertificate=Ie(n.data),A(r,4);break;case 3:throw new Le(2,6,6017,E(r));case 4:if(e.l.g)return r.return();case 2:return e.h.serverCertificate&&e.h.serverCertificate.length?(T(r,6),S(r,e.A.setServerCertificate(e.h.serverCertificate),8)):r.return();case 8:A(r,0);break;case 6:throw new Le(2,6,6004,E(r).message)}}))}(e),11);case 11:ba(e.l),A(d,0);break;case 4:if(l=E(d),ba(e.l,l),e.h=null,l instanceof Le)throw l;throw new Le(2,6,6002,l.message)}}))}function Wa(e){to(e)&&e.m.resolve()}function Xa(e,t){new ze((function(){t.loaded=!0,Wa(e)})).da(oo)}function Ya(e,t,n){var r,i,a,o,s,u,l;return R((function(c){switch(c.g){case 1:try{r=e.A.createSession("persistent-license")}catch(d){return i=new Le(2,6,6005,d.message),e.u(i),c.return(Promise.reject(i))}return e.o.D(r,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):$a(e,t)})),e.o.D(r,"keystatuseschange",(function(t){return Qa(e,t)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Vf:1/0,ub:null,type:"persistent-license"},e.i.set(r,a),T(c,2),S(c,r.load(t),4);case 4:return o=c.h,ba(e.l),o||(e.i.delete(r),s=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Le(s,6,6013)),a.loaded=!0),Xa(e,a),Wa(e),c.return(r);case 2:u=E(c),ba(e.l,u),e.i.delete(r),l=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Le(l,6,6005,u.message)),a.loaded=!0,Wa(e);case 3:return c.return(Promise.resolve())}}))}function $a(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m;R((function(v){switch(v.g){case 1:if(n=t.target,e.g.logLicenseExchange&&At(t.message),r=e.i.get(n),i=e.h.licenseServerUri,a=e.g.advanced[e.h.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=ca([i],e.g.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.h,r&&(o.initData=r.initData,o.initDataType=r.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if("org.w3.clearkey"===e.h.keySystem){var y=o,b=e.h;try{var w=vt(y.body);if(w){var k=JSON.parse(w);k.type||(k.type=b.sessionType,y.body=yt(JSON.stringify(k)))}}catch(C){}}if(Oe(e.h.keySystem))if((y=mt(o.body,!0,!0)).includes("PlayReadyKeyMessage")){for(w=(b=c(b=In(y=Sn(y,"PlayReadyKeyMessage"),"HttpHeader"))).next();!w.done;w=b.next())w=In(k=w.value,"name")[0],k=In(k,"value")[0],o.headers[En(w)]=En(k);y=In(y,"Challenge")[0],o.body=Et(En(y))}else o.headers["Content-Type"]="text/xml; charset=utf-8";return u=Date.now(),T(v,2),d=e.C.Xb.request(2,o,{isPreload:e.P()}),e.T.push(d),S(v,d.promise,4);case 4:l=v.h,sn(e.T,d),A(v,3);break;case 2:return f=E(v),e.l.g||(p=new Le(2,6,6007,f),1==e.i.size?(e.u(p),r&&r.ub&&r.ub.reject(p)):(r&&r.ub&&r.ub.reject(p),e.i.delete(n),to(e)&&(e.m.resolve(),e.L.da(.1)))),v.return();case 3:return e.l.g?v.return():(e.H+=(Date.now()-u)/1e3,e.g.logLicenseExchange&&At(l.data),T(v,5),S(v,n.update(l.data),7));case 7:A(v,6);break;case 5:return h=E(v),g=new Le(2,6,6008,h.message),e.u(g),r&&r.ub&&r.ub.reject(g),v.return();case 6:if(e.l.g)return v.return();m=new ta("drmsessionupdate"),e.C.onEvent(m),r&&(r.ub&&r.ub.resolve(),Xa(e,r)),x(v)}}))}function Qa(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(Oe(e.h.keySystem)&&16==i.byteLength&&(Ge()||et())){var o=(a=De(i)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=It(i).slice(0,32),e.Y.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.ub&&(e.i.delete(t),Ja(t)),to(e)&&(e.m.resolve(),e.L.da(so))}function Ja(e){return R((function(t){return 1==t.g?(T(t,2),S(t,ni(ao,Promise.all([e.close().catch((function(){})),e.closed])),4)):2!=t.g?A(t,0):(E(t),void x(t))}))}function Za(e){var t;return R((function(n){return t=Array.from(e.i.entries()),e.i.clear(),S(n,Promise.all(t.map((function(t){var n=(t=c(t)).next().value,r=t.next().value;return R((function(t){return 1==t.g?(T(t,2),e.ka||e.B.has(n.sessionId)||"persistent-license"!==r.type||e.g.persistentSessionOnlinePlayback?S(t,Ja(n),5):S(t,n.remove(),5)):2!=t.g?A(t,0):(E(t),void x(t))}))}))),0)}))}function eo(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function to(e){return function(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function no(t,n,r,i,a,o,s,u){for(var l=[],f=(t=c(t)).next(),p={};!f.done;p={va:void 0},f=t.next()){if(p.va=f.value,n.includes(p.va.encryptionScheme)||n.push(p.va.encryptionScheme),"org.w3.clearkey"==p.va.keySystem&&p.va.licenseServerUri.startsWith("data:application/json;base64,")?l.includes(p.va.licenseServerUri)||l.push(p.va.licenseServerUri):r.includes(p.va.licenseServerUri)||r.push(p.va.licenseServerUri),a.includes(p.va.serverCertificateUri)||a.push(p.va.serverCertificateUri),p.va.serverCertificate&&(i.some(function(e){return function(t){return Ee(t,e.va.serverCertificate)}}(p))||i.push(p.va.serverCertificate)),p.va.initData)for(var h=(f=c(p.va.initData)).next(),g={};!h.done;g={Mf:void 0},h=f.next())g.Mf=h.value,o.some(function(e){return function(t){var n=e.Mf;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ee(t.initData,n.initData)}}(g))||o.push(g.Mf);if(p.va.keyIds)for(h=(f=c(p.va.keyIds)).next();!h.done;h=f.next())s.add(h.value);if(p.va.keySystemUris&&u)for(f=(p=c(p.va.keySystemUris)).next();!f.done;f=p.next())u.add(f.value)}if(1==l.length)r.push(l[0]);else if(0<l.length){for(n=[],i=(l=c(l)).next();!i.done;i=l.next())i=e.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),n.push.apply(n,d(i.keys));l=JSON.stringify({keys:n}),r.push("data:application/json;base64,"+e.btoa(l))}}function ro(t,n,r,i){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&n.get(a)&&(n=n.get(a),t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}function io(e,t){if(0!=(e=Sa(e)).size){e=Lt(e);for(var n=(t=c(t)).next();!n.done;n=t.next())(n=n.value).video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}(r=Fa.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.ua(this.g.updateExpirationTime)},r.Lb=function(e){var t=this;return R((function(n){if(1==n.g)return t.j===e?n.return():t.A?(t.j=e,t.o.ma(t.j,"play",(function(){for(var e=c(t.M),n=e.next();!n.done;n=e.next())$a(t,n.value);t.W=!0,t.M=[]})),t.j.remote?(t.o.D(t.j.remote,"connect",(function(){return Za(t)})),t.o.D(t.j.remote,"connecting",(function(){return Za(t)})),t.o.D(t.j.remote,"disconnect",(function(){return Za(t)}))):"webkitCurrentPlaybackTargetIsWireless"in t.j&&t.o.D(t.j,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Za(t)})),t.F=t.h&&t.h.initData.find((function(e){return 0<e.initData.length}))||null,t.F||"com.apple.fps"!==t.h.keySystem||t.B.size?S(n,Va(t),2):n.s(2)):(t.o.ma(e,"encrypted",(function(){t.u(new Le(2,6,6010))})),n.return());Ha(t).catch((function(){})),t.F||t.B.size||t.g.parseInbandPsshEnabled||t.o.D(t.j,"encrypted",(function(e){return function(e,t){return R((function(n){if(1==n.g)return S(n,Va(e),2);Ga(e,t.initDataType,Ie(t.initData)),x(n)}))}(t,e)})),x(n)}))},r.Gf=function(){var e=this,t=this.i.keys();return t=wa(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},r.pd=function(){for(var e=1/0,t=this.i.keys(),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.Yd=function(){return xa(this.fa)};var ao=1,oo=5,so=.5;function uo(e,t,n){for(n=void 0===n||n,this.h=e,this.g=new Set([e]),t=(e=c(t=t||[])).next();!t.done;t=e.next())this.add(t.value,n)}function lo(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return Fr(e)})),t=t.codecs.split(",").map((function(e){return Fr(e)})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function co(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function fo(){}function po(){this.g=go,this.i=(new Map).set(go,2).set(ho,1),this.h=0}uo.prototype.add=function(e,t){var n,r=this.h;if(t=void 0===t||t,!(n=!!r.audio!=!!e.audio||!!r.video!=!!e.video||r.language!=e.language)&&(n=r.audio&&e.audio)){n=r.audio;var i=e.audio;n=!(!((!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)&&n.channelsCount!=i.channelsCount||n.spatialAudio!==i.spatialAudio||t&&!lo(n,i))&&co(n.roles,i.roles)&&n.groupId===i.groupId)}return!n&&(n=r.video&&e.video)&&(r=r.video,n=e.video,n=!((!t||lo(r,n))&&co(r.roles,n.roles))),!n&&(this.g.add(e),!0)},uo.prototype.values=function(){return this.g.values()},z("shaka.media.AdaptationSet",uo),z("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"}),fo.prototype.create=function(){},fo.prototype.configure=function(){},z("shaka.media.AdaptationSetCriteria",fo);var ho=0,go=1;
/*
      		 @license
      		 Shaka Player
      		 Copyright 2023 Google LLC
      		 SPDX-License-Identifier: Apache-2.0
      		*/function mo(e,t,n){this.g=e,this.i=t,this.h=n}function vo(e,t){return R((function(n){if(1==n.g)return S(n,mi(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||hi(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(Pi))throw new Le(2,4,4032);return n.return(bo(e,t))}))}function yo(e,t){var n=e.g.restrictions;e=e.i;for(var r=!1,i=(t=c(t.variants)).next();!i.done;i=t.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=gi(i,n,e),a!=i.allowedByApplication&&(r=!0)}return r}function bo(e,t){var n=yo(e,t);if(t){var r=e.h?e.h.h:null;if(r&&e.h.A)for(var i=c(t.variants),a=i.next();!a.done;a=i.next())a=a.value,wo(e,r.keySystem,a.video),wo(e,r.keySystem,a.audio);So(e,t)}return n}function wo(e,t,n){if(n)for(var r=(n=c(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=c(r.initData||[])).next();!i.done;i=r.next())i=i.value,Ga(e.h,i.initDataType,i.initData)}function So(e,t){e=e.h?e.h.Yd():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=(t=c(t.variants)).next();!s.done;s=t.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var l=(u=c(u)).next();!l.done;l=u.next())if((l=l.value).keyIds.size)for(var d=(l=c(l.keyIds)).next();!d.done;d=l.next()){d=d.value;var f=e[n?"00":d];f?xo.includes(f)&&o.add(f):a.add(d)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Le(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var xo=["output-restricted","internal-error"];function To(){}function ko(e,t){Eo.set(e,t)}function Ao(e,t){if(t){var n=Eo.get(t.toLowerCase());if(n)return n}throw new Le(2,4,4e3,e,t)}z("shaka.media.ManifestParser",To),To.unregisterParserByMime=function(e){Eo.delete(e)},To.registerParserByMime=ko,To.registerParserByExtension=function(){ie("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},To.AccessibilityPurpose={Nk:"visually impaired",dk:"hard of hearing"};var Eo=new Map;function Co(e,t){var n=null,r=null,i=null,a=null,o=e.S();return 1&t&&(i=e.bd()),2&t&&(a=e.S()),8&t&&(n=e.S()),16&t&&(r=e.S()),{trackId:o,ld:n,md:r,Wh:i,rh:a}}function Io(e,t){return 1==t?(t=e.S(),e=e.S(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.S()}}function Mo(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.S(),e.skip(4),e=e.na(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function Do(e,t,n){var r=e.S(),i=[],a=null;1&n&&(a=e.$f()),4&n&&e.skip(4);for(var o=0;o<r;o++){var s={gg:null,sampleSize:null,ye:null};256&n&&(s.gg=e.S()),512&n&&(s.sampleSize=e.S()),1024&n&&e.skip(4),2048&n&&(s.ye=0==t?e.S():e.$f()),i.push(s)}return{Sk:r,fg:i,nf:a}}function Po(e){e.skip(6),e.skip(2),e.skip(8);var t=e.na();return e.skip(2),e.skip(2),e.skip(2),{channelCount:t,sampleRate:e=e.na()+e.na()/65536}}function Lo(e){return{codec:Ra(e=e.S())}}function Ro(e,t){return t=void 0!==t&&t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function No(e){return(10>e?"0":"")+e}function _o(e){if(!Wo){Wo=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);as=qo("ftyp",t,r,t,n),t=qo("dref",os),ss=qo("dinf",t)}this.g=e}function Oo(e){for(var t=[],n=c(e.g),r=n.next();!r.done;r=n.next()){var i=t,a=i.push,o=r.value;r=qo;var s=o.id+1,u=o.stream.width||0,l=o.stream.height||0;"audio"==o.type&&(l=u=0);var f=o.duration*o.timescale,p=Math.floor(f/(Xo+1));switch(f=Math.floor(f%(Xo+1)),s=qo("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ho(s,4)),[0,0,0,0],d(Ho(p,4)),d(Ho(f,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],d(Ho(u,2)),[0,0],d(Ho(l,2)),[0,0]))),u=qo,p=o.duration*o.timescale,l=Math.floor(p/(Xo+1)),p=Math.floor(p%(Xo+1)),f=(f=o.stream.language).charCodeAt(0)-96<<10|f.charCodeAt(1)-96<<5|f.charCodeAt(2)-96,l=qo("mdhd",l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ho(o.timescale,4)),d(Ho(l,4)),d(Ho(p,4)),d(Ho(f,2)),[0,0]))),p=o,f=new Uint8Array([]),p.type){case"video":f=$o;break;case"audio":f=Qo}p=qo("hdlr",f);e:{switch(o.type){case"video":o=qo("minf",qo("vmhd",ns),ss,jo(o));break e;case"audio":o=qo("minf",qo("smhd",rs),ss,jo(o));break e}o=new Uint8Array([])}r=r("trak",s,o=u("mdia",l,p,o)),a.call(i,r)}for(t=Mt.apply(Tt,d(t)),n=qo,r=(a=e.g[0]).duration*a.timescale,i=Math.floor(r/(Xo+1)),r=Math.floor(r%(Xo+1)),i=qo("mvhd",i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(d(Ho(a.timescale,4)),d(Ho(i,4)),d(Ho(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),r=[],u=(e=c(e.g)).next();!u.done;u=e.next())s=(o=r).push,u=qo("trex",u=new Uint8Array([0,0,0,0].concat(d(Ho(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,u);if(e=qo("mvex",e=Mt.apply(Tt,d(r))),r=[],a.encrypted){for(o=(a=c(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=c(o.initData)).next();!s.done;s=o.next())r.push(s.value.initData);a=Mt.apply(Tt,d(r))}else a=new Uint8Array([]);return e=n("moov",i,t,e,a),(t=new Uint8Array(as.byteLength+e.byteLength)).set(as),t.set(e,as.byteLength),t}function jo(e){var t=qo,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=We()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var r=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,r=e.stream.height||0,0<e.Ca.byteLength)var i=qo("avcC",e.Ca);else{i=qo;for(var a=7,o=[],s=[],u=0,l=0,c=0,f=0;f<e.lb.length;f++){var p=Go(e.lb[f]);switch(31&p[0]){case 7:o.push(p),a+=p.length+2;break;case 8:s.push(p),a+=p.length+2}}for(0<o.length&&(u=o[0][1],c=o[0][2],l=o[0][3]),f=0,(a=new Uint8Array(a))[f++]=1,a[f++]=u,a[f++]=c,a[f++]=l,a[f++]=255,a[f++]=224|o.length,u=0;u<o.length;u++)a[f++]=(65280&o[u].length)>>8,a[f++]=255&o[u].length,a.set(o[u],f),f+=o[u].length;for(a[f++]=s.length,o=0;o<s.length;o++)a[f++]=(65280&s[o].length)>>8,a[f++]=255&s[o].length,a.set(s[o],f),f+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(d(Ho(n,2)),d(Ho(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=Uo(e),o=new Uint8Array([]),e.encrypted&&(o=Bo(0,e.stream,e.codecs),r="encv"),r=qo(r,n,i,s,o)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.Ca.byteLength&&(n=qo("hvcC",e.Ca)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(d(Ho(r,2)),d(Ho(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=Uo(e),o=new Uint8Array([]),e.encrypted&&(o=Bo(0,e.stream,e.codecs),i="encv"),r=qo(i,r,n,s,o));break;case"audio":"mp3"==n?e=qo(".mp3",Fo(e)):"ac-3"==n?(n=qo("dac3",e.ra),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=Bo(0,e.stream,e.codecs),r="enca"),e=qo(r,Fo(e),n,i)):"ec-3"==n?(n=qo("dec3",e.ra),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=Bo(0,e.stream,e.codecs),r="enca"),e=qo(r,Fo(e),n,i)):"opus"==n?(n=qo("dOps",e.ra),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=Bo(0,e.stream,e.codecs),r="enca"),e=qo(r,Fo(e),n,i)):(0<e.ra.byteLength?n=qo("esds",e.ra):(n=qo,r=e.id+1,i=e.stream.channelsCount||2,o=e.stream.audioSamplingRate||44100,u=Rt("audio",e.codecs.split(",")),s=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==u&&"mp4a.40.29"!==u||(s=l[2*o]),o=parseInt(u.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(d(Ho(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|i<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=Bo(0,e.stream,e.codecs),r="enca"),e=qo(r,Fo(e),n,i)),r=e}return t("stbl",e=qo("stsd",is,r),qo("stts",Jo),qo("stsc",Zo),qo("stsz",ts),qo("stco",es))}function Uo(e){if(!e.Ia&&!e.Ka)return new Uint8Array([]);var t=e.Ka;return qo("pasp",e=new Uint8Array([].concat(d(Ho(e.Ia,4)),d(Ho(t,4)))))}function Fo(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(d(Ho(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Bo(e,t,n){e=qo,n=qo("frma",n=new Uint8Array([].concat(d(Ho(Ko(n.split(".")[0]),4)))));var r="cenc",i=t.drmInfos[0];i&&i.encryptionScheme&&(r=i.encryptionScheme),r=qo("schm",r=new Uint8Array([0,0,0,0].concat(d(Ho(Ko(r),4)),[0,1,0,0]))),i=qo;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(t=c(t.drmInfos)).next();!o.done;o=t.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=c(o.keyIds)).next();!s.done;s=o.next())a=Go(s.value);return e("sinf",n,r,i("schi",t=qo("tenc",t=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function zo(e){for(var t=[],n=(e=c(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=t.push,a=i.apply,o=qo,s=new Uint8Array([0,0,0,0].concat(d(Ho(n.data?n.data.Db:0,4))));s=qo("mfhd",s);var u=n.data?n.data.jb:[],l=new Uint8Array(4+u.length);for(r=0;r<u.length;r++){var f=u[r].flags;l[r+4]=f.Ya<<4|f.$a<<2|f.Za}var p=(u=qo("sdtp",l)).length+92;l=qo,r=qo("tfhd",r=new Uint8Array([0,0,0,58].concat(d(Ho(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),f=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(f%(Xo+1));f=qo("tfdt",f=new Uint8Array([1,0,0,0].concat(d(Ho(Math.floor(f/(Xo+1)),4)),d(Ho(h,4)))));var g=p,m=12+16*(h=(p=n.data?n.data.jb:[]).length),v=new Uint8Array(m);for(g+=8+m,v.set(["video"===n.type?1:0,0,15,1].concat(d(Ho(h,4)),d(Ho(g,4))),0),g=0;g<h;g++){var y=p[g];m=Ho(y.duration,4);var b=Ho(y.size,4),w=y.flags;y=Ho(y.eb,4),v.set([].concat(d(m),d(b),[w.hb<<2|w.Ya,w.$a<<6|w.Za<<4|w.ib,61440&w.Xa,15&w.Xa],d(y)),12+16*g)}o=o("moof",s,u=l("traf",r,f,p=qo("trun",v),u)),a.call(i,t,[o,Vo(n)])}return Mt.apply(Tt,d(t))}function Vo(e){return e=(e.data?e.data.jb:[]).map((function(e){return e.data})),qo("mdat",e=Mt.apply(Tt,d(e)))}function Ho(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Go(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Ko(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function qo(e){var t=N.apply(1,arguments),n=Yo.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Yo.set(e,n));for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var Wo=!1,Xo=Math.pow(2,32)-1,Yo=new Map,$o=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Qo=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Jo=new Uint8Array([0,0,0,0,0,0,0,0]),Zo=new Uint8Array([0,0,0,0,0,0,0,0]),es=new Uint8Array([0,0,0,0,0,0,0,0]),ts=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),rs=new Uint8Array([0,0,0,0,0,0,0,0]),is=new Uint8Array([0,0,0,0,0,0,0,1]),as=new Uint8Array([]),os=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ss=new Uint8Array([]);function us(e){function t(e){o.push(e),Ca(e)}var n,r,i,a,o=[];if((new Ea).box("moof",t).box("traf",t).R("tfhd",(function(e){n=e,i=Co(e.reader,e.flags)})).R("trun",(function(e){r=e,a=Do(e.reader,e.version,e.flags)})).parse(e),i&&2!==i.rh){var s=n.start+Na(n)+4+(null!==i.Wh?8:0),u=De(e);if(null!==i.rh)u.setUint32(s,2);else{cs(e,n.start,n.size+4);var l=u.getUint32(n.start+8);u.setUint32(n.start+8,2|l),a&&null!==a.nf&&u.setInt32(r.start+Na(r)+4,a.nf+4),l=e.subarray(0,s),u=e.subarray(s),(e=new Uint8Array(e.byteLength+4)).set(l),l=[];for(var d=3;0<=d;d--)l.push(2>>8*d&255);for(e.set(new Uint8Array(l),s),e.set(u,s+4),u=(s=c(o)).next();!u.done;u=s.next())cs(e,(u=u.value).start,u.size+4)}}return e}function ls(e,t,n,r,i,a){var o=Bo(new _o([]),e,r.name),s=t.subarray(r.start,r.start+r.size);for((e=new Uint8Array(r.size+o.byteLength)).set(s,0),De(e).setUint32(4,a),e.set(o,r.size),cs(e,0,e.byteLength),a=new Uint8Array(t.byteLength+e.byteLength),r=Je()||Ke()||Ge()?r.start:r.start+r.size,o=t.subarray(r),a.set(t.subarray(0,r)),a.set(e,r),a.set(o,r+e.byteLength),i=(t=c(i)).next();!i.done;i=t.next())cs(a,(i=i.value).start,i.size+e.byteLength);return e=De(a,n.start),n=Na(n),t=e.getUint32(n),e.setUint32(n,t+1),a}function cs(e,t,n){0!=(t=(e=De(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}function ds(e,t,n,r,i,a,o,s){this.N=e,this.Sa=t,this.wa=n,this.Wc=void 0===r?null:r,this.timescale=void 0===i?null:i,this.h=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.g=this.mimeType=this.codecs=null,this.encrypted=void 0!==s&&s}function fs(e,t){return e===t||(e&&t?e.uc()==t.uc()&&e.tc()==t.tc()&&ln(e.N().sort(),t.N().sort())&&Ee(e.Ib(),t.Ib()):e==t)}function ps(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,m){for(l=void 0===l?[]:l,h=void 0===h?gs:h,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Sa=r,this.wa=i,this.$=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l,this.tilesLayout=void 0===d?"":d,this.B=void 0===f?null:f,this.h=void 0===p?null:p,this.status=h,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=void 0===g?null:g,this.thumbnailSprite=null,this.i=-1,this.A=void 0!==m&&m,this.F=this.o=!1,t=(e=c(this.g)).next();!t.done;t=e.next())t.value.fh();this.A&&this.g.length&&this.g[this.g.length-1].eh(),this.u=this.bandwidth=this.mimeType=this.codecs=null,this.G=!1}function hs(e,t){e.$=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())hs(n.value,t)}ds.prototype.uc=function(){return this.Sa},ds.prototype.tc=function(){return this.wa},ds.prototype.Kd=function(e){this.h=e},ds.prototype.Ib=function(){return this.h},z("shaka.media.InitSegmentReference",ds),ds.prototype.getEndByte=ds.prototype.tc,ds.prototype.getStartByte=ds.prototype.uc,(r=ps.prototype).N=function(){return this.C()},r.getStartTime=function(){return this.startTime},r.mi=function(){return this.endTime},r.uc=function(){return this.Sa},r.tc=function(){return this.wa},r.Ji=function(){return this.tilesLayout},r.Ii=function(){return this.B},r.dc=function(){return this.status},r.aj=function(){this.status=ms},r.Sf=function(){this.preload=!0},r.isPreload=function(){return this.preload},r.Vc=function(){this.l=!1},r.Ti=function(){return this.l},r.fh=function(){this.o=!0},r.Vi=function(){return this.o},r.eh=function(){this.F=!0},r.Ui=function(){return this.F},r.dh=function(){this.m=!0},r.Pi=function(){return this.m},r.De=function(e){this.thumbnailSprite=e},r.Gi=function(){return this.thumbnailSprite},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},r.qg=function(e){null==this.h?X("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},r.Kd=function(e,t){this.u=e,this.G=void 0!==t&&t},r.Ib=function(e){var t=this.u;return(void 0===e||e)&&this.G&&(this.u=null),t},z("shaka.media.SegmentReference",ps),ps.prototype.getSegmentData=ps.prototype.Ib,ps.prototype.setSegmentData=ps.prototype.Kd,ps.prototype.syncAgainst=ps.prototype.qg,ps.prototype.offset=ps.prototype.offset,ps.prototype.getThumbnailSprite=ps.prototype.Gi,ps.prototype.setThumbnailSprite=ps.prototype.De,ps.prototype.hasByterangeOptimization=ps.prototype.Pi,ps.prototype.markAsByterangeOptimization=ps.prototype.dh,ps.prototype.isLastPartial=ps.prototype.Ui,ps.prototype.markAsLastPartial=ps.prototype.eh,ps.prototype.isPartial=ps.prototype.Vi,ps.prototype.markAsPartial=ps.prototype.fh,ps.prototype.isIndependent=ps.prototype.Ti,ps.prototype.markAsNonIndependent=ps.prototype.Vc,ps.prototype.isPreload=ps.prototype.isPreload,ps.prototype.markAsPreload=ps.prototype.Sf,ps.prototype.markAsUnavailable=ps.prototype.aj,ps.prototype.getStatus=ps.prototype.dc,ps.prototype.getTileDuration=ps.prototype.Ii,ps.prototype.getTilesLayout=ps.prototype.Ji,ps.prototype.getEndByte=ps.prototype.tc,ps.prototype.getStartByte=ps.prototype.uc,ps.prototype.getEndTime=ps.prototype.mi,ps.prototype.getStartTime=ps.prototype.getStartTime,ps.prototype.getUris=ps.prototype.N;var gs=0,ms=1;function vs(e){return 1==e.length&&1e-4>e.end(0)-e.start(0)}function ys(e){return!e||vs(e)?null:e.length?e.end(e.length-1):null}function bs(e,t){return!(!e||!e.length||vs(e)||t>e.end(e.length-1))&&t>=e.start(0)}function ws(e,t){if(!e||!e.length||vs(e))return 0;for(var n=0,r=(e=c(Ss(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function Ss(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function xs(){}function Ts(e,t){var n=document.createElement("source");return n.src=e,n.type=void 0===t?"":t,n}function ks(e){for(;e.firstChild;)e.removeChild(e.firstChild)}
/*
      		 @license
      		 Shaka Player
      		 Copyright 2022 Google LLC
      		 SPDX-License-Identifier: Apache-2.0
      		*/
function As(){}function Es(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Cs(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Is(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function Ms(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=gt(Ie(e.data,1,n)),i=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=gt(Ie(e.data,3+n,a));return o="--\x3e"===r?gt(Ie(e.data,4+n+a)):Ce(e.data.subarray(4+n+a)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=o,t}return"TXXX"===e.type||"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(r=e.data.subarray(1).indexOf(0))?null:(n=gt(Ie(e.data,1,r)),e=gt(Ie(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(n=e.data.indexOf(0))?null:(n=gt(Ie(e.data,0,n)),t.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=e.data.subarray(n.length+1),e=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=47721858.84),t.data=n):(e=Ce(e.data.subarray(n.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=gt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=gt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Ce(e.data),t):null}function Ds(e){for(var t=0,n=[];Es(e,t);){var r=Is(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),a=Is(i,4);(a=Ms(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}Cs(e,t)&&(t+=10)}return n}function Ps(e,t){for(var n=t=void 0===t?0:t,r=0;Es(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Is(e,t+6),Cs(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function Ls(e,t){if(this.j=e,void 0!==t&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&3==e[r]&&0==e[r-1]&&0==e[r-2]||(t[n]=e[r],n++);this.j=Ie(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Rs(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new Ta(n,0).S(),e.g=8*r,e.i-=r)}function Ns(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Rs(e)}e.h<<=t,e.g-=t}function _s(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Rs(e),0<(n=t-n)?r<<n|_s(e,n):r}function Os(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Rs(e),t+Os(e)}function js(e){Ns(e,1+Os(e))}function Us(e){return _s(e,Os(e)+1)-1}function Fs(e){return 1&(e=Us(e))?1+e>>>1:-1*(e>>>1)}function Bs(e){return 1===_s(e,1)}function zs(e){return _s(e,8)}function Vs(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(r=Fs(e))+256)%256),n=0===r?n:r}function Hs(e){return zs(e),Us(e),Us(e)}function Gs(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.u=null}function Ks(e,t){if(1!=(t[0]<<16|t[1]<<8|t[2]))return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(192&r){var i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2;null==e.u&&(e.u=i),n.pts=Ws(i,e.u),e.u=n.pts,n.dts=n.pts,64&r&&(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,null==e.o&&(e.o=r),n.dts=Ws(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}function qs(e){var t=e.wc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function Ws(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function Xs(e){return!(0>Ys(e))}function Ys(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}ps.Status={Nj:gs,Lk:ms,lk:2},z("shaka.util.Dom",xs),xs.removeAllChildren=ks,z("shaka.util.Id3Utils",As),As.getID3Data=Ps,As.getID3Frames=Ds,z("shaka.util.ExpGolomb",Ls),(r=Gs.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},r.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,Ys(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.G=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.G:a&&(s+=e[s]+1),o={audio:-1,video:-1,ce:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var l=(31&a[s+1])<<8|a[s+2],c=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(0<c)for(var d=s+5,f=c;2<f;){var p=a[d+1]+2;switch(a[d]){case 5:var h=wt(a.subarray(d+2,d+p));-1==o.audio&&"Opus"===h?(o.audio=l,o.audioCodec="opus"):-1==o.video&&"AV01"===h&&(o.video=l,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=l,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(h=null,128===a[d+2]&&(h=a[d+3]),null!=h&&(this.F={channelCount:15&h?15&h:2,Zh:h,sampleRate:48e3}))}d+=p,f-=p}break;case 15:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=l,o.audioCodec="aac-loas");break;case 21:-1==o.ce&&(o.ce=l);break;case 27:-1==o.video&&(o.video=l,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=l,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=l,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=l,o.audioCodec="ec3")}s+=c+5}-1!=(a=o).video&&(this.I=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.B=a.audio,this.A=a.audioCodec),-1!=a.ce&&(this.C=a.ce),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:s=e.subarray(s,i+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.B:s=e.subarray(s,i+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.C:s=e.subarray(s,i+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:r=!0}}return this},r.hj=function(e){return ie("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Xf(e,{Dd:null,state:null})},r.Xf=function(e,t){var n=e.pts?e.pts/9e4:null,r=(e=e.data).byteLength,i=1;"hvc"==this.m&&(i=2);var a=t.state||0,o=a,s=0,u=[],l=-1,c=0;for(-1==a&&(l=0,c="hvc"==this.m?e[0]>>1&63:31&e[0],a=0,s=1);s<r;){var d=e[s++];a?1===a?a=d?0:2:d?1==d?(d=s-a-1,0<=l?u.push({data:e.subarray(l+i,d),fullData:e.subarray(l,d),type:c,time:n,state:null}):(a=u.length?u[u.length-1]:t.Dd)&&(o&&s<=4-o&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-o),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-o)),0<d&&(d=e.subarray(0,d),a.data=Mt(a.data,d),a.fullData=Mt(a.fullData,d),a.state=0)),s<r?(c="hvc"==this.m?e[s]>>1&63:31&e[s],l=s,a=0):a=-1):a=0:a=3:a=d?0:1}return 0<=l&&0<=a&&u.push({data:e.subarray(l+i,r),fullData:e.subarray(l,r),type:c,time:n,state:a}),!u.length&&t.Dd&&(n=u.length?u[u.length-1]:t.Dd)&&(n.data=Mt(n.data,e),n.fullData=Mt(n.fullData,e)),t.state=a,u},r.getMetadata=function(){for(var e=[],t=c(this.l),n=t.next();!n.done;n=t.next())(n=Ks(this,n=Mt.apply(Tt,d(n.value))))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ds(n.data),dts:n.dts,pts:n.pts});return e},r.fb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=c(this.i),n=t.next();!n.done;n=t.next()){var r=Mt.apply(Tt,d(n.value)),i=Ks(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&((n=this.h.pop()).data=Mt(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return this.h},r.wc=function(e){if(e=void 0===e||e,this.j.length&&!this.g.length){for(var t=!1,n=c(this.j),r=n.next();!r.done;r=n.next()){var i=Mt.apply(Tt,d(r.value)),a=Ks(this,i);r=this.g.length?this.g[this.g.length-1]:null,a&&null!=a.pts&&null!=a.dts&&(!r||r.pts!=a.pts&&r.dts!=a.dts)?(this.g.length&&a.dts<(r.dts||0)&&(t=!0),this.g.push(a)):this.g.length&&(i=a?a.data:i)&&((r=this.g.pop()).data=Mt(r.data,i),this.g.push(r))}if(e){for(n={Dd:null,state:null},r=[],a=(i=c(this.g)).next();!a.done;a=i.next())(a=a.value).nalus=this.Xf(a,n),a.nalus.length&&(r.push(a),n.Dd=a.nalus[a.nalus.length-1]);this.g=r}t&&(this.g=this.g.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return e?this.g:(e=this.g,this.g=[],e)},r.getStartTime=function(e){if("audio"==e){e=null;var t=this.fb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return"video"==e?(e=null,(t=this.wc(!1)).length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},r.od=function(){return{audio:this.A,video:this.m}},r.be=function(){for(var e=[],t=c(this.wc()),n=t.next();!n.done;n=t.next())e.push.apply(e,d(n.value.nalus));return e},r.Mi=function(){ie("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Kf();return{height:e.height,width:e.width}},r.Kf=function(){return"hvc"==this.m?function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length)return t;if(!(n=n.find((function(e){return 33==e.type}))))return t;var r=new Ls(n.fullData,!0);zs(r),zs(r),_s(r,4);var i=_s(r,3);Bs(r);var a=_s(r,2),o=_s(r,1),s=_s(r,5),u=_s(r,32);n=zs(r);for(var l=zs(r),c=zs(r),d=zs(r),f=zs(r),p=zs(r),h=zs(r),g=[],m=[],v=0;v<i;v++)g.push(Bs(r)),m.push(Bs(r));if(0<i)for(v=i;8>v;v++)_s(r,2);for(v=0;v<i;v++)g[v]&&_s(r,88),m[v]&&zs(r);Us(r),3==(i=Us(r))&&_s(r,1),g=Us(r),m=Us(r);var y=v=0,b=0,w=0;return Bs(r)&&(v+=Us(r),y+=Us(r),b+=Us(r),w+=Us(r)),t.width=String(g-(v+y)*(1===i||2===i?2:1)),t.height=String(m-(b+w)*(1===i?2:1)),r=function(e){for(var t=0,n=0;32>n;n++)t|=(e>>n&1)<<31-n;return t>>>0}(u),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+r.toString(16).toUpperCase(),a+="."+o+h,p&&(a+="."+p.toString(16).toUpperCase()),f&&(a+="."+f.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),l&&(a+="."+l.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=qs(e),t}(this):function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length)return t;if(!(n=n.find((function(e){return 7==e.type}))))return t;var r=zs(n=new Ls(n.data)),i=zs(n),a=zs(n);if(js(n),$s.includes(r)){var o=Us(n);if(3===o&&Ns(n,1),js(n),js(n),Ns(n,1),Bs(n)){o=3!==o?8:12;for(var s=0;s<o;s++)Bs(n)&&Vs(n,6>s?16:64)}}if(js(n),0===(o=Us(n)))Us(n);else if(1===o)for(Ns(n,1),js(n),js(n),o=Us(n),s=0;s<o;s++)js(n);js(n),Ns(n,1),o=Us(n),s=Us(n);var u=_s(n,1);0===u&&Ns(n,1),Ns(n,1);var l=0,c=0,d=0,f=0;return Bs(n)&&(l=Us(n),c=Us(n),d=Us(n),f=Us(n)),t.height=String((2-u)*(s+1)*16-2*d-2*f),t.width=String(16*(o+1)-2*l-2*c),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=qs(e),t}(this)},z("shaka.util.TsParser",Gs),Gs.syncOffset=Ys,Gs.probe=Xs,Gs.prototype.getVideoInfo=Gs.prototype.Kf,Gs.prototype.getVideoResolution=Gs.prototype.Mi,Gs.prototype.getVideoNalus=Gs.prototype.be,Gs.prototype.getCodecs=Gs.prototype.od,Gs.prototype.getStartTime=Gs.prototype.getStartTime,Gs.prototype.getVideoData=Gs.prototype.wc,Gs.prototype.getAudioData=Gs.prototype.fb,Gs.prototype.getMetadata=Gs.prototype.getMetadata,Gs.prototype.parseNalus=Gs.prototype.Xf,Gs.prototype.parseAvcNalus=Gs.prototype.hj,Gs.prototype.parse=Gs.prototype.parse,Gs.prototype.clearData=Gs.prototype.clearData,Gs.Timescale=9e4;var $s=[100,110,122,244,44,83,86,118,128,138,139,134];function Qs(e,t,n,r){var i=this;this.g=e,this.K=n,this.A=null,this.ea=t,this.l=new Map,this.B=new Map,this.Aa=new Map,this.h=null,this.Ea=!1,this.I=r||null,this.u=new Map,this.o=new ee,this.j=new Map,this.L=null,this.G=new Xi,this.Ga="",this.Na=!1,this.sa=!0,this.Z=!1,this.C=this.M=null,this.i=Js(this,this.G),this.ya=this.H=!1,this.O=new ya((function(){return function(e){var t,n,r,i,a,o,s,u,l,d,f,p,h;return R((function(g){if(1==g.g){for(t=[],n=c(e.u),r=n.next();!r.done;r=n.next())for(i=r.value,a=c(i),o=a.next().value,s=a.next().value,u=s[0],l=o,e.u.set(l,s.slice(0,1)),u&&t.push(u.p.catch(ei)),d=c(s.slice(1)),f=d.next();!f.done;f=d.next())f.value.p.reject(new Le(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),S(g,Promise.all(t),2)}for(p=c(e.j.values()),h=p.next();!h.done;h=p.next())h.value.destroy();e.o&&(e.o.release(),e.o=null),e.g&&e.C&&e.g.removeChild(e.C),e.g&&e.M&&(e.g.removeChild(e.M),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.M=null,e.C=null,e.A=null,e.i=null,e.h=null,e.ea=null,e.l.clear(),e.Aa.clear(),e.j.clear(),e.L=null,e.u.clear(),e.I=null,e.Y.clear(),e.K=null,x(g)}))}(i)})),this.F=!1,this.P="UNKNOWN",this.La=this.Ma=!1,this.Fa=new Xi,this.m=!1,this.pa=null,this.Y=new Map,this.ka=this.T=this.oa=this.W=null,this.fa=new Xi,this.g.remote&&(this.Z="disconnected"!=this.g.remote.state,this.o.D(this.g.remote,"connect",(function(){i.Z="disconnected"!=i.g.remote.state})),this.o.D(this.g.remote,"connecting",(function(){i.Z="disconnected"!=i.g.remote.state})),this.o.D(this.g.remote,"disconnect",(function(){i.Z="disconnected"!=i.g.remote.state})))}function Js(t,n){if(t.sa=!0,e.ManagedMediaSource){t.C||(t.g.disableRemotePlayback=!0);var r=new ManagedMediaSource;t.o.D(r,"startstreaming",(function(){t.sa=!0})),t.o.D(r,"endstreaming",(function(){t.sa=!1}))}else r=new MediaSource;return t.o.ma(r,"sourceopen",(function(){URL.revokeObjectURL(t.Ga),n.resolve()})),t.o.ma(t.g,"playing",(function(){t.Na=!0})),t.Ga=Su(r),t.g.removeAttribute("src"),t.M&&t.g.removeChild(t.M),t.C&&t.g.removeChild(t.C),t.M=Ts(t.Ga),t.g.appendChild(t.M),t.C&&t.g.appendChild(t.C),t.g.load(),r}function Zs(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m;return R((function(v){switch(v.g){case 1:return i=jt,a=V,o=H,S(v,function(e,t){var n,r,i,a,o,s,u,l,d,f;return R((function(p){if(1==p.g)return e.createSegmentIndex?S(p,e.createSegmentIndex(),2):p.s(2);if(!e.segmentIndex)return p.return(!1);if(0==e.segmentIndex.getNumReferences())return p.return(!0);for(n=jt,r=new Set,i=c(e.segmentIndex),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.mimeType||e.mimeType||"",u=o.codecs||e.codecs||"",!(s==e.mimeType&&u==e.codecs||(l=s+":"+u,r.has(l))))if(r.add(l),t==n.za){if(!Yr(Rr(s,u)))return p.return(!1)}else if(t==n.la?u=Ti(u):t==n.V&&(u=xi(u,s)),d=Or(e,s,u),f=Nr(s,u),!Gt(d)&&!Er(f))return p.return(!1);return p.return(!0)}))}(n,t),2);case 2:if(o.call(a,v.h,"Type negotiation should happen before MediaSourceEngine.init!"),t==i.V&&r&&(r=xi(r,n.mimeType)),s=Rr(n.mimeType,r),t==i.za){tu(e,s,e.F,n.external),v.s(0);break}if(u=e.A.forceTransmux,(!Gt(s)||!e.F&&Kr.includes(s))&&(u=!0),l=Nr(n.mimeType,r),!u){v.s(4);break}if(d=Nt(i.V,(r||"").split(",")),f=Nt(i.la,(r||"").split(",")),!d||!f){v.s(5);break}return e.m=!0,S(v,Zs(e,i.V,n,d),6);case 6:return S(v,Zs(e,i.la,n,f),7);case 7:return v.return();case 5:(p=Er(l))&&(h=p(),e.j.set(t,h),s=h.convertCodecs(t,l));case 4:g=s+e.A.addExtraFeaturesToSourceBuffer(s),ba(e.O);try{m=e.i.addSourceBuffer(g)}catch(y){throw new Le(2,3,3015,y,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.F&&(m.mode=xu),e.o.D(m,"error",(function(){var n=e.u.get(t)[0];n.p.reject(new Le(2,3,3014,e.g.error?e.g.error.code:0,n.uri))})),e.o.D(m,"updateend",(function(){return hu(e,t)})),e.l.set(t,m),e.B.set(t,s),e.Aa.set(t,!!n.drmInfos.length),x(v)}}))}function eu(e){return e.sa&&!e.Z&&!e.H}function tu(e,t,n,r){e.h||(e.h=new qr(e.ea),e.h&&(e.h.A=e.A.modifyCueCallback));var i=e.h;r=r||e.Ea,e=e.P,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=Jr.get(t)(),i.i.setSequenceMode?i.i.setSequenceMode(n):ie("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):ie("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function nu(e){return!(e.H||e.i&&"ended"!=e.i.readyState)}function ru(e){return!(e.H||e.i&&"closed"!=e.i.readyState)}function iu(e,t){return e=e.l.size?t==Ot?e.h.g:!(e=ou(e,t))||vs(e)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null:null}function au(e,t){return e.l.size?t==Ot?e.h.h:ys(ou(e,t)):null}function ou(e,t){if(e.H||e.Z)return null;try{return e.l.get(t).buffered}catch(n){return e.l.has(t),null}}function su(e,t,n,r,i,a,o,s,u,l){var f,p,h,g,m,v,y,b,w,T,k,A,E,C,I,M;return o=void 0!==o&&o,s=void 0!==s&&s,u=void 0!==u&&u,l=void 0!==l&&l,R((function(D){switch(D.g){case 1:if(t!=(f=jt).za){D.s(2);break}if("HLS"!=e.P){D.s(3);break}return S(D,e.Fa,4);case 4:p=D.h,e.h.u=p;case 3:return S(D,function(e,t,n,r,i){var a,o,s,u,l,d,f;return R((function(p){if(1==p.g)return S(p,Promise.resolve(),2);if(!e.i||!e.j)return p.return();if(null==n||null==r)return e.i.parseInit(Ie(t)),p.return();for(a=e.B?n:e.u,o={periodStart:e.u,segmentStart:n,segmentEnd:r,vttOffset:a},s=e.i.parseMedia(Ie(t),o,i,[]),u=c(s),l=u.next();!l.done;l=u.next())d=l.value,e.A(d,i||null,o);f=s.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(f),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),x(p)}))}(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return D.return();case 2:if(l||!e.m){D.s(6);break}return S(D,su(e,f.V,n,r,i,a,o,s,u,!0),7);case 7:return S(D,su(e,f.la,n,r,i,a,o,s,u,!0),8);case 8:return D.return();case 6:if(!e.l.has(t))return D.return();if(h=e.l.get(t).timestampOffset,g=e.B.get(t),e.j.has(t)&&(g=e.j.get(t).getOriginalMimeType()),r&&(m=function(e,t,n,r,i,a){var o=null,s=[],u=Ie(n);if(Kr.includes(a))(t=Ds(u)).length&&r&&((n=t.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=Math.round(n.data)/1e3),e.K.onMetadata([{cueTime:r.startTime,data:u,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.$&&r.$.timescale){var l=r.$.timescale;if(!isNaN(l)){var c=null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,d=0,f=!1;u=new Ea,c&&u.R("emsg",(function(t){var n=i.emsgSchemeIdUris;if(0===t.version)var a=t.reader.Cc(),o=t.reader.Cc(),s=t.reader.S(),u=t.reader.S(),l=t.reader.S(),c=t.reader.S(),d=r.startTime+u/s;else s=t.reader.S(),u=(d=t.reader.bd()/s+r.timestampOffset)-r.startTime,l=t.reader.S(),c=t.reader.S(),a=t.reader.Cc(),o=t.reader.Cc();t=t.reader.Cb(t.reader.getLength()-t.reader.Ba()),(n&&n.includes(a)||e.A.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.K.gj():(s={startTime:d,endTime:n=d+l/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:t},new ta("emsg",c=(new Map).set("detail",s)).cancelable=!0,e.K.ej(s),("https://aomedia.org/emsg/ID3"==a||"https://developer.apple.com/streaming/emsg-id3"==a)&&(a=Ds(t)).length&&e.K.onMetadata([{cueTime:d,data:t,frames:a,dts:d,pts:d}],0,n)))})),u.R("prft",(function(t){var n=t.reader,r=t.version;n.S(),t=1e3*(t=n.S())+n.S()/Math.pow(2,32)*1e3,0===r?n=n.S():(r=n.S(),n=n.S(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new ta("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/l*1e3)})),e.K.onEvent(n)})).box("moof",Ca).box("traf",Ca).R("tfdt",(function(e){f||(d=Io(e.reader,e.version).baseMediaDecodeTime/l,f=!0,c||e.parser.stop())})).parse(n,!0),f&&0==r.timestampOffset&&(o=d)}}else a.includes("/mp4")||a.includes("/webm")||!Xs(u)||(e.Y.has(t)?e.Y.get(t).clearData():e.Y.set(t,new Gs),null!=(u=(s=e.Y.get(t).parse(u)).getStartTime(t))&&(o=u),s=s.getMetadata());return{timestamp:o,metadata:s}}(e,t,n,r,i,g),v=m.timestamp,y=m.metadata,null!=v&&(null==e.W&&t==f.la&&(e.W=v,e.oa=r.startTime,null!=e.T&&(b=0,e.oa==e.ka&&(b=e.W-e.T),e.fa.resolve(b))),null==e.T&&t==f.V&&(e.T=v,e.ka=r.startTime,null!=e.W&&(w=0,e.oa==e.ka&&(w=e.W-e.T),e.fa.resolve(w))),T=v,k=Kr,!e.F&&k.includes(e.B.get(t))&&(T=0),A=r.startTime-T,(.001<=Math.abs(h-A)||o||s)&&(!u||0<A||!h)&&(h=A,e.La&&(gu(e,t,(function(){return fu(e,t)}),null),gu(e,t,(function(){return pu(e,t,h)}),null))),(t==f.la||!e.l.has(f.la))&&e.Fa.resolve(h)),y.length)&&e.K.onMetadata(y,h,r?r.endTime:null),a&&t==f.la&&(e.h||tu(e,"application/cea-608",e.F,!1),e.L||(E=g.split(";",1)[0],e.L=new Qt(E)),r?(C=e.L.i(n)).length&&function(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),Qr(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.C&&e.j.append([u]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.o.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.h,C,r.startTime,r.endTime,h):e.L.init(n,s)),!e.j.has(t)){D.s(9);break}return S(D,e.j.get(t).transmux(n,i,r,e.i.duration,t),10);case 10:n=D.h;case 9:if(n=function(e,t,n,r,i){if("mp4"!=jr(e.B.get(i)))return n;var a=null===r,o=e.Aa.get(i),s=e.K.si(),u=!1;return r&&r.$&&(u=r.$.encrypted),r=r?r.N()[0]:null,(e=e.A.insertFakeEncryptionInInit&&o)&&(s=Oe(s),e=Je()&&"audio"===i||qe()||Ke()||st("SOPOpenBrowser")||Ge()&&rt()&&s),e&&(a?n=function(e,t,n){function r(e){f.push({box:e,hh:1701733217})}function i(e){f.push({box:e,hh:1701733238})}function a(e){l=!0,e.parser.stop()}function o(e){d.push(e),Ca(e)}var s,u=t=Ie(t),l=!1,d=[],f=[];if((new Ea).box("moov",o).box("trak",o).box("mdia",o).box("minf",o).box("stbl",o).R("stsd",(function(e){s=e,d.push(e),Ia(e)})).R("encv",a).R("enca",a).R("dvav",i).R("dva1",i).R("dvh1",i).R("dvhe",i).R("dvc1",i).R("dvi1",i).R("hev1",i).R("hvc1",i).R("avc1",i).R("avc3",i).R("ac-3",r).R("ec-3",r).R("ac-4",r).R("Opus",r).R("fLaC",r).R("mp4a",r).parse(t),l)return t;if(0==f.length||!s)throw It(t),new Le(2,3,3019,n);f.reverse();for(var p=(n=c(f)).next();!p.done;p=n.next())p=p.value,u=ls(e,u,s,p.box,d,p.hh);return Ge()&&rt()&&!Ke()?((e=new Uint8Array(t.byteLength+u.byteLength)).set(u),e.set(t,u.byteLength),e):u}(t,n,r):((t=!u)&&(t=Je()&&"audio"===i),t&&(n=function(e){e=Ie(e);var t=[];(new Ea).box("mdat",(function(e){t.push(e)})).parse(e);for(var n=[],r=0;r<t.length;r++){var i=t[r-1],a=t[r];n.push(us(e.subarray(i?i.start+i.size:0,a.start+a.size)))}return Mt.apply(Tt,d(n))}(n)))),a&&We()&&(n=function(e){function t(e){r.push({start:e.start,size:e.size}),Ca(e)}var n=Ie(e),r=[];return(new Ea).box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",(function(e){r.push({start:e.start,size:e.size});for(var t=De(n,e.start),i=0;i<e.size-3;i++){var a=t.getUint32(i);1633889587==a?t.setUint32(i,1700998451):1684103987==a&&t.setUint32(i,1684366131)}})).parse(n),n}(n)),n}(e,i,n,r,t),!r||!e.F||t==f.za){D.s(11);break}if(!o&&!s){D.s(11);break}if(I=r.startTime,"HLS"!=e.P||e.m||t!=f.V||!e.l.has(f.la)){D.s(13);break}return S(D,e.fa,14);case 14:M=D.h,.15<Math.abs(M)&&(I-=M);case 13:gu(e,t,(function(){return fu(e,t)}),null),gu(e,t,(function(){return pu(e,t,I)}),null);case 11:return S(D,gu(e,t,(function(){var r=n;e.I&&zt(e.I,r,h,i),e.l.get(t).appendBuffer(r)}),r?r.N()[0]:null),15);case 15:x(D)}}))}function uu(e,t){var n;return R((function(r){return 1==r.g?t==(n=jt).za?e.h?S(r,e.h.remove(0,1/0),0):r.return():S(r,gu(e,t,(function(){return du(e,t,0,e.i.duration)}),null),4):e.m?S(r,gu(e,n.V,(function(){return du(e,n.V,0,e.i.duration)}),null),0):r.s(0)}))}function lu(e,t,n,r,i,a,o,s,u){var l,c;return R((function(d){return 1==d.g?t==(l=jt).za?(a||(e.h.u=n),function(e,t,n){e.l=t,e.m=n}(e.h,r,i),d.return()):(c=[],S(d,function(e,t,n,r,i){var a,o,s,u,l,c,d,f,p,h,g,m,v,y;return R((function(b){return 1==b.g?t==(a=jt).za?b.return(!1):(o=Ur(zr(e.B.get(t))),s=Br(e.B.get(t)),u=wu(e,t,n,r),l=u.ug,c=u.Fj,d=u.Eg,f=u.codec,p=u.mimeType,h=!0,c&&e.B.has(a.V)&&(g=wu(e,a.V,n,r),m=Ur(zr(e.B.get(a.V))),v=Br(e.B.get(a.V)),h=m==g.codec&&v==g.Eg,g.ug&&g.ug.destroy()),o===f&&s===d&&h?(e.j.has(t)&&!l?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&l?e.j.set(t,l):l&&(e.j.has(t)&&e.j.get(t).transmux!=l.transmux?(e.j.get(t).destroy(),e.j.delete(t),e.j.set(t,l)):l.destroy()),b.return(!1)):(y=!0,(e.m||c&&l&&!e.j.has(t))&&(y=!1),y&&"smooth"===e.A.codecSwitchingStrategy&&Kt()?S(b,function(e,t,n,r){return gu(e,t,(function(){if(t!==Ot){if(e.B.get(t),Kt()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),r&&e.j.set(t,r);var i=n+e.A.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(i),e.B.set(t,n)}hu(e,t)}}),null)}(e,t,p,l),3):(l&&l.destroy(),S(b,bu(e,i),3)))):b.return(!0)}))}(e,t,o,s,u),2)):(d.h||(c.push(gu(e,t,(function(){return fu(e,t)}),null)),e.m&&c.push(gu(e,l.V,(function(){return fu(e,l.V)}),null))),a||(c.push(gu(e,t,(function(){return pu(e,t,n)}),null)),e.m&&c.push(gu(e,l.V,(function(){return pu(e,l.V,n)}),null))),0==r&&1/0==i||(c.push(gu(e,t,(function(){var n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,hu(e,t)}),null)),e.m&&c.push(gu(e,l.V,(function(){var t=l.V,n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,hu(e,t)}),null))),c.length?S(d,Promise.all(c),0):d.s(0))}))}function cu(e){R((function(t){return nu(e)||ru(e)?t.return():S(t,mu(e,(function(){nu(e)||ru(e)||e.i.clearLiveSeekableRange()})),0)}))}function du(e,t,n,r){r<=n?hu(e,t):e.l.get(t).remove(n,r)}function fu(e,t){var n=e.l.get(t),r=n.appendWindowStart,i=n.appendWindowEnd;n.abort(),n.appendWindowStart=r,n.appendWindowEnd=i,hu(e,t)}function pu(e,t,n){0>n&&(n+=.001);var r=!0;"HLS"==e.P&&(r=!(r=au(e,t))||.15<Math.abs(r-n)),r&&(e.l.get(t).timestampOffset=n),hu(e,t)}function hu(e,t){if(!e.H){var n=e.u.get(t)[0];n&&(n.p.resolve(),vu(e,t))}}function gu(e,t,n,r){return ba(e.O),n={start:n,p:new Xi,uri:r},e.u.get(t).push(n),1==e.u.get(t).length&&yu(e,t),n.p}function mu(e,t){var n,r,i,a,o,s,u,l,d,f,p;return R((function(h){switch(h.g){case 1:for(ba(e.O),n=[],r=Array.from(e.l.keys()),i=c(r),a=i.next(),o={};!a.done;o={ready:void 0},a=i.next())s=a.value,o.ready=new Xi,u={start:function(e){return function(){return e.ready.resolve()}}(o),p:o.ready,uri:null},(l=e.u.get(s)).push(u),n.push(o.ready),1==l.length&&u.start();return T(h,2),S(h,Promise.all(n),4);case 4:A(h,3);break;case 2:throw E(h);case 3:return T(h,5,6),S(h,t(),6);case 6:for(C(h),d=c(r),f=d.next();!f.done;f=d.next())p=f.value,vu(e,p);I(h,0);break;case 5:throw new Le(2,3,3015,E(h),e.g.error||"No error in the media element",null)}}))}function vu(e,t){e.u.get(t).shift(),yu(e,t)}function yu(e,t){var n=e.u.get(t)[0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Le(2,3,3017,t)):eu(e)?n.p.reject(new Le(2,3,3015,r,e.g.error||"No error in the media element",n.uri)):n.p.reject(new Le(2,3,3024,t)),vu(e,t)}}function bu(e,t){return mu(e,(function(){return function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x;return R((function(T){switch(T.g){case 1:if(e.H)return T.return();for(n=jt,e.H=!0,e.m=!1,r=e.g.currentTime,i=e.g.autoplay,e.g.paused||(e.ya=!0),e.Na&&(e.g.autoplay=!1),k(T,2),e.o.Qa(),a=c(e.j.values()),o=a.next();!o.done;o=a.next())o.value.destroy();for(s=c(e.l.values()),u=s.next();!u.done;u=s.next()){l=u.value;try{e.i.removeSourceBuffer(l)}catch(A){}}return e.j.clear(),e.l.clear(),d=e.i.duration,e.G=new Xi,e.i=Js(e,e.G),S(T,e.G,4);case 4:!isNaN(d)&&d?e.i.duration=d:!isNaN(e.pa)&&e.pa&&(e.i.duration=e.pa),f=new Xi,p=e.i.sourceBuffers,h=t.size,g=0,m=function(){++g===h&&(f.resolve(),e.o.Ja(p,"addsourcebuffer",m))},e.o.D(p,"addsourcebuffer",m),v=c(t.keys()),y=v.next();case 5:return y.done?((x=t.get(n.V))&&x.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.u.has(n.V)&&e.u.set(n.V,[]),e.g.currentTime=r,S(T,f,2)):(b=y.value,w=t.get(b),S(T,Zs(e,b,w,w.codecs),6));case 6:y=v.next(),T.s(5);break;case 2:C(T),e.H=!1,ba(e.O),e.o.ma(e.g,"canplaythrough",(function(){e.O.g||(e.g.autoplay=i,e.ya&&(e.ya=!1,e.g.play()))})),I(T,0)}}))}(e,t)}))}function wu(e,t,n,r){var i=!1,a=Nt("audio",(r||"").split(",")),o=Nt("video",(r||"").split(",")),s=o;"audio"==t&&(s=a),s||(s=r),r=Rr(n,s);var u=e.A.forceTransmux;if((!Gt(r)||!e.F&&Kr.includes(r))&&(u=!0),u&&(n=Er(e=Nr(n,s)))){var l=n();a&&o&&(i=!0),r=l.convertCodecs(t,e)}return t=Ur(zr(r)),{ug:l,Fj:i,Eg:Br(r),codec:t,mimeType:r}}(r=Qs.prototype).destroy=function(){return this.O.destroy()},r.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u,l,d=this;return R((function(f){switch(f.g){case 1:return i=jt,S(f,d.G,2);case 2:if(!nu(d)&&!ru(d)){f.s(3);break}return X("Expected MediaSource to be open during init(); reopening the media source."),d.G=new Xi,d.i=Js(d,d.G),S(f,d.G,3);case 3:d.F=t,d.P=n,d.Ma=r,d.La=!d.F&&"HLS"==d.P&&!d.Ma,d.Y.clear(),d.W=null,d.oa=null,d.T=null,d.ka=null,d.fa=new Xi,a=c(e.keys()),o=a.next();case 5:if(o.done){f.s(7);break}return s=o.value,u=e.get(s),S(f,Zs(d,s,u,u.codecs),8);case 8:d.m?(d.u.set(i.V,[]),d.u.set(i.la,[])):d.u.set(s,[]),o=a.next(),f.s(5);break;case 7:(l=e.get(i.V))&&l.isAudioMuxedInVideo&&(d.m=!0),x(f)}}))},r.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)},r.Fb=function(){var e={total:this.H?[]:Ss(this.g.buffered),audio:Ss(ou(this,"audio")),video:Ss(ou(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r,i=this;return R((function(a){return 1==a.g?e==(r=jt).za?S(a,i.h.remove(t,n),0):n>t?S(a,gu(i,e,(function(){return du(i,e,t,n)}),null),5):a.s(0):i.m?S(a,gu(i,r.V,(function(){return du(i,r.V,t,n)}),null),0):a.s(0)}))},r.flush=function(e){var t,n=this;return R((function(r){return 1==r.g?e==(t=jt).za?r.return():S(r,gu(n,e,(function(){n.g.currentTime-=.001,hu(n,e)}),null),2):n.m?S(r,gu(n,t.V,(function(){var e=t.V;n.g.currentTime-=.001,hu(n,e)}),null),0):r.s(0)}))},r.endOfStream=function(e){var t=this;return R((function(n){return S(n,mu(t,(function(){nu(t)||ru(t)||(e?t.i.endOfStream(e):t.i.endOfStream())})),0)}))},r.bb=function(e){var t=this;return R((function(n){return S(n,mu(t,(function(){if(e<t.i.duration)for(var n=c(t.l.keys()),r=n.next();!r.done;r=n.next()){r=r.value;var i={start:function(){},p:new Xi,uri:null};t.u.get(r).unshift(i)}t.i.duration=e,t.pa=e})),0)}))},r.getDuration=function(){return this.i.duration};var Su=e.URL.createObjectURL,xu="sequence";function Tu(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=void 0===n||n,this.G=0,this.u=!1,this.m=e}function ku(e,t,n,r){var i=this;this.u=r,this.g=e,this.B=t,this.h=n,this.o=new ee,this.l=!1,this.F=e.readyState,this.G=this.C=this.j=0,this.m=function(e){if(!e.h.stallEnabled)return null;var t=e.h.stallSkip;return new Eu(new Cu(e.g),e.h.stallThreshold,(function(){return R((function(n){if(1==n.g)return Ss(e.g.buffered).length?t?(e.g.currentTime+=t,n.s(2)):S(n,e.g.play(),3):n.return();if(2!=n.g){if(!e.g)return n.return();e.g.pause(),e.g.play()}e.G++,e.u(new ta("stalldetected")),x(n)}))}))}(this),this.A=!1,this.o.D(e,"waiting",(function(){return Au(i)})),this.i=new ze((function(){Au(i)})).ua(this.h.gapJumpTimerTime)}function Au(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.j&&(e.g.autoplay||e.g.currentTime!=e.j)){var t;if(e.g.readyState!=e.F&&(e.F=e.g.readyState),!(t=!e.m)){var n=(t=e.m).j,r=Iu(n),i=n.g.currentTime,a=Date.now()/1e3;t.g==i&&t.m==r||(t.l=a,t.g=i,t.m=r,t.h=!1),(r=(i=a-t.l)>=t.o&&r&&!t.h)&&(t.i&&t.i(t.g,i),t.h=!0,t.g=n.g.currentTime),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return e&&e.length&&!vs(e)&&0<=(e=Ss(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.h.gapDetectionThreshold),null==r||0==r&&!e.A||(i=n.start(r),(a=e.h.gapPadding)&&(i=Math.ceil(100*(i+a))/100),i>=e.B.ob()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.j&&(e.j=i),e.C++,e.u(new ta("gapjumped")))))}}}function Eu(e,t,n){this.j=e,this.m=Iu(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=t,this.i=n}function Cu(e){this.g=e}function Iu(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=c(Ss(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Mu(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Du.value().get(t),n.ma(e,t,r))}(r=Tu.prototype).getDuration=function(){return this.l},r.vi=function(){return this.h},r.yh=function(e){this.i=e},r.bb=function(e){this.l=e},r.Bi=function(){return this.i},r.wh=function(e){this.A=e},r.Gc=function(e){e&&!this.B&&(this.I=!0),this.B=e},r.Ce=function(e){this.o=e},r.ae=function(){return this.o},r.jg=function(e){this.C=e},r.li=function(){return this.C},r.kh=function(e,t){if(0!=e.length){var n=(Date.now()+this.A)/1e3;if(0!=(e=e.filter((function(e){return e.start+t<n}))).length){var r=e[e.length-1].end+t;this.ne(e[0].start+t),this.h=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.h),this.g=Math.max(this.g,r),null!=this.i&&this.F&&!this.u&&(this.i=n-this.g-this.h)}}},r.Ed=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3,i=(e=c(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.ne(t),this.g=Math.max(this.g,n),null!=this.i&&this.F&&!this.u&&(this.i=r-this.g-this.h)}},r.jh=function(e,t){this.ne(e),1/0==t||this.U()||(this.g=Math.max(this.g,t))},r.wi=function(){return this.g},r.ie=function(){this.u=!0},r.Wi=function(){return this.u},r.xh=function(e){this.m=e},r.ri=function(){return this.m},r.ne=function(e){null==this.j?this.j=e:this.I||(this.j=Math.min(this.j,e))},r.Tf=function(e){this.h=Math.max(this.h,e)},r.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},r.U=function(){return 1/0==this.l&&!this.B},r.yc=function(){return 1/0!=this.l&&!this.B},r.pb=function(){return Math.max(this.H,this.cc()-this.o)},r.Bh=function(e){this.H=e},r.cc=function(){return this.U()||this.yc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},r.qd=function(e){var t=Math.max(this.j,this.H);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.cc()-this.o+e,this.ob()))},r.Hb=function(){return this.qd(0)},r.ob=function(){return Math.max(0,this.cc()-(this.U()||this.yc()?this.C:0))},r.Kh=function(){return!(null==this.i||null!=this.g&&this.F)},r.vh=function(e){this.G=e},r.ii=function(){return this.G},z("shaka.media.PresentationTimeline",Tu),Tu.prototype.getAvailabilityTimeOffset=Tu.prototype.ii,Tu.prototype.setAvailabilityTimeOffset=Tu.prototype.vh,Tu.prototype.usingPresentationStartTime=Tu.prototype.Kh,Tu.prototype.getSeekRangeEnd=Tu.prototype.ob,Tu.prototype.getSeekRangeStart=Tu.prototype.Hb,Tu.prototype.getSafeSeekRangeStart=Tu.prototype.qd,Tu.prototype.getSegmentAvailabilityEnd=Tu.prototype.cc,Tu.prototype.setUserSeekStart=Tu.prototype.Bh,Tu.prototype.getSegmentAvailabilityStart=Tu.prototype.pb,Tu.prototype.isInProgress=Tu.prototype.yc,Tu.prototype.isLive=Tu.prototype.U,Tu.prototype.offset=Tu.prototype.offset,Tu.prototype.notifyMaxSegmentDuration=Tu.prototype.Tf,Tu.prototype.notifyMinSegmentStartTime=Tu.prototype.ne,Tu.prototype.getInitialProgramDateTime=Tu.prototype.ri,Tu.prototype.setInitialProgramDateTime=Tu.prototype.xh,Tu.prototype.isStartTimeLocked=Tu.prototype.Wi,Tu.prototype.lockStartTime=Tu.prototype.ie,Tu.prototype.getMaxSegmentEndTime=Tu.prototype.wi,Tu.prototype.notifyPeriodDuration=Tu.prototype.jh,Tu.prototype.notifySegments=Tu.prototype.Ed,Tu.prototype.notifyTimeRange=Tu.prototype.kh,Tu.prototype.getDelay=Tu.prototype.li,Tu.prototype.setDelay=Tu.prototype.jg,Tu.prototype.getSegmentAvailabilityDuration=Tu.prototype.ae,Tu.prototype.setSegmentAvailabilityDuration=Tu.prototype.Ce,Tu.prototype.setStatic=Tu.prototype.Gc,Tu.prototype.setClockOffset=Tu.prototype.wh,Tu.prototype.getPresentationStartTime=Tu.prototype.Bi,Tu.prototype.setDuration=Tu.prototype.bb,Tu.prototype.setPresentationStartTime=Tu.prototype.yh,Tu.prototype.getMaxSegmentDuration=Tu.prototype.vi,Tu.prototype.getDuration=Tu.prototype.getDuration,ku.prototype.release=function(){this.o&&(this.o.release(),this.o=null),null!=this.i&&(this.i.stop(),this.i=null),this.m&&(this.m.release(),this.m=null),this.g=this.B=this.u=null},ku.prototype.qe=function(){this.A=!0,this.i&&this.i.ua(this.h.gapJumpTimerTime),Au(this)},Eu.prototype.release=function(){this.i=this.j=null};var Du=new Re((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Pu(e,t,n,r){var i=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new ee,this.i=new Ou(e),Mu(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Nu(i,i.j())}))}function Lu(e){return e.o?e.g.currentTime:e.j()}function Ru(e,t){0<e.g.readyState?ju(e.i,t):Mu(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){Nu(e,e.j())}))}function Nu(e,t){.001>Math.abs(e.g.currentTime-t)?_u(e):(e.h.ma(e.g,"seeking",(function(){_u(e)})),ju(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function _u(e){e.o=!0,e.h.D(e.g,"seeking",(function(){return e.m()})),e.u(e.g.currentTime)}function Ou(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new ze((function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)}))}function ju(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.ua(.1)}function Uu(e){this.h=e,this.j=!1,this.g=null,this.i=new ee}function Fu(e,t,n,r,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.u=i,this.o=null,this.j=new ku(e,t.presentationTimeline,n,a),this.h=new Pu(e,(function(){e:{var e=o.j;e.l=!0,e.A=!1,e.i&&e.i.ua(e.h.gapJumpTimerTime),Au(e);var t=Lu(o.h);if(e=zu(o,t),!qt()&&.001<Math.abs(e-t)){if(t=!1,!$e()||$e()&&it())t=!0;else{var n=Date.now()/1e3,r=$e()&&at()?3:1;(!o.o||o.o<n-r)&&(o.o=n,t=!0)}if(t){Ru(o.h,e),e=void 0;break e}}o.u(),e=void 0}return e}),(function(e){var t=o.j;t.g.seeking&&!t.l&&(t.l=!0,t.j=e),t.i&&t.i.ua(t.h.gapJumpTimerTime),Au(t)}),(function(){var e=r;return null==e?e=1/0>o.g.getDuration()?o.g.Hb():o.g.ob():0>e&&(e=o.g.ob()+e),Bu(o,Vu(o,e))})),this.m=new ze((function(){if(0!=o.i.readyState&&!o.i.paused){var e=Lu(o.h),t=o.g.Hb(),n=o.g.ob();3>n-t&&(t=n-3),e<t&&(e=zu(o,e),o.i.currentTime=e)}}))}function Bu(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function zu(e,t){var n=e.l.rebufferingGoal,r=e.l.safeSeekOffset,i=e.g.Hb(),a=e.g.ob(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.qd(n),u=e.g.qd(r);return n=e.g.qd(n+r),t>=o?Bu(e,t):t>a?a-e.l.safeSeekEndOffset:t<i?bs(e.i.buffered,u)?u:n:t>=s||bs(e.i.buffered,t)?t:n}function Vu(e,t){var n=e.g.Hb();return t<n?n:t>(e=e.g.ob())?e:t}function Hu(e){this.g=e,this.m=null,this.i=0,this.o=!1}function Gu(e){return e.g[0]||null}function Ku(e,t,n){return new Hu([e=new ps(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function qu(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}function Wu(){Hu.call(this,[]),this.h=[]}function Xu(e){var t=this;this.g=e,this.j=!1,this.i=this.g.$d(),this.h=new ze((function(){t.g.gh(.25*t.i)}))}function Yu(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.$d()!=t&&e.g.mg(t))}catch(n){}e.h.ua(.25),0!=e.g.$d()&&e.g.mg(0)}function $u(e){var t=this;this.j=e,this.h=new ee,this.g=new Set,this.i=new ze((function(){Qu(t,!1)})).sb(),e.paused||this.i.ua(.25),this.h.D(e,"playing",(function(){t.i.sb().ua(.25)})),this.h.D(e,"pause",(function(){t.i.stop()}))}function Qu(e,t){for(var n=e.j.currentTime,r=(e=c(e.g)).next();!r.done;r=e.next())r.value.j(n,t)}function Ju(e){ia.call(this),this.g=new Map,this.h=e}function Zu(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function el(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return"video"==e.type&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),"audio"==e.type&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function tl(e){ia.call(this),this.h=new Map,this.i=e,this.g=null}function nl(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1);e.h.has(n)||(e.h.set(n,t),t=new ta("regionadd",new Map([["region",t]])),e.dispatchEvent(t),function(e){e.g||(e.g=new ze((function(){for(var t=e.i(),n=c(e.h),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,(i=i.next().value).endTime<t.start&&(e.h.delete(r),r=new ta("regionremove",new Map([["region",i]])),e.dispatchEvent(r))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)})).ua(2))}(e))}function rl(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function il(e,t){e.l=t;for(var n=(e=c(e.h.values())).next();!n.done;n=e.next())n.value.g=t}function al(e,t,n){if(n=void 0!==n&&n,!e.i.segmentIndex)return Promise.resolve();if(e.g||(e.g=e.i.segmentIndex.Gb(t,!0,e.o)),!e.g)return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value);){var r=!0;n.isPreload()&&null!=n.wa&&(r=!1),2==n.dc()&&(r=!1),n.Ib(!1)&&(r=!1),r&&n.$&&t.push(ol(e,n.$)),r&&!e.h.has(n)&&(r=new fl(e.l),t.push(pl(r,n,e.i)),e.h.set(n,r))}return ll(e),Promise.all(t)}function ol(e,t){if(!e.i.segmentIndex||t.Ib()||Array.from(e.j.keys()).some((function(e){return fs(e,t)})))return Promise.resolve();var n=new fl(e.l),r=pl(n,t,e.i);return e.j.set(t,n),r}function sl(e,t){for(var n=(t=c(t.keys())).next();!n.done;n=t.next())(n=n.value)&&dl(e,n)}function ul(e){sl(e,e.h),sl(e,e.j),e.g=null}function ll(e){for(var t=Array.from(e.h.keys()),n=c(e.j.keys()),r=n.next(),i={};!r.done;i={Nf:void 0},r=n.next())i.Nf=r.value,t.some(function(e){return function(t){return fs(t.$,e.Nf)}}(i))||dl(e,i.Nf)}function cl(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&dl(e,r)}ll(e)}function dl(e,t){var n=e.h;t instanceof ds&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function fl(e){this.g=e,this.Gd=this.pg=null}function pl(e,t,n){var r=new Uint8Array(0);return e.Gd=e.g(t,n,(function(t){return R((function(n){if(1==n.g)return r=0<r.byteLength?Mt(r,t):t,e.pg?S(n,e.pg(r),3):n.s(0);r=new Uint8Array(0),x(n)}))})),e.Gd.promise.catch((function(e){return e instanceof Le&&7001==e.code?Promise.resolve():Promise.reject(e)}))}function hl(e){var t=Br(e);return{type:t.split("/")[0],mimeType:t,codecs:e=zr(e),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Nd:null,colorGamut:null,frameRate:null}}function gl(e,t,n){function r(e){o=e.name;var t=e.reader;t.skip(24);var n=t.na(),r=t.na();t.skip(50),h=String(n),p=String(r),e.reader.ta()&&Ca(e)}function i(e){var t=Po(e.reader);g=t.channelCount,m=t.sampleRate,a(e.name)}function a(e){switch(e=e.toLowerCase()){case"avc1":case"avc3":u.push(e+".42E01E"),d=!0;break;case"hev1":case"hvc1":u.push(e+".1.6.L93.90"),d=!0;break;case"dvh1":case"dvhe":u.push(e+".05.04"),d=!0;break;case"vp09":u.push(e+".00.10.08"),d=!0;break;case"av01":u.push(e+".0.01M.08"),d=!0;break;case"mp4a":s.push("mp4a.40.2"),l=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(e),l=!0}}var o,s=[],u=[],l=!1,d=!1,f=null,p=null,h=null,g=null,m=null,v=null,y=null;if((new Ea).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){f=Mo(e.reader,e.version).language})).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("mp4a",(function(e){var t=Po(e.reader);g=t.channelCount,m=t.sampleRate,e.reader.ta()?Ca(e):a(e.name)})).box("esds",(function(e){e=e.reader;for(var t,n,r="mp4a";e.ta();){t=e.X();for(var i=e.X();128&i;)i=e.X();if(3==t)e.na(),128&(i=e.X())&&e.na(),64&i&&e.skip(e.X()),32&i&&e.na();else if(4==t)n=e.X(),e.skip(12);else if(5==t)break}n&&(r+="."+Ro(n),5==t&&e.ta()&&(31==(n=(248&(t=e.X()))>>3)&&e.ta()&&(n=32+((7&t)<<3)+((224&e.X())>>5)),r+="."+n)),s.push(r),l=!0})).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",(function(e){var t=o||"";switch(o){case"dvav":t="avc3";break;case"dva1":t="avc1"}(e=e.reader).skip(1),e=t+"."+Ro(e.X())+Ro(e.X())+Ro(e.X()),u.push(e),d=!0})).box("hvcC",(function(e){var t=o||"";switch(o){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var n=e.reader;n.skip(1);var r=["","A","B","C"][(e=n.X())>>6],i=31&e,a=n.S(),s=(32&e)>>5?"H":"L";e=[n.X(),n.X(),n.X(),n.X(),n.X(),n.X()],n=n.X();for(var l=0,c=0;32>c&&(l|=1&a,31!=c);c++)l<<=1,a>>=1;for(t=t+"."+r+i+"."+Ro(l,!0),t+="."+s+n,r="",i=e.length;i--;)((s=e[i])||r)&&(r="."+s.toString(16).toUpperCase()+r);t+=r,u.push(t),d=!0})).box("dvcC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+No(e>>1&127)+"."+No(e<<5&32|n>>3&31)),d=!0})).box("dvvC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+No(e>>1&127)+"."+No(e<<5&32|n>>3&31)),d=!0})).R("vpcC",(function(e){var t=o||"",n=e.reader;e=n.X();var r=n.X();n=n.X()>>4&15,u.push(t+"."+No(e)+"."+No(r)+"."+No(n)),d=!0})).box("av1C",(function(e){var t=o||"";"dav1"===o&&(t="av01");var n=e.reader;n.skip(1);var r=(e=n.X())>>>5,i=(64&(n=n.X()))>>6;u.push(t+"."+r+"."+No(31&e)+(n>>>7?"H":"M")+"."+No(2===r&&i?(32&n)>>5?12:10:i?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+No(1)+"."+No(1)+"."+No(1)+".0"),d=!0})).box("enca",Da).box("encv",Ma).box("sinf",Ca).box("frma",(function(e){a(e=Lo(e.reader).codec)})).box("colr",(function(e){u=u.map((function(t){if(t.startsWith("av01.")){var n=e.reader,r=n.Ba(),i=n.Cb(4),a=String.fromCharCode(i[0]);if(a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),"nclx"===(a+=String.fromCharCode(i[3]))){i=n.na(),a=n.na();var o=n.na(),s=n.X()>>7,u=t.split(".");10==u.length&&(u[6]=No(i),u[7]=No(a),u[8]=No(o),u[9]=String(s),t=u.join("."))}n.seek(r)}return t}));var t=function(e){var t=null,n=null,r=e.Cb(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),"nclx"===(i+=String.fromCharCode(r[3]))){switch(e.na()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.na(),e.na(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Nd:n}}(e.reader),n=t.colorGamut;v=t.Nd,y=n})).parse(e||t,!0),!s.length&&!u.length)return null;var b=l&&!d,w=new Map;if(d&&!n){n=new Qt("video/mp4"),e&&n.init(e);try{n.i(t);for(var S=c(n.j()),x=S.next();!x.done;x=S.next()){var T=x.value;w.set(T,T)}}catch(k){}n.g()}return{type:b?"audio":"video",mimeType:b?"audio/mp4":"video/mp4",codecs:ml(s.concat(u)).join(", "),language:f,height:p,width:h,channelCount:g,sampleRate:m,closedCaptions:w,Nd:v,colorGamut:y,frameRate:null}}function ml(e){for(var t=new Set,n=[],r=(e=c(e)).next();!r.done;r=e.next()){var i=Fr(r=r.value);t.has(i)||(n.push(r),t.add(i))}return t=_t("audio",n),r=_t("video",n),e=_t(Ot,n),r=function(e){if(1>=e.length)return e;var t=e.find((function(e){return e.startsWith("dvav.")||e.startsWith("dva1.")||e.startsWith("dvh1.")||e.startsWith("dvhe.")||e.startsWith("dav1.")||e.startsWith("dvc1.")||e.startsWith("dvi1.")}));return t?Gt('video/mp4; codecs="'+t+'"')?[t]:e.filter((function(e){return e!=t})):e}(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function vl(t,n,r){var i,a,o,s,u;return R((function(l){if(1==l.g)return(i=n).cryptoKey?l.s(2):S(l,i.fetchKey(),3);if(!(a=i.iv))for(a=Ie(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r,s=a.byteLength-1;0<=s;s--)a[s]=255&o,o>>=8;return u="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},l.return(e.crypto.subtle.decrypt(u,i.cryptoKey,t))}))}function yl(e,t,n,r,i){return e=ca(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function bl(e,t){var n=this;this.g=t,this.j=e,this.h=null,this.K=new Map,this.C=1,this.u=this.l=null,this.O=0,this.i=new Map,this.I=!1,this.P=null,this.B=!1,this.m=new ya((function(){return function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(t=[],n=c(e.i.values()),r=n.next();!r.done;r=n.next())Ol(i=r.value),t.push(jl(i)),i.ba&&(ul(i.ba),i.ba=null);for(a=c(e.o.values()),o=a.next();!o.done;o=a.next())ul(o.value);return S(s,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.j=null,e.h=null,e.A&&e.A.stop(),e.A=null,e.H&&e.H.stop(),e.H=null,e.G=null,x(s)}))}(n)})),this.L=Date.now()/1e3,this.o=new Map,this.M={projection:null,hfov:null},this.W=0,this.T=1/0,this.F=null,this.A=new ze((function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var e=n.j.presentationTimeline.Hb(),t=n.j.presentationTimeline.ob();1<t-e?function(e,t,n){R((function(r){return nu(e)||ru(e)?r.return():S(r,mu(e,(function(){nu(e)||ru(e)||e.i.setLiveSeekableRange(t,n)})),0)}))}(n.g.aa,e,t):cu(n.g.aa)}else cu(n.g.aa),n.A&&n.A.stop()})),this.G=null,this.H=new ze((function(){var e=n.g.video;!e.ended&&n.G&&(e.currentTime=n.G,n.G=null)}))}function wl(e,t){for(var n=0>e.g.gb(),r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).ja&&i.ja.ed(n),i.ba&&i.ba.ed(n);for(i=(r=c(e.o.values())).next();!i.done;i=r.next())i.value.ed(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.fc&&(Tl(e,t,!1,0,!1),n.fc=r):(t=n.fc)&&(n.fc=null,Tl(e,t,!0,0,!1)))}function Sl(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.l=t,e.I&&(t.video&&Tl(e,t.video,n,r,i,a),t.audio&&Tl(e,t.audio,n,r,i,a))}function xl(e,t){R((function(n){if(1==n.g)return e.F=null,e.u=t,e.I?t.segmentIndex?n.s(2):S(n,t.createSegmentIndex(),2):n.return();Tl(e,t,!0,0,!1),x(n)}))}function Tl(e,t,n,r,i,a){var o=e.i.get(t.type);o||t.type!=Ot?o&&(o.fc&&(t.trickModeVideo?(o.fc=t,t=t.trickModeVideo):o.fc=null),o.stream!=t||i)&&(e.o.has(t)?o.ba=e.o.get(t):o.ba&&function(e,t){t&&t!==e.i&&(ul(e),e.i=t)}(o.ba,t),t.type==Ot&&(i=Rr(t.mimeType,t.codecs),tu(e.g.aa,i,e.j.sequenceMode,t.external)),!e.o.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Da?(i="("+o.type+":"+o.stream.id+")",e.K.has(i)||e.K.set(i,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),i=o.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,o.stream=t,o.ja=null,o.bf=!!a,t.dependencyStream?o.nd=Al(e,t.dependencyStream):o.nd=null,i?Fl(e,!0,!1):(n?o.nc?o.Re=!0:o.Da?(o.lc=!0,o.Vd=r,o.Re=!0):(Ol(o),Nl(e,o,!0,r).catch((function(t){e.g&&e.g.onError(t)}))):o.Da||o.kb||_l(e,o,0),function(e,t){var n,r;return R((function(i){if(1==i.g)return t.rb?(n=t.stream,r=t.rb,n.segmentIndex?i.s(2):S(i,n.createSegmentIndex(),2)):i.return();if(t.rb!=r||t.stream!=n)return i.return();var a=e.g.Rc(),o=au(e.g.aa,t.type),s=t.stream.segmentIndex.find(t.xa?t.xa.endTime:a),u=null==s?null:t.stream.segmentIndex.get(s);s=u&&u.wa?u.wa-u.Sa:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),s?((u=u.$)&&(s+=(u.wa?u.wa-u.Sa:null)||0),a=8*s/(u=e.g.getBandwidthEstimate())<(o||0)-a-e.h.rebufferingGoal||t.rb.h.g>s):a=!1,a&&t.rb.abort(),x(i)}))}(e,o).catch((function(t){e.g&&e.g.onError(t)})))):function(e,t){var n,r,i,a,o;R((function(s){switch(s.g){case 1:return n=jt,e.O++,r=e.O,T(s,2),S(s,uu(e.g.aa,n.za),4);case 4:A(s,3);break;case 2:i=E(s),e.g&&e.g.onError(i);case 3:a=Rr(t.mimeType,t.codecs),tu(e.g.aa,a,e.j.sequenceMode,t.external),(e.g.aa.ea.isTextVisible()||e.h.alwaysStreamText)&&e.O==r&&(o=Al(e,t),e.i.set(n.za,o),_l(e,o,0)),x(s)}}))}(e,t)}function kl(e,t){t.nc||t.lc||(t.Da?(t.lc=!0,t.Vd=0):null==iu(e.g.aa,t.type)?null==t.kb&&_l(e,t,0):(Ol(t),Nl(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function Al(e,t){var n={stream:t,type:t.type,ja:null,ba:El(e,t),xa:null,yb:null,he:null,Ac:null,zc:null,fe:null,ge:null,fc:null,endOfStream:!1,Da:!1,kb:null,lc:!1,Vd:0,Re:!1,nc:!1,Fc:!0,bf:!1,bg:!1,sd:!1,rb:null,nd:null};return t.dependencyStream&&(n.nd=Al(e,t.dependencyStream)),n}function El(e,t){if("video"===t.type&&e.h.disableVideoPrefetch||"audio"===t.type&&e.h.disableAudioPrefetch||t.type===Ot&&("application/cea-608"==t.mimeType||"application/cea-708"==t.mimeType)||t.type===Ot&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new rl(e.h.segmentPrefetchLimit,t,(function(t,n,r){return Rl(t,n,r||null,e.h.retryParameters,e.g.Xb)}),0>e.g.gb()):null}function Cl(t,n){var r,i,a,o,s,u;return R((function(l){switch(l.g){case 1:if(ba(t.m),n.Da||null==n.kb||n.nc)return l.return();if(n.kb=null,!n.lc){l.s(2);break}return S(l,Nl(t,n,n.Re,n.Vd),3);case 3:return l.return();case 2:if(function(e,t){for(var n=c(e.K.entries()),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.K.delete(r))}}(t,n),n.stream.segmentIndex){l.s(4);break}return r=n.stream,T(l,5),S(l,n.stream.createSegmentIndex(),7);case 7:A(l,6);break;case 5:return i=E(l),S(l,Ul(t,n,i),8);case 8:return l.return();case 6:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.Da||n.kb||_l(t,n,0),l.return();case 4:T(l,9),a=function(t,n){if(Pl(n))return function(e,t){var n=au(e,"video")||0;$r(e.h,t,n)}(t.g.aa,n.stream.originalId||""),null;if(n.type==Ot&&function(e){e.h&&$r(e.h,"",0)}(t.g.aa),n.stream.isAudioMuxedInVideo)return null;var r=t.h.updateIntervalSeconds/Math.max(1,Math.abs(t.g.gb()));if(!eu(t.g.aa)&&n.type!=Ot)return r/2;var i=t.g.Rc();if("audio"===n.type)for(var a=c(t.o.keys()),o=a.next();!o.done;o=a.next())(o=t.o.get(o.value)).Oa(i,!0),al(o,i);a=n.xa?n.xa.endTime:i;var s=function(e,t,n){return t==Ot?null==(e=e.h).h||e.h<n?0:e.h-Math.max(n,e.g):ws(e=ou(e,t),n)}(t.g.aa,n.type,i),u=Math.max(1,Math.max(t.h.rebufferingGoal,t.h.bufferingGoal)*t.C),l=t.j.presentationTimeline.getDuration()-a;if(o=au(t.g.aa,n.type),1e-6>l&&o)return n.endOfStream=!0,"video"==n.type&&(t=t.i.get(Ot))&&Pl(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,s>=u)return r/2;if(u=!n.ja,o=function(e,t,n,r){if(t.ja)return(n=t.ja.current())&&t.xa&&.001>Math.abs(t.xa.startTime-n.startTime)&&(n=t.ja.next().value),n;if(t.xa||r)return n=t.xa?t.xa.endTime:r,e=0>e.g.gb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),t.ja&&t.ja.next().value;r=e.j.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.gb();var a=null;return r&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(i,!1,e)),a=t.ja&&t.ja.next().value),a||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),a=t.ja&&t.ja.next().value),a}(t,n,i,o),!o)return r;s=!1,u&&n.bf&&(s=!0,n.bf=!1),u=1/0;for(var d=(l=c(l=Array.from(t.i.values()))).next();!d.done;d=l.next())Pl(d=d.value)||d.ja&&!d.ja.current()||(u=Math.min(u,d.xa?d.xa.endTime:i));return a>=u+t.j.presentationTimeline.h?r:("keep"!==t.h.crossBoundaryStrategy&&function(e,t,n){if(t.type===Ot)return!1;var r=t.yb;if(!r)return!1;n=n.$;var i=r.g!==n.g;if("reset_to_encrypted"===e.h.crossBoundaryStrategy&&(r.encrypted||n.encrypted||(i=!1),r.encrypted&&(e.h.crossBoundaryStrategy="keep")),"RESET_ON_ENCRYPTION_CHANGE"===e.h.crossBoundaryStrategy&&r.encrypted==n.encrypted&&(i=!1),i&&t.Fc){var a=e.g.video,o=a.paused;Fl(e,!0).then((function(){e.g.onEvent(new ta("boundarycrossed")),o||a.play()}))}return i}(t,n,o)||(n.ba&&n.ja&&!t.o.has(n.stream)&&(n.ba.Oa(o.startTime),al(n.ba,o.startTime).catch((function(){}))),function(t,n,r,i,a){var o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,k;return R((function(C){switch(C.g){case 1:if(o=jt,s=n.stream,u=n.ja,n.Da=!0,T(C,2),2==i.dc())throw new Le(1,1,1011);return S(C,function(e,t,n,r){var i,a,o,s,u,l,c,d,f,p,h,g,m,v,y,b;return R((function(w){switch(w.g){case 1:if(i=jt,a=null==t.xa,o=[],s=Math.max(0,Math.max(n.appendWindowStart,e.W)-.1),u=Math.min(n.appendWindowEnd,e.T)+.01,l=n.codecs||t.stream.codecs,c=Fr(l),d=Br(n.mimeType||t.stream.mimeType),(f=n.timestampOffset)==t.he&&s==t.Ac&&u==t.zc&&c==t.fe&&d==t.ge){w.s(2);break}if(p=t.fe&&t.ge&&function(e,t,n,r){if(t==Ot)var i=!1;else{i=Ur(zr(e.B.get(t)));var a=Br(e.B.get(t)),o=Rr(n,r),s=e.A.forceTransmux;(!Gt(o)||!e.F&&Kr.includes(o))&&(s=!0),n=Nr(n,r),s&&(s=Er(n))&&(o=(s=s()).convertCodecs(t,n),s.destroy()),t=Ur(zr(o)),o=Br(o),i=i!==t||a!==o}return!!i&&("smooth"!==e.A.codecSwitchingStrategy||!Kt()||e.m)}(e.g.aa,t.type,d,l),!p){w.s(3);break}if(h=null,t.type===i.la?h=e.i.get(i.V):t.type===i.V&&(h=e.i.get(i.la)),!h){w.s(3);break}return S(w,jl(h).catch((function(){})),5);case 5:h.yb=null,h.Ac=null,h.zc=null,kl(e,h);case 3:return S(w,Il(e,t,f,s,u,n,c,d),2);case 2:return fs(n.$,t.yb)||(t.yb=n.$,n.l&&n.$&&(g=Ll(e,t,n.$),m=function(){var a,o,s,u,l,c;return R((function(d){switch(d.g){case 1:return T(d,2),S(d,g,4);case 4:return a=d.h,ba(e.m),o=null,s=new Map,u={projection:null,hfov:null},(new Ea).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){o=Mo(e.reader,e.version).timescale})).box("hdlr",(function(e){switch((e=e.reader).skip(8),e.Cc()){case"soun":s.set(i.V,o);break;case"vide":s.set(i.la,o)}o=null})).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("encv",Ma).box("avc1",Ma).box("avc3",Ma).box("hev1",Ma).box("hvc1",Ma).box("dvav",Ma).box("dva1",Ma).box("dvh1",Ma).box("dvhe",Ma).box("dvc1",Ma).box("dvi1",Ma).box("vexu",Ca).box("proj",Ca).R("prji",(function(e){e=e.reader.Cc(),u.projection=e})).box("hfov",(function(e){e=e.reader.S()/1e3,u.hfov=e})).parse(a),t.type===i.la&&function(e,t){if(e.M.projection!=t.projection||e.M.hfov!=t.hfov){if(null!=t.projection||null!=t.hfov){var n=(new Map).set("detail",t);n=new ta("spatialvideoinfo",n)}else n=new ta("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.M=t}}(e,u),s.has(t.type)?n.$.timescale=s.get(t.type):null!=o&&(n.$.timescale=o),l=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,S(d,e.g.Fg(t.type,a),5);case 5:return S(d,su(e.g.aa,t.type,a,null,t.stream,l,t.Fc,r),6);case 6:A(d,0);break;case 2:throw c=E(d),t.yb=null,c}}))},v=n.startTime,a&&null!=(y=au(e.g.aa,t.type))&&(v=y),e.g.fj(v,n.$),o.push(m()))),b=t.xa?t.xa.i:null,n.i!=b&&o.push(function(e,t,n){var r,i;return R((function(a){return 1==a.g?t==(r=jt).za?a.return():(t==r.la&&(e.Fa=new Xi),!e.F||(i=au(e,t))&&.1>Math.abs(i-n)?a.return():(gu(e,t,(function(){return fu(e,t)}),null),e.m&&gu(e,r.V,(function(){return fu(e,r.V)}),null),S(a,gu(e,t,(function(){return pu(e,t,n)}),null),2))):e.m?S(a,gu(e,r.V,(function(){return pu(e,r.V,n)}),null),0):a.s(0)}))}(e.g.aa,t.type,n.startTime)),S(w,Promise.all(o),0)}}))}(t,n,i,a),4);case 4:return ba(t.m),t.B?C.return():(l="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,c=e.ReadableStream,t.h.lowLatencyMode&&t.j.isLowLatency&&c&&l&&("HLS"!=t.j.type||i.m)?(f=new Uint8Array(0),h=p=!1,m=function(e){var o,u,l;return R((function(c){switch(c.g){case 1:if(p)return c.return();if(h=!0,ba(t.m),t.B)return c.return();if(T(c,2),f=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(f,e),o=!1,u=0,(new Ea).box("mdat",(function(e){u=e.size+e.start,o=!0})).parse(f,!1,!0),!o){c.s(4);break}return l=f.subarray(0,u),f=f.subarray(u),S(c,Ml(t,n,r,s,i,l,!0,a),5);case 5:n.ba&&n.ja&&al(n.ba,i.startTime,!0);case 4:A(c,0);break;case 2:g=E(c),x(c)}}))},S(C,Ll(t,n,i,m),9)):S(C,Ll(t,n,i),7));case 7:return d=C.h,ba(t.m),t.B?C.return():(ba(t.m),n.lc?(n.Da=!1,_l(t,n,0),C.return()):S(C,Ml(t,n,r,s,i,d,!1,a),6));case 9:if(v=C.h,g)throw g;if(h){C.s(10);break}return p=!0,ba(t.m),t.B?C.return():n.lc?(n.Da=!1,_l(t,n,0),C.return()):S(C,Ml(t,n,r,s,i,v,!1,a),10);case 10:n.ba&&n.ja&&al(n.ba,i.startTime,!0);case 6:if(ba(t.m),t.B)return C.return();n.xa=i,u.next(),n.Da=!1,n.bg=!1,y=t.g.aa.Fb(),b=y[n.type],JSON.stringify(b),n.lc||(w=null,n.type===o.la?w=t.i.get(o.V):n.type===o.V&&(w=t.i.get(o.la)),w&&w.type==o.V?t.g.qe(i,n.stream,w.stream.isAudioMuxedInVideo):t.g.qe(i,n.stream,n.stream.codecs.includes(","))),_l(t,n,0),A(C,0);break;case 2:if(k=E(C),ba(t.m,k),t.B)return C.return();if(n.Da=!1,7001==k.code)n.Da=!1,Ol(n),_l(t,n,0),C.s(0);else{if(n.type!=o.za||!t.h.ignoreTextStreamFailures)return 3017==k.code?S(C,function(e,t,n){var r,i,a;return R((function(o){if(1==o.g){if(Array.from(e.i.values()).some((function(e){return e!=t&&e.bg})))return o.s(2);if(r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,r))return o.return();if(e.h.avoidEvictionOnQuotaExceededError)return _l(e,t,4),o.return();if(20<(i=Math.round(100*e.C)))e.C-=.2;else{if(!(4<i))return t.sd=!0,e.B=!0,e.g.onError(n),o.return();e.C-=.04}return t.bg=!0,a=e.g.Rc(),S(o,Dl(e,t,a),2)}_l(e,t,4),x(o)}))}(t,n,k),0):(n.sd=!0,1==k.category&&n.ba&&dl(n.ba,i),k.severity=2,S(C,Ul(t,n,k),0));t.i.delete(o.za),C.s(0)}}}))}(t,n,i,o,s).catch((function(){})),n.nd&&function(e,t,n){var r,i,a,o,s,u,l,c;R((function(d){switch(d.g){case 1:if(r=t.stream,!(a=(i=r.segmentIndex.Gb(n))&&i.next().value)){d.s(0);break}if(!(o=a.$)||fs(o,t.yb)){d.s(3);break}return t.yb=o,T(d,4),S(d,Ll(e,t,o),6);case 6:s=d.h;var f=e.g.aa;f.I&&zt(f.I,s,0,r),A(d,3);break;case 4:throw u=E(d),t.yb=null,u;case 3:if(t.xa&&t.xa==a){d.s(0);break}return t.xa=a,T(d,8),S(d,Ll(e,t,a),10);case 10:l=d.h,(f=e.g.aa).I&&zt(f.I,l,0,r),A(d,0);break;case 8:throw c=E(d),t.xa=null,c}}))}(t,n.nd,i)),null)}(t,n),null!=a&&(_l(t,n,a),n.sd=!1),A(l,10);break;case 9:return o=E(l),S(l,Ul(t,n,o),11);case 11:return l.return();case 10:if(s=Array.from(t.i.values()),!t.I||!s.every((function(e){return e.endOfStream}))){l.s(0);break}return S(l,t.g.aa.endOfStream(),13);case 13:ba(t.m),0!=(u=t.g.aa.getDuration())&&u<t.j.presentationTimeline.getDuration()&&t.j.presentationTimeline.bb(u),x(l)}}))}function Il(e,t,n,r,i,a,o,s){var u,l,c,d;return R((function(f){if(1==f.g)return u=jt,l=new Map,e.l.audio&&l.set(u.V,e.l.audio),e.l.video&&l.set(u.la,e.l.video),T(f,2),t.Ac=r,t.zc=i,o&&(t.fe=o),s&&(t.ge=s),t.he=n,c=e.j.sequenceMode||"HLS"==e.j.type,S(f,lu(e.g.aa,t.type,n,r,i,c,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,l),4);if(2!=f.g)return A(f,0);throw d=E(f),t.Ac=null,t.zc=null,t.fe=null,t.ge=null,t.he=null,d}))}function Ml(e,t,n,r,i,a,o,s){var u,l,c,d,f,p;return o=void 0!==o&&o,s=void 0!==s&&s,R((function(h){switch(h.g){case 1:return u=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(c="video/mp4"==r.mimeType||"audio/mp4"==r.mimeType,d=null,i.$&&(d=i.$.timescale),(f=c&&d&&"video"===r.type&&"DASH"==e.j.type)&&(l=new Ea),f&&l.box("moof",Ca).box("traf",Ca).R("tfdt",(function(n){var r,a,o,s,u;return R((function(l){return r=Io(n.reader,n.version),(a=r.baseMediaDecodeTime)?(o=-a/d,(Number(t.he)||0)<o?(s=t.Ac,u=t.zc,S(l,Il(e,t,o,s,u,i),0)):l.s(0)):l.return()}))})),f&&l.parse(a,!1,o)),S(h,Dl(e,t,n),2);case 2:return ba(e.m),p=t.Fc,t.Fc=!1,S(h,e.g.Fg(t.type,a),3);case 3:return S(h,su(e.g.aa,t.type,a,i,r,u,p,s,o),4);case 4:ba(e.m),x(h)}}))}function Dl(e,t,n){var r,i,a,o,s,u,l,c;return R((function(d){return 1==d.g?((r=t.stream.segmentIndex)instanceof Wu&&r.Oa(e.j.presentationTimeline.pb()),i=Math.max(e.h.bufferBehind*e.C,e.j.presentationTimeline.h),null==(a=iu(e.g.aa,t.type))?(e.F==t&&(e.F=null),d.return()):(o=n-a,s=e.h.evictionGoal,u=e.j.presentationTimeline.Hb(),l=e.j.presentationTimeline.ob(),c=o-i,l-u>s&&(c=Math.max(o-i,u-s-a)),c<=s?d.return():S(d,e.g.aa.remove(t.type,a,a+c),2))):4!=d.g?(ba(e.m),e.F?S(d,Dl(e,e.F,n),4):d.s(0)):(ba(e.m),void x(d))}))}function Pl(e){return e&&e.type==Ot&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function Ll(e,t,n,r){var i,a,o,s,u;return R((function(l){switch(l.g){case 1:if(i=n.Ib())return l.return(i);if(a=null,t.ba){var c=t.ba,d=c.h;n instanceof ds&&(d=c.j),d.has(n)?(c=d.get(n),r&&(c.pg=r),a=c.Gd):a=null}return a||(a=Rl(n,t.stream,r||null,e.h.retryParameters,e.g.Xb)),o=0,t.ja&&(o=t.ja.h),t.rb=a,S(l,a.promise,2);case 2:if(s=l.h,t.rb=null,u=s.data,!n.aesKey){l.s(3);break}return S(l,vl(u,n.aesKey,o),4);case 4:u=l.h;case 3:return l.return(u)}}))}function Rl(e,t,n,r,i,a){a=void 0!==a&&a;var o=e instanceof ps?e:void 0,s=o?1:0;return(e=yl(e.N(),e.Sa,e.wa,r,n)).contentType=t.type,i.request(ga,e,{type:s,stream:t,segment:o,isPreload:a})}function Nl(e,t,n,r){var i,a;return R((function(o){return 1==o.g?(t.lc=!1,t.Re=!1,t.Vd=0,t.nc=!0,t.xa=null,t.ja=null,t.ba&&!e.o.has(t.stream)&&ul(t.ba),r?(i=e.g.Rc(),a=e.g.aa.getDuration(),S(o,e.g.aa.remove(t.type,i+r,a),3)):S(o,uu(e.g.aa,t.type),4)):3!=o.g?(ba(e.m),n?S(o,e.g.aa.flush(t.type),3):o.s(3)):(ba(e.m),t.nc=!1,t.endOfStream=!1,t.Da||t.kb||_l(e,t,0),void x(o))}))}function _l(e,t,n){var r=t.type;(r!=Ot||e.i.has(r))&&(t.kb=new Be((function(){var n;return R((function(r){return 1==r.g?(T(r,2),S(r,Cl(e,t),4)):2!=r.g?A(r,0):(n=E(r),e.g&&e.g.onError(n),void x(r))}))})).da(n))}function Ol(e){null!=e.kb&&(e.kb.stop(),e.kb=null)}function jl(e){return R((function(t){return e.rb?S(t,e.rb.abort(),0):t.s(0)}))}function Ul(e,t,n){var r;return R((function(i){if(1==i.g)return 3024==n.code?(t.Da=!1,Ol(t),_l(e,t,0),i.return()):S(i,Wi(e.P),2);if(ba(e.m),1===n.category&&1003!=n.code){if(t.fc)return wl(e,!1),i.return();r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}n.handled&&1011==n.code||e.g.onError(n),n.handled||e.h.failureCallback(n),x(i)}))}function Fl(e,t,n){var r,i,a,o,s,u;return t=void 0!==t&&t,n=void 0===n||n,R((function(l){if(1==l.g){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.L<i)return l.return(!1);e.L=r}return a=jt,(o=e.i.get(a.V))&&(o.yb=null,o.Ac=null,o.zc=null,n&&kl(e,o),jl(o).catch((function(){})),o.ja&&o.ja.dg()),(s=e.i.get(a.la))&&(s.yb=null,s.Ac=null,s.zc=null,n&&kl(e,s),jl(s).catch((function(){})),s.ja&&s.ja.dg()),u=new Map,e.l.audio&&u.set(a.V,e.l.audio),e.l.video&&u.set(a.la,e.l.video),S(l,bu(e.g.aa,u),2)}return!s||s.nc||s.Da||s.kb||_l(e,s,0),!o||o.nc||o.Da||o.kb||_l(e,o,0),l.return(!0)}))}function Bl(e){if("keep"!==e.h.crossBoundaryStrategy){e.H.stop();var t=e.g.Rc(),n=e.i.get("video")||e.i.get("audio");n&&(n=n.yb)&&null!==n.g&&(0>(t=n.g-t)||1<t||(e.G=n.g+.01,e.H.da(t)))}}function zl(){}function Vl(e,t,n,r,i){var a,o=i in r,s=o?n.constructor==Object&&0==Object.keys(r).length:n.constructor==Object&&0==Object.keys(n).length,u=o||s,l=!0;for(a in t){var c=i+"."+a,d=o?r[i]:n[a];u||a in n?void 0===t[a]?void 0===d||u?delete e[a]:e[a]=vn(d):s?e[a]=t[a]:d.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=vn(d)),c=Vl(e[a],t[a],d,r,c),l=l&&c):typeof t[a]!=typeof d||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=d.constructor?(X("Invalid config, wrong type for "+c),l=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&Y("Unexpected number of arguments for "+c),e[a]=t[a]):(X("Invalid config, unrecognized key "+c),l=!1)}return l}function Hl(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function Gl(e,t){return e&&t}function Kl(e,t){function n(e){return e&&"object"==typeof e&&!Array.isArray(e)}return e=function e(t,r){return Object.keys(t).reduce((function(i,a){var o=t[a];return r.hasOwnProperty(a)?o instanceof HTMLElement&&r[a]instanceof HTMLElement?o.isEqualNode(r[a])||(i[a]=o):n(o)&&n(r[a])?(o=e(o,r[a]),(0<Object.keys(o).length||!n(o))&&(i[a]=o)):Array.isArray(o)&&Array.isArray(r[a])?un(o,r[a])||(i[a]=o):Number.isNaN(o)&&Number.isNaN(r[a])||o!==r[a]&&(i[a]=o):i[a]=o,i}),{})}(e,t),function e(t){for(var r=c(Object.keys(t)),i=r.next();!i.done;i=r.next())if(!(t[i=i.value]instanceof HTMLElement))if(n(t[i])&&0===Object.keys(t[i]).length)delete t[i];else{var a=t[i];Array.isArray(a)&&0===a.length||"function"==typeof t[i]?delete t[i]:n(t[i])&&(e(t[i]),0===Object.keys(t[i]).length&&delete t[i])}}(e),e}function ql(){}function Wl(e){return new le(e=vt(e)).nb}function Xl(e,t,n){function r(e){De(a).setUint32(o,e.byteLength,!0),o+=4,a.set(Ie(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Le(2,6,6015);var i;i="string"==typeof t?bt(t,!0):t,e=bt(e=vt(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function Yl(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Xl(e,n=vt(e).split("skd://").pop(),t))}function $l(e,t){2===e&&(e=t.drmInfo)&&je(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}function Ql(){this.g=null}function Jl(){}function Zl(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,r){return"apple"===e.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,t=Xl(t,r=Wl(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Ke(),minHdcpVersion:"",ignoreDuplicateInitData:!st("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(Ke()||et())&&n.preferredKeySystems.push("com.microsoft.playready");var r="reload",i=!1;!Kt()||qe()||et()||Ze()||Xe()&&79===Qe()||$e()&&!it()&&!at()||rt()&&Ge()||(r="smooth",i=!0),i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:nc,manifestPreprocessorTXml:rc,sequenceMode:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:ct(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:nc,manifestPreprocessorTXml:rc,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var a={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return Gl([e])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:et()||Ze(),dontChooseCodecs:!1,shouldFixTimestampOffset:Xe()||qe(),avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep"};(Xe()||qe()||$e()||tt())&&(a.stallSkip=0),(navigator.userAgent.match(/Edge\//)||Ke())&&(a.gapPadding=.01),qe()&&(a.gapPadding=2),Ye()&&(a.crossBoundaryStrategy="reset"),We()&&(a.crossBoundaryStrategy="reset_to_encrypted");var o={trackSelectionCallback:function(e){return R((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return R((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?S(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return Gl([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5};t={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:Je()?.5:0,preferNetworkInformationBandwidth:!1},r={codecSwitchingStrategy:r,addExtraFeaturesToSourceBuffer:function(e){return Gl([e],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(e,t){return Gl([e,t])},dispatchAllEmsgBoxes:!1};var s=!1,u=!1,l=!0;ot()&&(u=s=!0,l=!1);var f={drm:n,manifest:i,streaming:a,mediaSource:r,offline:o,abrFactory:function(){return new Vi},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(Ql,[null].concat(d(N.apply(0,arguments)))))},abr:t,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:s,skipPlayDetection:u,supportsMultipleMediaElements:l,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(t){return R((function(n){return n.return(function(t,n,r){var i=r;"AUTO"==i&&(i=e.matchMedia("(color-gamut: p3)").matches?t.some((function(e){return!(!e.hdr||"HLG"!=e.hdr)}))?"HLG":"PQ":"SDR");var a=t.filter((function(e){return!("variant"!=e.type||e.hdr&&e.hdr!=i)}));r=[];var o=di(n,a.map((function(e){return e.language})));o&&(r=a.filter((function(e){return si(e.language)==o}))),0==r.length&&(r=a.filter((function(e){return e.primary}))),0==r.length&&(a.map((function(e){return e.language})),r=a);var s=r.filter((function(e){return e.height&&480>=e.height}));for(s.length&&(s.sort((function(e,t){return t.height-e.height})),r=s.filter((function(e){return e.height==s[0].height}))),n=[],r.length&&(a=Math.floor(r.length/2),r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[a])),t=c(t),r=t.next();!r.done;r=t.next())(r=r.value).type!=Ot&&"image"!=r.type||n.push(r);return n}(t,f.preferredAudioLanguage,f.preferredVideoHdrLevel))}))},f}function ec(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function tc(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Vl(e,t,n||Zl(),r,"")}function nc(e){return Gl([e],e)}function rc(e){return Gl([e],e)}function ic(){this.g=null,this.h=[]}function ac(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=c(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function oc(){this.i=this.h=null,this.g=[]}function sc(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function uc(){this.mc=this.bh=this.u=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.T=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new ic,this.h=new oc}function lc(e,t,n,r){ia.call(this),this.O=e,this.Y=t,this.Fa=r.networkingEngine,this.B=n,this.o=null,this.ya=0,this.Ma=r.Lc,this.F=r.Zi,this.Na=r.$i,this.g=r.config,this.l=this.G=this.h=null,this.pa=!1,this.H=r.kj,this.sa=!1,this.i=null,this.ka=!1,this.j=this.C=null,this.ea=!1,this.M=new Map,this.Aa=!1,this.Ga=r.jj,this.Z=new uc,this.oa=new Xi,this.m=new Xi,this.P=null,this.u=!1,this.fa=r.Uh,this.W=this.K=null,this.La=r.Th,this.T=!1,this.L=[],this.I=[],this.A=!0}function cc(e,t,n){(e=t?e.I:e.L)?e.push(n):n()}function dc(e,t){if(e.P=t,e.T=!0,e.L)for(var n=(t=c(e.L)).next();!n.done;n=t.next())(n=n.value)();e.L=null}function fc(e){if(e.u)throw new Le(2,7,7003)}function pc(e,t){e.dispatchEvent(new ta("onstatechange",(new Map).set("state",t)))}function hc(e,t){var n,r,i,a;return R((function(o){switch(o.g){case 1:if(!e.h||e.i)return o.return();if(pc(e,"drm-engine"),e.ya=Date.now()/1e3,e.i=e.Ma(),e.F.h=e.i,e.i.configure(e.g.drm,(function(){return e.A})),!yo(e.F,e.h)){o.s(2);break}return n=new ta("trackschanged",void 0),S(o,Promise.resolve(),3);case 3:fc(e),e.dispatchEvent(n);case 2:return r=Li(e.h.variants),i=!0,e.h&&e.h.presentationTimeline&&"HLS"!=e.h.type&&(i=e.h.presentationTimeline.U()),S(o,Ba(e.i,r,e.h.offlineSessionIds,i),4);case 4:if(fc(e),!t){o.s(5);break}return S(o,e.i.Lb(t),6);case 6:fc(e);case 5:return S(o,vo(e.F,e.h),7);case 7:if(!o.h){o.s(0);break}return a=new ta("trackschanged",void 0),S(o,Promise.resolve(),9);case 9:e.dispatchEvent(a),x(o)}}))}function gc(e,t,n){var r,i,a,o,s;return R((function(u){return 1==u.g?(r=e.g.streaming.segmentPrefetchLimit||2,i=new rl(r,t,(function(t,n,r){return Rl(t,n,r||null,e.g.streaming.retryParameters,e.Fa,e.A)}),!1),e.M.set(t.id,i),t.segmentIndex?u.s(2):S(u,t.createSegmentIndex(),2)):(a=e.B||0,(s=(o=t.segmentIndex.Gb(a))?o.current():null)||(s=Gu(t.segmentIndex)),s?n?s.$?S(u,ol(i,s.$),0):u.s(0):S(u,al(i,s.startTime),0):u.s(0))}))}function mc(e,t){ia.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Jc:null,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:yc,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:wc,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:bc,Ic:yc,xc:function(e,t){return vc(n,"exit",e,t)}},{Jc:bc,Ic:wc,xc:function(e,t){return vc(n,"exit",e,t)}},{Jc:yc,Ic:wc,xc:function(e,t){t?vc(n,"skip",e,t):(vc(n,"enter",e,t),vc(n,"exit",e,t))}},{Jc:wc,Ic:yc,xc:function(e,t){return vc(n,"skip",e,t)}}],this.h=new ee,this.h.D(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function vc(e,t,n,r){t=new ta(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Pu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Ou.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(r=Uu.prototype).ready=function(){var e=this;Mu(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){!function(){if(null==e.g||0==e.g&&1/0!=e.h.duration)e.j=!0;else{var t=e.h.currentTime,n=e.g;0>e.g&&(n=Math.max(0,t+e.g)),t!=n?(e.i.ma(e.h,"seeking",(function(){e.j=!0})),e.h.currentTime=n):e.j=!0}}()}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},r.af=function(e){this.g=this.j?this.g:e},r.Od=function(){return(this.j?this.h.currentTime:this.g)||0},r.Ag=function(){return 0},r.zg=function(){return 0},r.ih=function(){},(r=Fu.prototype).ready=function(){this.m.ua(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},r.af=function(e){Ru(this.h,e)},r.Od=function(){var e=Lu(this.h);return 0<this.i.readyState&&!this.i.paused?Vu(this,e):e},r.Ag=function(){return this.j.G},r.zg=function(){return this.j.C},r.ih=function(){this.j.qe()},(r=Hu.prototype).getNumReferences=function(){return this.g.length},r.getNumEvicted=function(){return this.i},r.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},r.bj=function(){this.o=!0},r.Eb=function(e){for(var t=c(this.g),n=t.next();!n.done;n=t.next())e(n.value)},r.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.o)for(var t=c(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.ke=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,d(e))}},r.Bd=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.ke(e),this.Oa(t)},r.Oa=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},r.Oc=function(e,t,n){if(n=void 0!==n&&n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&((t=new ps((e=this.g[this.g.length-1]).startTime,t,e.C,e.Sa,e.wa,e.$,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey)).mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},r.Ie=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new ze((function(){var e=t();e?n.g.push.apply(n.g,d(e)):(n.m.stop(),n.m=null)})),this.m.ua(e))},Hu.prototype[Symbol.iterator]=function(){return this.Gb(0)},Hu.prototype.Gb=function(e,t,n){t=void 0!==t&&t,n=void 0!==n&&n;var r=this.find(e);if(null==r)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&0<i.g.length)for(var o=i.g.length-1;0<=o;--o){var s=i.g[o];if(e>=s.startTime&&e<s.endTime){if(!t){for(;o&&!s.l;)o--,s=i.g[o];if(!s.l)return X("No independent partial segment found!"),null}n?r--:r++,a=o-1;break}}return new qu(this,r,a,n)},z("shaka.media.SegmentIndex",Hu),Hu.forSingleSegment=Ku,Hu.prototype.getIteratorForTime=Hu.prototype.Gb,Hu.prototype.updateEvery=Hu.prototype.Ie,Hu.prototype.fit=Hu.prototype.Oc,Hu.prototype.evict=Hu.prototype.Oa,Hu.prototype.mergeAndEvict=Hu.prototype.Bd,Hu.prototype.offset=Hu.prototype.offset,Hu.prototype.get=Hu.prototype.get,Hu.prototype.find=Hu.prototype.find,Hu.prototype.markImmutable=Hu.prototype.bj,Hu.prototype.release=Hu.prototype.release,Hu.prototype.getNumEvicted=Hu.prototype.getNumEvicted,Hu.prototype.getNumReferences=Hu.prototype.getNumReferences,(r=qu.prototype).ed=function(e){this.reverse=e},r.di=function(){return this.h},r.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.A&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},r.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.A&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},r.dg=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},z("shaka.media.SegmentIterator",qu),qu.prototype.resetToLastIndependent=qu.prototype.dg,qu.prototype.next=qu.prototype.next,qu.prototype.current=qu.prototype.current,qu.prototype.currentPosition=qu.prototype.di,qu.prototype.setReverse=qu.prototype.ed,v(Wu,Hu),(r=Wu.prototype).clone=function(){var e=new Wu;return e.h=this.h.slice(),e.i=this.i,e},r.release=function(){for(var e=c(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},r.Eb=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.Eb(e)},r.find=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},r.get=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},r.offset=function(){},r.ke=function(){},r.Oa=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.Oa(e);for(;1<this.h.length&&0==this.h[0].getNumReferences();)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},r.Bd=function(){},r.Oc=function(){},r.Ie=function(){},z("shaka.media.MetaSegmentIndex",Wu),Wu.prototype.updateEvery=Wu.prototype.Ie,Wu.prototype.fit=Wu.prototype.Oc,Wu.prototype.mergeAndEvict=Wu.prototype.Bd,Wu.prototype.evict=Wu.prototype.Oa,Wu.prototype.merge=Wu.prototype.ke,Wu.prototype.offset=Wu.prototype.offset,Wu.prototype.get=Wu.prototype.get,Wu.prototype.find=Wu.prototype.find,Wu.prototype.forEachTopLevelReference=Wu.prototype.Eb,Wu.prototype.release=Wu.prototype.release,Xu.prototype.release=function(){this.set(this.sc()),this.h&&(this.h.stop(),this.h=null),this.g=null},Xu.prototype.set=function(e){this.i=e,Yu(this)},Xu.prototype.sc=function(){return this.g.sc()},$u.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=c(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},v(Ju,ia),Ju.prototype.release=function(){this.g.clear(),ia.prototype.release.call(this)},Ju.prototype.j=function(e){for(var t=c(this.g.values()),n=t.next();!n.done;n=t.next()){var r=(n=n.value).mf;e:{for(var i=n.Jd,a=i.length-1;0<=a;a--){var o=i[a];if(o.position<=e){i=o.Wc;break e}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),o=i&&r&&i.label&&r.label&&r.label!==i.label;var s=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!ln(r.roles,i.roles),(o||s||r)&&Zu(this,e,i.contentType)&&(n.mf=i,r=new ta("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),a&&Zu(this,e,i.contentType)&&(n.mf=i,JSON.stringify(i),n=new ta("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}},v(tl,ia),tl.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),ia.prototype.release.call(this)},rl.prototype.Oa=function(e,t){t=void 0!==t&&t;for(var n=c(this.h.keys()),r=n.next();!r.done;r=n.next())e>(r=r.value).endTime&&dl(this,r);t&&ll(this)},rl.prototype.ed=function(e){this.o=e,this.g&&this.g.ed(e)},fl.prototype.abort=function(){this.Gd&&this.Gd.abort()},(r=bl.prototype).destroy=function(){return this.m.destroy()},r.configure=function(e){if(this.h=e,this.P=new qi({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(ul(t.ba),t.ba=null);for(var n=(t=c(this.o.keys())).next();!n.done;n=t.next())n=n.value,ul(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(Ot))&&t.ba&&(ul(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(ul(t.ba),t.ba=null),n=(t=c(this.i.keys())).next();!n.done;n=t.next())(n=this.i.get(n.value)).ba?(cl(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(ul(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=El(this,n.stream));e.disableAudioPrefetch||function(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=c(e.j.variants),i=r.next(),a={};!i.done;a={wb:void 0},i=r.next())if(a.wb=i.value,a.wb.audio)if(e.o.has(a.wb.audio)){if(cl(i=e.o.get(a.wb.audio),t),!(0<t&&n.some(function(e){return function(t){return ii(e.wb.audio.language,t)}}(a)))){var o=e.i.get(a.wb.audio.type);i!==(o&&o.ba)&&ul(i),e.o.delete(a.wb.audio)}}else 0>=t||!n.some(function(e){return function(t){return ii(e.wb.audio.language,t)}}(a))||!(i=El(e,a.wb.audio))||(a.wb.audio.segmentIndex||a.wb.audio.createSegmentIndex(),e.o.set(a.wb.audio,i))}(this)},r.start=function(e){var t=this;return R((function(n){if(1==n.g)return S(n,function(e,t){var n,r,i,a,o,s,u,l,d;return R((function(f){if(1==f.g){if(n=jt,!e.l)throw new Le(2,5,5006);return r=new Map,i=new Set,e.l.audio&&(r.set(n.V,e.l.audio),i.add(e.l.audio)),e.l.video&&(r.set(n.la,e.l.video),i.add(e.l.video)),e.u&&(r.set(n.za,e.u),i.add(e.u)),S(f,e.g.aa.init(r,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(ba(e.m),e.updateDuration(),a=c(r.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=r.get(s),e.i.has(s)||(l=Al(e,u),t.has(u.id)&&(il(d=t.get(u.id),(function(t,n,r){return Rl(t,n,r||null,e.h.retryParameters,e.g.Xb)})),l.ba=d),e.i.set(s,l),_l(e,l,0));x(f)}))}(t,e||new Map),2);ba(t.m),t.I=!0,x(n)}))},r.Fc=function(){if(this.g){for(var e=this.g.Rc(),t=c(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.aa;if(!(i=r==Ot?null!=(i=i.h).g&&null!=i.h&&e>=i.g&&e<i.h:bs(i=ou(i,r),e))){if(this.L=0,n.ba&&(n.ba.g=null),"audio"===n.type)for(var a=(i=c(this.o.values())).next();!a.done;a=i.next())a.value.g=null;n.ja=null,(null!=au(this.g.aa,r)||n.Da)&&kl(this,n),n.rb&&(n.rb.abort(),n.rb=null),r===Ot&&(r=this.g.aa).L&&r.L.g(),n.Fc=!0}}"keep"!==this.h.crossBoundaryStrategy&&Bl(this)}},r.updateDuration=function(){var e=qt(),t=this.j.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),cu(this.g.aa)),this.g.aa.bb(t)):e?(this.A&&this.A.ua(.5),this.g.aa.bb(1/0)):this.g.aa.bb(Math.pow(2,32))},z("shaka.util.ConfigUtils",zl),zl.getDifferenceFromConfigObjects=Kl,zl.convertToConfigObject=Hl,zl.mergeConfigObjects=Vl,z("shaka.drm.FairPlay",ql),ql.commonFairPlayResponse=function(e,t){if(2===e&&(e=t.originalRequest.drmInfo)&&je(e.keySystem)){try{var n=gt(t.data)}catch(i){return}if(e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0),!e)try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(i){}e&&(t.data=Ce(Et(n)))}},ql.muxFairPlayRequest=function(e,t){$l(e,t)},ql.expressplayFairPlayRequest=function(e,t){if(2===e){var n=t.drmInfo;n&&je(n.keySystem)&&$l(e,t)}},ql.conaxFairPlayRequest=function(e,t){$l(e,t)},ql.ezdrmFairPlayRequest=function(e,t){$l(e,t)},ql.verimatrixFairPlayRequest=function(e,t){2===e&&(e=t.drmInfo)&&je(e.keySystem)&&(e=At(e=Ie(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=yt("spc="+e))},ql.muxInitDataTransform=function(e,t,n){return Yl(e,t,n)},ql.expressplayInitDataTransform=function(e,t,n){return Yl(e,t,n)},ql.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=vt(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=Me(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return Xl(t,i,n)},ql.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Xl(e,n=vt(e).split(";").pop(),t))},ql.verimatrixInitDataTransform=function(e,t,n){return Yl(e,t,n)},ql.initDataTransform=Xl,ql.defaultGetContentId=Wl,ql.isFairPlaySupported=function(){var e;return R((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},T(t,2),S(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(E(t),t.return(!1))}))},Ql.prototype.configure=function(e){this.g=e},Ql.prototype.create=function(t){var n;if(this.g.language){var r=function(e,t){var n=di(t=si(t),e.map((function(e){return ci(e)})));return n?e.filter((function(e){return n==ci(e)})):[]}(t,this.g.language);r.length&&(n=r)}return n||(n=(n=t.filter((function(e){return e.primary}))).length?n:t),t=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(n,this.g.role),t.length&&(n=t),this.g.videoLayout&&(t=function(e,t){return e.filter((function(e){return!e.video||!e.video.videoLayout||e.video.videoLayout==t}))}(n,this.g.videoLayout),t.length&&(n=t)),this.g.Sc&&(t=function(t,n){return"AUTO"==n&&(n=void 0!==e.matchMedia&&e.matchMedia("(color-gamut: p3)").matches?t.some((function(e){return!(!e.video||!e.video.hdr||"HLG"!=e.video.hdr)}))?"HLG":"PQ":"SDR"),t.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==n}))}(n,this.g.Sc),t.length&&(n=t)),this.g.channelCount&&(t=function(e,t){return e.filter((function(e){return!(e.audio&&e.audio.channelsCount&&e.audio.channelsCount>t)})).sort((function(e,t){return e.audio||t.audio?e.audio?t.audio?(t.audio.channelsCount||0)-(e.audio.channelsCount||0):1:-1:0}))}(n,this.g.channelCount),t.length&&(n=t)),this.g.Kc&&(t=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(n,this.g.Kc),t.length&&(n=t)),this.g.fd&&(t=function(e,t){return e.filter((function(e){return!(!e.video||!e.video.label)&&e.video.label.toLowerCase()==t.toLowerCase()}))}(n,this.g.fd),t.length&&(n=t)),t=function(e,t){return e.filter((function(e){return!e.audio||e.audio.spatialAudio==t}))}(n,this.g.spatialAudio),t.length&&(n=t),this.g.audioCodec&&(t=function(e,t){return e.filter((function(e){return!e.audio||e.audio.codecs==t}))}(n,this.g.audioCodec),t.length&&(n=t)),new uo(n[0],n,!("smooth"==this.g.codecSwitchingStrategy&&Kt()))},z("shaka.util.PlayerConfiguration",Jl),Jl.mergeConfigObjects=tc,Jl.createDefaultForLL=ec,Jl.createDefault=Zl,v(lc,ia),(r=lc.prototype).getStartTime=function(){return this.B},r.Qc=function(){return this.O},r.Hf=function(){return this.h},r.getStats=function(){return this.Z},r.Ai=function(){return this.K?ki(this.K):null},r.zi=function(){return this.W?Ai(this.W):null},r.start=function(){var t,n=this;R((function(r){switch(r.g){case 1:return S(r,Promise.resolve(),2);case 2:return T(r,3),S(r,function(e){var t,n,r,i,a,o,s,u,l;return R((function(d){switch(d.g){case 1:if(pc(e,"manifest-parser"),e.l||(e.G=Ao(e.O,e.Y),e.l=e.G(),e.l.configure(e.g.manifest,(function(){return e.A}))),t=Date.now()/1e3,pc(e,"manifest"),e.h){d.s(2);break}return S(d,e.l.start(e.O,e.Na),3);case 3:if(e.h=d.h,1!=e.h.variants.length){d.s(2);break}for(n=[],r=e.h.variants[0],i=c([r.video,r.audio]),a=i.next();!a.done;a=i.next())(o=a.value)&&!o.segmentIndex&&n.push(o.createSegmentIndex());if(!(0<n.length)){d.s(2);break}return S(d,Promise.all(n),2);case 2:return e.oa.resolve(),s=new ta("manifestparsed",void 0),S(d,Promise.resolve(),7);case 7:if(e.dispatchEvent(s),0==e.h.variants.length)throw new Le(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.h),u=Date.now()/1e3,l=u-t,e.Z.H=l,x(d)}}))}(n),5);case 5:if(fc(n),"webkit"===e.shakaMediaKeysPolyfill){r.s(6);break}return S(r,hc(n),7);case 7:fc(n);case 6:return S(r,function(e){var t,n,r,i,a,o,s;return R((function(u){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Sc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Kc:e.g.preferredAudioLabel,fd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.La&&(t=e.g.abrFactory,e.C=t,e.j=t(),e.j.configure(e.g.abr)),e.fa?(n=e.h.presentationTimeline.U(),r=Li(e.h.variants),i=e.o.create(r),e.j.configure(e.g.abr),e.j.setVariants(Array.from(i.values())),(a=e.j.chooseVariant())?(o=[],e.K=a,a.video&&o.push(gc(e,a.video,n)),a.audio&&o.push(gc(e,a.audio,n)),(s=Ri(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&ji(a.audio,s,e.g)&&(o.push(gc(e,s,n)),e.W=s),S(u,Promise.all(o),0)):u.s(0)):u.s(0)}))}(n),8);case 8:if(fc(n),!n.fa||!n.i){r.s(9);break}return S(r,function(e){return R((function(t){return 1==t.g?e.K?S(t,e.m,3):t.s(0):S(t,Promise.all(e.T.map((function(e){return e.promise}))),0)}))}(n.i),10);case 10:fc(n);case 9:n.m.resolve(),A(r,0);break;case 3:(t=E(r))instanceof Le&&(7001==t.code||7003==t.code)||n.m.reject(t),x(r)}}))},r.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):ia.prototype.dispatchEvent.call(this,e)},r.onError=function(e){2===e.severity&&(this.m.reject(e),this.destroy());var t=(new Map).set("detail",e);t=new ta("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)},r.configure=function(e,t){e=Hl(e,t),tc(this.g,e)},r.getConfiguration=function(){return vn(this.g)},r.Lj=function(){return this.m},r.destroy=function(){var e,t,n=this;return R((function(r){switch(r.g){case 1:if(n.u=!0,!n.l||n.pa){r.s(2);break}return S(r,n.l.stop(),2);case 2:if(!n.j||n.ea){r.s(4);break}return S(r,n.j.stop(),4);case 4:if(n.H&&!n.sa&&n.H.release(),!n.i||n.ka){r.s(6);break}return S(r,n.i.destroy(),6);case 6:if(0<n.M.size&&!n.Aa)for(e=c(n.M.values()),t=e.next();!t.done;t=e.next())ul(t.value);x(r)}}))},z("shaka.media.PreloadManager",lc),lc.prototype.destroy=lc.prototype.destroy,lc.prototype.waitForFinish=lc.prototype.Lj,lc.prototype.getPrefetchedTextTrack=lc.prototype.zi,lc.prototype.getPrefetchedVariantTrack=lc.prototype.Ai,v(mc,ia),mc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,ia.prototype.release.call(this)},mc.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=c(this.i.h.values()),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?yc:e>r.endTime?wc:bc;this.g.set(r,a);for(var o=c(this.m),s=o.next();!s.done;s=o.next())(s=s.value).Jc==i&&s.Ic==a&&s.xc(r,t)}}};var yc=1,bc=2,wc=3;function Sc(e,t,n){var r,i,a,o,s,u,l;return R((function(c){switch(c.g){case 1:var d=new le(e).ab.split("/").pop().split(".");return r=1==d.length?"":d.pop().toLowerCase(),(i=xc.get(r))?c.return(i):(a=0,o=ca([e],n),T(c,2),o.method="HEAD",S(c,t.request(a,o).promise,4));case 4:s=c.h,i=s.headers["content-type"],A(c,3);break;case 2:if(!(u=E(c))||1002!=u.code&&1001!=u.code){c.s(3);break}return o.method="GET",S(c,t.request(a,o).promise,6);case 6:l=c.h,i=l.headers["content-type"];case 3:return c.return(i?i.toLowerCase().split(";").shift():"")}}))}var xc=(new Map).set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function Tc(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map((function(t){return Tc(t,e)})).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=yr,i=e.fontStyle==wr,a=e.textDecoration.includes(xr);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),""==(i=e.color)&&t&&(i=t.color),r="",(i=kc(i))&&(r+="."+i),""==(i=e.backgroundColor)&&t&&(i=t.backgroundColor),(t=kc(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight((function(e,t){var n=c(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.payload)}function kc(e){var t=(e=e.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Ac(e,t){for(var n=[],r=(e=c(Ec(e))).next();!r.done;r=e.next())if((r=r.value).isContainer)n.push.apply(n,d(Ac(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=Tc(r,t),n.push(i)}return n}function Ec(e){for(var t=[],n=(e=c(e)).next(),r={};!n.done;r={jf:void 0},n=e.next())r.jf=n.value,t.some(function(e){return function(t){return er(e.jf,t)}}(r))||t.push(r.jf);return t}function Cc(e){function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(r){}return"center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==e.writingMode?n.vertical="lr":"vertical-rl"==e.writingMode&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),n}function Ic(e,t){for(this.h=e,this.i=t,this.g=null,t=(e=c(Array.from(this.h.textTracks))).next();!t.done;t=e.next())"metadata"!==(t=t.value).kind&&"chapters"!==t.kind&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}function Mc(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function Dc(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function Pc(){}function Lc(t,n){var r=this;document.fullscreenEnabled||Y("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.A=!1,this.h=[],this.j=t,this.C=n,this.u=this.m=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C.appendChild(this.g),this.o=new ze((function(){r.j.paused||Oc(r)})),Rc(this),this.l=new Map,this.i=new ee,this.i.D(document,"fullscreenchange",(function(){Oc(r,!0)})),this.i.D(this.j,"seeking",(function(){Oc(r,!0)})),this.i.D(this.j,"ratechange",(function(){Rc(r)})),this.i.D(this.j,"resize",(function(){var e=r.j,t=e.videoWidth;e=e.videoHeight,r.m=t&&e?t/e:null})),this.B=null,"ResizeObserver"in e&&(this.B=new ResizeObserver((function(){Oc(r,!0)})),this.B.observe(this.g)),this.F=new Map}function Rc(e){e.o&&(e.h.length?e.o.ua((e.u?e.u.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.o.stop())}function Nc(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function _c(e,t,n,r,i){for(var a=!1,o=[],s=[],u=(t=c(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var l=e.l.get(u),d=u.startTime<=r&&u.endTime>r,f=l?l.Nh:null;l&&(o.push(l.lf),l.Ec&&o.push(l.Ec),d||(a=!0,e.l.delete(u),l=null)),d&&(s.push(u),l?Nc(e,f)||(a=!0):(jc(e,u,i),f=(l=e.l.get(u)).Nh,a=!0)),0<u.nestedCues.length&&f&&_c(e,u.nestedCues,f,r,i),i.pop()}if(a){for(i=(r=c(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),r=(s=c(s)).next();!r.done;r=s.next())(r=e.l.get(r.value)).Ec?(r.Ec.contains(n)&&r.Ec.removeChild(n),n.appendChild(r.Ec),r.Ec.appendChild(r.lf)):n.appendChild(r.lf)}}function Oc(e,t){if(e.g){var n=e.j.currentTime;if(!e.A||void 0!==t&&t){for(var r=(t=c(e.F.values())).next();!r.done;r=t.next())ks(r.value);ks(e.g),e.l.clear(),e.F.clear()}e.A&&_c(e,e.h,e.g,n,[])}}function jc(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.nestedCues.length,s=1<r.length;a.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,(function(e){return"".repeat(e.length)}));if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=Uc(n.linePadding,n,e.C),a.paddingRight=Uc(n.linePadding,n,e.C),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var l=t;else l=document.createElement("span"),t.appendChild(l);n.border&&(l.style.border=n.border),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?l.style.backgroundColor=t:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.textContent=u)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end"),o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=Uc(n.fontSize,n,e.C,e.u?e.u.fontScaleFactor:1),null!=(r=n.line)&&((o=n.lineInterpretation)==fr&&(o=1,s=16,e.m&&1>e.m&&(s=32),r=0>r?100+r/s*100:r/s*100),1==o&&(a.position="absolute",n.writingMode==dr?(a.width="100%",n.lineAlign==pr?a.top=r+"%":"end"==n.lineAlign&&(a.bottom=100-r+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==pr?a.left=r+"%":"end"==n.lineAlign&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==pr?a.right=r+"%":"end"==n.lineAlign&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,e=function(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==ar?n:"left"===e||"start"===e&&t===cr||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===cr?"line-right":"center"}(n),"line-left"==e?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==dr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==e?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==dr?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==dr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==dr?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id){var o=t.region,s=e.m===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==rn?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==rn?"%":"px"),e.F.has(n))n=e.F.get(n);else{i=document.createElement("span");var u=o.heightUnits==rn?"%":"px",l=o.widthUnits==rn?"%":"px",c=o.viewportAnchorUnits==rn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var d=o.height,f=o.width;2===o.heightUnits&&(d=5.33*o.height,u="%"),2===o.widthUnits&&(f=o.width*s,l="%"),i.style.height=d+u,i.style.width=f+l,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,u=o.viewportAnchorX/(e.m===4/3?160:210)*100,s-=o.regionAnchorY*d/100,u-=o.regionAnchorX*f/100,i.style.top=s+"%",i.style.left=u+"%"):(i.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+c,i.style.left=o.viewportAnchorX-o.regionAnchorX*f/100+c),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=o+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.F.set(n,i),n=i}}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.l.set(t,{lf:a,Nh:i,Ec:n})}function Uc(e,t,n,r){r=void 0===r?1:r;var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;switch(e=i.unit,r*=i.value,e){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return r+e}}function Fc(e,t){this.h=e,this.g=t,this.i=void 0,this.u=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new ee,this.j=null}function Bc(t){return t.g.sessionId||(t.g.sessionId=e.crypto.randomUUID()),{v:t.g.version,sf:t.i,sid:t.g.sessionId,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function zc(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Bc(e)),n.pr=e.h.gb();var i=n.ot===Wc||n.ot===Xc;if(e.B&&i&&(n.bs=!0,n.su=!0,e.B=!1),null==n.su&&(n.su=e.F),n.v===Jc&&(e.h.U()&&(n.ltc=e.h.Zd()),null!=(i=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0)&&(n.msd=i,e.G=!0)),e=function(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce((function(e,r){return n.includes(r)&&(e[r]=t[r]),e}),{}):t}(e,n),r)r=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3},o=(t=c(t)).next();!o.done;o=t.next())o=o.value,i[null!=a[o]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=Hc(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var a=Hc(e);a&&(t.uris=t.uris.map((function(e){return Gc(e,a)})))}}}function Vc(e,t){if(!(t=e.h.Fb()[t]).length)return 0;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):0}function Hc(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},o=Object.keys(e||{}).sort(),s=(o=c(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(r=u,!(Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var l,d=a[s];d&&(u=d(u)),l="string"==(d=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===d?s:"symbol"===d?s+"="+u.description:s+"="+u,i.push(l)}}return i.join(",")}function Gc(e,t){return!t||e.includes("offline:")?e:((e=new le(e)).g.set("CMCD",t),e.toString())}(r=Ic.prototype).configure=function(){},r.remove=function(e,t){return!!this.g&&(Dc(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){if(this.g){var t=Ac(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r=(t=c(t)).next(),i={};!r.done;i={Tc:void 0},r=t.next())i.Tc=r.value,!e.some(function(e){return function(t){return t.startTime==e.Tc.startTime&&t.endTime==e.Tc.endTime&&t.text==e.Tc.payload}}(i))&&i.Tc.payload&&(r=Cc(i.Tc))&&n.push(r);for(t=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!t.done;t=e.next())this.g.addCue(t.value)}},r.destroy=function(){return this.g&&(Dc(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},r.isTextVisible=function(){return!!this.g&&"showing"==this.g.mode},r.setTextVisibility=function(e){e&&!this.g&&Mc(this),this.g&&(this.g.mode=e?"showing":"hidden")},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){Mc(this)},z("shaka.text.SimpleTextDisplayer",Ic),Ic.prototype.enableTextDisplayer=Ic.prototype.enableTextDisplayer,Ic.prototype.setTextLanguage=Ic.prototype.setTextLanguage,Ic.prototype.setTextVisibility=Ic.prototype.setTextVisibility,Ic.prototype.isTextVisible=Ic.prototype.isTextVisible,Ic.prototype.destroy=Ic.prototype.destroy,Ic.prototype.append=Ic.prototype.append,Ic.prototype.remove=Ic.prototype.remove,Ic.prototype.configure=Ic.prototype.configure,(r=Pc.prototype).configure=function(){},r.remove=function(){},r.append=function(){},r.destroy=function(){},r.isTextVisible=function(){return!1},r.setTextVisibility=function(){},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){},z("shaka.text.StubTextDisplayer",Pc),Pc.prototype.enableTextDisplayer=Pc.prototype.enableTextDisplayer,Pc.prototype.setTextLanguage=Pc.prototype.setTextLanguage,Pc.prototype.setTextVisibility=Pc.prototype.setTextVisibility,Pc.prototype.isTextVisible=Pc.prototype.isTextVisible,Pc.prototype.destroy=Pc.prototype.destroy,Pc.prototype.append=Pc.prototype.append,Pc.prototype.remove=Pc.prototype.remove,Pc.prototype.configure=Pc.prototype.configure,(r=Lc.prototype).configure=function(e){this.u=e,Rc(this),Oc(this,!0)},r.append=function(e){for(var t=[].concat(d(this.h)),n=(e=c(Ec(e))).next(),r={};!n.done;r={kf:void 0},n=e.next())r.kf=n.value,t.some(function(e){return function(t){return er(t,e.kf)}}(r))||this.h.push(r.kf);this.h.length&&Rc(this),Oc(this)},r.destroy=function(){return this.g?(this.C.removeChild(this.g),this.g=null,this.A=!1,this.h=[],this.o&&(this.o.stop(),this.o=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.B&&(this.B.disconnect(),this.B=null),Promise.resolve()):Promise.resolve()},r.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter((function(n){return n.startTime<e||n.endTime>=t})),Oc(this,n>this.h.length),this.h.length||Rc(this),!0},r.isTextVisible=function(){return this.A},r.setTextVisibility=function(e){this.A=e,Oc(this,!0)},r.setTextLanguage=function(e){e&&"und"!=e?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},r.enableTextDisplayer=function(){},z("shaka.text.UITextDisplayer",Lc),Lc.prototype.enableTextDisplayer=Lc.prototype.enableTextDisplayer,Lc.prototype.setTextLanguage=Lc.prototype.setTextLanguage,Lc.prototype.setTextVisibility=Lc.prototype.setTextVisibility,Lc.prototype.isTextVisible=Lc.prototype.isTextVisible,Lc.prototype.remove=Lc.prototype.remove,Lc.prototype.destroy=Lc.prototype.destroy,Lc.prototype.append=Lc.prototype.append,Lc.prototype.configure=Lc.prototype.configure,z("shaka.text.WebVttGenerator",(function(){})),Fc.prototype.setMediaElement=function(e){this.j=e,function(e){e.C.ma(e.j,"play",(function(){e.m||(e.m=Date.now())})),e.C.ma(e.j,"playing",(function(){e.o||(e.o=Date.now())}))}(this)},Fc.prototype.configure=function(e){this.g=e};var Kc="m",qc="a",Wc="v",Xc="av",Yc="i",$c="c",Qc="tt",Jc=2,Zc="d",ed="ld",td="h",nd="lh";function rd(e){this.h=e,this.g=null}function id(e){return!e||"false"!==e.toLowerCase()&&(/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}z("shaka.util.CmcdManager.StreamingFormat",{DASH:Zc,hk:ed,HLS:td,ik:nd,wk:"s",OTHER:"o"}),(r=rd.prototype).configure=function(e){this.h=e},r.Ug=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(od)?1e3*this.g.get(od):null},r.Sg=function(){return this.h.enabled&&this.g&&this.g.has(ad)?1e3*this.g.get(ad):null},r.Ci=function(){return this.h.enabled&&this.g&&this.g.has(sd)?this.g.get(sd):null},r.Di=function(){return this.h.enabled&&this.g&&this.g.has(ud)?this.g.get(ud):null},r.getBandwidthEstimate=function(e){var t=this.Sg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e},z("shaka.util.CmsdManager",rd),rd.prototype.getBandwidthEstimate=rd.prototype.getBandwidthEstimate,rd.prototype.getRoundTripTime=rd.prototype.Di,rd.prototype.getResponseDelay=rd.prototype.Ci,rd.prototype.getEstimatedThroughput=rd.prototype.Sg,rd.prototype.getMaxBitrate=rd.prototype.Ug;var ad="etp",od="mb",sd="rd",ud="rtt";function ld(){this.g=null,this.h=[]}function cd(e,t){return R((function(n){if(1==n.g)return e.g?S(n,new Promise((function(t){return e.h.push(t)})),2):n.s(2);e.g=t,x(n)}))}function dd(t,n,r){n=void 0===n?null:n,ia.call(this);var i=this;this.m=mf,this.h=null,this.ue=n,this.oa=!1,this.Qe=new ee,this.zd=new ee,this.l=new ee,this.Na=new ee,this.Sb=new ee,this.G=this.I=this.C=this.F=null,this.Te=0,this.Z=new ld,this.Y=this.Pb=this.T=this.i=this.Qb=this.H=this.j=this.xd=this.O=this.yg=this.fa=this.L=this.Ga=this.Aa=this.yd=this.M=this.pa=this.K=this.La=null,this.sa=!1,this.Fa=this.o=null,this.We=1e9,this.Oe=[],this.Ve=-1,this.g=zd(this),this.Xe={streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}},this.P=null,this.Ue=-1,this.Ma=null,this.ka={width:1/0,height:1/0},this.te=new mo(this.g,this.ka,null),this.Ee=[],this.A=null,this.W=this.g.adaptationSetCriteriaFactory(),this.W.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Sc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Kc:this.g.preferredAudioLabel,fd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Tb=this.g.preferredTextLanguage,this.Hd=this.g.preferredTextRole,this.Fd=this.g.preferForcedSubs,this.Cd=[],r&&r(this),this.L=function(e){return new Fc({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Fb:function(){return e.Fb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},gb:function(){return e.gb()},xb:function(){return e.xb()},Rb:function(){return e.Rb()},U:function(){return e.U()},Zd:function(){return e.Zd()}},e.g.cmcd)}(this),this.fa=new rd(this.g.cmsd),this.F=Ed(this),this.F.kg(this.g.streaming.forceHTTP),this.F.lg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Ub=this.ea=this.u=null,this.Ze=!1,this.Ye=new ze((function(){return R((function(e){return 1==e.g?i.ea?S(e,i.Lb(i.Ub,!0),3):e.s(0):4!=e.g?S(e,i.load(i.ea),4):(i.Ze?i.Ub.pause():i.Ub.play(),i.ea=null,i.Ze=!1,void x(e))}))})),Sf&&(this.u=Sf(),this.u.configure(this.g.ads),this.Sb.D(this.u,"ad-content-pause-requested",(function(e){var t;return R((function(n){if(1==n.g)return i.Ye.stop(),i.ea?n.s(0):(i.Ub=i.h,i.Ze=i.Uc(),t=e.saveLivePosition||!1,S(n,i.Lg(!0,t),3));i.ea=n.h,x(n)}))})),this.Sb.D(this.u,"ad-content-resume-requested",(function(e){if(e=e.offset||0,i.ea){var t=i.ea;t.B&&e&&(t.B+=e)}i.Ye.da(.1)})),this.Sb.D(this.u,"ad-content-attach-requested",(function(){return R((function(e){return i.h||!i.Ub?e.s(0):S(e,i.Lb(i.Ub,!0),0)}))}))),this.Qe.D(e,"online",(function(){of(i),i.eg()})),this.xe=new ze((function(){for(var e=Date.now()/1e3,t=!1,n=!0,r=c(i.i.variants),a=r.next();!a.done;a=r.next())0<(a=a.value).disabledUntilTime&&a.disabledUntilTime<=e&&(a.disabledUntilTime=0,t=!0),0<a.disabledUntilTime&&(n=!1);n&&i.xe.stop(),t&&Xd(i,!1,void 0,!1,!1)})),this.ya=null,t&&(ie("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Lb(t,!0)),this.B=null}function fd(e){null!=e.O&&(Vt(e.O),e.O.release(),e.O=null)}function pd(e,t){return new ta(e,t)}function hd(e,t){wf.set(e,t)}function gd(e,t){e.dispatchEvent(pd("onstatechange",(new Map).set("state",t)))}function md(e,t){var n;return R((function(r){return 1==r.g?(n=++e.Te,S(r,cd(e.Z,t),2)):n!=e.Te?(e.Z.release(),r.return(!0)):r.return(!1)}))}function vd(e,t){var n,r;return t=void 0!==t&&t,R((function(i){if(1==i.g)return n=null,e.i&&e.H&&e.Qb&&e.T?(r=e.h.currentTime,e.U()&&!t&&(r=null),S(i,bd(e,e.T,r,e.Pb,!0,!1,!1),3)):i.s(2);if(2!=i.g){n=i.h,e.Ee.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var a=n,o=e.H,s=e.Qb;a.h=e.i,a.l=o,a.G=s,a=n,o=e.Fa,a.j=e.o,a.C=o,n.o=e.W,n.start(),e.i=null,e.H=null,e.Qb=null,e.o=null,e.Fa=null}return i.return(n)}))}function yd(e,t,n,r,i){var a,o,s;return i=void 0!==i&&i,R((function(u){return 1==u.g?r?u.s(2):S(u,wd(e,t),3):(2!=u.g&&(r=u.h),function(e,t){if(!Ve())return!0;if(t){if(""==(e.h||lt()).canPlayType(t))return!1;if(!Ve()||!Eo.has(t))return!0;if(Vr(t))return Je()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if("application/dash+xml"===t||"video/vnd.mpeg.dash.mpd"===t)return e.g.streaming.preferNativeDash}return!1}(e,r)?u.return(null):(a=!1,o=!0,i&&(e.o&&e.Fa==e.g.abrFactory&&(o=!1),e.h&&"AUDIO"===e.h.nodeName&&(a=!0)),s=bd(e,t,n,r||null,!i,a,o),s=i?s.then((function(e){return e.A=!1,e})):s.then((function(t){return e.Ee.push(t),t})),u.return(s)))}))}function bd(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b;return i=void 0===i||i,a=void 0!==a&&a,o=void 0===o||o,R((function(w){return 1==w.g?(s=null,u=vn(e.g),a&&(u.manifest.disableVideo=!0),l=function(){return s.T&&s.u?null:s},d=function(){return l()?l().getConfiguration():e.g},1/0!=e.ka.width||1/0!=e.ka.height||e.g.ignoreHardwareResolution?w.s(2):S(w,dt(),3)):(2!=w.g&&(f=w.h,e.ka.width=f.width,e.ka.height=f.height),p=new mo(u,e.ka,null),h={networkingEngine:e.F,filter:function(e){var t;return R((function(n){return 1==n.g?S(n,vo(p,e),2):4!=n.g?n.h?(t=pd("trackschanged"),S(n,Promise.resolve(),4)):n.s(0):(s.dispatchEvent(t),void x(n))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=c(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=c(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Wu,l=i.closedCaptions.get(o);s={id:e.We++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:Ot,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Rr(s,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(e){nl(s.H,e)},onEvent:function(e){return s.dispatchEvent(e)},onError:function(e){return s.onError(e)},isLowLatencyMode:function(){return d().streaming.lowLatencyMode},updateDuration:function(){e.j&&s.T&&e.j.updateDuration()},newDrmInfo:function(e){var t=s.i,n=t?t.h:null;n&&t.A&&wo(p,n.keySystem,e)},onManifestUpdated:function(){var t=(new Map).set("isLive",e.U());s.dispatchEvent(pd("manifestupdated",t)),cc(s,!1,(function(){e.u&&e.u.onManifestUpdated(e.U())}))},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(t,n,r,i){var a=t;"com.apple.hls.interstitial"==t&&(a="com.apple.quicktime.HLS",t={startTime:n,endTime:r,values:i},e.u)&&e.u.onHLSInterstitialMetadata(e,e.h,t),t=(i=c(i)).next();for(var o={};!t.done;o={Zf:void 0},t=i.next())o.Zf=t.value,"ID"!=o.Zf.name&&cc(s,!1,function(t){return function(){Ad(e,n,r,a,t.Zf)}}(o))},disableStream:function(t){return e.disableStream(t,e.g.streaming.maxDisabledTime)},addFont:function(t,n){return e.addFont(t,n)}},(g=new tl((function(){return e.Ra()}))).addEventListener("regionadd",(function(t){var n=t.region;uf(e,"timelineregionadded",n,s),cc(s,!1,(function(){e.u&&(e.u.onDashTimedMetadata(n),e.u.onDASHInterstitialMetadata(e,e.h,n))}))})),m=null,u.streaming.observeQualityChanges&&((m=new Ju((function(){return e.Fb()}))).addEventListener("qualitychange",(function(t){lf(e,t.quality,t.position)})),m.addEventListener("audiotrackchange",(function(t){lf(e,t.quality,t.position,!0)}))),v=!0,y={Xb:e.F,onError:function(e){return s.onError(e)},pe:function(t){cc(s,!0,(function(){var n=t,r=pd("keystatuschanged");e.dispatchEvent(r);var i=Object.keys(n);1==i.length&&""==i[0]&&(i=["00"],n={"00":n[""]}),r=1==i.length&&"00"==i[0];var a=!1;if(i.length){i=e.keySystem();for(var o=Sa(e.g.drm.clearKeys),s=c(e.i.variants),u=s.next();!u.done;u=s.next()){var l=[];(u=u.value).audio&&l.push(u.audio),u.video&&l.push(u.video);for(var d=(l=c(l)).next();!d.done;d=l.next()){var f=d.value;if(d=u.allowedByKeySystem,f.keyIds.size)if(f.drmInfos.length&&!o.size){for(var p=(f=c(f.drmInfos)).next();!p.done;p=f.next())if((p=p.value).keyIds.size&&p.keySystem==i){u.allowedByKeySystem=!0;for(var h=(p=c(p.keyIds)).next();!h.done;h=p.next())h=h.value,((h=n[r?"00":h])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!h&&!xo.includes(h))}}else for(u.allowedByKeySystem=!0,p=(f=c(f.keyIds)).next();!p.done;p=f.next())p=p.value,((p=n[r?"00":p])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!p&&!xo.includes(p));d!=u.allowedByKeySystem&&(a=!0)}}}a&&(Qd(e),!Wd(e))||(n=e.j.l)&&!n.allowedByKeySystem&&Xd(e)}))},onExpirationUpdated:function(e,t){var n=pd("expirationupdated");s.dispatchEvent(n),(n=s.l)&&n.onExpirationUpdated&&n.onExpirationUpdated(e,t)},onEvent:function(t){s.dispatchEvent(t),"drmsessionupdate"==t.type&&v&&(v=!1,t=Date.now()/1e3-s.ya,(e.A||s.getStats()).j=t,e.O&&Vt(e.O))}},b=Ed(e,l),la(e.F,b),s=new lc(t,r,n,{config:u,$i:h,kj:g,jj:m,Lc:function(){return e.Lc(y)},Zi:p,networkingEngine:b,Uh:i,Th:o}),w.return(s))}))}function wd(e,t){var n,r;return R((function(i){return 1==i.g?(n=e.g.manifest.retryParameters,S(i,Sc(t,e.F,n),2)):("application/x-mpegurl"==(r=i.h)&&Je()&&(r="application/vnd.apple.mpegurl"),i.return(r))}))}function Sd(e){var t=e.g.textDisplayFactory;t!==e.Se&&(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ie("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Se=t,e.B.setTextVisibility(e.oa))}function xd(e){var t,n,r;return R((function(i){if(1==i.g)return gd(e,"media-source"),e.h.removeAttribute("src"),ks(e.h),Sd(e),t=function(e,t,n,r){return new Qs(e,t,n,r)}(e.h,e.B,{si:function(){return e.keySystem()},onMetadata:function(t,n,r){for(var i=(t=c(t)).next();!i.done;i=t.next())if((i=i.value).data&&"number"==typeof i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=c(i.frames),u=s.next();!u.done;u=s.next())Ad(e,a,o,"org.id3",u.value);e.u&&e.u.onHlsTimedMetadata(i,a)}},ej:function(t){e.Ga&&nl(e.Ga,{schemeIdUri:t.schemeIdUri,startTime:t.startTime,endTime:t.endTime,id:String(t.id),emsg:t})},onEvent:function(t){return e.dispatchEvent(t)},gj:function(){e.H&&e.H.update&&e.H.update()}},e.O),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.Ea=r,S(i,t.G,2);e.I=t,x(i)}))}function Td(e,t,n){function r(){return Gd(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",(function(){var t=e.h.playbackRate;0!=t&&(e.K&&(e.K.set(t),e.m==vf&&e.o.playbackRateChanged(t),Hd(e,t)),t=pd("ratechange"),e.dispatchEvent(t))})),t.remote&&(e.l.D(t.remote,"connect",(function(){return Qd(e)})),e.l.D(t.remote,"connecting",(function(){return Qd(e)})),e.l.D(t.remote,"disconnect",(function(){return R((function(n){if(1==n.g)return e.j&&"disconnected"==t.remote.state?S(n,Fl(e.j),2):n.s(2);Qd(e),x(n)}))}))),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",(function(){return Qd(e)})),e.l.D(t.audioTracks,"removetrack",(function(){return Qd(e)})),e.l.D(t.audioTracks,"change",(function(){return Qd(e)}))),t.textTracks&&(e.l.D(t.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.l.D(t,"cuechange",(function(){if(t.activeCues)for(var n=c(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,Ad(e,r.startTime,r.endTime,r.type,r.value),e.u&&e.u.onCueMetadataChange(r.value);if(t.cues){n=[];for(var i=(r=c(t.cues)).next(),a={};!i.done;a={bc:void 0},i=r.next())a.bc=i.value,"com.apple.quicktime.HLS"==a.bc.type&&null!=a.bc.startTime&&(i=n.find(function(e){return function(t){return t.startTime==e.bc.startTime&&t.endTime==e.bc.endTime}}(a)),i||(i={startTime:a.bc.startTime,endTime:a.bc.endTime,values:[]},n.push(i)),i.values.push(a.bc.value));for(r=(n=c(n)).next();!r.done;r=n.next())(r=r.value).values.some((function(e){return"X-ASSET-URI"==e.key||"X-ASSET-LIST"==e.key}))&&e.u&&(r.values.push({key:"CUE",description:"",data:0!=r.startTime||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.u.onHLSInterstitialMetadata(e,e.h,r))}}));var n=new ze((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=c(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).sb().da(.5);e.Cd.push((function(){n.stop()}))}}(e,t);break;case"chapters":!function(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new ze((function(){t.mode="hidden"})).sb().da(.5);e.Cd.push((function(){n.stop()}))}}(e,t);break;default:Qd(e)}})),e.l.D(t.textTracks,"removetrack",(function(){return Qd(e)})),e.l.D(t.textTracks,"change",(function(){return Qd(e)})),"keep"!==e.g.streaming.crossBoundaryStrategy&&(e.l.D(t,"waiting",(function(){e.j&&Bl(e.j)})),e.l.D(t,"timeupdate",(function(){e.j&&Bl(e.j)})))),"none"!=t.preload&&e.l.ma(t,"loadedmetadata",(function(){e.A.C=Date.now()/1e3-n}))}function kd(e,t){t=(new Map).set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(pd("metadata",t))}function Ad(e,t,n,r,i){e.Aa&&((t={schemeIdUri:r,startTime:t,endTime:n||1/0,id:"",payload:i}).id=JSON.stringify(t),nl(e.Aa,t))}function Ed(e,t){function n(n){t()?t().dispatchEvent(n):e.dispatchEvent(n)}function r(e){t()?cc(t(),!0,e):e()}return t||(t=function(){return null}),new sa((function(n,r,i,a){var o=t()?t().j:e.o;o&&o.segmentDownloaded(n,r,i,a)}),(function(t,i,a){n(pd("downloadheadersreceived",i=(new Map).set("headers",t).set("request",i).set("requestType",a))),r((function(){if(e.fa){var n=e.fa;if(n.h.enabled){var r=t["cmsd-static"];if(r)try{var i=new Map,a=r.split(",");for(r=0;r<a.length;r++){var o=a[r].split("=");i.set(o[0],id(o[1]))}}catch(d){}if(i=t["cmsd-dynamic"]){try{var s=new Map,u=i.split(";");for(i=1;i<u.length;i++){var l=u[i].split("=");s.set(l[0],id(l[1]))}var c=s}catch(d){c=null}c&&(n.g=c)}}}}))}),(function(e,t){n(pd("downloadcompleted",e=(new Map).set("request",e).set("response",t)))}),(function(e,t,r,i){n(pd("downloadfailed",e=(new Map).set("request",e).set("error",t).set("httpResponseCode",r).set("aborted",i)))}),(function(t,n,i){r((function(){var r=e.L,a=i;if(a=void 0===a?{}:a,r.g.enabled)if("HEAD"===n.method)zc(r,n);else switch(t){case 0:try{if(r.g.enabled){if(a.type){e:{switch(a.type){case 4:var o=r.l?ed:Zc;break e;case 3:case 2:o=r.l?nd:td;break e;case 5:o="s";break e}o=void 0}r.i=o}zc(r,n,{ot:Kc,su:!r.u})}}catch(I){$("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",I)}break;case ga:try{if(r.g.enabled){var s=a.segment;o=0,s&&(o=s.endTime-s.startTime);var u={d:1e3*o,st:r.h.U()?"l":"v"};u.ot=function(e){if(0===e.type)return Yc;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Xc:Wc;if("audio"==t)return qc;if("text"==t)return"application/mp4"===e.mimeType?Qc:$c}}(a);var l=u.ot===Wc||u.ot===qc||u.ot===Xc||u.ot===Qc,d=a.stream;if(d){var f=r.h.gb();if(l&&(u.bl=function(e,t){if(!(t=e.h.Fb()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(r,d.type),u.ot!==Qc)){var p=Vc(r,d.type);u.dl=f?p/Math.abs(f):p}if(d.bandwidth&&(u.br=d.bandwidth/1e3),d.segmentIndex&&s){var h=d.segmentIndex.Gb(s.endTime,!0,0>f);if(h){var g=h.next().value;if(g&&g!=s){if(!ln(s.N(),g.N())){var m=g.N()[0],v=n.uris[0],y=new URL(m),b=new URL(v);if(y.origin!==b.origin)var w=m;else{for(var S=y.pathname.split("/").slice(1),x=b.pathname.split("/").slice(1,-1);S[0]===x[0];)S.shift(),x.shift();for(;x.length;)x.shift(),S.unshift("..");w=S.join("/")}u.nor=w}if((g.Sa||g.wa)&&(s.Sa!=g.Sa||s.wa!=g.wa)){var T=g.Sa+"-";g.wa&&(T+=g.wa),u.nrr=T}}}var k=r.h.gb()||1,A=Vc(r,d.type)||500,E=d.bandwidth,C=E?E*(s.endTime-s.startTime)/1e3/(A/k/1e3)*r.g.rtpSafetyFactor:NaN;isNaN(C)||(u.rtp=C)}}l&&u.ot!==Qc&&(u.tb=function(e,t){var n=e.h.Rb();if(!n.length)return NaN;e=n[0];for(var r=(n=c(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Wc:return e.videoBandwidth||NaN;case qc:return e.audioBandwidth||NaN;default:return e.bandwidth}}(r,u.ot)/1e3),zc(r,n,u)}}catch(I){$("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",I)}break;case 2:case 5:case 6:zc(r,n,{ot:"k"});break;case 4:zc(r,n,{ot:"o"})}}))}),(function(n,r,i,a){(n=t()?t().l:e.H)&&n.banLocation&&n.banLocation(a)}),(function(n,r){if(r.data){r=r.data.byteLength;var i=t()?t().getStats():e.A;i&&(i.mc=isNaN(i.mc)?r:i.mc+r,0===n&&(i.bh=r))}}))}function Cd(e,t,n){e.M=new po,e.M.g=ho,Id(e),Vd(e),e.pa=new ze((function(){Md(e)})),e.g.streaming.rebufferingGoal&&e.pa.ua(.25),e.l.D(t,"waiting",(function(){return Md(e)})),e.l.D(t,"canplaythrough",(function(){return Md(e)})),e.l.D(t,"playing",(function(){return Md(e)})),e.l.D(t,"seeked",(function(){return Md(e)})),n&&(e.l.D(t,"stalled",(function(){return Md(e)})),e.l.D(t,"progress",(function(){return Md(e)})),e.l.D(t,"timeupdate",(function(){return Md(e)})))}function Id(e){var t=e.g.streaming.rebufferingGoal;e.M.i.set(go,Math.min(.5,t/2)).set(ho,t)}function Md(e){switch(e.m){case yf:if(e.Uc())var t=!0;else{var n=ys(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case vf:e:if(e.Uc()||nu(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.cc();var r=ys(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=ws(e.h.buffered,e.h.currentTime);var i=t,a=(n=e.M).i.get(n.g);t=n.g,r=i||r>=a&&0<r?go:ho,n.g=r,(t=t!=r)&&r===go&&(n.h=Date.now()),t&&Vd(e)}function Dd(e){if(e.te=new mo(e.g,e.ka,e.C),e.H){var t=vn(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=gf&&bo(e.te,e.i)&&Qd(e)}catch(i){sf(e,i)}e.o&&Wd(e),!(t=e.j.l)||t.allowedByApplication&&t.allowedByKeySystem||Xd(e)}if(e.F&&(e.F.kg(e.g.streaming.forceHTTP),e.F.lg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Ea=e.g.manifest.segmentRelativeVttTiming),e.B)if(t=e.g.textDisplayFactory,e.Se!=t){var n=e.B;if(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ie("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.B.setTextLanguage||ie("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.B.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.B;n.ea=r,n.h&&(n.h.j=r)}e.Se=t,e.j&&(n=(t=e.j).i.get(Ot))&&Tl(t,n.stream,!0,0,!0)}else e.B.configure&&e.B.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),rf(e)),e.M&&Id(e),e.pa&&(e.g.streaming.rebufferingGoal?e.pa.ua(.25):e.pa.stop()),e.i&&df(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u&&e.u.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}function Pd(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}function Ld(e,t){var n,r;return R((function(i){return 1==i.g?e.m!=vf&&e.m!=yf?i.return(null):(n=e.Oe,e.i&&(n=e.i.imageStreams),(r=n[0])?(null!=t&&(r=n.find((function(e){return e.id==t}))),r?r.segmentIndex?i.s(2):S(i,r.createSegmentIndex(),2):i.return(null)):i.return(null)):i.return(r)}))}function Rd(e,t){var n=e.segmentIndex.find(t);if(null==n)return null;var r=Pd((n=e.segmentIndex.get(n)).tilesLayout||e.tilesLayout);if(!r)return null;var i=e.width||0,a=e.height||0,o=i/r.oc,s=a/r.rows,u=r.oc*r.rows,l=n.j-n.startTime;l=n.B||l/u;var c=n.startTime,d=0,f=0;return 1<u&&(t=Math.floor((t-n.startTime)/l),c=n.startTime+t*l,d=t%r.oc*o,f=Math.floor(t/r.oc)*s),t=!1,(r=n.thumbnailSprite)&&(t=!0,s=r.height,d=r.positionX,f=r.positionY,o=r.width),{segment:n,imageHeight:a,imageWidth:i,height:s,positionX:d,positionY:f,startTime:c,duration:l,uris:n.N(),width:o,sprite:t,mimeType:n.mimeType||e.mimeType,codecs:n.codecs||e.codecs}}function Nd(e,t){e.l.D(t,"cuechange",(function(){e.B.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));for(var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},r=[],i=Array.from(t.activeCues||[]),a=(i=c(i)).next();!a.done;a=i.next()){if(1/0===(a=a.value).endTime||a.endTime<a.startTime)a=null;else{var o=new Jn(a.startTime,a.endTime,a.text);o.line="number"==typeof a.line?a.line:null,a.lineAlign&&(o.lineAlign=a.lineAlign),o.lineInterpretation=a.snapToLines?fr:1,o.position="number"==typeof a.position?a.position:null,a.positionAlign&&(o.positionAlign=a.positionAlign),o.size=a.size,o.textAlign=a.align,"lr"===a.vertical?o.writingMode="vertical-lr":"rl"===a.vertical&&(o.writingMode="vertical-rl"),a.region&&(o.region.id=a.region.id,o.region.height=a.region.lines,o.region.heightUnits=2,o.region.regionAnchorX=a.region.regionAnchorX,o.region.regionAnchorY=a.region.regionAnchorY,o.region.scroll=a.region.scroll,o.region.viewportAnchorX=a.region.viewportAnchorX,o.region.viewportAnchorY=a.region.viewportAnchorY,o.region.viewportAnchorUnits=rn,o.region.width=a.region.width,o.region.widthUnits=rn),tr(o),a=o}a&&((o=e.g.mediaSource.modifyCueCallback)&&o(a,null,n),r.push(a))}e.B.append(r)})),t.mode=document.pictureInPictureElement?"showing":"hidden"}function _d(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Od(e){return Array.from(e.h.textTracks).filter((function(e){return"chapters"==e.kind}))}function jd(e,t){var n;return R((function(r){switch(r.g){case 1:return T(r,2),S(r,Sc(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,A(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new Le(1,2,2011,t)}}))}function Ud(e,t,n,r,i,a,o){var s,u,l,c;return R((function(d){if(1==d.g)return"text/vtt"!=i||o.length?S(d,Fd(e,t,e.F,e.g.streaming.retryParameters),3):d.s(2);2!=d.g&&(s=d.h,u=Bd(e,s,i,o),l=new Blob([u],{type:"text/vtt"}),t=Su(l),i="text/vtt"),c=document.createElement("track");var f=e.L,p=t;try{if(f.g.enabled){var h=Bc(f);h.ot=$c,h.su=!0;var g=Gc(p,Hc(h))}else g=p}catch(m){$("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",m),g=p}return c.src=g,c.label=a,c.kind=r,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),d.return(c)}))}function Fd(e,t,n,r){var i,a,o;return R((function(s){if(1==s.g){i=ga,(a=ca([t],r)).method="GET";var u=e.L;try{u.g.enabled&&zc(u,a,{ot:$c,su:!0})}catch(l){$("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return S(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Bd(e,t,n,r){var i=Xr(n);if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ie(t),function(e,t){function n(e){for(var n=e,r=c(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=Ac(e);e="WEBVTT\n\n";for(var i=(r=c(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case or:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.payload+"\n\n";return e}(t=n.parseMedia(t,e,null,[]),r);throw new Le(2,2,2014,n)}function zd(e){var t=Zl();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?(n=1,e.g.streaming.lowLatencyMode&&(n=.1)):1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.eg(n))}},t.textDisplayFactory=function(){return!e.ue||Je()&&!document.fullscreenEnabled?"addTextTrack"in e.h?new Ic(e.h,"Shaka Player TextTrack"):new Pc:new Lc(e.h,e.ue)},t}function Vd(e){var t=e.Of();if(e.A&&e.M&&e.G){if(0==e.g.streaming.rebufferingGoal){var n=e.K;n.j=!1,Yu(n)}else(n=e.K).j=t,Yu(n);if(e.L&&(n=e.L,t||n.u||(n.u=!0),n.u&&t&&(n.B=!0),n.F=t),Gd(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Ue<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Ue*i,n-r))}}t=(new Map).set("buffering",t),e.dispatchEvent(pd("buffering",t))}function Hd(e,t){e.Na.Qa(),e.U()&&e.Na.D(e.h,"timeupdate",(function(){var n=e.h.currentTime,r=e.Ra(),i=e.g.streaming.safeSeekOffset;0<t?Math.floor(n)>=Math.floor(r.end)&&e.gd():Math.floor(n)<=Math.floor(r.start+i)&&e.gd()}))}function Gd(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==ho?n="buffering":e.Uc()?n="ended":e.h.paused&&(n="paused");var r=n;if(null==t.g)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=(new Map).set("newstate",n),e.dispatchEvent(pd("statechanged",n)))}}function Kd(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.Qg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.Md(r,!1):1==i&&t!==e.K.sc()&&e.gd()}if(n&&(n=e.Ra(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var o=e.g.streaming.liveSync.targetLatency,s=o+r,u=Math.max(0,o-r),l=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(o=e.i.serviceDescription.targetLatency,null!=e.i.serviceDescription.targetLatency?s=e.i.serviceDescription.targetLatency+r:null!=e.i.serviceDescription.maxLatency&&(s=e.i.serviceDescription.maxLatency),null!=e.i.serviceDescription.targetLatency?u=Math.max(0,e.i.serviceDescription.targetLatency-r):null!=e.i.serviceDescription.minLatency&&(u=e.i.serviceDescription.minLatency),l=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||"number"!=typeof o||(e.P=o);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Ma&&null!==e.P&&"number"==typeof o&&e.Ue<d&&Date.now()-e.Ma>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(o-a)/2,a+r),e.Ma=Date.now()),i&&null!==e.P&&(s=e.P+r,u=e.P-r),o=n.end-e.h.currentTime,r=0,e.m==yf&&0<(i=e.h.buffered).length&&(r=i.end(i.length-1),r=Math.max(l,r-n.end)),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.M.h,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&a<=i?t!=c&&e.Md(c,!1):null!=s&&l&&o-r>s?(t!=l&&e.Md(l,!1),e.Ma=null):null!=u&&c&&o-r<u?(t!=c&&e.Md(c,!1),e.Ma=null):t!==e.K.sc()&&(e.gd(),e.Ma=Date.now())}}function qd(e){if(e.h){var t=function(t,n){var r=void 0===r?Number.EPSILON:r;if(t===n)r=!0;else{var i=Math.abs(t-n);r=i<=r||r!==Number.EPSILON&&Math.abs(i-r)<=Number.EPSILON}return!!((r||n>t)&&e.Ve<t)&&(e.Ve=t,!0)},n=e.Ra();if(n=0<(n=n.end-n.start)?e.h.currentTime/n:0,!isNaN(n)){if(t(0,n*=100))var r=pd("started");else t(25,n)?r=pd("firstquartile"):t(50,n)?r=pd("midpoint"):t(75,n)?r=pd("thirdquartile"):(t(100,n)&&(r=pd("complete")),e.g&&1/0!=e.g.playRangeEnd&&e.Uc()&&e.h.pause());r&&e.dispatchEvent(r)}}}function Wd(e){try{So(e.te,e.i)}catch(n){return sf(e,n),!1}var t=Li(e.i.variants);return t=e.W.create(t),e.o.setVariants(Array.from(t.values())),!0}function Xd(e,t,n,r,i){var a;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(a=Wd(e)?e.o.chooseVariant():null)&&Yd(e,a,i,t,n,r)}function Yd(e,t,n,r,i,a){a=void 0!==a&&a;var o=e.j.l;if(t==o)r&&Sl(e.j,t,r,i,!0);else{var s=e.A.h;if(s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Sl(e.j,t,r,i,a,n),r=null,o&&(r=ki(o)),(o=ki(t)).active=!0,e.O&&(i=e.O,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),a=0,s=-1,t.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(e.Tg()){case"DASH":s=1;break;case"HLS":s=0}i.g&&(i.g.setLevelSwitching(t.id,!0),i.g.setContainerFormat(a),i.j||i.g.setStreamingFormat(s))}n?ff(e,n=pd("adaptation",n=(new Map).set("oldTrack",r).set("newTrack",o))):Jd(e,r,o),Zd(e,r,o)}}function $d(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),Jd(e,n=Mi(n),t=Mi(t)),Zd(e,n,t))}function Qd(e){ff(e,pd("trackschanged")),ef(e)}function Jd(e,t,n){ff(e,t=pd("variantchanged",t=(new Map).set("oldTrack",t).set("newTrack",n)))}function Zd(e,t,n){var r=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(r=!0),r&&ef(e)}function ef(e){ff(e,pd("audiotrackschanged"))}function tf(e){ff(e,pd("textchanged"))}function nf(e){ff(e,pd("texttrackvisibility"))}function rf(e){e.g.abr.enabled||of(e),ff(e,pd("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function af(e){var t=e.vc().find((function(e){return e.active}));t&&e.B&&e.B.setTextLanguage&&e.B.setTextLanguage(t.language)}function of(e,t){if(t=void 0===t||t,e.m==vf){e.xe.stop();for(var n=c(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Wd(e)}}function sf(e,t){var n,r,i,a;return R((function(o){switch(o.g){case 1:if(e.m==gf)return o.return();if(1===t.severity&&e.A.K++,n=!0,!(e.sa&&e.i&&e.j)||3016!=t.code&&3014!=t.code&&3015!=t.code&&3018!=t.code){o.s(2);break}return Je()&&3016==t.code?o.return():(T(o,3),S(o,Fl(e.j),5));case 5:r=o.h,n=!r,r&&(i=pd("mediasourcerecovered"),e.dispatchEvent(i)),A(o,2);break;case 3:E(o),n=!0;case 2:if(!n)return o.return();2===t.severity&&of(e,!1),a=pd("error",(new Map).set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),x(o)}}))}function uf(e,t,n,r){r=void 0===r?e:r,e=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(pd(t,e))}function lf(e,t,n,r){r=void 0!==r&&r,t=(new Map).set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(pd(r?"audiotrackchanged":"mediaqualitychanged",t))}function cf(e,t){if(t=void 0===t||t,!e.h.error)return t?new Le(2,3,3016):null;var n=e.h.error.code;return t||1!=n?((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new Le(2,3,3016,n,t,e.h.error.message)):null}function df(e,t,n){0<t&&(e.U()||e.Bh(t)),n<(t=e.getDuration())&&(e.U()||e.bb(n))}function ff(e,t){R((function(n){if(1==n.g)return S(n,Promise.resolve(),2);e.m!=gf&&e.dispatchEvent(t),x(n)}))}function pf(e){for(var t=new Set,n=(e=c(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(si(n.language)):t.add("und");return t}function hf(e){for(var t=new Map,n=new Map,r=(e=c(e)).next();!r.done;r=e.next()){var i="und",a=[];(r=r.value).language&&(i=si(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=c(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}ld.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null},v(dd,ia),(r=dd.prototype).destroy=function(){var e,t=this;return R((function(n){switch(n.g){case 1:return t.m==gf?n.return():(fd(t),e=t.detach(),t.m=gf,S(n,e,2));case 2:return S(n,t.pf(),3);case 3:if(t.Qe&&(t.Qe.release(),t.Qe=null),t.zd&&(t.zd.release(),t.zd=null),t.l&&(t.l.release(),t.l=null),t.Na&&(t.Na.release(),t.Na=null),t.Sb&&(t.Sb.release(),t.Sb=null),t.Fa=null,t.g=null,t.A=null,t.ue=null,t.L=null,t.fa=null,!t.F){n.s(4);break}return S(n,t.F.destroy(),5);case 5:t.F=null;case 4:t.o&&(t.o.release(),t.o=null),ia.prototype.release.call(t),x(n)}}))},r.Lb=function(e,t){t=void 0===t||t;var n,r,i,a=this;return R((function(o){switch(o.g){case 1:if(a.m==gf)throw new Le(2,7,7e3);if(n=a.h&&a.h==e,!a.h||a.h==e){o.s(2);break}return S(o,a.detach(),2);case 2:return S(o,md(a,"attach"),4);case 4:if(o.h)return o.return();if(T(o,5,6),n||(gd(a,"attach"),r=function(){var e=cf(a,!1);e&&sf(a,e)},a.zd.D(e,"error",r),a.h=e,a.L&&a.L.setMediaElement(e)),!t||!Ve()||a.I){o.s(6);break}return S(o,xd(a),6);case 6:C(o),a.Z.release(),I(o,0);break;case 5:return i=E(o),S(o,a.detach(),10);case 10:throw i}}))},r.Vh=function(e){this.yg=e},r.detach=function(e){e=void 0!==e&&e;var t=this;return R((function(n){if(1==n.g){if(t.m==gf)throw new Le(2,7,7e3);return S(n,t.kc(!1,e),2)}if(3!=n.g)return S(n,md(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.zd.Qa(),t.h=null),gd(t,"detach"),t.u&&!e&&t.u.release()}finally{t.Z.release()}x(n)}))},r.kc=function(t,n){t=void 0===t||t,n=void 0!==n&&n;var r,i,a,o,s,u,l,d,f,p,h=this;return R((function(g){switch(g.g){case 1:return h.m!=gf&&(h.m=mf),S(g,md(h,"unload"),2);case 2:return g.h?g.return():(k(g,3),h.sa=!1,gd(h,"unload"),fd(h),r=h.Cd.map((function(e){return e()})),h.Cd=[],S(g,Promise.all(r),5));case 5:if(h.dispatchEvent(pd("unloading")),h.yd&&(h.yd.release(),h.yd=null),h.Aa&&(h.Aa.release(),h.Aa=null),h.Ga&&(h.Ga.release(),h.Ga=null),h.h&&(h.l.Qa(),h.Na.Qa()),h.xe.stop(),h.La&&(h.La.release(),h.La=null),h.pa&&(h.pa.stop(),h.pa=null),!h.H){g.s(6);break}return S(g,h.H.stop(),7);case 7:h.H=null,h.Qb=null;case 6:if(!h.o){g.s(8);break}return S(g,h.o.stop(),8);case 8:if(!h.j){g.s(10);break}return S(g,h.j.destroy(),11);case 11:h.j=null;case 10:if(h.K&&(h.K.release(),h.K=null),h.G&&(h.G.release(),h.G=null),"webkit"!==e.shakaMediaKeysPolyfill||!h.C){g.s(12);break}return S(g,h.C.destroy(),13);case 13:h.C=null;case 12:if(!h.I){g.s(14);break}return S(g,h.I.destroy(),15);case 15:h.I=null;case 14:if(h.u&&!n&&h.u.onAssetUnload(),h.ea&&!n&&(h.ea.destroy(),h.ea=null),n||h.Ye.stop(),h.L&&function(e){e.u=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.Qa()}(h.L),h.fa&&(h.fa.g=null),!h.B){g.s(16);break}return S(g,h.B.destroy(),17);case 17:h.B=null;case 16:if(h.h&&(ks(h.h),h.h.src&&(h.h.removeAttribute("src"),h.h.load())),!h.C){g.s(18);break}return S(g,h.C.destroy(),19);case 19:h.C=null;case 18:if(h.ya&&h.T!=h.ya.Qc()&&(h.ya.u||h.ya.destroy(),h.ya=null),h.T=null,h.Pb=null,h.M=null,h.i){for(i=c(h.i.variants),a=i.next();!a.done;a=i.next())for(o=a.value,s=c([o.audio,o.video]),u=s.next();!u.done;u=s.next())(l=u.value)&&l.segmentIndex&&l.segmentIndex.release();for(d=c(h.i.textStreams),f=d.next();!f.done;f=d.next())(p=f.value).segmentIndex&&p.segmentIndex.release()}h.g&&h.g.streaming.clearDecodingCache&&(Ui.clear(),Fe.clear()),h.i=null,h.A=new uc,h.Se=null,h.Ma=null,h.P=null,h.Ue=-1,h.Oe=[],h.Ve=-1,h.F&&h.F.Hg(),Vd(h);case 3:C(g),h.Z.release(),I(g,4);break;case 4:if(t&&Ve()&&!h.I&&h.h)return S(g,xd(h),0);g.s(0)}}))},r.Kj=function(e){this.Y=e},r.load=function(t,n,r){n=void 0===n?null:n;var i,a,o,s,u,l,d,f,p,h,g,m,v,y=this;return R((function(b){switch(b.g){case 1:if(y.m==gf)throw new Le(2,7,7e3);if(i=null,a="",t instanceof lc){if(t.u)throw new Le(2,7,7006);a=(i=t).Qc()||""}else a=t||"";return S(b,cd(y.Z,"load"),2);case 2:if(y.Z.release(),!y.h)throw new Le(2,7,7002);if(!y.T){b.s(3);break}return y.T=a,S(b,y.kc(!1),3);case 3:if(o=++y.Te,s=function(){return R((function(e){if(1==e.g)return y.Te==o?e.s(0):i?S(e,i.destroy(),3):e.s(3);throw new Le(2,7,7e3)}))},u=function(e,t){return R((function(n){switch(n.g){case 1:return k(n,2),S(n,cd(y.Z,t),4);case 4:return S(n,s(),5);case 5:return S(n,e(),6);case 6:return S(n,s(),7);case 7:i&&y.g&&(i.g=y.g);case 2:C(n),y.Z.release(),I(n,0)}}))},T(b,5,6),null==n&&i&&(n=i.getStartTime()),y.Y=n,y.sa=!1,y.dispatchEvent(pd("loading")),i){r=i.Y,b.s(8);break}if(r){b.s(8);break}return S(b,u((function(){return R((function(e){if(1==e.g)return S(e,wd(y,a),2);r=e.h,x(e)}))}),"guessMimeType_"),8);case 8:if(l=!!i,i){dc(i,y),y.A=i.getStats(),b.s(11);break}return S(b,yd(y,a,n,r,!0),12);case 12:(i=b.h)?(i.A=!1,dc(i,y),y.A=i.getStats(),i.start(),i.m.catch((function(){}))):y.A=new uc;case 11:return d=!i,f=Date.now()/1e3,y.A=i?i.getStats():new uc,y.T=a,y.Pb=r||null,y.Aa=new tl((function(){return y.Ra()})),d?S(b,u((function(){return R((function(e){return S(e,function(e,t){var n,r,i,a,o;return R((function(s){return 1==s.g?(n=jt,r=Date.now()/1e3,i=!0,e.C=e.Lc({Xb:e.F,onError:function(t){sf(e,t)},pe:function(){},onExpirationUpdated:function(){var t=pd("expirationupdated");e.dispatchEvent(t)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),a={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},(o={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?Br(t):"",codecs:t?zr(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}).fullMimeTypes.add(Rr(o.mimeType,o.codecs)),t.startsWith("audio/")?(o.type=n.V,a.audio=o):a.video=o,e.C.Z=!0,S(s,Ba(e.C,[a],[]),2)):S(s,e.C.Lb(e.h),0)}))}(y,r),0)}))}),"initializeSrcEqualsDrmInner_"),23):(y.Ga=new tl((function(){return y.Ra()})),S(b,u((function(){return R((function(e){if(1==e.g)return S(e,Promise.race([i.oa,i.m]),2);y.Qb=i.G;var t=i;t.pa=!0,y.H=t.l,y.i=i.Hf(),x(e)}))}),"waitForFinish"),15));case 15:if(y.I){b.s(16);break}return S(b,u((function(){return R((function(e){return S(e,xd(y),0)}))}),"initializeMediaSourceEngineInner_"),16);case 16:return y.i&&y.i.textStreams.length&&(y.B.enableTextDisplayer?y.B.enableTextDisplayer():ie("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),S(b,u((function(){return R((function(e){return S(e,i.m,0)}))}),"waitForFinish"),18);case 18:if(y.g=i.getConfiguration(),y.te=i.F,y.H&&y.H.setMediaElement&&y.h&&y.H.setMediaElement(y.h),y.yd=function(e){return e.sa=!0,e.H}(i),y.xd=i.Ga,(p=i.o)&&(y.W=p),l&&y.h&&"AUDIO"===y.h.nodeName&&(function(e){for(var t=c(e.i.variants),n=t.next();!n.done;n=t.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter((function(e){return e.audio}))}(y),y.configure("manifest.disableVideo",!0)),i.i){b.s(19);break}return S(b,u((function(){return R((function(e){return S(e,hc(i,y.h),0)}))}),"drmEngine_.init"),19);case 19:return y.C=function(e){return e.ka=!0,e.i}(i),S(b,u((function(){return R((function(e){return S(e,y.C.Lb(y.h),0)}))}),"drmEngine_.attach"),21);case 21:return!(h=i.C)||y.Fa&&y.Fa==h||(y.o=function(e){return e.ea=!0,e.j}(i),y.Fa=i.C,"function"!=typeof y.o.setMediaElement&&(ie("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),y.o.setMediaElement=function(){}),"function"!=typeof y.o.setCmsdManager&&(ie("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),y.o.setCmsdManager=function(){}),"function"!=typeof y.o.trySuggestStreams&&(ie("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),y.o.trySuggestStreams=function(){})),g=function(e){return e.Aa=!0,e.M}(i),m=i.K,S(b,u((function(){return R((function(e){return S(e,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,T,k,A,E,C,I,M,D,P;return R((function(L){switch(L.g){case 1:for(gd(e,"load"),i=e.h,e.K=new Xu({$d:function(){return i.playbackRate},sc:function(){return i.defaultPlaybackRate},mg:function(e){i.playbackRate=e},gh:function(e){i.currentTime+=e}}),Td(e,i,t),a=!1,o=c(e.i.variants),s=o.next();!s.done;s=o.next())u=s.value,(l=u.video&&u.video.dependencyStream)&&(a=Ht(l));!function(e,t,n){n||t.lcevc.enabled?(fd(e),null==e.O&&(e.O=new Bt(e.h,e.yg,t.lcevc,n),e.I&&(e.I.I=e.O))):fd(e)}(e,e.g,a),e.Tb=e.g.preferredTextLanguage,e.Hd=e.g.preferredTextRole,e.Fd=e.g.preferForcedSubs,df(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init((function(t,n,r){e.i&&e.j&&t!=e.j.l&&Yd(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=function(e){return new bl(e.i,{Rc:function(){return e.G?e.G.Od():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},gb:function(){return e.gb()},video:e.h,aa:e.I,Xb:e.F,onError:function(t){return sf(e,t)},onEvent:function(t){return e.dispatchEvent(t)},qe:function(t,n,r){var i=t.startTime;if(t=t.endTime,(n=n.type)!=Ot){if(e.G){e.G.ih();var a=iu(e.I,n);!e.U()&&e.h.paused&&!e.h.seeking&&null!=a&&0<a&&e.G.Od()<a&&e.G.af(a)}Md(e)}r=(new Map).set("start",i).set("end",t).set("contentType",n).set("isMuxed",r),e.dispatchEvent(pd("segmentappended",r))},fj:function(t,n){(n=n.Wc)&&e.xd&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={Jd:[],mf:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.Jd;t.Jd=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.Jd=[]}(e,r),e={Wc:t,position:n},0<=(t=(r=r.Jd).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.xd,n,t)},Fg:function(t,n){var r=e.C;if(r.g.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new ja(Ie(n)),n=0;for(var i=c(t.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(0==n)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,a=(t=c(t.data)).next();!a.done;a=t.next())a=a.value,n.set(a,i),i+=a.length;Ga(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}(e),e.j.configure(e.g.streaming),e.m=vf,e.dispatchEvent(pd("streaming")),d=n;case 2:for((p=e.j.l)||d||(d=Wd(e)?e.o.chooseVariant():null),h=[],g=c([(f=p||d).video,f.audio]),m=g.next();!m.done;m=g.next())(v=m.value)&&!v.segmentIndex&&(h.push(v.createSegmentIndex()),v.dependencyStream&&h.push(v.dependencyStream.createSegmentIndex()));if(!(0<h.length)){L.s(4);break}return S(L,Promise.all(h),4);case 4:if(!f||0!=f.disabledUntilTime){L.s(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(f),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Xe):Y("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(function(e,t){e.l=t,e.l?e.i==Zc?e.i=ed:e.i==td&&(e.i=nd):e.i==ed?e.i=Zc:e.i==nd&&(e.i=td)}(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),function(e,t){if(e.g&&e.g.enabled&&e.g.version==Jc&&e.j&&e.j.autoplay){var n=e.j.play();n&&n.then((function(){e.A=t})).catch((function(){e.A=0}))}}(e.L,1e3*t)),df(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),function(e,t,n){e.j.presentationTimeline.U()||(e.W=t,e.T=n)}(e.j,e.g.playRangeStart,e.g.playRangeEnd),y=function(t){e.G=function(e,t){return new Fu(e.h,e.i,e.g.streaming,t,(function(){e.La&&Qu(e.La,!0),e.j&&e.j.Fc(),e.M&&Md(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t),e.La=function(e,t){var n=e.U()||0<t;(t=new mc(e.yd,n)).addEventListener("enter",(function(t){uf(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){uf(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(uf(e,"timelineregionenter",n),uf(e,"timelineregionexit",n))}));var r=new mc(e.Aa,n);r.addEventListener("enter",(function(t){kd(e,t.region)})),(n=new mc(e.Ga,n)).addEventListener("enter",(function(t){t=(new Map).set("detail",t.region.emsg),e.dispatchEvent(pd("emsg",t))}));var i=new $u(e.h);return i.g.add(t),i.g.add(r),i.g.add(n),e.xd&&i.g.add(e.xd),i}(e,t),Cd(e,i,!1)},e.g.streaming.startAtSegmentBoundary||(null==(b=e.Y)&&e.i.startTime&&(b=e.i.startTime),y(b)),p){L.s(7);break}if(!e.g.streaming.startAtSegmentBoundary){L.s(8);break}return w=e.i.presentationTimeline,T=e.Y||e.h.currentTime,null==e.Y&&e.i.startTime&&(T=e.i.startTime),k=w.Hb(),A=w.ob(),T<k?T=k:T>A&&(T=A),S(L,function(e,t){var n,r,i,a,o;return R((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return R((function(a){return 1==a.g?e?e.segmentIndex?a.s(2):S(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.Gb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},S(s,i(n,t),2)):3!=s.g?(a=s.h,S(s,i(r,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(d,T),9);case 9:E=L.h,y(E);case 8:Yd(e,d,!0,!1,0);case 7:return e.G.ready(),e.vc().find((function(e){return e.active}))||((C=Ri(e.i.textStreams,e.Tb,e.Hd,e.Fd)[0]||null)&&sc(e.A.h,C,!0),d&&(C?(ji(d.audio,C,e.g)&&(e.oa=!0),e.oa&&e.B.setTextVisibility(!0),nf(e)):e.oa=!1),C&&(e.g.streaming.alwaysStreamText||e.Pf())&&(xl(e.j,C),af(e))),S(L,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),rf(e)),Qd(e),Wd(e),e.i.variants.some((function(e){return e.primary})),((I=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(M=function(){return Kd(e)},e.l.D(i,"timeupdate",M)),I||(D=function(){return qd(e)},e.l.D(i,"timeupdate",D),qd(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(P=function(){var t;return R((function(n){if(1==n.g)return t=e.Ra().end-e.h.currentTime,!isNaN(t)&&t<=e.g.streaming.preloadNextUrlWindow?(e.l.Ja(i,"timeupdate",P),S(n,e.preload(e.i.nextUrl),4)):n.s(0);e.ya=n.h,x(n)}))},e.l.D(i,"timeupdate",P)),e.l.D(i,"ended",(function(){e.load(e.ya||e.i.nextUrl)})))),e.u&&e.u.onManifestUpdated(I),e.sa=!0,x(L)}}))}(y,f,m,g),0)}))}),"loadInner_"),22);case 22:!function(e){if(e.I)for(var t=c(e.I),n=t.next();!n.done;n=t.next())(n=n.value)();e.I=null}(i),y.Pb&&Je()&&Vr(y.Pb)&&function(t,n,r){t.g&&e.ManagedMediaSource&&t.i&&(t.C&&t.g.removeChild(t.C),t.C=Ts(n,r),t.g.appendChild(t.C),t.g.disableRemotePlayback=!1)}(y.I,y.T,y.Pb),b.s(14);break;case 23:return S(b,u((function(){return R((function(e){return S(e,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g;return R((function(m){switch(m.g){case 1:if(gd(e,"src-equals"),r=e.h,e.G=new Uu(r),i=!1,e.Cd.push((function(){i=!0})),null!=e.Y&&e.G.af(e.Y),e.La=function(e,t){(t=new mc(e.Aa,0<t)).addEventListener("enter",(function(t){kd(e,t.region)}));var n=new $u(e.h);return n.g.add(t),n}(e,e.Y||0),e.K=new Xu({$d:function(){return r.playbackRate},sc:function(){return r.defaultPlaybackRate},mg:function(e){r.playbackRate=e},gh:function(e){r.currentTime+=e}}),Cd(e,r,!0),r.textTracks&&(Sd(e),a=function(){var t=_d(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="showing")},o=function(){var t=_d(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="hidden")},e.l.D(r,"enterpictureinpicture",(function(){return a()})),e.l.D(r,"leavepictureinpicture",(function(){return o()})),r.remote?(e.l.D(r.remote,"connect",(function(){return o()})),e.l.D(r.remote,"connecting",(function(){return o()})),e.l.D(r.remote,"disconnect",(function(){return o()}))):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return o()})),(s=r).webkitSupportsFullscreen&&e.l.D(s,"webkitpresentationmodechanged",(function(){"inline"!=s.webkitPresentationMode?a():o()}))),Td(e,r,t),u=function(e,t,n){try{if(!e.g.enabled)return t;var r=Bc(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=qc;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=Xc;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=Kc;break e}i=void 0}return r.ot=i,r.su=!0,Gc(t,Hc(r))}catch(o){return $("CMCD_SRC_ERROR","Could not generate src CMCD data.",o),t}}(e.L,e.T,n),!u.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(u+="#t=",0<e.g.playRangeStart&&(u+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(u+=","+e.g.playRangeEnd)),!e.I){m.s(2);break}return S(m,e.I.destroy(),3);case 3:e.I=null;case 2:return ks(r),r.src=u,(qe()||Xe())&&r.load(),"none"!=r.preload&&!r.autoplay&&Vr(n)&&Je()&&r.load(),e.m=yf,e.dispatchEvent(pd("streaming")),l=new Xi,Mu(r,HTMLMediaElement.HAVE_METADATA,e.l,(function(){e.G.ready(),l.resolve()})),d=function(){return new Promise((function(t){var n=new ze(t);e.l.D(r.textTracks,"change",(function(){return n.da(.5)})),n.da(.5)}))},Mu(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,(function(){var t,n,r,a,o;return R((function(s){if(1==s.g)return S(s,d(),2);if(i)return s.return();for(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.sh(t,e.g.preferredVariantRole)}(e),(t=_d(e)).some((function(e){return"showing"===e.mode}))&&(e.oa=!0,e.B.setTextVisibility(!0)),t.length&&(e.B.enableTextDisplayer?e.B.enableTextDisplayer():ie("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),n=!1,r=c(t),a=r.next();!a.done;a=r.next())"disabled"!==(o=a.value).mode&&(n?(o.mode="disabled",Y("Found more than one enabled text track, disabling it",o)):(Nd(e,o),n=!0));!function(e){var t=e.g.preferredTextLanguage;""!=t&&e.hg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),x(s)}))})),r.error?l.reject(cf(e)):"none"==r.preload&&(Y('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),e.l.ma(r,"error",(function(){l.reject(cf(e))})),S(m,ni(e.g.streaming.loadTimeout,l),4);case 4:((f=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(p=function(){return Kd(e)},e.l.D(r,"timeupdate",p)),f||(h=function(){return qd(e)},e.l.D(r,"timeupdate",h),qd(e)),e.u&&(e.u.onManifestUpdated(f),f&&(g=e.Ra().end,e.l.D(r,"progress",(function(){var t=e.Ra().end;g!=t&&(e.u.onManifestUpdated(e.U()),g=t)})))),e.sa=!0,x(m)}}))}(y,f,r),0)}))}),"srcEqualsInner_"),14);case 14:y.dispatchEvent(pd("loaded"));case 6:if(C(b),!i){b.s(25);break}return S(b,i.destroy(),25);case 25:y.ya=null,I(b,0);break;case 5:if(!(v=E(b))||7e3==v.code){b.s(27);break}return S(b,y.kc(!1),27);case 27:throw v}}))},r.Gj=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,r=this;return R((function(i){return 1==i.g?S(i,vd(r),2):3!=i.g?(n=i.h,S(i,r.kc(e,t),3)):i.return(n)}))},r.Lg=function(e,t){e=void 0!==e&&e,t=void 0!==t&&t;var n,r=this;return R((function(i){return 1==i.g?S(i,vd(r,t),2):3!=i.g?(n=i.h,S(i,r.detach(e),3)):i.return(n)}))},r.preload=function(e,t,n){t=void 0===t?null:t;var r,i=this;return R((function(a){return 1==a.g?S(a,yd(i,e,t,n),2):((r=a.h)?r.start():sf(i,new Le(2,7,7005)),a.return(r))}))},r.pf=function(){var e,t,n,r,i=this;return R((function(a){for(e=[],t=c(i.Ee),n=t.next();!n.done;n=t.next())(r=n.value).u||e.push(r.destroy());return i.Ee=[],S(a,Promise.all(e),0)}))},r.oj=function(){for(var e=this.Z;e.g;)e.release()},r.Lc=function(e){return new Fa(e)},r.configure=function(e,t){if(2==arguments.length&&"string"==typeof e&&(e=Hl(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ie("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ie("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(ie("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&Je(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&"boolean"==typeof e.streaming.liveSync){ie("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&(!e.streaming.liveSync||!("targetLatency"in e.streaming.liveSync))&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(ie("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(ie("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(ie("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(ie("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(ie("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(ie("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(ie("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(ie("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){ie("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(ie("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(ie("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(ie("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(ie("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(ie("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(ie("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(ie("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(ie("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(ie("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(ie("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){for(var a in n=!1,e.drm.advanced){var o=e.drm.advanced[a];r=o.videoRobustness,o=o.audioRobustness,"videoRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].videoRobustness)&&(e.drm.advanced[a].videoRobustness=[r],n=!0),"audioRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].audioRobustness)&&(e.drm.advanced[a].audioRobustness=[o],n=!0)}n&&ie("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"crossBoundaryStrategy"in e.streaming&&"keep"!=e.streaming.crossBoundaryStrategy&&(e.streaming.inaccurateManifestTolerance=0),a=tc(this.g,e,zd(this)),Dd(this),a},r.ci=function(e){this.Xe=e},r.getConfiguration=function(){var e=zd(this);return tc(e,this.g,zd(this)),e},r.ki=function(){return this.Xe},r.Vg=function(){return tc(zd(this),this.g,zd(this)),Kl(this.g,zd(this))},r.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Ra().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.sj=function(){for(var e in this.g)delete this.g[e];tc(this.g,zd(this),zd(this)),Dd(this)},r.ti=function(){return this.m},r.Tg=function(){return this.i?this.i.type:null},r.xi=function(){return this.h},r.xb=function(){return this.F},r.Qc=function(){return this.T},r.Pg=function(){return this.u?this.u:null},r.U=function(){return this.i&&!this.Pa()?this.i.presentationTimeline.U():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.yc=function(){return!!this.i&&this.i.presentationTimeline.yc()},r.Qi=function(){if(this.i&&!this.Pa()){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Ra=function(){if(this.i&&!this.Pa()){if(!this.sa&&"HLS"==this.i.type)return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Hb(),end:e.ob()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return{start:t,end:e=Math.min(e.end(e.length-1),n)}}return{start:0,end:0}},r.Ni=function(){this.U()&&(this.h.currentTime=this.Ra().end)},r.Ri=function(){return this.sa},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.C?this.C.h:null},r.pd=function(){return this.C?this.C.pd():1/0},r.Gf=function(){return this.C?this.C.Gf():[]},r.Yd=function(){return this.C?this.C.Yd():{}},r.Of=function(){return!!this.M&&this.M.g==ho},r.gb=function(){return this.h?this.K?this.K.i:1:0},r.Md=function(e,t){t=void 0===t||t,0==e?Y("A trick play rate of 0 is unsupported!"):(this.K.set(e),this.m==vf&&(this.o.playbackRateChanged(e),wl(this.j,t&&1<Math.abs(e))),Hd(this,e))},r.gd=function(){var e=this.K.sc();this.m==yf&&this.K.set(e),this.m==vf&&(this.K.set(e),this.o.playbackRateChanged(e),wl(this.j,!1)),this.Na.Qa()},r.Rb=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.l:null,t=[],n=0,r=c(this.i.variants),i=r.next();!i.done;i=r.next())if(Pi(i=i.value)){var a=ki(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return Mi(e)})):[]},r.vc=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.u:null,t=[],n=c(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=Ai(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?_d(this).map((function(e){return Ii(e)})):[]},r.pi=function(){var e=this.Oe;return this.i&&(e=this.i.imageStreams),e.map((function(e){return Ei(e)}))},r.fi=function(e){var t,n,r=this;return R((function(i){return 1==i.g?S(i,Ld(r,e),2):(t=i.h)?(n=[],t.segmentIndex.Eb((function(e){var r=Pd(e.tilesLayout||t.tilesLayout);if(r){r=r.rows*r.oc;for(var i=e.j-e.startTime,a=0;a<r;a++){var o=Rd(t,e.startTime+i*a/r);o&&n.push(o)}}})),t.closeSegmentIndex&&t.closeSegmentIndex(),i.return(n)):i.return(null)}))},r.Hi=function(e,t){var n,r=this;return R((function(i){return 1==i.g?S(i,Ld(r,e),2):(n=i.h)?i.return(Rd(n,t)):i.return(null)}))},r.th=function(e){var t,n=this;this.i&&this.G&&((t=n.i.textStreams.find((function(t){return t.id==e.id})))&&t!=n.j.u&&(sc(n.A.h,t,!1),xl(n.j,t),tf(n),af(n),n.Tb=t.language),!this.Pa())||function(){if(n.h&&n.h.textTracks){var t=_d(n),r=t.find((function(e){return"disabled"!==e.mode}));(t=t.find((function(t){return Ci(t)===e.id})))&&(r!==t&&(r&&(r.mode="disabled",n.l.Ja(r,"cuechange"),n.B.remove(0,1/0)),t&&Nd(n,t)),tf(n),af(n))}}()},r.Be=function(e,t,n){var r=this;t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.G&&(function(){var i=r.i.variants.find((function(t){return t.id==e.id}));if(i&&Pi(i)){var a=r.j.l;r.g.abr.enabled&&(a.video!=i.video||a.audio&&i.audio&&a.audio.language==i.audio.language&&a.audio.channelsCount==i.audio.channelsCount&&a.audio.label==i.audio.label)&&Y("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Pa()?Yd(r,i,!1,!1,0):Yd(r,i,!1,t||!1,n||0),r.W.configure({language:i.language,role:i.audio&&i.audio.roles&&i.audio.roles[0]||"",channelCount:i.audio&&i.audio.channelsCount?i.audio.channelsCount:0,Sc:i.video&&i.video.hdr?i.video.hdr:"",spatialAudio:!(!i.audio||!i.audio.spatialAudio)&&i.audio.spatialAudio,videoLayout:i.video&&i.video.videoLayout?i.video.videoLayout:"",Kc:i.audio&&i.audio.label?i.audio.label:"",fd:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:i.audio&&i.audio.codecs?i.audio.codecs:""}),Wd(r)}}(),!this.Pa())||function(){if(r.h&&r.h.audioTracks)for(var t=Array.from(r.h.audioTracks),n=(t=c(t)).next();!n.done;n=t.next())if(Ci(n=n.value)==e.id){$d(r,n);break}}()},r.xj=function(e,t){t=void 0===t?0:t;var n=this.Rb();if(n.length){var r=n.find((function(e){return e.active}));r&&(n=n.find((function(t){return t.videoId===r.videoId&&t.language==e.language&&t.label==e.label&&t.audioMimeType==e.mimeType&&t.audioCodec==e.codecs&&t.primary==e.primary&&ln(t.audioRoles,e.roles)&&t.accessibilityPurpose==e.accessibilityPurpose&&t.channelsCount==e.channelsCount&&t.audioSamplingRate==e.audioSamplingRate&&t.spatialAudio==e.spatialAudio})))&&!n.active&&this.Be(n,!0,t)}},r.getAudioTracks=function(){var e=this.Rb();if(!e.length)return[];var t=e.find((function(e){return e.active}));if(!t)return[];var n=e;if(this.m==vf&&(n=e.filter((function(e){return e.originalVideoId===t.originalVideoId&&e.audioCodec}))),!n.length)return[];e=new Set;for(var r=(n=c(n)).next();!r.done;r=n.next())r=r.value,e.add({active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage});return e.size?Array.from(e):[]},r.hi=function(){return hf(this.Rb())},r.Fi=function(){return hf(this.vc())},r.gi=function(){return Array.from(pf(this.Rb()))},r.Ei=function(){return Array.from(pf(this.vc()))},r.sh=function(e,t,n,r,i,a,o){var s=this;n=void 0===n?0:n,r=void 0===r?0:r,i=void 0===i?"":i,a=void 0!==a&&a,o=void 0===o?"":o,this.i&&this.G&&(function(){function u(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0}s.W=s.g.adaptationSetCriteriaFactory(),s.W.configure({language:e,role:t||"",channelCount:n||0,Sc:"",spatialAudio:a||!1,videoLayout:"",Kc:o||"",fd:"",codecSwitchingStrategy:s.g.mediaSource.codecSwitchingStrategy,audioCodec:i||""});for(var l=s.j.l,d=s.W.create(s.i.variants),f=null,p=(d=c(d.values())).next();!p.done;p=d.next())Pi(p=p.value)&&(!f||u(f,l)>u(p,l))&&(f=p);f!=l&&(f?(l=ki(f),s.Be(l,!0,r||0)):Xd(s))}(),!this.Pa())||function(){if(s.h&&s.h.audioTracks){var n=Ri(s.Rb(),e,t||"",!1)[0];n&&s.Be(n)}}()},r.hg=function(e,t,n){var r,i=this;n=void 0!==n&&n,this.i&&this.G&&(function(){i.Tb=e,i.Hd=t||"",i.Fd=n||!1;var r=Ri(i.i.textStreams,i.Tb,i.Hd,i.Fd)[0]||null;r&&r!=i.j.u&&(sc(i.A.h,r,!1),i.g.streaming.alwaysStreamText||i.Pf())&&(xl(i.j,r),tf(i),af(i))}(),!this.Pa())||(r=Ri(i.vc(),e,t||"",n||!1)[0])&&i.th(r)},r.yj=function(e,t,n){var r=this;t=void 0===t||t,n=void 0===n?0:n,this.i&&this.G&&(function(){for(var i=null,a=c(r.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==e){i=o;break}null!=i&&(r.W=r.g.adaptationSetCriteriaFactory(),r.W.configure({language:i.language,role:"",channelCount:0,Sc:"",spatialAudio:!1,videoLayout:"",fd:"",Kc:e,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),Xd(r,t,n))}(),!this.Pa())||function(){if(r.h&&r.h.audioTracks){for(var t=Array.from(r.h.audioTracks),n=null,i=(t=c(t)).next();!i.done;i=t.next())(i=i.value).label==e&&(n=i);n&&$d(r,n)}}()},r.Pf=function(){var e=this.oa;return this.B?this.B.isTextVisible():e},r.Rg=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?Od(this).map((function(e){return Ii(e)})):[]},r.ji=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=si(e),n=Od(this).filter((function(e){return si(e.language)==t}));if(!n||!n.length)return[];e=[];for(var r=new Set,i=(n=c(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var a=(i=c(i.cues)).next();!a.done;a=i.next()){var o=a.value;(a=o.id)&&""!=a||(a=o.startTime+"-"+o.endTime+"-"+o.text),o={id:a,title:o.text,startTime:o.startTime,endTime:o.endTime},r.has(a)||(e.push(o),r.add(a))}return e},r.zh=function(e){e=!!e,this.oa!=e&&(this.oa=e,this.m==vf?(this.B.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||0<(e=Ri(this.i.textStreams,this.Tb,this.Hd,this.Fd)).length&&(xl(this.j,e[0]),tf(this),af(this)):function(e){var t=e.i.get(Ot);t&&(Ol(t),jl(t).catch((function(){})),e.F=e.i.get(Ot),e.i.delete(Ot)),e.u=null}(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.B.setTextVisibility(e),nf(this))},r.yi=function(){if(this.G)var e=this.G.Od();else{if(null==this.Y)return new Date;e=this.Y}if(this.i&&!this.Pa()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.Wg=function(){if(this.i&&!this.Pa()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},r.ae=function(){return this.U()&&this.i?this.i.presentationTimeline.ae():null},r.Fb=function(){if(this.m==vf)return this.I.Fb();var e={total:[],audio:[],video:[],text:[]};return this.m==yf&&(e.total=Ss(this.h.buffered)),e},r.Zd=function(){if(!this.h||!this.h.currentTime)return null;var e=this.Wg().getTime()+1e3*this.h.currentTime;return Math.floor(Date.now()-e)},r.getStats=function(){if(this.m!=vf&&this.m!=yf)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Gd(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.P=this.G.zg(),this.A.T=this.G.Ag()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(n=this.C&&(n=this.C).H?n.H:NaN,this.A.o=n,this.m==vf){if(n=this.j.l,t=this.j.u,n){var i=(r=this.K?this.K.i:1)*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.Zd()||0,this.A.B=n/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.u=n}this.m==yf&&((n=this.A).mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var a=this.A;e=a.m,n=a.l,t=a.A,r=a.M,i=a.O;for(var o=a.L,s=a.T,u=a.P,l=a.u,d=a.i,f=a.C,p=a.H,h=a.j,g=ac(a.g,"playing"),m=ac(a.g,"paused"),v=ac(a.g,"buffering"),y=a.o,b=a.B,w=a.I,S=a.bh,x=a.mc,T=a.K,k=a.G,A=a.F,E=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=c(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(a.g),C=[],I=(a=c(a.h.g)).next();!I.done;I=a.next())I=I.value,C.push({timestamp:I.timestamp,id:I.id,type:I.type,fromAdaptation:I.fromAdaptation,bandwidth:I.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:o,stallsDetected:s,gapsJumped:u,estimatedBandwidth:l,completionPercent:d,loadLatency:f,manifestTimeSeconds:p,drmTimeSeconds:h,playTime:g,pauseTime:m,bufferingTime:v,licenseTime:y,liveLatency:b,maxSegmentDuration:w,manifestSizeBytes:S,bytesDownloaded:x,nonFatalErrorCount:T,manifestPeriodCount:k,manifestGapCount:A,stateHistory:E,switchHistory:C}},r.Rh=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,u,l,c,d,f,p,h,g,m,v,y=this;return R((function(b){switch(b.g){case 1:if(y.m!=vf&&y.m!=yf)throw new Le(1,7,7004);if("subtitles"!=n&&"captions"!=n&&Y("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){b.s(2);break}return S(b,jd(y,e),3);case 3:r=b.h;case 2:if(s=[],y.u&&(s=y.u.getCuePoints()),y.m!=yf){b.s(4);break}return o&&(n="forced"),S(b,Ud(y,e,t,n,r,a||"",s),5);case 5:if(u=si(t),l=y.vc(),c=l.find((function(e){return si(e.language)==u&&e.label==(a||"")&&e.kind==n})))return Qd(y),b.return(c);throw new Le(1,2,2012);case 4:if(d=jt,f=y.Ra(),p=f.end-f.start,y.i&&(p=y.i.presentationTimeline.getDuration()),1/0==p)throw new Le(1,4,4033);if(!s.length){b.s(6);break}return S(b,Fd(y,e,y.F,y.g.streaming.retryParameters),7);case 7:h=b.h,g=Bd(y,h,r,s),m=new Blob([g],{type:"text/vtt"}),e=Su(m),r="text/vtt";case 6:if(v={id:y.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ku(0,p,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:d.za,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Rr(r||"",i||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},!Yr(Rr(v.mimeType,v.codecs)))throw new Le(2,2,2014,r);return y.i.textStreams.push(v),Qd(y),b.return(Ai(v))}}))},r.Sh=function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x=this;return R((function(T){switch(T.g){case 1:if(x.m!=vf&&x.m!=yf)throw new Le(1,7,7004);if(t){T.s(2);break}return S(T,jd(x,e),3);case 3:t=T.h;case 2:if("text/vtt"!=t)throw new Le(1,2,2017,e);if(n=jt,r=x.Ra(),i=r.end-r.start,x.i&&(i=x.i.presentationTimeline.getDuration()),1/0==i)throw new Le(1,4,4045);return S(T,Fd(x,e,x.F,x.g.streaming.retryParameters),4);case 4:if(a=T.h,!(o=Xr(t)))throw new Le(2,2,2014,t);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},l=Ie(a),d=s.parseMedia(l,u,e,[]),f=[],p=c(d),h=p.next(),g={};!h.done;g={Ne:void 0,Mc:void 0},h=p.next())g.Mc=h.value,g.Ne=null,m=function(t){return function(){return null==t.Ne&&(t.Ne=Dt([e],[t.Mc.payload])),t.Ne||[]}}(g),v=new ps(g.Mc.startTime,g.Mc.endTime,m,0,null,null,0,0,1/0),g.Mc.payload.includes("#xywh")&&4===(y=g.Mc.payload.split("#xywh=")[1].split(",")).length&&v.De({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)}),f.push(v);if(b=t,!f.length){T.s(5);break}return S(T,Sc(f[0].N()[0],x.F,x.g.manifest.retryParameters),6);case 6:b=T.h;case 5:return w={id:x.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(f),mimeType:b||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.$e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Rr(b||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},x.m==yf?x.Oe.push(w):x.i.imageStreams.push(w),Qd(x),T.return(Ei(w))}}))},r.Qh=function(e,t,n){var r,i,a,o,s=this;return R((function(u){switch(u.g){case 1:if(s.m!=vf&&s.m!=yf)throw new Le(1,7,7004);if(n){u.s(2);break}return S(u,jd(s,e),3);case 3:n=u.h;case 2:return r=[],s.u&&(r=s.u.getCuePoints()),S(u,Ud(s,e,t,"chapters",n,"",r),4);case 4:if(i=u.h,a=s.Rg(),!(o=a.find((function(e){return e.language==t})))){u.s(5);break}return S(u,new Promise((function(e,t){s.l.ma(i,"load",e),s.l.ma(i,"error",(function(){t(new Le(1,2,2015))}))})),6);case 6:return Qd(s),u.return(o);case 5:throw new Le(1,2,2012)}}))},r.Dj=function(e,t){this.ka.width=e,this.ka.height=t},r.eg=function(e){if(this.m==vf){var t=this.j;if(e=void 0===e?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=c(t.i.values()),r=n.next();!r.done;r=n.next())!(r=r.value).sd||r.Da||r.kb||(r.sd=!1,_l(t,r,e));t=!0}}else t=!1;return t},r.Hf=function(){return Y("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.ui=function(){return this.Qb},r.ni=function(){var e={video:null,audio:null,text:null};if(this.m!=vf)return e;for(var t=this.j.l,n=this.h.currentTime,r=(t=c([t.video,t.audio,this.j.u])).next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i={codecs:(i=r.segmentIndex.get(i)).codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},"video"==r.type?(i.width=r.width,i.height=r.height,e.video=i):"audio"==r.type?e.audio=i:r.type==Ot&&(e.text=i)}return e},r.Ch=function(e){this.ue=e},r.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===gf||!navigator.onLine||0==t||!this.i)return!1;if(this.i.variants.some((function(t){var n=t[e.type];return!(!n||n.id===e.id||t.disabledUntilTime||"audio"==e.type&&e.language!==n.language)}))){for(var n=!1,r=!1,i=c(this.i.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value)[e.type];o&&(o.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):o.trickModeVideo&&o.trickModeVideo.id==e.id&&(r=!0))}return!(!n&&r||(this.xe.ua(1),t=this.Fb().video.reduce((function(e,t){return e+t.end-t.start}),0),Xd(this,!1,t,!0,!1),0))}return!1},r.addFont=function(t,n){var r,i,a,o,s;return R((function(u){if(1==u.g)return"fonts"in document&&"FontFace"in e?S(u,document.fonts.ready,3):u.s(0);if(!("entries"in document.fonts))return u.return();for(r=function(e){for(var t=[],n=(e=e.entries()).next();!1===n.done;)t.push(n.value),n=e.next();return t},i=c(r(document.fonts)),a=i.next();!a.done;a=i.next())if((o=a.value).family==t&&"swap"==o.display)return u.return();s=new FontFace(t,"url("+n+")",{display:"swap"}),document.fonts.add(s),x(u)}))},r.Pa=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},r.Uc=function(){return!(this.h&&!this.h.ended)||this.sa&&!this.U()&&this.h.currentTime>=this.Ra().end},z("shaka.Player",dd),dd.prototype.isEnded=dd.prototype.Uc,dd.prototype.isRemotePlayback=dd.prototype.Pa,dd.prototype.addFont=dd.prototype.addFont,dd.prototype.setVideoContainer=dd.prototype.Ch,dd.prototype.getFetchedPlaybackInfo=dd.prototype.ni,dd.prototype.getManifestParserFactory=dd.prototype.ui,dd.prototype.getManifest=dd.prototype.Hf,dd.prototype.retryStreaming=dd.prototype.eg,dd.prototype.setMaxHardwareResolution=dd.prototype.Dj,dd.prototype.addChaptersTrack=dd.prototype.Qh,dd.prototype.addThumbnailsTrack=dd.prototype.Sh,dd.prototype.addTextTrackAsync=dd.prototype.Rh,dd.prototype.getStats=dd.prototype.getStats,dd.prototype.getBufferedInfo=dd.prototype.Fb,dd.prototype.getSegmentAvailabilityDuration=dd.prototype.ae,dd.prototype.getPresentationStartTimeAsDate=dd.prototype.Wg,dd.prototype.getPlayheadTimeAsDate=dd.prototype.yi,dd.prototype.setTextTrackVisibility=dd.prototype.zh,dd.prototype.getChapters=dd.prototype.ji,dd.prototype.getChaptersTracks=dd.prototype.Rg,dd.prototype.isTextTrackVisible=dd.prototype.Pf,dd.prototype.selectVariantsByLabel=dd.prototype.yj,dd.prototype.selectTextLanguage=dd.prototype.hg,dd.prototype.selectAudioLanguage=dd.prototype.sh,dd.prototype.getTextLanguages=dd.prototype.Ei,dd.prototype.getAudioLanguages=dd.prototype.gi,dd.prototype.getTextLanguagesAndRoles=dd.prototype.Fi,dd.prototype.getAudioLanguagesAndRoles=dd.prototype.hi,dd.prototype.getAudioTracks=dd.prototype.getAudioTracks,dd.prototype.selectAudioTrack=dd.prototype.xj,dd.prototype.selectVariantTrack=dd.prototype.Be,dd.prototype.selectTextTrack=dd.prototype.th,dd.prototype.getThumbnails=dd.prototype.Hi,dd.prototype.getAllThumbnails=dd.prototype.fi,dd.prototype.getImageTracks=dd.prototype.pi,dd.prototype.getTextTracks=dd.prototype.vc,dd.prototype.getVariantTracks=dd.prototype.Rb,dd.prototype.cancelTrickPlay=dd.prototype.gd,dd.prototype.trickPlay=dd.prototype.Md,dd.prototype.getPlaybackRate=dd.prototype.gb,dd.prototype.isBuffering=dd.prototype.Of,dd.prototype.getKeyStatuses=dd.prototype.Yd,dd.prototype.getActiveSessionsMetadata=dd.prototype.Gf,dd.prototype.getExpiration=dd.prototype.pd,dd.prototype.drmInfo=dd.prototype.drmInfo,dd.prototype.keySystem=dd.prototype.keySystem,dd.prototype.isFullyLoaded=dd.prototype.Ri,dd.prototype.goToLive=dd.prototype.Ni,dd.prototype.seekRange=dd.prototype.Ra,dd.prototype.isAudioOnly=dd.prototype.Qi,dd.prototype.isInProgress=dd.prototype.yc,dd.prototype.isLive=dd.prototype.U,dd.prototype.getAdManager=dd.prototype.Pg,dd.prototype.getAssetUri=dd.prototype.Qc,dd.prototype.getNetworkingEngine=dd.prototype.xb,dd.prototype.getMediaElement=dd.prototype.xi,dd.prototype.getManifestType=dd.prototype.Tg,dd.prototype.getLoadMode=dd.prototype.ti,dd.prototype.resetConfiguration=dd.prototype.sj,dd.prototype.getBufferFullness=dd.prototype.Qg,dd.prototype.getNonDefaultConfiguration=dd.prototype.Vg,dd.prototype.getConfigurationForLowLatency=dd.prototype.ki,dd.prototype.getConfiguration=dd.prototype.getConfiguration,dd.prototype.configurationForLowLatency=dd.prototype.ci,dd.prototype.configure=dd.prototype.configure,dd.prototype.releaseAllMutexes=dd.prototype.oj,dd.prototype.destroyAllPreloads=dd.prototype.pf,dd.prototype.preload=dd.prototype.preload,dd.prototype.detachAndSavePreload=dd.prototype.Lg,dd.prototype.unloadAndSavePreload=dd.prototype.Gj,dd.prototype.load=dd.prototype.load,dd.prototype.updateStartTime=dd.prototype.Kj,dd.prototype.unload=dd.prototype.kc,dd.prototype.detach=dd.prototype.detach,dd.prototype.attachCanvas=dd.prototype.Vh,dd.prototype.attach=dd.prototype.Lb,dd.probeSupport=function(t){var n,r,i,a,o;return t=void 0===t||t,R((function(s){switch(s.g){case 1:if(n={},!t){s.s(2);break}return S(s,function(){var t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,C,I,M,D,P,L,N,_,O,j,U,F,B;return R((function(z){if(1==z.g){if(t="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)){for(n={},r=c(t),i=r.next();!i.done;i=r.next())a=i.value,n[a]=null;return z.return(n)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u={"com.widevine.alpha":s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":["150","2000","3000"]},f={videoCapabilities:l=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:d=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},p=[null,"cenc","cbcs","cbcs-1-9"],h=new Map,g=function(e,t){var n,r,i,a,s,u,l,d,f,p,g,m,v;return R((function(y){switch(y.g){case 1:return T(y,2),S(y,t.createMediaKeys(),5);case 5:n=y.h;case 4:A(y,3);break;case 2:return E(y),y.return();case 3:if(i=!!(r=t.getConfiguration().sessionTypes)&&r.includes("persistent-license"),We()&&(i=!1),a=t.getConfiguration().videoCapabilities,s=t.getConfiguration().audioCapabilities,u={persistentState:i,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},h.has(e)&&h.get(e)?u=h.get(e):h.set(e,u),(l=a[0].encryptionScheme)&&!u.encryptionSchemes.includes(l)&&u.encryptionSchemes.push(l),(d=a[0].robustness)&&!u.videoRobustnessLevels.includes(d)&&u.videoRobustnessLevels.push(d),(f=s[0].robustness)&&!u.audioRobustnessLevels.includes(f)&&u.audioRobustnessLevels.push(f),"getStatusForPolicy"in n){for(p=[],g=c(o),m=g.next(),v={};!m.done;v={td:void 0},m=g.next())v.td=m.value,u.minHdcpVersions.includes(v.td)||p.push(n.getStatusForPolicy({minHdcpVersion:v.td}).then(function(e){return function(t){"usable"!=t||u.minHdcpVersions.includes(e.td)||u.minHdcpVersions.push(e.td)}}(v)));return S(y,Promise.all(p),0)}y.s(0)}}))},m=function(e,t,n,r){var i,a,o,s,u,l,d,p,h,m;return R((function(v){switch(v.g){case 1:for(T(v,2),i=vn(f),a=c(i.videoCapabilities),o=a.next();!o.done;o=a.next())(s=o.value).encryptionScheme=t,s.robustness=n;for(u=c(i.audioCapabilities),l=u.next();!l.done;l=u.next())(d=l.value).encryptionScheme=t,d.robustness=r;return(p=vn(i)).persistentState="required",p.sessionTypes=["persistent-license"],h=[p,i],it()?S(v,ni(5,navigator.requestMediaKeySystemAccess(e,h)),7):S(v,navigator.requestMediaKeySystemAccess(e,h),6);case 6:m=v.h,v.s(5);break;case 7:m=v.h;case 5:return S(v,g(e,m),8);case 8:A(v,0);break;case 2:E(v),x(v)}}))},v=function(e,t,n,r){var i,a,o;return R((function(s){switch(s.g){case 1:return T(s,2),i={type:"media-source",video:{contentType:l[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:d[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:e,video:{encryptionScheme:t,robustness:n},audio:{encryptionScheme:t,robustness:r}}},it()?S(s,ni(5,navigator.mediaCapabilities.decodingInfo(i)),7):S(s,navigator.mediaCapabilities.decodingInfo(i),6);case 6:a=s.h,s.s(5);break;case 7:a=s.h;case 5:return o=a.keySystemAccess,S(s,g(e,o),8);case 8:A(s,0);break;case 2:E(s),x(s)}}))},y=c(t),b=y.next();!b.done;b=y.next())w=b.value,h.set(w,null);for(k=function(e){return"org.w3.clearkey"!==e||!Je()},C=[],I=c(p),M=I.next();!M.done;M=I.next())for(D=M.value,P=c(t),L=P.next();!L.done;L=P.next())N=L.value,k(N)&&(C.push(m(N,D,"","")),C.push(v(N,D,"","")));for(_=c(t),O=_.next();!O.done;O=_.next())for(j=O.value,U=c(u[j]||[]),F=U.next();!F.done;F=U.next())B=F.value,k(j)&&(C.push(m(j,null,B,"")),C.push(m(j,null,"",B)),C.push(v(j,null,B,"")),C.push(v(j,null,"",B)));return S(z,Promise.all(C),2)}return z.return(xa(h))}))}(),3);case 3:n=s.h;case 2:return r=function(){var e={};if(Ve())for(var t=c(Eo.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(n=(t=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!n.done;n=t.next())e[n=n.value]=Ve()?Eo.has(n):He(n);return e}(),i=function(){for(var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(d(Kr)),t={},n=(e=c(e)).next();!n.done;n=e.next()){Yr(n=n.value)?t[n]=!0:t[n]=Ve()?Gt(n)||!!Er(n):He(n);var r=n.split(";")[0];t[r]=t[r]||t[n]}return t}(),S(s,dt(),4);case 4:return a=s.h,o={manifest:r,media:i,drm:n,hardwareResolution:a},wf.forEach((function(e,t){o[t]=e()})),s.return(o)}}))},dd.isBrowserSupported=function(){return e.Promise||Y("A Promise implementation or polyfill is required"),!(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||st("Trident/"))&&(!!Ve()||He("application/x-mpegurl"))},dd.setAdManagerFactory=function(e){Sf=e},dd.registerSupportPlugin=hd,dd.prototype.destroy=dd.prototype.destroy;var gf=0,mf=1,vf=2,yf=3;dd.LoadMode={DESTROYED:gf,NOT_LOADED:mf,MEDIA_SOURCE:vf,SRC_EQUALS:yf},dd.version="v4.14.6";var bf=["4","14"];se=new function(e){this.g=e,this.i=ae,this.h=oe}(new re(Number(bf[0]),Number(bf[1])));var wf=new Map,Sf=null;function xf(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function Tf(e){return e.g.length?e.g.reduce((function(e,t){return e+t}),0)/e.g.length:0}function kf(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new ee,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,(function(){r.i=!0})),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,(function(){r.i=!1}))}function Af(){}function Ef(e,t){for(var n=[],r=(e=c(An(e,"Ad"))).next();!r.done;r=e.next())if((r=Mn(r.value,"InLine"))&&(r=Mn(r,"Creatives")))for(var i=(r=c(An(r,"Creative"))).next();!i.done;i=r.next()){var a=Mn(i=i.value,"Linear");if(a&&Cf(n,t,a),i=Mn(i,"NonLinearAds"))for(var o=(i=c(i=An(i,"NonLinear"))).next();!o.done;o=i.next())e:{a=n;var s=t,u=o.value,l=Mn(u,"StaticResource");if(l)o=l.attributes.creativeType;else{if(!(l=Mn(u,"HTMLResource")))break e;o="text/html"}if(l=Cn(l)){"text/html"===o&&(l="data:text/html;charset=UTF-8,"+encodeURIComponent(l));var d=Pn(u,"width",Un)||Pn(u,"expandedWidth",Un),f=Pn(u,"height",Un)||Pn(u,"expandedHeight",Un);if(d||f){var p=null;(u=u.attributes.minSuggestedDuration)&&(p=gn(u)),u=0,null!=s&&(u=s),a.push({id:null,groupId:null,startTime:u,endTime:null,uri:l,mimeType:o,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:p,once:!0,pre:null==s,post:1/0==s,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:d||0,y:f||0}},displayOnBackground:!1,currentVideo:null,background:null})}}}}return n}function Cf(e,t,n){var r=0;null!=t&&(r=t);var i=null;if(n.attributes.skipoffset&&(i=gn(n.attributes.skipoffset),isNaN(i)&&(i=null)),n=Mn(n,"MediaFiles")){var a=An(n,"MediaFile");for(n=a,(a=a.filter((function(e){return"streaming"==e.attributes.delivery}))).length&&(n=a),n=n.sort((function(e,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(e.attributes.height,10)||0)})),a=(n=c(n)).next();!a.done;a=n.next())if(!(a=a.value).attributes.apiFramework){var o=Cn(a);if(o){e.push({id:null,groupId:null,startTime:r,endTime:null,uri:o,mimeType:a.attributes.type||null,isSkippable:null!=i,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==t,post:1/0==t,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});break}}}}function If(t,n,r,i,a){var o=this;this.u=t,this.i=n,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=a,this.j=null,this.h=new ee,google.ima.settings.setLocale(r),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.u,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.14.6"),this.g=null,this.B=i||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){!function(t,n){if(t.l(new ta("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G))),t.o.customPlayheadTracker){var r={currentTime:t.i.currentTime};t.g=n.getAdsManager(r,t.B),t.i.muted?t.g.setVolume(0):t.g.setVolume(t.i.volume),t.h.D(t.i,"timeupdate",(function(){t.i.duration&&(r.currentTime=t.i.currentTime)})),t.h.D(t.i,"volumechange",(function(){t.j&&(t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))}))}else t.g=n.getAdsManager(t.i,t.B);t.l(new ta("ima-ad-manager-loaded",(new Map).set("imaAdManager",t.g)));var i=t.g.getCuePoints();if(i.length){n=[];for(var a=(i=c(i)).next();!a.done;a=i.next())n.push({start:a.value,end:null});t.l(new ta("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(e){function t(t,n){t=(new Map).set("originalEvent",t),e.l(new ta(n,t))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Mf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Pf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,(function(t){Pf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(e){t(e,"ad-first-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,(function(e){t(e,"ad-midpoint")})),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(e){t(e,"ad-third-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,(function(e){t(e,"ad-complete")})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Lf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Lf(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,(function(e){t(e,"ad-skipped")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(e){t(e,"ad-volume-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(e){t(e,"ad-muted")})),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,(function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))})),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,(function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(n){e.j&&t(n,"ad-skip-state-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,(function(e){t(e,"ad-clicked")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(e){t(e,"ad-progress")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(e){t(e,"ad-buffering")})),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,(function(e){t(e,"ad-impression")})),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(e){t(e,"ad-duration-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,(function(e){t(e,"ad-closed")})),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,(function(e){t(e,"ad-loaded")})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){t(e,"all-ads-completed")})),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(e){t(e,"ad-linear-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,(function(e){t(e,"ad-metadata")})),e.h.D(e.g,google.ima.AdEvent.Type.LOG,(function(e){t(e,"ad-recoverable-error")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(e){t(e,"ad-break-ready")})),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,(function(e){t(e,"ad-interaction")}))}(t);try{t.g.init(t.i.offsetWidth,t.i.offsetHeight,Df(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.h.D(t.i,"loadeddata",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Df(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),"ResizeObserver"in e?(t.A=new ResizeObserver((function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Df(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.A.observe(t.i)):t.h.D(document,"fullscreenchange",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Df(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.F||t.o.skipPlayDetection?t.g.start():t.h.ma(t.i,"play",(function(){t.F=!0,t.g.start()}))}catch(o){Lf(t,null)}}(o,t)})),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){Mf(o,e)})),this.h.D(this.i,"ended",(function(){o.m.contentComplete()})),this.h.ma(this.i,"play",(function(){o.F=!0}))}function Mf(e,t){t.getError(),t=(new Map).set("originalEvent",t),e.l(new ta("ad-error",t)),Lf(e,null),e.l(new ta("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Df(e){return document.fullscreenEnabled?!!document.fullscreenElement:!!(e=e.i).webkitSupportsFullscreen&&e.webkitDisplayingFullscreen}function Pf(e,t){var n=t.getAd();n?(e.j=new kf(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new ta("ad-content-pause-requested")),t=(new Map).set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new ta("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?((t=e.j).l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):Y("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Lf(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new ta("ad-content-resume-requested")),e.l(new ta("ad-stopped",(new Map).set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Rf(e,t,n,r,i,a){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=r,this.m=i,this.u=a,this.B=t.overlay}function Nf(e,t,n){this.g=e,this.j=t,this.h=n,this.i=null==e.overlay}function _f(e,t,n,r){var i=this;this.T=null,this.A=e,this.H=t,this.g=n,this.F=null,this.B=!0,this.h=this.g,this.i=r,this.W=new Set,this.G=new Set,this.C=new Map,this.L=new Map,this.j=new dd,Kf(this),this.I=new ee,this.l=new ee,this.K=!1,this.ea=this.m=this.u=this.o=null,this.fa=!1,this.O=-1,this.Z=function(){if(!i.K&&i.o&&!i.H.Pa()){i.o=i.g.currentTime,i.u&&!i.u.pre&&!i.u.post&&i.o<i.u.startTime&&(i.u=null);var e=Bf(i);e&&zf(i,e,1,1,Date.now())}},this.Y=function(){if(!(i.K||i.o||i.H.Pa())){i.o=i.g.currentTime;var e=Bf(i,!0);e&&zf(i,e,1,1,Date.now())}},this.P=new ze(this.Z),this.M=new ze((function(){var e,t,n,r,a,o,s,u,l,d,f;return R((function(p){switch(p.g){case 1:if(!i.G.size||null==i.o){p.s(0);break}if((e=i.H.m)==gf||e==mf)return p.return();t=!1,n=Array.from(i.G),r=i.H.Ra(),a=c(n),o=a.next();case 3:if(o.done){p.s(5);break}if((s=o.value)==i.u){p.s(4);break}if(u=s.endTime||s.startTime,!(1<=r.start-u)){0<(l=s.startTime-i.o)&&10>=l&&(!i.C.has(s)&&Wf(s)&&i.C.set(s,i.j.preload(s.uri,null,s.mimeType||void 0)),Xf(i,s)),p.s(4);break}if(!i.C.has(s)){p.s(7);break}return S(p,i.C.get(s),8);case 8:(d=p.h)&&d.destroy(),i.C.delete(s);case 7:Yf(i,s),f=JSON.stringify(s),i.W.has(f)&&i.W.delete(f),i.G.delete(s),Of(i),s.overlay||(t=!0);case 4:o=a.next(),p.s(3);break;case 5:t&&Gf(i),x(p)}}))}))}function Of(e){e.fa&&!e.G.size&&(e.I.Ja(e.g,"playing",e.Y),e.I.Ja(e.g,"timeupdate",e.Y),e.I.Ja(e.g,"ended",e.Z),-1!=e.O&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.fa=!1)}function jf(e){if(e.A&&e.T&&!e.K){var t=e.T.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.B==t&&(e.B=!t,e.B?(e.h=e.g,e.F&&(e.F.parentElement&&e.A.removeChild(e.F),e.F=null)):(e.F||((t=document.createElement(e.g.tagName)).autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.F=t),e.h=e.F))}}function Uf(e,t){var n;R((function(r){if(1==r.g)return Kf(e),S(r,function(e,t){var n,r,i,a,o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,x,k,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G,K,q,W;return R((function(R){switch(R.g){case 1:if(n=[],!t)return R.return(n);if(r=t.values.find((function(e){return"X-ASSET-URI"==e.key})),i=t.values.find((function(e){return"X-ASSET-LIST"==e.key})),!r&&!i)return R.return(n);if(a=null,(o=t.values.find((function(e){return"ID"==e.key})))&&(a=o.data),s=null==a?Math.floor(10*t.startTime)/10:t.startTime,(u=t.endTime)&&1/0!=t.endTime&&"number"==typeof t.endTime&&(u=null==a?Math.floor(10*t.endTime)/10:t.endTime),l=t.values.find((function(e){return"X-RESTRICT"==e.key})),d=c=!0,l&&l.data&&(f=l.data,c=!f.includes("SKIP"),d=!f.includes("JUMP")),p=c?0:null,(h=t.values.find((function(e){return"X-ENABLE-SKIP-AFTER"==e.key})))&&(g=h.data,p=parseFloat(g),isNaN(p)&&(p=c?0:null)),m=null,(v=t.values.find((function(e){return"X-ENABLE-SKIP-FOR"==e.key})))&&(y=v.data,m=parseFloat(y),isNaN(p)&&(m=null)),b=null,(w=t.values.find((function(e){return"X-RESUME-OFFSET"==e.key})))&&(x=w.data,b=parseFloat(x),isNaN(b)&&(b=null)),k=null,(C=t.values.find((function(e){return"X-PLAYOUT-LIMIT"==e.key})))&&(I=C.data,k=parseFloat(I),isNaN(k)&&(k=null)),P=D=M=!1,(L=t.values.find((function(e){return"CUE"==e.key})))&&(N=L.data,M=N.includes("ONCE"),D=N.includes("PRE"),P=N.includes("POST")),_=!1,(O=t.values.find((function(e){return"X-TIMELINE-OCCUPIES"==e.key})))?(j=O.data,_=j.includes("RANGE")):!w&&e.H.U()&&(_=!D&&!P),r){if(!(U=r.data))return R.return(n);n.push({id:a,groupId:null,startTime:s,endTime:u,uri:U,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:b,playoutLimit:k,once:M,pre:D,post:P,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}),R.s(2);break}if(!i){R.s(2);break}return(F=i.data)?(T(R,4),S(R,qf(e,F,{type:11}),6)):R.return(n);case 6:for(B=R.h,z=gt(B),V=JSON.parse(z),(H=V["SKIP-CONTROL"])&&("number"==typeof(G=H["ENABLE-SKIP-AFTER"])&&(p=parseFloat(G),isNaN(G)&&(p=c?0:null)),"number"==typeof(K=H["ENABLE-SKIP-FOR"])&&(m=parseFloat(K),isNaN(K)&&(m=null))),q=0;q<V.ASSETS.length;q++)(W=V.ASSETS[q]).URI&&n.push({id:a+"_shaka_asset_"+q,groupId:a,startTime:s,endTime:u,uri:W.URI,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:b,playoutLimit:k,once:M,pre:D,post:P,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});A(R,2);break;case 4:E(R);case 2:return R.return(n)}}))}(e,t),2);(n=r.h).length?Ff(e,n):Y("Unsupported HLS interstitial",t),x(r)}))}function Ff(e,t){var n,r,i,a,o,s,u,l;R((function(d){switch(d.g){case 1:n=!1,r=c(t),i=r.next();case 2:if(i.done){d.s(4);break}if(!(a=i.value).uri){Y("Missing URL in interstitial",a),d.s(3);break}if(a.mimeType){d.s(5);break}return T(d,6),o=e.j.xb(),S(d,Sc(a.uri,o,e.H.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=d.h,A(d,5);break;case 6:E(d);case 5:if(s=a.id||JSON.stringify(a),e.W.has(s)){d.s(3);break}a.loop&&!a.overlay&&Y("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),e.W.add(s),e.G.add(a),u=!1,a.pre&&null==e.o?u=!0:0!=a.startTime||a.canJump?null!=e.o&&0<(l=a.startTime-e.o)&&10>=l&&(u=!0):u=!0,u&&(!e.C.has(a)&&Wf(a)&&e.C.set(a,e.j.preload(a.uri,null,a.mimeType||void 0)),Xf(e,a));case 3:i=r.next(),d.s(2);break;case 4:n&&Gf(e),function(e){if(!e.fa&&e.G.size){if(e.I.D(e.g,"playing",e.Y),e.I.D(e.g,"timeupdate",e.Y),e.I.D(e.g,"ended",e.Z),"requestVideoFrameCallback"in e.g&&!ot()){var t=e.g,n=function(){-1!=e.O&&(e.Z(),-1!=e.O&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.ua(.025);e.M&&e.M.ua(1),e.fa=!0}}(e),x(d)}}))}function Bf(e,t,n){t=void 0!==t&&t,n=void 0===n?null:n;var r=0,i=null;if(e.G.size&&null!=e.o){var a=e.g.ended,o=Array.from(e.G).sort((function(e,t){return t.startTime-e.startTime})),s=o;for(s=t?o.filter((function(e){return e.pre})):a?o.filter((function(e){return e.post})):o.filter((function(e){return!e.pre&&!e.post})),s=(o=c(s)).next();!s.done;s=o.next()){s=s.value;var u=!1;if(t)u=s.pre;else if(a)u=s.post;else if(!s.pre&&!s.post){var l=e.o-Math.round(1e3*s.startTime)/1e3;0<l&&(1>=l||!s.canJump)&&(u=!(null==n&&e.u&&!e.u.pre&&!e.u.post&&e.u.startTime>=s.startTime))}u&&(!e.u||s.startTime>=e.u.startTime)&&(r==(n||0)?i=s:i&&!s.canJump&&.001<Math.round(1e3*s.startTime)/1e3-Math.round(1e3*i.startTime)/1e3&&(i=s,r=0),r++)}}return i}function zf(e,t,n,r,i,a){a=void 0===a?0:a,e.u=t,jf(e),!e.h.parentElement&&e.A&&e.A.appendChild(e.h),1==r&&1==n&&(n=Array.from(e.G).filter((function(e){return t.pre?e.pre==t.pre:t.post?e.post==t.post:.001>Math.abs(e.startTime-t.startTime)})).length),t.once&&(a++,e.G.delete(t),Of(e),t.overlay||Gf(e)),t.mimeType&&(t.mimeType.startsWith("image/")||"text/html"===t.mimeType)?t.overlay?function(e,t,n,r,i){function a(){e.m&&(e.m.stop(),e.m=null),e.A.removeChild(u),Hf(e,t),e.i(new ta("ad-stopped"));var a=Bf(e,t.pre,r-i);a?(e.l.Qa(),zf(e,a,n,++r,Date.now(),i)):e.K=!1}var o=t.overlay,s="text/html"==t.mimeType?"iframe":"img",u=document.createElement(s);u.style.objectFit="contain",u.style.position="absolute",u.style.border="none",Vf(e,t),e.i(new ta("ad-started",(new Map).set("ad",new Nf(t,n,r)))),"iframe"==s?u.src=t.uri:(u.src=t.uri,u.onerror=function(t){e.i(new ta("ad-error",(new Map).set("originalEvent",t))),a()});var l=o.viewport,c=o.topLeft;o=o.size,0==l.x&&0==l.y?(u.width=t.overlay.size.x,u.height=t.overlay.size.y,u.style.bottom="10%",u.style.left="0",u.style.right="0",u.style.width="100%",t.overlay.size.y||"iframe"!=s||(u.style.height="auto")):(u.style.height=o.y/l.y*100+"%",u.style.left=c.x/l.x*100+"%",u.style.top=c.y/l.y*100+"%",u.style.width=o.x/l.x*100+"%"),e.A.appendChild(u);var d=Date.now();e.m&&e.m.stop(),e.m=new ze((function(){t.playoutLimit&&(Date.now()-d)/1e3>t.playoutLimit||t.endTime&&e.g.currentTime>t.endTime?(e.i(new ta("ad-complete")),a()):e.g.currentTime<t.startTime&&(e.i(new ta("ad-skipped")),a())})),t.playoutLimit&&!t.endTime?e.m.da(t.playoutLimit):t.endTime&&e.m.ua(.025),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&(e.m&&e.m.stop(),e.i(new ta("ad-skipped")),a())}))}(e,t,n,r,a):Y("Unsupported interstitial",t):e.B&&t.overlay?Y("Unsupported interstitial",t):function(e,t,n,r,i,a){var o,s,u,l,c,d,f,p,h,g,m,v,y,b,w,k,C;R((function(I){switch(I.g){case 1:if(o=Date.now(),e.K=!0,!e.B||1!=r){I.s(2);break}return e.i(new ta("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),s=new Xi,u=function(t){return R((function(n){if(1==n.g)return"detach"!=t.state?n.s(0):ot()?S(n,new Promise((function(e){return new ze(e).da(.1)})),3):n.s(3);s.resolve(),e.l.Ja(e.H,"onstatechange",u),x(n)}))},e.l.D(e.H,"onstatechange",u),S(I,s,2);case 2:return Vf(e,t),e.B||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,l=t.overlay.viewport,c=t.overlay.topLeft,d=t.overlay.size,e.h.style.height=d.y/l.y*100+"%",e.h.style.left=c.x/l.x*100+"%",e.h.style.top=c.y/l.y*100+"%",e.h.style.width=d.x/l.x*100+"%"):(e.g.pause(),null!=t.resumeOffset&&0!=t.resumeOffset&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),f=!1,p=function(){if(!e.B&&!t.overlay&&null==t.resumeOffset)if(t.timelineRange&&t.endTime&&1/0!=t.endTime)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var n=Date.now();e.g.currentTime+=(n-i)/1e3,i=n}},h=function(o){var s,u;return R((function(l){if(1==l.g){if(p(),s=Bf(e,t.pre,r-a),o&&t.groupId)for(;s&&s.groupId==t.groupId;)r++,s=Bf(e,t.pre,r-a);return e.m&&(!t.groupId||s&&s.groupId!=t.groupId)&&(e.m.stop(),e.m=null),Hf(e,t),s&&!s.overlay?l.s(2):(t.post&&(e.o=null,e.u=null),e.B?S(l,e.j.detach(),4):S(l,e.j.kc(),4))}2!=l.g&&(e.B&&(null==(u=t.resumeOffset)&&(u=t.timelineRange&&t.endTime&&1/0!=t.endTime?t.endTime-(e.o||0):(Date.now()-i)/1e3),e.i(new ta("ad-content-resume-requested",(new Map).set("offset",u)))),e.i(new ta("ad-stopped")),e.l.Qa(),e.K=!1,e.B?Gf(e):(e.h.style.display="none",p(),e.g.ended||e.g.play())),jf(e),s&&(e.i(new ta("ad-stopped")),e.l.Qa(),zf(e,s,n,++r,i,a)),x(l)}))},g=function(t){return R((function(n){return f?n.return():(f=!0,e.i(new ta("ad-error",(new Map).set("originalEvent",t))),S(n,h(!1),0))}))},m=function(){return R((function(t){if(1==t.g)return f?t.return():(f=!0,S(t,h(!1),2));e.i(new ta("ad-complete")),x(t)}))},e.ea=function(){return R((function(t){return f?t.return():(f=!0,e.i(new ta("ad-skipped")),S(t,h(!0),0))}))},v=new Rf(e.h,t,e.ea,n,r,!e.B),e.B||(v.setMuted(e.g.muted),v.setVolume(e.g.volume)),e.i(new ta("ad-started",(new Map).set("ad",v))),(y=v.canSkipNow())&&e.i(new ta("ad-skip-state-changed")),e.l.ma(e.j,"error",g),e.l.D(e.h,"timeupdate",(function(){if(e.h.duration){var t=v.canSkipNow();y!=t&&0<v.getRemainingTime()&&0<v.getDuration()&&e.i(new ta("ad-skip-state-changed")),y=t}})),e.l.ma(e.j,"firstquartile",(function(){p(),e.i(new ta("ad-first-quartile"))})),e.l.ma(e.j,"midpoint",(function(){p(),e.i(new ta("ad-midpoint"))})),e.l.ma(e.j,"thirdquartile",(function(){p(),e.i(new ta("ad-third-quartile"))})),e.l.ma(e.j,"complete",m),e.l.D(e.h,"play",(function(){e.i(new ta("ad-resumed"))})),e.l.D(e.h,"pause",(function(){var t=e.j.getConfiguration();e.h.currentTime>=t.playRangeEnd?m():e.i(new ta("ad-paused"))})),e.l.D(e.h,"volumechange",(function(){e.h.muted?e.i(new ta("ad-muted")):e.i(new ta("ad-volume-changed"))})),T(I,4),Kf(e),t.startTime&&t.endTime&&1/0!=t.endTime&&t.startTime!=t.endTime&&0<(b=t.endTime-t.startTime)&&e.j.configure("playRangeEnd",b),t.playoutLimit&&!e.m&&(e.m=new ze((function(){e.ea()})).da(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),S(I,e.j.Lb(e.h),6);case 6:return e.C.has(t)?S(I,e.C.get(t),10):S(I,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return w=I.h,e.C.delete(t),S(I,w?e.j.load(w):e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:e.h.play(),k=(Date.now()-o)/1e3,e.i(new ta("ads-loaded",(new Map).set("loadTime",k))),e.B&&e.g.play(),t.overlay&&(e.l.D(e.g,"seeking",(function(){var n=e.g.currentTime-t.startTime;.1<Math.abs(n-e.h.currentTime)&&(e.h.currentTime=n)})),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&e.ea()}))),A(I,0);break;case 4:if(C=E(I),!e.K)return I.return();g(C),x(I)}}))}(e,t,n,r,i,a)}function Vf(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),null!=t.currentVideo){var n=t.currentVideo;e.g.style.transformOrigin="top left";var r=!0,i=[],a=n.topLeft.x/n.viewport.x*100;0<a&&100>=a&&(i.push("translateX("+a+"%)"),r=!1),0<(a=n.topLeft.y/n.viewport.y*100)&&100>=a&&(i.push("translateY("+a+"%)"),r=!1),1>(a=n.size.x/n.viewport.x)&&i.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,1>a&&i.push("scaleY("+n+")"),i.length&&(e.g.style.transform=i.join(" ")),r&&(e.g.style.transition="transform 250ms")}e.A&&(e.A.style.pointerEvents="none",t.background&&(e.A.style.background=t.background)),e.F&&(e.F.style.background=t.overlay?"":"rgb(0, 0, 0)")}function Hf(e,t){t&&!t.displayOnBackground||(e.g.style.zIndex=""),t&&null==t.currentVideo||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.A&&(e.A.style.pointerEvents="",!t||t.background)&&(e.A.style.background=""),e.F&&(e.F.style.background="")}function Gf(e){for(var t=[],n=c(e.G),r=n.next(),i={};!r.done;i={$b:void 0},r=n.next())(r=r.value).overlay||(i.$b={start:r.startTime,end:null},r.pre?(i.$b.start=0,i.$b.end=null):r.post?(i.$b.start=-1,i.$b.end=null):r.timelineRange&&(i.$b.end=r.endTime),t.find(function(e){return function(t){return e.$b.start==t.start&&e.$b.end==t.end}}(i))||t.push(i.$b));e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function Kf(e){e.j.configure(e.H.Vg()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),la(e.H.xb(),e.j.xb())}function qf(e,t,n){var r,i;return R((function(a){return 1==a.g?(r=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),S(a,e.H.xb().request(7,r,n).promise,2)):(i=a.h,a.return(i.data))}))}function Wf(e){return!(e=e.mimeType)||!e.startsWith("image/")&&"text/html"!==e}function Xf(e,t){if(!(e.L.has(t)||e.T&&!e.T.allowPreloadOnDomElements)){var n=function(e){var t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t},r=[];if(t.background){var i=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);i&&r.push(n(i[2]))}t.mimeType.startsWith("image/")&&r.push(n(t.uri)),e.L.set(t,r)}}function Yf(e,t){if(e.L.has(t)){for(var n=e.L.get(t),r=(n=c(n)).next();!r.done;r=n.next())(r=r.value).parentNode.removeChild(r);e.L.delete(t)}}function $f(e,t,n,r,i){this.h=e,this.j=gn(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}function Qf(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.o=new ee}function Jf(e,t){var n,r,i,a,o,s,u,l;R((function(c){return 1==c.g?t.staticResource?(n=Zf(t),e.F.get(n)?c.return():(r={type:9},i=ca([t.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),T(c,2),e.F.set(n,[]),S(c,a.promise,4))):c.return():2!=c.g?(o=c.h,s=gt(o.data),u=JSON.parse(s),l=u.apps,e.F.set(n,l),A(c,0)):(E(c),e.F.delete(n),void x(c))}))}function Zf(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function ep(e){var t=e.h.currentTime;if(0!=t&&null==e.A){for(var n,r,i=c(e.j),a=i.next();!a.done;a=i.next())for(var o=c((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,r){if(s.startTimeInSeconds<t&&s.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=s,n=a;break}}else s.startTimeInSeconds<t&&(r=s,n=a);n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function tp(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),ip(e,"firstQuartile")):t>=i&&!e.u.includes("midpoint")?(e.u.push("midpoint"),ip(e,"midpoint")):t>=a&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),ip(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&ip(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&np(e)}if(!e.g||!e.g.isLinear()){e:for(r=c(e.j),i=r.next();!i.done&&(i=i.value,!e.g||!e.g.isLinear());i=r.next())for(a=0;a<i.ads.length;a++){var o=i.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=t&&s>t){if(e.M.includes(o.adId)){if(e.h.ended)continue;e.h.currentTime=s;break e}np(e),e.L=i,e.g=new $f(o,a+1,i.ads.length,!0,e.h),e.C=o,0===a&&ip(e,"breakStart"),rp(e);break}}if(!e.g)for(i=(r=c(e.j)).next();!i.done&&(i=i.value,!e.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if((o=i.nonLinearAdsList[a]).nonLinearAdList.length){s=i.startTimeInSeconds;var u=e.F.get(Zf(o.nonLinearAdList[0]));if(s<=t&&u&&u.length){np(e),s=e;for(var l=(u=c(u)).next();!l.done;l=u.next())if((l=l.value).data.source.length){var d=document.createElement("img");d.src=l.data.source[0].url,d.style.top=(l.placeholder.top||0)+"%",d.style.height=100-(l.placeholder.top||0)+"%",d.style.left=(l.placeholder.left||0)+"%",d.style.maxWidth=100-(l.placeholder.left||0)+"%",d.style.objectFit="contain",d.style.position="absolute",s.B.appendChild(d)}e.L=i,e.g=new $f(o,a+1,i.ads.length,!1,e.h),e.C=o,0===a&&ip(e,"breakStart"),rp(e);break}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function np(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;ip(e,void 0!==t&&t?"skip":"complete");for(var n=(t=c(e.m)).next();!n.done;n=t.next())n=n.value,e.o.Ja(n.target,n.type,n.listener);e.m=[],e.u=[],(t=e.g.getPositionInSequence())===(n=e.g.getSequenceLength())&&ip(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function rp(e){var t=!1;e.h.paused?t=!0:(ip(e,"impression"),ip(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&ip(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||ip(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(ip(e,"impression"),ip(e,"start"),t=!1):ip(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){ip(e,"pause")}});for(var n=c(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function ip(e,t){var n=e.C.trackingEvents.find((function(e){return e.eventType==t}));if(n||(n=e.L.adBreakTrackingEvents.find((function(e){return e.eventType==t}))),n)for(var r={type:10},i=(n=c(n.beaconUrls)).next();!i.done;i=n.next())(i=i.value)&&""!=i&&((i=ca([i],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",e.K.request(7,i,r));switch(t){case"impression":e.i(new ta("ad-impression"));break;case"start":e.i(new ta("ad-started",(new Map).set("ad",e.g)));break;case"mute":e.i(new ta("ad-muted"));break;case"unmute":e.i(new ta("ad-volume-changed"));break;case"resume":e.i(new ta("ad-resumed"));break;case"pause":e.i(new ta("ad-paused"));break;case"firstQuartile":e.i(new ta("ad-first-quartile"));break;case"midpoint":e.i(new ta("ad-midpoint"));break;case"thirdQuartile":e.i(new ta("ad-third-quartile"));break;case"complete":e.i(new ta("ad-complete")),e.i(new ta("ad-stopped"));break;case"skip":e.i(new ta("ad-skipped")),e.i(new ta("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new ta("ad-skip-state-changed"))}}function ap(e,t){this.g=e,this.i=null,this.h=t}function op(e,t,n,r){var i=this;this.u=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new ee,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new ta("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.i(new ta("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",(function(){var t=e.l.currentTime;if(0!=t){e.g.streamTimeForContentTime(t);var n=e.g.previousCuePointForStreamTime(t);n&&!n.played&&(e.o=t,e.l.currentTime=n.start)}}))}(i,e)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.m=new ap(e,i.l),i.A&&(i.m.i=i.A),i.i(new ta("ad-started",(new Map).set("ad",i.m))),i.u.setAttribute("ad-active","true")})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.u.removeAttribute("ad-active");var e=i.l.currentTime;i.o&&i.o>e&&(i.l.currentTime=i.o,i.o=null)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.A=e.getStreamData().adProgressData,i.m&&(i.m.i=i.A)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new ta("ad-first-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new ta("ad-midpoint"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new ta("ad-third-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new ta("ad-complete")),i.i(new ta("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new ta("ad-skipped")),i.i(new ta("ad-stopped"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=c(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});i.C=e,i.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",e)))}))}function sp(){ia.call(this),this.h=this.i=this.j=this.g=null,this.m=new xf,this.o=navigator.language,this.l=null}function up(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}function lp(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ta){var n={};for(r in t)(e=t[r])&&"object"==typeof e?"detail"==r&&(n[r]=e):r in Event||(n[r]=e);return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(e=(n=c(Object.getOwnPropertyNames(t))).next();!e.done;e=n.next())r.add(e.value);for(n={},e=(r=c(r)).next();!e.done;e=r.next())n[e=e.value]=t[e];t={__type__:"Error",contents:n}}else if(t instanceof TimeRanges){for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=c(Ss(t))).next();!n.done;n=t.next())e=(n=n.value).end,r.start.push(n.start),r.end.push(e);t=r}else t=ArrayBuffer.isView(t)&&1===t.BYTES_PER_ELEMENT?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}}))}function cp(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(n in e=t.contents,t=Error(e.message),e)t[n]=e[n];n=t}else n=t;return n}))}(r=kf.prototype).needsSkipUI=function(){return!1},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!0},r.getDuration=function(){return this.g.getDuration()},r.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.h.getRemainingTime()},r.isPaused=function(){return this.i},r.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return this.h.getAdSkippableState()},r.skip=function(){return this.h.skip()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.resume()},r.getVolume=function(){return this.h.getVolume()},r.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},r.isMuted=function(){return 0==this.h.getVolume()},r.isLinear=function(){return this.g.isLinear()},r.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},r.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return this.g.getMediaUrl()},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.g=null},z("shaka.ads.ClientSideAd",kf),kf.prototype.release=kf.prototype.release,kf.prototype.getPodIndex=kf.prototype.getPodIndex,kf.prototype.getTimeOffset=kf.prototype.getTimeOffset,kf.prototype.getMediaUrl=kf.prototype.getMediaUrl,kf.prototype.getAdvertiserName=kf.prototype.getAdvertiserName,kf.prototype.getCreativeAdId=kf.prototype.getCreativeAdId,kf.prototype.getAdId=kf.prototype.getAdId,kf.prototype.getVastMediaWidth=kf.prototype.getVastMediaWidth,kf.prototype.getVastMediaHeight=kf.prototype.getVastMediaHeight,kf.prototype.getVastMediaBitrate=kf.prototype.getVastMediaBitrate,kf.prototype.getDescription=kf.prototype.getDescription,kf.prototype.getTitle=kf.prototype.getTitle,kf.prototype.getPositionInSequence=kf.prototype.getPositionInSequence,kf.prototype.getSequenceLength=kf.prototype.getSequenceLength,kf.prototype.setMuted=kf.prototype.setMuted,kf.prototype.resize=kf.prototype.resize,kf.prototype.isLinear=kf.prototype.isLinear,kf.prototype.isMuted=kf.prototype.isMuted,kf.prototype.setVolume=kf.prototype.setVolume,kf.prototype.getVolume=kf.prototype.getVolume,kf.prototype.play=kf.prototype.play,kf.prototype.pause=kf.prototype.pause,kf.prototype.skip=kf.prototype.skip,kf.prototype.canSkipNow=kf.prototype.canSkipNow,kf.prototype.getTimeUntilSkippable=kf.prototype.getTimeUntilSkippable,kf.prototype.isSkippable=kf.prototype.isSkippable,kf.prototype.isPaused=kf.prototype.isPaused,kf.prototype.getRemainingTime=kf.prototype.getRemainingTime,kf.prototype.getMinSuggestedDuration=kf.prototype.getMinSuggestedDuration,kf.prototype.getDuration=kf.prototype.getDuration,kf.prototype.isUsingAnotherMediaElement=kf.prototype.isUsingAnotherMediaElement,kf.prototype.hasCustomClick=kf.prototype.hasCustomClick,kf.prototype.isClientRendering=kf.prototype.isClientRendering,kf.prototype.needsSkipUI=kf.prototype.needsSkipUI,z("shaka.ads.Utils",Af),Af.ADS_LOADED="ads-loaded",Af.AD_STARTED="ad-started",Af.AD_FIRST_QUARTILE="ad-first-quartile",Af.AD_MIDPOINT="ad-midpoint",Af.AD_THIRD_QUARTILE="ad-third-quartile",Af.AD_COMPLETE="ad-complete",Af.AD_STOPPED="ad-stopped",Af.AD_SKIPPED="ad-skipped",Af.AD_VOLUME_CHANGED="ad-volume-changed",Af.AD_MUTED="ad-muted",Af.AD_PAUSED="ad-paused",Af.AD_RESUMED="ad-resumed",Af.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Af.CUEPOINTS_CHANGED="ad-cue-points-changed",Af.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Af.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Af.AD_CLICKED="ad-clicked",Af.AD_PROGRESS="ad-progress",Af.AD_BUFFERING="ad-buffering",Af.AD_IMPRESSION="ad-impression",Af.AD_DURATION_CHANGED="ad-duration-changed",Af.AD_CLOSED="ad-closed",Af.AD_LOADED="ad-loaded",Af.ALL_ADS_COMPLETED="all-ads-completed",Af.AD_LINEAR_CHANGED="ad-linear-changed",Af.AD_METADATA="ad-metadata",Af.AD_RECOVERABLE_ERROR="ad-recoverable-error",Af.AD_ERROR="ad-error",Af.AD_BREAK_READY="ad-break-ready",Af.AD_INTERACTION="ad-interaction",Af.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Af.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Af.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",If.prototype.configure=function(e){this.o=e},If.prototype.stop=function(){this.g&&this.g.stop(),this.u&&ks(this.u)},If.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()},(r=Rf.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return this.u},r.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.h&&null!=this.l?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},r.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},r.canSkipNow=function(){return this.h&&0==this.getTimeUntilSkippable()},r.skip=function(){this.canSkipNow()&&this.A()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return null==this.B},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.o},r.getPositionInSequence=function(){return this.m},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.i.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.i.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.g=null},z("shaka.ads.InterstitialAd",Rf),Rf.prototype.release=Rf.prototype.release,Rf.prototype.getPodIndex=Rf.prototype.getPodIndex,Rf.prototype.getTimeOffset=Rf.prototype.getTimeOffset,Rf.prototype.getMediaUrl=Rf.prototype.getMediaUrl,Rf.prototype.getAdvertiserName=Rf.prototype.getAdvertiserName,Rf.prototype.getCreativeAdId=Rf.prototype.getCreativeAdId,Rf.prototype.getAdId=Rf.prototype.getAdId,Rf.prototype.getVastMediaWidth=Rf.prototype.getVastMediaWidth,Rf.prototype.getVastMediaHeight=Rf.prototype.getVastMediaHeight,Rf.prototype.getVastMediaBitrate=Rf.prototype.getVastMediaBitrate,Rf.prototype.getDescription=Rf.prototype.getDescription,Rf.prototype.getTitle=Rf.prototype.getTitle,Rf.prototype.getPositionInSequence=Rf.prototype.getPositionInSequence,Rf.prototype.getSequenceLength=Rf.prototype.getSequenceLength,Rf.prototype.setMuted=Rf.prototype.setMuted,Rf.prototype.resize=Rf.prototype.resize,Rf.prototype.isLinear=Rf.prototype.isLinear,Rf.prototype.isMuted=Rf.prototype.isMuted,Rf.prototype.setVolume=Rf.prototype.setVolume,Rf.prototype.getVolume=Rf.prototype.getVolume,Rf.prototype.play=Rf.prototype.play,Rf.prototype.pause=Rf.prototype.pause,Rf.prototype.skip=Rf.prototype.skip,Rf.prototype.canSkipNow=Rf.prototype.canSkipNow,Rf.prototype.getTimeUntilSkippable=Rf.prototype.getTimeUntilSkippable,Rf.prototype.isSkippable=Rf.prototype.isSkippable,Rf.prototype.isPaused=Rf.prototype.isPaused,Rf.prototype.getRemainingTime=Rf.prototype.getRemainingTime,Rf.prototype.getMinSuggestedDuration=Rf.prototype.getMinSuggestedDuration,Rf.prototype.getDuration=Rf.prototype.getDuration,Rf.prototype.isUsingAnotherMediaElement=Rf.prototype.isUsingAnotherMediaElement,Rf.prototype.hasCustomClick=Rf.prototype.hasCustomClick,Rf.prototype.isClientRendering=Rf.prototype.isClientRendering,Rf.prototype.needsSkipUI=Rf.prototype.needsSkipUI,(r=Nf.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return-1},r.isPaused=function(){return!1},r.isSkippable=function(){return!1},r.getTimeUntilSkippable=function(){return 0},r.canSkipNow=function(){return!1},r.skip=function(){},r.pause=function(){},r.play=function(){},r.getVolume=function(){return 1},r.setVolume=function(){},r.isMuted=function(){return!1},r.isLinear=function(){return this.i},r.resize=function(){},r.setMuted=function(){},r.getSequenceLength=function(){return this.j},r.getPositionInSequence=function(){return this.h},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.g.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.g.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){},z("shaka.ads.InterstitialStaticAd",Nf),Nf.prototype.release=Nf.prototype.release,Nf.prototype.getPodIndex=Nf.prototype.getPodIndex,Nf.prototype.getTimeOffset=Nf.prototype.getTimeOffset,Nf.prototype.getMediaUrl=Nf.prototype.getMediaUrl,Nf.prototype.getAdvertiserName=Nf.prototype.getAdvertiserName,Nf.prototype.getCreativeAdId=Nf.prototype.getCreativeAdId,Nf.prototype.getAdId=Nf.prototype.getAdId,Nf.prototype.getVastMediaWidth=Nf.prototype.getVastMediaWidth,Nf.prototype.getVastMediaHeight=Nf.prototype.getVastMediaHeight,Nf.prototype.getVastMediaBitrate=Nf.prototype.getVastMediaBitrate,Nf.prototype.getDescription=Nf.prototype.getDescription,Nf.prototype.getTitle=Nf.prototype.getTitle,Nf.prototype.getPositionInSequence=Nf.prototype.getPositionInSequence,Nf.prototype.getSequenceLength=Nf.prototype.getSequenceLength,Nf.prototype.setMuted=Nf.prototype.setMuted,Nf.prototype.resize=Nf.prototype.resize,Nf.prototype.isLinear=Nf.prototype.isLinear,Nf.prototype.isMuted=Nf.prototype.isMuted,Nf.prototype.setVolume=Nf.prototype.setVolume,Nf.prototype.getVolume=Nf.prototype.getVolume,Nf.prototype.play=Nf.prototype.play,Nf.prototype.pause=Nf.prototype.pause,Nf.prototype.skip=Nf.prototype.skip,Nf.prototype.canSkipNow=Nf.prototype.canSkipNow,Nf.prototype.getTimeUntilSkippable=Nf.prototype.getTimeUntilSkippable,Nf.prototype.isSkippable=Nf.prototype.isSkippable,Nf.prototype.isPaused=Nf.prototype.isPaused,Nf.prototype.getRemainingTime=Nf.prototype.getRemainingTime,Nf.prototype.getMinSuggestedDuration=Nf.prototype.getMinSuggestedDuration,Nf.prototype.getDuration=Nf.prototype.getDuration,Nf.prototype.isUsingAnotherMediaElement=Nf.prototype.isUsingAnotherMediaElement,Nf.prototype.hasCustomClick=Nf.prototype.hasCustomClick,Nf.prototype.isClientRendering=Nf.prototype.isClientRendering,Nf.prototype.needsSkipUI=Nf.prototype.needsSkipUI,(r=_f.prototype).configure=function(e){this.T=e,jf(this)},r.stop=function(){if(this.l&&this.l.Qa(),this.W.clear(),this.G.clear(),this.j.pf(),this.C.size)for(var e=Array.from(this.C.values()),t=(e=c(e)).next();!t.done;t=e.next())(t=t.value)&&t.then((function(e){e&&e.destroy()}));if(this.C.clear(),this.L.size)for(t=(e=c(e=Array.from(this.L.keys()))).next();!t.done;t=e.next())Yf(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.u=this.o=null,this.B=!0,this.h=this.g,this.F=null,Hf(this),Of(this),this.A&&ks(this.A),this.m&&(this.m.stop(),this.m=null)},r.release=function(){this.stop(),this.I&&this.I.release(),this.l&&this.l.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.j.destroy()},r.If=function(){return this.j},r.addAdUrlInterstitial=function(e){var t,n,r,i,a,o,s,u,l,f=this;return R((function(p){switch(p.g){case 1:return S(p,qf(f,e,t={type:12}),2);case 2:if(n=p.h,!(r=wn(n,"VAST,vmap:VMAP")))throw new Le(2,10,10007);if(i=[],"VAST"==r.tagName){i=Ef(r,f.o),p.s(3);break}if("vmap:VMAP"!=r.tagName){p.s(3);break}for(var h=[],g=c(An(r,"vmap:AdBreak")),m=g.next();!m.done;m=g.next()){var v=m.value,y=v.attributes.timeOffset;y&&(m=null,m="start"==y?0:"end"==y?1/0:gn(y),(v=Mn(v,"vmap:AdSource"))&&(v=Mn(v,"vmap:AdTagURI"))&&(v=En(v))&&h.push({time:m,uri:v}))}a=c(h),o=a.next();case 5:if(o.done){p.s(3);break}return s=o.value,S(p,qf(f,s.uri,t),8);case 8:if(u=p.h,!(l=wn(u,"VAST")))throw new Le(2,10,10007);i.push.apply(i,d(Ef(l,s.time))),o=a.next(),p.s(5);break;case 3:Ff(f,i),x(p)}}))},(r=$f.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.h.durationInSeconds},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return"number"==typeof this.j},r.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return this.o},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.l?this.l:1},r.getPositionInSequence=function(){return this.i?this.i:1},r.getTitle=function(){return this.h.adTitle},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.h.adId},r.getCreativeAdId=function(){return this.h.creativeId},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.l=this.i=this.g=this.h=null},z("shaka.ads.MediaTailorAd",$f),$f.prototype.release=$f.prototype.release,$f.prototype.getPodIndex=$f.prototype.getPodIndex,$f.prototype.getTimeOffset=$f.prototype.getTimeOffset,$f.prototype.getMediaUrl=$f.prototype.getMediaUrl,$f.prototype.getAdvertiserName=$f.prototype.getAdvertiserName,$f.prototype.getCreativeAdId=$f.prototype.getCreativeAdId,$f.prototype.getAdId=$f.prototype.getAdId,$f.prototype.getVastMediaWidth=$f.prototype.getVastMediaWidth,$f.prototype.getVastMediaHeight=$f.prototype.getVastMediaHeight,$f.prototype.getVastMediaBitrate=$f.prototype.getVastMediaBitrate,$f.prototype.getDescription=$f.prototype.getDescription,$f.prototype.getTitle=$f.prototype.getTitle,$f.prototype.getPositionInSequence=$f.prototype.getPositionInSequence,$f.prototype.getSequenceLength=$f.prototype.getSequenceLength,$f.prototype.setMuted=$f.prototype.setMuted,$f.prototype.resize=$f.prototype.resize,$f.prototype.isLinear=$f.prototype.isLinear,$f.prototype.isMuted=$f.prototype.isMuted,$f.prototype.setVolume=$f.prototype.setVolume,$f.prototype.getVolume=$f.prototype.getVolume,$f.prototype.play=$f.prototype.play,$f.prototype.pause=$f.prototype.pause,$f.prototype.skip=$f.prototype.skip,$f.prototype.canSkipNow=$f.prototype.canSkipNow,$f.prototype.getTimeUntilSkippable=$f.prototype.getTimeUntilSkippable,$f.prototype.isSkippable=$f.prototype.isSkippable,$f.prototype.isPaused=$f.prototype.isPaused,$f.prototype.getRemainingTime=$f.prototype.getRemainingTime,$f.prototype.getMinSuggestedDuration=$f.prototype.getMinSuggestedDuration,$f.prototype.getDuration=$f.prototype.getDuration,$f.prototype.isUsingAnotherMediaElement=$f.prototype.isUsingAnotherMediaElement,$f.prototype.hasCustomClick=$f.prototype.hasCustomClick,$f.prototype.isClientRendering=$f.prototype.isClientRendering,$f.prototype.needsSkipUI=$f.prototype.needsSkipUI,Qf.prototype.stop=function(){for(var e=c(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ja(t.target,t.type,t.listener);np(this),this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Qf.prototype.release=function(){this.stop(),this.o&&this.o.release()},Qf.prototype.onManifestUpdated=function(e){this.I=e,""!=this.G&&(function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b;R((function(w){if(1==w.g)return r={type:8},i=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),T(w,2),S(w,a.promise,4);if(2!=w.g){if(o=w.h,s=[],u=gt(o.data),0<(l=JSON.parse(u)).avails.length){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,d=c(e.j),f=d.next();!f.done;f=d.next())for(p=f.value,h=c(p.nonLinearAdsList),g=h.next();!g.done;g=h.next())for(m=g.value,v=c(m.nonLinearAdList),y=v.next();!y.done;y=v.next())b=y.value,Jf(e,b);s=e.getCuePoints(),e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else e.j.length&&e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",s))),np(e),e.j=[];return n&&(e.I||0<s.length)&&function(e){tp(e),e.I||(ep(e),e.o.D(e.h,"seeked",(function(){ep(e)})),e.o.D(e.h,"ended",(function(){np(e)}))),e.o.D(e.h,"timeupdate",(function(){tp(e)}))}(e),A(w,0)}E(w),x(w)}))}(this,this.G,this.O),this.O=!1)},Qf.prototype.getCuePoints=function(){for(var e=[],t=c(this.j),n=t.next();!n.done;n=t.next())for(var r=(n=c(n.value.ads)).next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds});return e},(r=ap.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.i?this.i.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},r.isPaused=function(){return this.h.paused},r.isSkippable=function(){return this.g.isSkippable()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.h.currentTime+=this.getRemainingTime()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.play()},r.getVolume=function(){return this.h.volume},r.setVolume=function(e){this.h.volume=e},r.isMuted=function(){return this.h.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(e){this.h.muted=e},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.i=this.g=null},z("shaka.ads.ServerSideAd",ap),ap.prototype.release=ap.prototype.release,ap.prototype.getPodIndex=ap.prototype.getPodIndex,ap.prototype.getTimeOffset=ap.prototype.getTimeOffset,ap.prototype.getMediaUrl=ap.prototype.getMediaUrl,ap.prototype.getAdvertiserName=ap.prototype.getAdvertiserName,ap.prototype.getCreativeAdId=ap.prototype.getCreativeAdId,ap.prototype.getAdId=ap.prototype.getAdId,ap.prototype.getVastMediaWidth=ap.prototype.getVastMediaWidth,ap.prototype.getVastMediaHeight=ap.prototype.getVastMediaHeight,ap.prototype.getVastMediaBitrate=ap.prototype.getVastMediaBitrate,ap.prototype.getDescription=ap.prototype.getDescription,ap.prototype.getTitle=ap.prototype.getTitle,ap.prototype.getPositionInSequence=ap.prototype.getPositionInSequence,ap.prototype.getSequenceLength=ap.prototype.getSequenceLength,ap.prototype.setMuted=ap.prototype.setMuted,ap.prototype.resize=ap.prototype.resize,ap.prototype.isLinear=ap.prototype.isLinear,ap.prototype.isMuted=ap.prototype.isMuted,ap.prototype.setVolume=ap.prototype.setVolume,ap.prototype.getVolume=ap.prototype.getVolume,ap.prototype.play=ap.prototype.play,ap.prototype.pause=ap.prototype.pause,ap.prototype.skip=ap.prototype.skip,ap.prototype.canSkipNow=ap.prototype.canSkipNow,ap.prototype.getTimeUntilSkippable=ap.prototype.getTimeUntilSkippable,ap.prototype.isSkippable=ap.prototype.isSkippable,ap.prototype.isPaused=ap.prototype.isPaused,ap.prototype.getRemainingTime=ap.prototype.getRemainingTime,ap.prototype.getMinSuggestedDuration=ap.prototype.getMinSuggestedDuration,ap.prototype.getDuration=ap.prototype.getDuration,ap.prototype.isUsingAnotherMediaElement=ap.prototype.isUsingAnotherMediaElement,ap.prototype.hasCustomClick=ap.prototype.hasCustomClick,ap.prototype.isClientRendering=ap.prototype.isClientRendering,ap.prototype.needsSkipUI=ap.prototype.needsSkipUI,(r=op.prototype).configure=function(){},r.stop=function(){this.B="",this.o=null,this.C=[]},r.release=function(){this.stop(),this.h&&this.h.release()},r.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},r.getCuePoints=function(){return this.C},v(sp,ia),(r=sp.prototype).setLocale=function(e){this.o=e},r.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},r.initInterstitial=function(e,t,n){var r=this;this.g&&this.g.release(),this.g=new _f(e,t,n,(function(e){return up(r,e)})),this.g.configure(this.l)},r.initClientSide=function(t,n,r){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new Le(2,10,1e4);this.j&&this.j.release(),this.j=new If(t,n,this.o,r,(function(e){return up(i,e)})),this.j.configure(this.l)},r.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),ia.prototype.release.call(this)},r.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new ta("ad-stopped")),this.dispatchEvent(new ta("ad-content-attach-requested")),this.m=new xf},r.requestClientSideAds=function(e){if(!this.j)throw new Le(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},r.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new Le(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},r.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Qf(e,t,n,(function(e){return up(r,e)}))},r.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new Le(1,10,10005);var r=this.i;return n=void 0===n?"":n,r.l?e=Promise.reject(new Le(1,10,10004)):(r.l=new Xi,function(e,t,n){var r,i,a,o,s,u,l,c,d,f,p,h;R((function(g){if(1==g.g)return r={type:7},(i=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),i.body=yt(a)),o=e.K.request(7,i,r),T(g,2),S(g,o.promise,4);if(2!=g.g){if(s=g.h,u=gt(s.data),!(l=JSON.parse(u)).manifestUrl||!l.trackingUrl)throw Error("Insufficient data from MediaTailor.");return c=new le(t),d=new le(l.trackingUrl),e.G=c.resolve(d).toString(),f=Date.now()/1e3,p=f-e.P,e.i(new ta("ads-loaded",(new Map).set("loadTime",p))),h=new le(l.manifestUrl),e.l.resolve(c.resolve(h).toString()),e.l=null,A(g,0)}if(E(g),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,g.return();e.l.resolve(e.H),e.l=null,x(g)}))}(r,e,t),r.H=n||"",r.P=Date.now()/1e3,e=r.l),e},r.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new Le(1,10,10005);var t=this.i;t.G=e,t.i(new ta("ads-loaded",(new Map).set("loadTime",0)))},r.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new Le(2,10,10002);this.h&&this.h.release(),this.h=new op(t,n,this.o,(function(e){return up(r,e)})),this.h.configure(this.l)},r.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.h)throw new Le(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.14.6",(n=this.h).j?e=Promise.reject(new Le(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new Xi,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},r.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new Le(1,10,10003);(e.mpt||e.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.14.6",this.h.g.replaceAdTagParameters(e)},r.getServerSideCuePoints=function(){return ie("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},r.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},r.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:Tf(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},r.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},r.onDashTimedMetadata=function(e){this.h&&"urn:google:dai:2018"==e.schemeIdUri&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},r.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},r.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},r.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&Uf(this.g,n))},r.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if("urn:mpeg:dash:event:alternativeMPD:insert:2025"==r||"urn:mpeg:dash:event:alternativeMPD:replace:2025"==r){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t="urn:mpeg:dash:event:alternativeMPD:replace:2025"==n.schemeIdUri,r="urn:mpeg:dash:event:alternativeMPD:insert:2025"==n.schemeIdUri,t||r)){for(var i,a=n.startTime,o=n.endTime,s=null,u=0,l=c(n.eventNode.children),d=l.next();!d.done;d=l.next())if("AlternativeMPD"==(d=d.value).tagName){if(d=d.attributes.uri){i=d;break}}else if("InsertPresentation"==d.tagName||"ReplacePresentation"==d.tagName){var f=d.attributes.url;if(f){i=f,(l=Pn(d,"maxDuration",Un))&&(s=l/n.timescale),(l=Pn(d,"returnOffset",Un))&&(u=l/n.timescale),t&&u&&(o=a+u);break}}i&&Ff(e,[{id:n.id,groupId:null,startTime:a,endTime:o,uri:i,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:t&&!r,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}])}}else("urn:mpeg:dash:event:2012"==r||"urn:scte:dash:scte214-events"==r)&&n.eventNode&&Mn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&function(e,t){var n=Mn(t.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,a="true"==n.attributes.loop,o=Pn(n,"z",Un);if(r&&0!=o){var s={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},u=Mn(n,"Viewport"),l=Mn(n,"TopLeft"),c=Mn(n,"Size");if(u&&l&&c){if(null==(s=Pn(u,"x",Un)))return;if(null==(u=Pn(u,"y",Un)))return;var d=Pn(l,"x",Un);if(null==d)return;if(null==(l=Pn(l,"y",Un)))return;var f=Pn(c,"x",Un);if(null==f)return;if(null==(c=Pn(c,"y",Un)))return;s={viewport:{x:s,y:u},topLeft:{x:d,y:l},size:{x:f,y:c}}}c=Mn(n,"SqueezeCurrent"),n=null,c&&(c=Pn(c,"percentage",zn))&&(n={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*c,y:1080*c}}),Ff(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:s,displayOnBackground:-1==o,currentVideo:n,background:null}])}}(this.g,n))}},r.addCustomInterstitial=function(e){if(!this.g)throw new Le(1,10,10006);Ff(this.g,[e])},r.addAdUrlInterstitial=function(e){if(!this.g)throw new Le(1,10,10006);return this.g.addAdUrlInterstitial(e)},r.getInterstitialPlayer=function(){if(!this.g)throw new Le(1,10,10006);return this.g.If()},z("shaka.ads.AdManager",sp),sp.prototype.getInterstitialPlayer=sp.prototype.getInterstitialPlayer,sp.prototype.addAdUrlInterstitial=sp.prototype.addAdUrlInterstitial,sp.prototype.addCustomInterstitial=sp.prototype.addCustomInterstitial,sp.prototype.onDASHInterstitialMetadata=sp.prototype.onDASHInterstitialMetadata,sp.prototype.onHLSInterstitialMetadata=sp.prototype.onHLSInterstitialMetadata,sp.prototype.onCueMetadataChange=sp.prototype.onCueMetadataChange,sp.prototype.onHlsTimedMetadata=sp.prototype.onHlsTimedMetadata,sp.prototype.onDashTimedMetadata=sp.prototype.onDashTimedMetadata,sp.prototype.onManifestUpdated=sp.prototype.onManifestUpdated,sp.prototype.getStats=sp.prototype.getStats,sp.prototype.getCuePoints=sp.prototype.getCuePoints,sp.prototype.getServerSideCuePoints=sp.prototype.getServerSideCuePoints,sp.prototype.replaceServerSideAdTagParameters=sp.prototype.replaceServerSideAdTagParameters,sp.prototype.requestServerSideStream=sp.prototype.requestServerSideStream,sp.prototype.initServerSide=sp.prototype.initServerSide,sp.prototype.addMediaTailorTrackingUrl=sp.prototype.addMediaTailorTrackingUrl,sp.prototype.requestMediaTailorStream=sp.prototype.requestMediaTailorStream,sp.prototype.initMediaTailor=sp.prototype.initMediaTailor,sp.prototype.updateClientSideAdsRenderingSettings=sp.prototype.updateClientSideAdsRenderingSettings,sp.prototype.requestClientSideAds=sp.prototype.requestClientSideAds,sp.prototype.onAssetUnload=sp.prototype.onAssetUnload,sp.prototype.release=sp.prototype.release,sp.prototype.initClientSide=sp.prototype.initClientSide,sp.prototype.initInterstitial=sp.prototype.initInterstitial,sp.prototype.configure=sp.prototype.configure,sp.prototype.setLocale=sp.prototype.setLocale,sp.ADS_LOADED="ads-loaded",sp.AD_STARTED="ad-started",sp.AD_FIRST_QUARTILE="ad-first-quartile",sp.AD_MIDPOINT="ad-midpoint",sp.AD_THIRD_QUARTILE="ad-third-quartile",sp.AD_COMPLETE="ad-complete",sp.AD_STOPPED="ad-stopped",sp.AD_SKIPPED="ad-skipped",sp.AD_VOLUME_CHANGED="ad-volume-changed",sp.AD_MUTED="ad-muted",sp.AD_PAUSED="ad-paused",sp.AD_RESUMED="ad-resumed",sp.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",sp.CUEPOINTS_CHANGED="ad-cue-points-changed",sp.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",sp.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",sp.AD_CLICKED="ad-clicked",sp.AD_PROGRESS="ad-progress",sp.AD_BUFFERING="ad-buffering",sp.AD_IMPRESSION="ad-impression",sp.AD_DURATION_CHANGED="ad-duration-changed",sp.AD_CLOSED="ad-closed",sp.AD_LOADED="ad-loaded",sp.ALL_ADS_COMPLETED="all-ads-completed",sp.AD_LINEAR_CHANGED="ad-linear-changed",sp.AD_METADATA="ad-metadata",sp.AD_RECOVERABLE_ERROR="ad-recoverable-error",sp.AD_ERROR="ad-error",sp.AD_BREAK_READY="ad-break-ready",sp.AD_INTERACTION="ad-interaction",sp.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",sp.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",sp.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Sf=function(){return new sp};var dp="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),fp="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),pp=["loop","playbackRate"],hp=["pause","play"],gp=(new Map).set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("getImageTracks",2).set("getThumbnails",2).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1),mp=(new Map).set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getTextTracks",2).set("getVariantTracks",2),vp=(new Map).set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),yp=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],bp=[["isTextTrackVisible","setTextTrackVisibility"]],wp="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),Sp=["attach","attachCanvas","detach","load","unload"];function xp(e,t,n,r,i,a,o){var s=this;this.G=e,this.K=o,this.l=new ze(t),this.L=n,this.u=!1,this.A=r,this.F=i,this.M=a,this.i=this.m=!1,this.I="",this.o=null,this.B=function(){return Ep(s)},this.C=function(e,t){switch((e=cp(t)).type){case"event":var n=e.targetName,r=na(e.event);s.A(n,r);break;case"update":for(r in n=e.update)for(var i in e=s.g[r]||{},n[r])e[i]=n[r][i];s.u&&(s.L(),s.u=!1);break;case"asyncComplete":if(r=e.id,i=e.error,e=s.h.get(r),s.h.delete(r),e)if(i){for(n in r=new Le(i.severity,i.category,i.code),i)r[n]=i[n];e.reject(r)}else e.resolve()}},this.g={video:{},player:{}},this.H=0,this.h=new Map,this.j=null,Rp.add(this)}function Tp(e,t){var n=e.M();Pp=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),Ep(e),Ip(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function kp(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new Le(2,8,n,t))}function Ap(e){var t=Pp;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function Ep(e){var t=!!Pp&&"connected"==Pp.status;if(e.i&&!t){for(var n in e.F(),e.g)e.g[n]={};Cp(e)}e.i=t,e.I=t?Pp.receiver.friendlyName:"",e.l.sb()}function Cp(e){if(e.h)for(var t=c(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var r=e.h.get(n);e.h.delete(n),r.reject(new Le(1,7,7e3))}}function Ip(e,t){t=lp(t);var n=Pp;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),Q)}catch(r){throw t=new Le(2,8,8005,r),n=new ta("error",(new Map).set("detail",t)),e.A("player",n),e.Pc(),t}}(r=xp.prototype).destroy=function(){return Rp.delete(this),Cp(this),Pp&&Ap(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.i=this.m=!1,this.C=this.B=this.j=this.h=this.g=this.o=null,Promise.resolve()},r.qb=function(){return this.i},r.ag=function(){return this.I},r.init=function(){if(this.G.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.sb();var t=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(Rp),n=t.next();!n.done;n=t.next()){var r=e;(n=n.value).j=new Xi,n.u=!0,Tp(n,r)}}),(function(e){for(var t=c(Rp),n=t.next();!n.done;n=t.next())n=n.value,Dp="available"==e,n.l.sb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),Dp&&this.l.da(Mp),(t=Pp)&&t.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Xi,this.u=!0,Tp(this,t)):Pp=null}else e.__onGCastApiAvailable!==Np&&(Lp=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=Np)},r.ig=function(e){this.o=e,this.i&&Ip(this,{type:"appData",appData:this.o})},r.cast=function(){var e=this;return R((function(t){if(!e.m)throw new Le(1,8,8e3);if(!Dp)throw new Le(1,8,8001);if(e.i)throw new Le(1,8,8002);return e.j=new Xi,chrome.cast.requestSession((function(t){return Tp(e,t)}),(function(t){return kp(e,t)})),S(t,e.j,0)}))},r.Pc=function(){if(this.i){if(Cp(this),Pp){Ap(this);try{Pp.stop((function(){}),(function(){}))}catch(TT){}Pp=null}Ep(this)}},r.get=function(e,t){var n=this;if("video"==e){if(hp.includes(t))return function(){return n.oh.apply(n,[e,t].concat(d(N.apply(0,arguments))))}}else if("player"==e){if(vp.has(t)&&!this.get("player","isLive")())return function(){};if(wp.includes(t))return function(){return n.oh.apply(n,[e,t].concat(d(N.apply(0,arguments))))};if(Sp.includes(t))return function(){return n.pj.apply(n,[e,t].concat(d(N.apply(0,arguments))))};if(gp.has(t)||mp.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},r.set=function(e,t,n){this.g[e][t]=n,Ip(this,{type:"set",targetName:e,property:t,value:n})},r.oh=function(e,t){Ip(this,{type:"call",targetName:e,methodName:t,args:N.apply(2,arguments)})},r.pj=function(e,t){var n=N.apply(2,arguments),r=new Xi,i=this.H.toString();this.H++,this.h.set(i,r);try{Ip(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(a){r.reject(a)}return r};var Mp=.02,Dp=!1,Pp=null,Lp=null,Rp=new Set;function Np(t){if(Lp?e.__onGCastApiAvailable=Lp:delete e.__onGCastApiAvailable,Lp=null,t)for(var n=c(Rp),r=n.next();!r.done;r=n.next())r.value.init();"function"==typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function _p(t,n,r,i){i=void 0!==i&&i,ia.call(this);var a=this;this.i=t,this.h=n,this.m=this.o=this.l=this.u=this.j=null,this.C=r,this.B=i,this.A=new Map,this.g=null,e.chrome?(this.g=new xp(r,(function(){return Up(a)}),(function(){return Fp(a)}),(function(e,t){return Vp(a,e,t)}),(function(){return Bp(a)}),(function(){return jp(a)}),i),function(e){e.g.init(),e.m=new ee;for(var t=c(dp),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,(function(t){e.g.qb()||(t=na(t),e.l.dispatchEvent(t))}));for(var r in ra)e.m.D(e.h,ra[r],(function(t){e.g.qb()||e.o.dispatchEvent(t)}));for(var i in e.j={},t={},e.i)(t={wd:t.wd}).wd=i,Object.defineProperty(e.j,t.wd,{configurable:!1,enumerable:!0,get:function(t){return function(){return zp(e,t.wd)}}(t),set:function(t){return function(n){var r=t.wd;e.g.qb()?e.g.set("video",r,n):e.i[r]=n}}(t)});e.u={},Op(e,(function(t){Object.defineProperty(e.u,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.A.has(t)&&(t=e.A.get(t)),"addEventListener"==t)return function(t,n,r){return e.o.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.o.removeEventListener(t,n,r)};if("getMediaElement"==t)return function(){return e.j};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.h.xb()};if("getDrmEngine"==t)return function(){return e.h.C};if("getAdManager"==t)return function(){return e.h.Pg()};if("setVideoContainer"==t)return function(t){return e.h.Ch(t)};if(e.g.qb()){if("getManifest"==t||"drmInfo"==t)return function(){return Y(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Y(t+"() does not work while casting!"),Promise.resolve()}}return e.g.qb()&&0==Object.keys(e.g.g.video).length&&(gp.has(t)||mp.has(t))||!e.g.qb()?e.h[t].bind(e.h):e.g.get("player",t)}(e,t)}})})),function(e){var t=new Map;Op(e,(function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)}))}(e),e.l=new ia,e.l.Ge=e.j,e.o=new ia,e.o.Ge=e.u}(this)):(this.j=this.i,this.u=this.h)}function Op(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var r,i=e.h,a=new Set;for(r in i)n(r)&&(a.add(r),t(r,i[r]));for(e=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});e&&e!=r;){for(var o=c(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function jp(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Qc(),startTime:null};e.i.pause();for(var n=c(pp),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),r=(n=c(yp)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(r=(n=c(bp)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function Up(e){var t=new ta("caststatuschanged");e.dispatchEvent(t)}function Fp(e){var t=new ta(e.j.paused?"pause":"play");e.l.dispatchEvent(t)}function Bp(e){for(var t=c(yp),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a,o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime")),(r=e.g.get("player","getTextTracks")())&&r.length&&(a=r.find((function(e){return e.active})));var s=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var u={};for(r=(n=c(pp)).next();!r.done;r=n.next())r=r.value,u[r]=e.g.get("video",r);t.then((function(){if(e.i){for(var t=c(pp),n=t.next();!n.done;n=t.next())n=n.value,e.i[n]=u[n];for(n=(t=c(bp)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}e.h.zh(s),a&&e.h.hg(a.language,a.roles,a.forced),e.i.autoplay=o,i&&e.i.play()}}),(function(t){t=new ta("error",t=(new Map).set("detail",t)),e.h.dispatchEvent(t)}))}function zp(e,t){if("addEventListener"==t)return function(t,n,r){return e.l.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.l.removeEventListener(t,n,r)};if(e.g.qb()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.qb()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}function Vp(e,t,n){e.g.qb()&&("video"==t?e.l.dispatchEvent(n):"player"==t&&e.o.dispatchEvent(n))}function Hp(e,t,n,r){ia.call(this);var i=this;this.g=e,this.h=t,this.j=new ee,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(e){return e},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.u=this.l=null,this.C=new ze((function(){Wp(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Gp(e)},t.onSenderDisconnected=function(){return Gp(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Qp(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),Qp(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(t){return function(e,t){var n=cp(t.data);switch(n.type){case"PLAY":e.g.play(),Jp(e);break;case"PAUSE":e.g.pause(),Jp(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;null!=t&&(e.g.currentTime=Number(t)),r&&"PLAYBACK_START"==r?(e.g.play(),Jp(e)):r&&"PLAYBACK_PAUSE"==r&&(e.g.pause(),Jp(e));break;case"STOP":e.h.kc().then((function(){e.h&&Jp(e)}));break;case"GET_STATUS":Yp(e,Number(n.requestId));break;case"VOLUME":t=(r=n.volume).level,r=r.muted;var i=e.g.volume,a=e.g.muted;null!=t&&(e.g.volume=Number(t)),null!=r&&(e.g.muted=r),i==e.g.volume&&a==e.g.muted||Jp(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),a=n.autoplay||!0,e.F(t.customData),a&&(e.g.autoplay=!0),e.h.load(i,r).then((function(){e.h&&Yp(e)})).catch((function(t){var r="LOAD_FAILED";7==t.category&&7e3==t.code&&(r="LOAD_CANCELLED"),Qp(e,{requestId:Number(n.requestId),type:r},e.u)}));break;default:Qp(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n=cp(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,function(e,t,n){var r,i,a,o,s,u,l,c,d,f;R((function(p){switch(p.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,T(p,5),S(p,e.h.load(t.manifest,t.startTime),7)):S(p,Promise.resolve(),3);case 7:A(p,3);break;case 5:return o=E(p),s=(new Map).set("detail",o),u=new ta("error",s),e.h&&e.h.dispatchEvent(u),p.return();case 3:if(!e.h)return p.return();for(l in t.video)c=t.video[l],e.g[l]=c;for(d in t.playerAfterLoad)f=t.playerAfterLoad[d],e.h[d](f);e.g.autoplay=a,t.manifest&&(e.g.play(),Jp(e)),x(p)}}))}(e,n.initState,n.appData),Wp(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){t.setSystemVolumeLevel(n);break}if("muted"==i){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":(r=e.H[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(e.m=0,e.B=!1);var a=n.id,o=t.senderId;n=(t=e.H[r])[i].apply(t,n.args),"player"==r&&"load"==i&&(n=n.then((function(){e.A=!0}))),n.then((function(){return $p(e,o,a,null)}),(function(t){return $p(e,o,a,t)}))}}(e,t)},t.start();for(var n=(t=c(dp)).next();!n.done;n=t.next())e.j.D(e.g,n.value,(function(t){return qp(e,"video",t)}));for(var r in ra)e.j.D(e.h,ra[r],(function(t){return qp(e,"player",t)}));e.j.D(e.g,"loadeddata",(function(){e.B=!0})),e.j.D(e.h,"loading",(function(){e.o=!1,Kp(e)})),e.j.D(e.g,"playing",(function(){e.o=!1,Kp(e)})),e.j.D(e.g,"pause",(function(){Kp(e)})),e.j.D(e.h,"unloading",(function(){e.o=!0,Kp(e)})),e.j.D(e.g,"ended",(function(){new ze((function(){e.g&&e.g.ended&&(e.o=!0,Kp(e))})).da(eh)}))}(this)}function Gp(e){e.m=0,e.A=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Kp(e)}function Kp(e){var t;R((function(n){return 1==n.g?S(n,Promise.resolve(),2):e.h?(t=new ta("caststatuschanged"),e.dispatchEvent(t),Xp(e)||Jp(e),void x(n)):n.return()}))}function qp(e,t,n){e.h&&(Wp(e),Qp(e,{type:"event",targetName:t,event:n},e.l))}function Wp(e){e.C.da(Zp);for(var t={video:{},player:{}},n=c(fp),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];e.h.U()&&vp.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),gp.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Qp(e,{type:"update",update:t},e.l),mp.forEach((function(t,n){0==e.m%t&&((t={player:{}}).player[n]=e.h[n](),Qp(e,{type:"update",update:t},e.l))})),e.B&&(e.m+=1),Xp(e)}function Xp(e){return!(!e.A||!e.g.duration&&!e.h.U()||(Yp(e),e.A=!1,0))}function Yp(e,t){var n={contentId:e.h.Qc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Jp(e,void 0===t?0:t,n)}function $p(e,t,n,r){e.h&&Qp(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function Qp(e,t,n,r){e.G&&(e=lp(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Jp(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?th:e.h.Of()?rh:e.g.paused?ih:nh,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Qp(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.u)}v(_p,ia),(r=_p.prototype).destroy=function(e){return this.g&&e&&this.g.Pc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.j=this.i=null,ia.prototype.release.call(this),Promise.all(e)},r.Li=function(){return this.j},r.If=function(){return this.u},r.Xh=function(){return!!this.g&&this.g.m&&Dp},r.qb=function(){return!!this.g&&this.g.qb()},r.ag=function(){return this.g?this.g.ag():""},r.cast=function(){var e=this;return R((function(t){return 1==t.g?e.g?S(t,e.g.cast(),2):t.return():e.h?S(t,e.h.kc(),0):t.return()}))},r.ig=function(e){this.g&&this.g.ig(e)},r.Ej=function(){var e;this.g&&(e=this.g).i&&chrome.cast.requestSession((function(t){return Tp(e,t)}),(function(t){return kp(e,t)}))},r.Pc=function(){this.g&&this.g.Pc()},r.Yh=function(e,t){t=void 0!==t&&t;var n=this;return R((function(r){if(1==r.g)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g?(n.g.Pc(),S(r,n.g.destroy(),2)):r.return());n.g=null,n.g=new xp(e,(function(){return Up(n)}),(function(){return Fp(n)}),(function(e,t){return Vp(n,e,t)}),(function(){return Bp(n)}),(function(){return jp(n)}),t),n.g.init(),x(r)}))},z("shaka.cast.CastProxy",_p),_p.prototype.changeReceiverId=_p.prototype.Yh,_p.prototype.forceDisconnect=_p.prototype.Pc,_p.prototype.suggestDisconnect=_p.prototype.Ej,_p.prototype.setAppData=_p.prototype.ig,_p.prototype.cast=_p.prototype.cast,_p.prototype.receiverName=_p.prototype.ag,_p.prototype.isCasting=_p.prototype.qb,_p.prototype.canCast=_p.prototype.Xh,_p.prototype.getPlayer=_p.prototype.If,_p.prototype.getVideo=_p.prototype.Li,_p.prototype.destroy=_p.prototype.destroy,v(Hp,ia),(r=Hp.prototype).isConnected=function(){return this.G},r.Si=function(){return this.o},r.Bj=function(e){this.i=e},r.bi=function(){this.i=null},r.Cj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},r.Aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},r.zj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var e,t=this;return R((function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.h&&(e.push(t.h.destroy()),t.h=null),t.C&&(t.C.stop(),t.C=null),t.g=null,t.H=null,t.F=null,t.G=!1,t.o=!0,t.l=null,t.u=null,ia.prototype.release.call(t),S(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),x(n)}))},z("shaka.cast.CastReceiver",Hp),Hp.prototype.destroy=Hp.prototype.destroy,Hp.prototype.setContentArtist=Hp.prototype.zj,Hp.prototype.setContentImage=Hp.prototype.Aj,Hp.prototype.setContentTitle=Hp.prototype.Cj,Hp.prototype.clearContentMetadata=Hp.prototype.bi,Hp.prototype.setContentMetadata=Hp.prototype.Bj,Hp.prototype.isIdle=Hp.prototype.Si,Hp.prototype.isConnected=Hp.prototype.isConnected;var Zp=.5,eh=5,th="IDLE",nh="PLAYING",rh="BUFFERING",ih="PAUSED";function ah(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,l="white",c="black",d=oh(r,i,s,u,l,c);a<=o;a++){for(var f=n[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){h=g;break}if(-1===p||-1===h)f=sh(r,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var m=g.l,v=g.i,y=g.j,b=g.h;m==s&&v==u&&y==l&&b==c||(d.payload&&e.nestedCues.push(d),d=oh(r,i,m,v,y,b),s=m,u=v,l=y,c=b),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=sh(r,i),e.nestedCues.push(d)),d=oh(r,i,s,u,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function oh(e,t,n,r,i,a){return e=new Jn(e,t,""),n&&e.textDecoration.push(xr),r&&(e.fontStyle=wr),e.color=i,e.backgroundColor=a,e}function sh(e,t){return(e=new Jn(e,t,"")).lineBreak=!0,e}function uh(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function lh(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,dh(this)}function ch(e,t,n){var r="CC"+(1+(e.C<<1|e.B)),i=new Jn(t,n,"");i.lineInterpretation=1;var a=bh.get(e.g);return a&&(i.line=a),null!=e.u&&null!=e.A&&(i.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=ah(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(a=bh.get(e.g+3-t.cue.nestedCues.length))&&(i.line=a),t}function dh(e){hh(e,0,15),e.g=1}function fh(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=gh.has(n)?gh.get(n):String.fromCharCode(n);break;case 1:r=mh.get(n);break;case 2:e.i[e.g].pop(),r=vh.get(n);break;case 3:e.i[e.g].pop(),r=yh.get(n)}r&&e.i[e.g].push(new uh(r,e.m,e.j,e.o,e.l))}}function ph(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function hh(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var gh=new Map([[39,""],[42,""],[92,""],[92,""],[94,""],[95,""],[96,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),mh=new Map([[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57," "],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),vh=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,"*"],[41,"'"],[42,""],[43,""],[44,""],[45,""],[46,""],[47,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),yh=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,""],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),bh=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function wh(e,t){this.h=0,this.o=new lh(e,t),this.i=new lh(e,t),this.g=this.j=new lh(e,t),this.l=0,this.m=null}function Sh(e,t,n){e.g=e.i;var r=e.g,i=null;return 3!==e.h&&4!==e.h&&(i=ch(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,hh(n,0,15),(n=e.j).g=0<n.h?n.h:0,hh(n,0,15),r.g=15),e.h=3,r.h=t,i}function xh(e){e.h=1,e.g=e.j,e.g.h=0}function Th(e){$("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var kh="black green blue cyan red yellow magenta black".split(" "),Ah="white green blue cyan red yellow magenta white_italics".split(" ");function Eh(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.u="black",Ch(this)}function Ch(e){e.i=[];for(var t=0;16>t;t++)e.i.push(Ih())}function Ih(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Mh(e,t){Dh(e)&&(e.i[e.h][e.g]=new uh(t,e.C,e.A,e.u,e.B),e.g++)}function Dh(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}function Ph(e,t,n){var r=new Jn(e.j,t,"");r.textAlign=0===e.F?"left":1===e.F?"right":or;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?rn:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=ah(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}function Lh(){this.i=[],this.h=null,this.g=0}function Rh(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new Nh(e.h)),e.h=null,e.g=0))}function Nh(e){this.g=0,this.h=e}function _h(e){if(!e.ta())throw new Le(2,2,3e3);return e.h[e.g++]}function Oh(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function jh(e,t,n,r){if(!e.g)return[];if(24==n)return n=_h(t).value,r=_h(t).value,n=[n,r].map((function(e){return("0"+(255&e).toString(16)).slice(-2)})).join(""),Mh(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var i=null;switch(n){case 8:!Dh(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(i=Ph(t,r,e.i)),t.h+1>=t.o?function(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=Ih()}(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(i=Ph(t,r,e.i)),t.i[t.h]=Ih(),t.g=0;break;case 12:t.isVisible()&&(i=Ph(t,r,e.i)),Ch(t),t.h=0,t.g=0}return i?[i]:[]}function Uh(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=_h(t).value,t=[];for(var i=(n=c(Fh(e,n))).next();!i.done;i=n.next()){if((i=e.h[i.value]).isVisible()){var a=Ph(i,r,e.i);a&&t.push(a)}Ch(i)}return t}if(137===n)for(n=(t=c(Fh(e,t=_h(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.display();else{if(138===n){for(n=_h(t).value,t=null,i=(n=c(Fh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=Ph(i,r,e.i)),i.l=!1;return t?[t]:[]}if(139===n){for(n=_h(t).value,t=null,i=(n=c(Fh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=Ph(i,r,e.i):i.j=r,i.l=!i.l;return t?[t]:[]}if(140===n)return Bh(e,t=_h(t).value,r);if(143===n)return r=Bh(e,255,r),zh(e),r;if(144===n)t.skip(1),r=_h(t).value,e.g&&(e.g.A=0<(128&r),e.g.C=0<(64&r));else if(145===n)r=_h(t).value,n=_h(t).value,t.skip(1),e.g&&(t=Vh((48&n)>>4,(12&n)>>2,3&n),e.g.B=Vh((48&r)>>4,(12&r)>>2,3&r),e.g.u=t);else if(146===n)r=_h(t).value,t=_h(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=_h(t).value,t.skip(1),e.g&&(e.g.F=3&r);else if(152<=n&&159>=n){n=(15&n)-8,(i=null!==e.h[n])||((a=new Eh(n,e.i)).j=r,e.h[n]=a),r=_h(t).value,a=_h(t).value;var o=_h(t).value,s=_h(t).value,u=_h(t).value;t=_h(t).value,i&&!(7&t)||((t=e.h[n]).h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.u="black"),(t=e.h[n]).l=0<(32&r),t.L=127&a,t.H=o,t.G=(240&s)>>4,t.K=0<(128&a),t.o=1+(15&s),t.m=1+(63&u),e.g=e.h[n]}}}return[]}function Fh(e,t){for(var n=[],r=0;8>r;r++)!(1&~t)&&e.h[r]&&n.push(r),t>>=1;return n}function Bh(e,t,n){for(var r=[],i=(t=c(Fh(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(a=Ph(a,n,e.i))&&r.push(a),e.h[i]=null}return r}function zh(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Vh(e,t,n){var r={0:0,1:0,2:1,3:1};return Gh[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}Eh.prototype.isVisible=function(){return this.l},Eh.prototype.display=function(){this.l=!0},Nh.prototype.ta=function(){return this.g<this.h.length},Nh.prototype.Ba=function(){return this.g},Nh.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Le(2,2,3e3);this.g+=e},Nh.prototype.qh=function(e){if(0>this.g-e)throw new Le(2,2,3e3);this.g-=e};var Hh=new Map([[32," "],[33,""],[37,""],[42,""],[44,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[57,""],[58,""],[60,""],[61,""],[63,""],[118,""],[119,""],[120,""],[121,""],[122,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),Gh="black blue green cyan red magenta yellow white".split(" ");function Kh(){this.h=[],this.g=[],this.i=new Lh,this.l=0,this.m=new Map([["CC1",new wh(0,0)],["CC2",new wh(0,1)],["CC3",new wh(1,0)],["CC4",new wh(1,1)]]),this.u=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,qh(this)}function qh(e){e.o=0,e.u=0;for(var t=c(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=0,n.g=n.j,n.m=null,dh(n.i),dh(n.j),dh(n.o);e.B=!0}function Wh(e,t){var n=t.type;if(16==(112&t.mb)){var r=t.mb>>3&1;0===n?e.o=r:e.u=r}if(r="CC"+(1+(n<<1|(n?e.u:e.o))),n=e.m.get(r),255===t.mb&&255===t.Mb||!t.mb&&!t.Mb||!Yh(t.mb)||!Yh(t.Mb))return 45<=++e.l&&qh(e),null;e.l=0,t.mb&=127,t.Mb&=127;var i=t.mb;if(1<=i&&15>=i||!t.mb&&!t.Mb)return null;if(i=null,16==(112&t.mb))e:{if(e.A.add(r),r=t.mb,e=t.Mb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16==(240&r)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1],r="white",i=!1;var a=null,o=95<e?e-96:e-64;13>=o?r=Ah[Math.floor(o/2)]:15>=o?i=!0:a=Math.floor((o-16)/2),e=!(1&~e),4!==n.h&&(o=n.g,3===n.h&&t!==o.g&&(ph(o,n=1+t-o.h,1+o.g-o.h,o.h),hh(o,0,n-1),hh(o,t+1,15-t)),o.g=t,o.m=e,o.j=i,o.l=r,o.u=a,o.o="black")}else if(17==(247&r)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",fh(n.g,0,32),r=!1,"white_italics"===(t=Ah[(14&e)>>1])&&(t="white",r=!0),n.g.m=!(1&~e),n.g.j=r,n.g.l=t;else if(16==(247&r)&&32==(240&e)||23==(247&r)&&45==(255&e))t="black",!(7&r)&&(t=kh[(14&e)>>1]),n.g.o=t;else if(17==(247&r)&&48==(240&e))fh(n.g,1,e);else if(18==(246&r)&&32==(224&e))fh(n.g,1&r?3:2,e);else{if(20==(246&r)&&32==(240&e)){switch(e=t.pts,r=null,t.Mb){case 32:xh(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Sh(n,2,e);break;case 38:r=Sh(n,3,e);break;case 39:r=Sh(n,4,e);break;case 40:fh(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:dh(n.o),Th(n);break;case 43:Th(n);break;case 44:t=n.i,r=null,4!==n.h&&(r=ch(t,n.l,e)),hh(t,0,15);break;case 45:t=n.g,3!==n.h?r=null:(r=ch(t,n.l,e),ph(t,(i=t.g-t.h+1)-1,i,t.h),hh(t,0,i-1),hh(t,t.g,15-t.g),n.l=e);break;case 46:hh(n.j,0,15);break;case 47:t=null,4!==n.h&&(t=ch(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,xh(n),n.l=e,r=t}i=r;break e}(23==r||31==r)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Mb,fh(n.g,0,t.mb),fh(n.g,0,e);return i}function Xh(e,t){var n=[];try{for(;t.ta();){var r=_h(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&_h(t).value),0!=i){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new Oh(i));for(var o=e.j.get(i),s=t.Ba();t.Ba()-s<a;){i=o;var u=t,l=_h(u),c=l.value,f=l.pts;if(16===c&&(c=c<<16|_h(u).value),0<=c&&31>=c)var p=jh(i,u,c,f);else if(128<=c&&159>=c)p=Uh(i,u,c,f);else{if(4096<=c&&4127>=c)i=u,8<=(u=255&c)&&15>=u?i.skip(1):16<=u&&23>=u?i.skip(2):24<=u&&31>=u&&i.skip(3);else if(4224<=c&&4255>=c)i=u,128<=(u=255&c)&&135>=u?i.skip(4):136<=u&&143>=u&&i.skip(5);else if(32<=c&&127>=c)u=c,i.g&&Mh(i.g,127===u?"":String.fromCharCode(u));else if(160<=c&&255>=c)i.g&&Mh(i.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(u=255&c,i.g)if(Hh.has(u)){var h=Hh.get(u);Mh(i.g,h)}else Mh(i.g,"_")}else 4256<=c&&4351>=c&&i.g&&Mh(i.g,160!=(255&c)?"_":"[CC]");p=[]}n.push.apply(n,d(p))}}}}catch(g){if(!(g instanceof Le&&3e3===g.code))throw g;$("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Yh(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function $h(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(d(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Qh(){this.j=new Map,this.i=this.h=0,this.g=Zh}function Jh(e,t,n,r,i,a,o,s,u){var l=0,f=a,p=s.map((function(e){return e.fg}));for((p=[].concat.apply([],d(p))).length&&(f=p[0].sampleSize||a),t.skip(o+s[0].nf);t.ta();){o=t.S();var h=t.X(),g=null;switch(g=!1,s=1,e.g){case eg:g=6==(g=31&h);break;case tg:s=2,t.skip(1),g=39==(g=h>>1&63)||40==g;break;case ng:s=2,t.skip(1),g=23==(g=h>>1&63)||24==g;break;default:return}if(g)for(h=0,l<p.length&&(h=p[l].ye||0),h=(n+h)/r,g=(s=c($h(t.Cb(o-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:h});else try{t.skip(o-s)}catch(m){break}0==(f-=o+4)&&(n=l<p.length?n+(p[l].gg||i):n+i,f=++l<p.length&&p[l].sampleSize||a)}}Kh.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,qh(this);for(var t=(e=c(this.j.values())).next();!t.done;t=e.next())zh(t.value)},Kh.prototype.extract=function(e,t){if(this.B){for(var n=c(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(!(8>(e=new Ta(e,0)).getLength())&&181===e.X()&&49===e.na()&&1195456820===e.S()&&3===e.X()&&64&(n=e.X()))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.X(),a=(4&i)>>2,o=e.X(),s=e.X();a&&(0==(i&=3)||1===i?this.h.push({pts:t,type:i,mb:o,Mb:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Kh.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=Wh(this,r.value))&&t.push(r);for(r=(n=c(this.g)).next();!r.done;r=n.next())Rh(this.i,r.value);for(r=(n=c(this.i.i)).next();!r.done;r=n.next())r=Xh(this,r.value),t.push.apply(t,d(r));return this.i.i=[],this.h=[],this.g=[],t},Kh.prototype.getStreams=function(){return Array.from(this.A)},z("shaka.cea.CeaDecoder",Kh),tn=function(){return new Kh},Qh.prototype.init=function(e){function t(e){e=e.name,rg.has(e)&&(n.g=rg.get(e))}var n=this,r=[],i=[];if((new Ea).box("moov",Ca).box("mvex",Ca).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.S(),t=t.S(),n.h=e,n.i=t})).box("trak",Ca).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.S();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.na(),t.na(),t.na(),t.na(),r.push(n)})).box("mdia",Ca).R("mdhd",(function(e){e=Mo(e.reader,e.version),i.push(e.timescale)})).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Ma).box("sinf",Ca).box("frma",(function(e){e=Lo(e.reader).codec,rg.has(e)&&(n.g=rg.get(e))})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Le(2,2,2010);this.g==Zh&&Y("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},Qh.prototype.parse=function(e){var t=this;if(this.g==Zh)return[];var n=[],r=0,i=[];return(new Ea).box("moof",(function(e){r=e.start,i=[],Ca(e)})).box("traf",(function(e){i.push({baseMediaDecodeTime:null,ld:t.h,md:t.i,lh:[],timescale:9e4}),Ca(e)})).R("trun",(function(e){var t=i[i.length-1];e=Do(e.reader,e.version,e.flags),t.lh.push(e)})).R("tfhd",(function(e){var n=i[i.length-1];e=Co(e.reader,e.flags),n.ld=e.ld||t.h,n.md=e.md||t.i,e=e.trackId,t.j.has(e)&&(n.timescale=t.j.get(e))})).R("tfdt",(function(e){var t=i[i.length-1];e=Io(e.reader,e.version),t.baseMediaDecodeTime=e.baseMediaDecodeTime})).box("mdat",(function(e){for(var a=r-e.start-8,o=e.reader.Ba(),s=c(i),u=s.next();!u.done;u=s.next()){if(null===(u=u.value).baseMediaDecodeTime)throw Y("Unable to find base media decode time for CEA captions!"),new Le(2,2,2010);e.reader.seek(o),Jh(t,e.reader,u.baseMediaDecodeTime,u.timescale,u.ld,u.md,a,u.lh,n)}})).parse(e,!1),n},z("shaka.cea.Mp4CeaParser",Qh);var Zh=0,eg=1,tg=2,ng=3,rg=(new Map).set("avc1",eg).set("avc3",eg).set("dvav",eg).set("dva1",eg).set("hev1",tg).set("hvc1",tg).set("dvh1",tg).set("dvhe",tg).set("vvc1",ng).set("vvi1",ng).set("dvc1",ng).set("dvi1",ng);function ig(){this.g=null}function ag(e){return(e=function(e){var t=0,n=De(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,1&i||i+e>n.byteLength){n=[];break e}var a=Ie(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=Et(En(e))).filter((function(e){return e.type===sg}))[0])&&(e=Sn(e=mt(e.value,!0),"WRMHEADER"))?e:null}function og(e){try{var t=ag(e);if(t)e:{for(var n=c(In(t,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var a=c(i.children),o=a.next();!o.done;o=a.next()){var s=o.value;if("LA_URL"==s.tagName){var u=En(s);break e}}}u=""}else u="";return u}catch(l){return""}}Jt("video/mp4",(function(){return new Qh})),ig.prototype.init=function(){},ig.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Gs;var t=[];if(!Xs(e=Ie(e)))return t;var n=(e=this.g.parse(e)).od(),r=e.be();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(r=(n=c(r)).next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&null!=r.time)for(var i=c($h(r.data)),a=i.next();!a.done;a=i.next())t.push({packet:a.value,pts:r.time});return t},z("shaka.cea.TsCeaParser",ig),Jt("video/mp2t",(function(){return new ig}));var sg=1;function ug(t,n,r){var i=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=cg(n.value))&&t.push(n);return t}(t),a=null;t=[];var o=[],s=null,u=new Set(i.map((function(e){return e.keyId})));u.delete(null);var l="cenc";if(1<u.size)throw new Le(2,4,4010);if(!n){if(1<(o=i.filter((function(e){return"urn:mpeg:dash:sea:2012"==e.cd}))).length)throw new Le(2,4,4050);o.length&&(s=function(t){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Le(2,4,4042);var n=Dn(t.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new Le(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new Le(2,4,4051);if(!(n=Dn(t.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod")))throw new Le(2,4,4051);if(t=n.attributes.IV,n=St(n.attributes.keyUriTemplate),!t||!n)throw new Le(2,4,4051);if(16!=(t=Ct(t.substr(2))).byteLength)throw new Le(2,4,4048);return{Xi:n,iv:t}}(o[0])),(o=i.find((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.cd})))&&o.encryptionScheme&&(l=o.encryptionScheme),(o=i.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.cd?(a=e.init||a,!1):"urn:mpeg:dash:sea:2012"!=e.cd}))).length&&(t=function(e,t,n,r,i){for(var a=[],o=(n=c(n)).next();!o.done;o=n.next()){var s=r[(o=o.value).cd];if(s){var u;if((u=Dn(o.node,"urn:microsoft:playready","pro"))&&En(u)){u=Et(u=En(u));var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Ua(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.cd){l=o;var d=i;if(0==d.size)l=null;else{var f=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:Ua(new Uint8Array([]),f,d,1),initDataType:"cenc",keyId:l.keyId}]}}u=Pt(s,t,o.init||e||u||l),(s=dg.get(s))&&(u.licenseServerUri=s(o)),a.push(u)}}return a}(a,l,o,r,u),0==t.length&&(t=[Pt("",l,a)]))}if(i.length&&!s&&(n||!o.length))for(t=[],r=(n=c(Object.values(r))).next();!r.done;r=n.next())"org.w3.clearkey"!=(r=r.value)&&t.push(Pt(r,l,a));if(u=Array.from(u)[0]||null)for(n=(l=c(t)).next();!n.done;n=l.next())for(r=(n=c(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=u;return{Jg:u,Pk:a,drmInfos:t,cf:s,Og:!0}}function lg(e){var t=Dn(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=En(t)))return t;if((t=Dn(e.node,"urn:microsoft:playready","pro"))&&En(t))return og(t);if((e=Dn(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=En(e))){t=Et(e),e=8;var n=(t=De(t)).getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),og(e=Sn("<pro>"+(e=kt(e=Ie(t,e+4)))+"</pro>"))}return""}function cg(e){var t=e.attributes.schemeIdUri,n=Ln(e,"urn:mpeg:cenc:2013","default_KID"),r=Rn(e,"urn:mpeg:cenc:2013","pssh").map(Cn),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Le(2,4,4009);var a=[];try{a=r.map((function(e){return{initDataType:"cenc",initData:Et(e),keyId:null}}))}catch(o){throw new Le(2,4,4007)}return{node:e,cd:t,keyId:n,init:0<a.length?a:null,encryptionScheme:i}}var dg=(new Map).set("com.apple.fps",(function(t){if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4054);return(t=Dn(t.node,"https://dashif.org/CPS","Laurl"))&&(t=En(t))?t:""})).set("com.widevine.alpha",(function(e){var t=Dn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=En(t))?t:(e=Dn(e.node,"urn:microsoft","laurl"))&&St(e.attributes.licenseUrl)||""})).set("com.microsoft.playready",lg).set("com.microsoft.playready.recommendation",lg).set("com.microsoft.playready.software",lg).set("com.microsoft.playready.hardware",lg).set("org.w3.clearkey",(function(e){var t=Dn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=En(t))?t:(e=Dn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.attributes.Lic_type&&e&&(e=En(e))?e:""}));function fg(t,n,r,i,a,o){var s=(new Map).set("RepresentationID",n).set("Number",r).set("SubNumber",i).set("Bandwidth",a).set("Time",o);return t.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=s.get(n);if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&"bigint"!=typeof a&&(.2<=Math.abs(a-Math.round(a))&&Y("Calculated $Time$ values must be close to integers"),a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function pg(e,t){var n=gg(e,t,"timescale"),r=1;n&&(r=Fn(n)||1);var i=(n=Fn((n=gg(e,t,"duration"))||""))?n/r:null,a=gg(e,t,"startNumber"),o=Number(gg(e,t,"presentationTimeOffset"))||0,s=Bn(a||"");if(null!=a&&null!=s||(s=1),a=null,t=mg(e,t,"SegmentTimeline")){t=An(t,"S"),a=r,e=e.ha.duration||1/0;for(var u=s,l=[],c=-o,d=0;d<t.length;++d){var f=t[d],p=t[d+1],h=Pn(f,"t",Bn),g=Pn(f,"d",Bn),m=Pn(f,"r",Un);if(f=Pn(f,"k",Un)||0,null!=h&&(h-=o),g){if(h=null!=h?h:c,0>(m=m||0))if(p){if(null==(p=Pn(p,"t",Bn)))break;if(h>=p)break;m=Math.ceil((p-h)/g)-1}else{if(1/0==e)break;if(h/a>=e)break;m=Math.ceil((e*a-h)/g)-1}for(0<l.length&&h!=c&&(l[l.length-1].end=h/a),p=0;p<=m;++p)c=h+g,l.push({start:h/a,end:c/a,xg:h,Jb:f,wj:l.length+u}),h=c}}a=l}return{timescale:r,He:n,Wa:i,Ld:s,hc:o/r||0,wg:o,timeline:a}}function hg(e,t){return[t(e.J),t(e.ga),t(e.qa)].filter(ti)}function gg(e,t,n){t=hg(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function mg(e,t,n){t=hg(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=Mn(r.value,n));r=t.next());return e}function vg(e,t,n,r,i,a){if(a=void 0===a?0:a,Ln(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Ln(e,"http://www.w3.org/1999/xlink","href"),s=Ln(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Object.keys(e.attributes)),l=u.next();!l.done;l=u.next()){var d=(l=l.value).split(":"),f=xn("http://www.w3.org/1999/xlink");d[0]==f&&delete e.attributes[l]}if(5<=a)return $i(new Le(2,4,4028));if("onLoad"!=s)return $i(new Le(2,4,4027));var p=Dt([r],[o]);return i.request(0,ca(p,t)).Ha((function(r){if(!(r=wn(r.data,e.tagName)))return $i(new Le(2,4,4001,o));for(e.children=[];r.children.length;){var s=r.children.shift();e.children.push(s)}for(var u=(s=c(Object.keys(r.attributes))).next();!u.done;u=s.next())u=u.value,e.attributes[u]=r.attributes[u];return vg(e,t,n,p[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.Ha(void 0,(function(){return vg(e,t,n,r,i,a)}))),o}o=[];for(var s=c(kn(e)),u=s.next(),l={};!u.done;l={hd:void 0},u=s.next())l.hd=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==Ln(l.hd,"http://www.w3.org/1999/xlink","href")?e.children=e.children.filter(function(e){return function(t){return t!==e.hd}}(l)):"SegmentTimeline"!=l.hd.tagName&&o.push(vg(l.hd,t,n,r,i,a));return ea(o).Ha((function(){return e}))}function yg(e,t,n,r,i,a,o){var s,u=(new Ea).R("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.S();if(0==u)throw new Le(2,3,3005);if(0==o.version)var l=o.reader.S(),c=o.reader.S();else l=o.reader.bd(),c=o.reader.bd();o.reader.skip(2);var d=o.reader.na();for(e=e+o.size+c,c=0;c<d;c++){var f=o.reader.S(),p=(2147483648&f)>>>31;f&=2147483647;var h=o.reader.S();if(o.reader.skip(4),1==p)throw new Le(2,3,3006);s.push(new ps(l/u+n,(l+h)/u+n,(function(){return a}),e,e+f-1,t,n,r,i)),l+=h,e+=f}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new Le(2,3,3004)}function bg(e){this.h=De(e),this.g=new Ta(this.h,0)}function wg(e){var t=Sg(e);if(7<t.length)throw new Le(2,3,3002);for(var n=0,r=(t=c(t)).next();!r.done;r=t.next())n=256*n+r.value;t=Sg(e);e:{for(var i=(r=c(xg)).next();!i.done;i=r.next())if(Ee(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.Ba();else{if(8==t.length&&224&t[1])throw new Le(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.Ba()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Ba(),r=De(e.h,e.g.Ba(),t),e.g.skip(t),new Tg(n,r)}function Sg(e){var t=e.g.Ba(),n=e.g.X();if(0==n)throw new Le(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ie(e.h,t,n)}bg.prototype.ta=function(){return this.g.ta()};var xg=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Tg(e,t){this.id=e,this.g=t}function kg(e){if(8<e.g.byteLength)throw new Le(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Le(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++)t=256*t+e.g.getUint8(n);return t}function Ag(e){var t=new bg(e.g);if(179!=(e=wg(t)).id)throw new Le(2,3,3013);if(e=kg(e),183!=(t=wg(t)).id)throw new Le(2,3,3012);t=new bg(t.g);for(var n=0;t.ta();){var r=wg(t);if(241==r.id){n=kg(r);break}}return{Jj:e,nj:n}}function Eg(e,t,n){if(!(t=mg(e,t,"Initialization")))return null;var r=e.J.Ua(),i=t.attributes.sourceURL;i&&(r=Dt(r,[St(i)],e.vb())),i=0;var a=null;return(t=Pn(t,"range",jn))&&(i=t.start,a=t.end),(n=new ds((function(){return r}),i,a,Lg(e),null,null,n,e.ga.encrypted)).codecs=e.J.codecs,n.mimeType=e.J.mimeType,e.ha&&(n.g=e.ha.start+e.ha.duration),n}function Cg(e,t,n){var r=Number(gg(e,Mg,"presentationTimeOffset"))||0,i=gg(e,Mg,"timescale"),a=1;i&&(a=Fn(i)||1);var o=r/a||0,s=Eg(e,Mg,n);!function(e,t){if(Pg(e,t),!Dg(e))throw new Le(2,4,4002)}(e,s);var u=yn(e);return{rc:function(){var e=mg(u,Mg,"RepresentationIndex"),n=u.J.Ua();return e&&(e=St(e.attributes.sourceURL))&&(n=Dt(n,[e],u.vb())),e=Dg(u),Ig(u,t,s,n,e.start,e.end,o)}}}function Ig(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E;return R((function(C){if(1==C.g)return s=e.presentationTimeline,u=!e.Ob||!e.ha.$g,l=e.ha.start,d=e.ha.duration,f=e.J.mimeType.split("/")[1],h=null,g=[(p=t)(r,i,a,!1),"webm"==f?p(n.N(),n.Sa,n.wa,!0):null],p=null,S(C,Promise.all(g),2);if(m=C.h,v=m[0],y=m[1]||null,w=l-o,x=l,T=d?l+d:1/0,"mp4"==f)var I=yg(v,i,r,n,w,x,T);else{I=v;var M=new bg(y);if(440786851!=wg(M).id)throw new Le(2,3,3008);var D=wg(M);if(408125543!=D.id)throw new Le(2,3,3009);M=D.g.byteOffset,D=new bg(D.g);for(var P=null;D.ta();){var L=wg(D);if(357149030==L.id){P=L;break}}if(!P)throw new Le(2,3,3010);for(P=new bg(P.g),L=1e6,D=null;P.ta();){var R=wg(P);if(2807729==R.id)L=kg(R);else if(17545==R.id)if(4==R.g.byteLength)D=R.g.getFloat32(0);else{if(8!=R.g.byteLength)throw new Le(2,3,3003);D=R.g.getFloat64(0)}}if(null==D)throw new Le(2,3,3011);if(D*=P=L/1e9,475249515!=(I=wg(new bg(I))).id)throw new Le(2,3,3007);I=function(e,t,n,r,i,a,o,s,u){function l(){return i}var c=[];e=new bg(e.g);for(var d=null,f=null;e.ta();){var p=wg(e);if(187==p.id){var h=Ag(p);h&&(p=n*h.Jj,h=t+h.nj,null!=d&&c.push(new ps(d+o,p+o,l,f,h-1,a,o,s,u)),d=p,f=h)}}return null!=d&&c.push(new ps(d+o,r+o,l,f,null,a,o,s,u)),c}(I,M,P,D,r,n,w,x,T)}for(k=c(b=I),A=k.next();!A.done;A=k.next())(E=A.value).codecs=e.J.codecs,E.mimeType=e.J.mimeType,E.bandwidth=e.bandwidth;return s.Ed(b),h=new Hu(b),u&&h.Oc(x,T,!0),C.return(h)}))}function Mg(e){return e.dd}function Dg(e){var t=mg(e,Mg,"RepresentationIndex");return e=jn((e=gg(e,Mg,"indexRange"))||""),t&&(e=Pn(t,"range",jn,e)),e}function Pg(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=Ot&&"mp4"!=n&&"webm"!=n)throw new Le(2,4,4006);if("webm"==n&&!t)throw new Le(2,4,4005)}function Lg(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.oe,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function Rg(e,t,n){var r=Eg(e,Ng,n),i=function(e){var t=function(e){return[e.J.Zb,e.ga.Zb,e.qa.Zb].filter(ti).map((function(e){return An(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.attributes.indexRange&&!e.Lf&&(e.Lf=!0),{cj:St(t.attributes.media),start:(t=Pn(t,"mediaRange",jn,{start:0,end:null})).start,end:t.end}}))}(e),n=(e=pg(e,Ng)).Ld;0==n&&(n=1);var r=0;return e.Wa?r=e.Wa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Wa:e.Wa,startTime:r,Ld:n,hc:e.hc,timeline:e.timeline,Xc:t}}(e);if(!i.Wa&&!i.timeline&&1<i.Xc.length)throw new Le(2,4,4002);if(!i.Wa&&!e.ha.duration&&!i.timeline&&1==i.Xc.length)throw new Le(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new Le(2,4,4002);var a=null,o=null;e.qa.id&&e.J.id&&(o=t.get(e.qa.id+","+e.J.id))&&(a=o.segmentIndex);var s=function(e,t,n,r,i,a,o,s,u,l){var c=r.Xc.length;r.timeline&&r.timeline.length!=r.Xc.length&&(c=Math.min(r.timeline.length,r.Xc.length));for(var d=e-r.hc,f=t?e+t:1/0,p=[],h=r.startTime,g={},m=0;m<c;g={Je:void 0,ze:void 0},m++){g.ze=r.Xc[m];var v=h;h=void 0,h=null!=r.Wa?v+r.Wa:r.timeline?r.timeline[m].end:v+t,g.Je=null,(g=new ps(e+v,e+h,function(e){return function(){return null==e.Je&&(e.Je=Dt(n(),[e.ze.cj],l())),e.Je}}(g),g.ze.start,g.ze.end,i,d,e,f,[],"",null,null,gs,a)).codecs=s,g.mimeType=o,g.bandwidth=u,p.push(g)}return p}(e.ha.start,e.ha.duration,e.J.Ua,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.vb);return t=!a,a?a.Bd(s,e.presentationTimeline.pb()):a=new Hu(s),e.presentationTimeline.Ed(s),e.Ob&&e.ha.$g||a.Oc(e.ha.start,e.ha.duration?e.ha.start+e.ha.duration:1/0,t),o&&(o.segmentIndex=a),{rc:function(){return a&&0!=a.getNumReferences()||a.ke(s),Promise.resolve(a)}}}function Ng(e){return e.Zb}function _g(t,n,r,i,a,o,s,u,l){l||t.J.de||(t.J.de=gg(t,Og,"initialization"));var d=t.J.de?function(e,t){var n=e.J.de;if(n||(n=gg(e,Og,"initialization")),!n)return null;n=St(n);var r=e.J.originalId,i=e.bandwidth||null,a=e.J.Ua,o=e.vb;return t=new ds((function(){var e=fg(n,r,null,null,i,null);return Dt(a(),[e],o())}),0,null,Lg(e),null,null,t,e.ga.encrypted),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,e.ha&&(t.g=e.ha.start+e.ha.duration),t}(t,s):null,f=function(e){var t=pg(e,Og),n=gg(e,Og,"media"),r=gg(e,Og,"index"),i=gg(e,Og,"k"),a=0;return i&&(a=parseInt(i,10)),{He:t.He,Wa:t.Wa,timescale:t.timescale,Ld:t.Ld,hc:t.hc,wg:t.wg,timeline:t.timeline,ec:n&&St(n),vd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,dj:a}}(t);!function(e){var t=e.vd?1:0;if(t+=e.timeline?1:0,0==(t+=e.Wa?1:0))throw new Le(2,4,4002);if(1!=t&&(e.vd&&(e.timeline=null),e.He=null,e.Wa=null),!e.vd&&!e.ec)throw new Le(2,4,4002)}(f);var p=yn(t);if(f.vd)return Pg(t,d),{rc:function(){var e=fg(f.vd,p.J.originalId,null,null,p.bandwidth||null,null);return e=Dt(p.J.Ua(),[e]),Ig(p,n,d,e,0,null,f.hc)}};if(f.Wa)return i||"image"===t.ga.contentType||"text"===t.ga.contentType||(r=t.ha.start,i=t.qa.id,l=t.ha.duration,i=(i=null!=i&&o.get(i)||l)?r+i:1/0,t.presentationTimeline.Tf(f.Wa),t.presentationTimeline.jh(r,i)),{rc:function(){return function(t,n,r,i,a,o,s,u){function l(r){var a=r-y,s=a*v,l=n.He,c=a*l;"BigInt"in e&&c>Number.MAX_SAFE_INTEGER&&(c=BigInt(a)*BigInt(l)),a=(s+=h)+v,l=Math.min(a,f());var d=[],p=n.dj;if(p)for(var g=(l-s)/p,m={},A=0;A<p;m={Eh:void 0},A++){var E=s+g*A,C=E+g;m.Eh=A+1,(m=new ps(E,C,function(e){return function(){var t=fg(b,S,r,e.Eh,w,c);return Dt(x(),[t],T())}}(m),0,null,i,k,h,f(),[],"",null,null,gs,o)).codecs=t.J.codecs,m.mimeType=t.J.mimeType,0==u?0<A&&m.Vc():0!=A%u&&m.Vc(),d.push(m)}return(s=new ps(s,l,(function(){if(p)return[];var e=fg(b,S,r,null,w,c);return Dt(x(),[e],T())}),0,null,i,k,h,f(),d,"",null,null,gs,o,0<d.length)).codecs=t.J.codecs,s.mimeType=t.J.mimeType,s.bandwidth=t.bandwidth,s.j=a,s}function d(){var e=[Math.max(p.pb(),h),Math.min(p.cc(),f())].map((function(e){return e-h}));return e=[Math.ceil(e[0]/v),Math.ceil(e[1]/v)-1],t.J.cb&&e[1]++,e.map((function(e){return e+y}))}function f(){var e=null!=g&&a.get(g)||m;return e?h+e:1/0}var p=t.presentationTimeline,h=t.ha.start,g=t.qa.id,m=t.ha.duration,v=n.Wa,y=n.Ld,b=n.ec,w=t.bandwidth||null,S=t.J.id,x=t.J.Ua,T=t.vb,k=h-n.hc,A=d();r=t.Ob?Math.max(A[0],A[1]-r+1):A[0],s=s||A[1],A=[];for(var E=r;E<=s;++E){var C=l(E);A.push(C)}var I=new Hu(A);if(A=p.cc()<f(),E=p.U(),A||E){var M=Math.max(r,s+1);r=v,t.J.cb&&(r=.1),I.Ie(r,(function(){var e=p.pb();I.Oa(e);var t=c(d());t.next(),t=t.next().value;for(var n=[];M<=t;){var r=l(M);n.push(r),M++}return e>f()&&!n.length?null:n}))}return Promise.resolve(I)}(p,f,a,d,o,s,u,t.J.Ae)}};var h=null;i=i=null,t.qa.id&&t.J.id&&(i=t.qa.id+","+t.J.id,i=r.get(i))&&(h=i.segmentIndex);var g=t.ha.start,m=t.ha.duration?g+t.ha.duration:1/0;return h?(Ug(r=h,f,g,m,d),r.Oa(t.presentationTimeline.pb())):h=new jg(f,t.J.originalId,t.bandwidth,t.J.Ua,t.vb,g,m,d,s,t.J.Ae),f.timeline&&"image"!==t.ga.contentType&&"text"!==t.ga.contentType&&t.presentationTimeline.kh(h.h?h.h.timeline:[],g),i&&t.Ob&&(i.segmentIndex=h),{rc:function(){return h instanceof jg&&0==h.getNumReferences()&&Ug(h,f,g,m,d),Promise.resolve(h)}}}function Og(e){return e.ic}function jg(e,t,n,r,i,a,o,s,u,l){Hu.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=a,this.l=o,this.u=s,this.A=u,this.G=l,Fg(this)}function Ug(e,t,n,r,i){if(function(e,t){if(e.u!==t){e.u=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())(n=n.value)&&hs(n,t)}}(e,i),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var a=n[n.length-1];t=t.timeline.filter((function(e){return e.end>a.end}))}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,d(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;Fg(e)}function Fg(e){if(e.h&&!e.o){for(var t=[],n=c(e.h.timeline),r=n.next();!r.done;r=n.next())(r=r.value).start>=e.l||0>=r.end||t.push(r);e.h.timeline=t,e.Oa(e.j)}}function Bg(e,t,n,r,i,a,o,s){return e=fg(e,t,n,a,r||null,i),Dt(o(),[e],s()).map((function(e){return e.toString()}))}function zg(e){this.o=null,this.A=e,this.G=new aa,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}function Vg(e,t){var n,r,i,a,o,s,u;return R((function(l){return 1==l.g?(n=Dt(e.i,[Hg(e,t)]),r=ca(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),oa(e.G,i),T(l,2),S(l,i.promise,4)):2!=l.g?(a=l.h,o=gt(a.data),1==(s=JSON.parse(o)).VERSION&&function(e,t,n){null!=e.g&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new ze((function(){Vg(e,r)})),(n=t.TTL)&&(e.C=n),e.g.da(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}(e,s,a.uri),A(l,0)):(u=E(l))&&7001==u.code?l.return():(null!=e.g&&(e.g.stop(),e.g=null),e.g=new ze((function(){Vg(e,t)})),e.g.da(e.C),void x(l))}))}function Hg(e,t){if(!e.m.length)return t;t=new le(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return"DASH"==e.u?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):"HLS"==e.u&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),ke(i)&&pe(t,i),t.toString()}function Gg(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}function Kg(e,t,n){n=void 0!==n&&n,t=e.l.get(t)||new Map;for(var r=[],i=c(e.m),a=i.next(),o={};!a.done;o={Zc:void 0},a=i.next())if(o.Zc=a.value,a=t.get(o.Zc))r.push({Yf:o.Zc,location:a});else if(a=e.F.find(function(e){return function(t){return t.ek==e.Zc}}(o))){var s=t.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].Oh?(de(s=new le(s),a["URI-REPLACEMENT"].Oh),r.push({Yf:o.Zc,location:s.toString()})):r.push({Yf:o.Zc,location:s}))}for(i=Date.now(),a=(o=c(e.j.keys())).next();!a.done;a=o.next())a=a.value,i>(s=e.j.get(a))&&e.j.delete(a);if(r=r.filter((function(t){for(var n=c(e.j.keys()),r=n.next();!r.done;r=n.next())if(r.value.includes(new le(t.location).nb))return!1;return!0})),r.length&&(e.B=r[0].Yf),r=r.map((function(e){return e.location})),!r.length&&e.h)for(o=(i=c(e.h.split(","))).next();!o.done;o=i.next())(o=t.get(o.value))&&(e.B=e.h,r.push(o));if(!r.length)for(i=(t=c(t.values())).next();!i.done;i=t.next())r.push(i.value);return n?r:Dt(e.i,r)}function qg(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}function Wg(e,t){for(var n=[],r=[],i=[],a=[],o=(e=c(e)).next();!o.done;o=e.next()){var s=o.value;o=new Map(s.audioStreams.map((function(e){return[bm(e),e]})));var u=new Map(s.videoStreams.map((function(e){return[ym(e),e]}))),l=new Map(s.textStreams.map((function(e){return[wm(e),e]})));if(s=new Map(s.imageStreams.map((function(e){return[Sm(e),e]}))),t){var d=hm(Ot);l.set(wm(d),d),d=hm("image"),s.set(Sm(d),d)}n.push(o),r.push(u),i.push(l),a.push(s)}return{Dg:n,Mh:r,Ih:i,Yg:a}}function Xg(e){var t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E,C,I,M,D,P;return R((function(L){switch(L.g){case 1:if(t=jt,1==e.length)return L.return(e[0]);for(n=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.V})).map((function(e){return[bm(e),e]})))})),r=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.la})).map((function(e){return[ym(e),e]})))})),i=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.za})).map((function(e){return[wm(e),e]})))})),a=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.$e})).map((function(e){return[Sm(e),e]})))})),o=c(i),s=o.next();!s.done;s=o.next())u=s.value,l=pm(t.za),u.set(wm(l),l);for(d=c(a),f=d.next();!f.done;f=d.next())p=f.value,h=pm(t.$e),p.set(Sm(h),h);return S(L,Yg(g=new qg,[],n,0,em,nm,0),2);case 2:return m=L.h,S(L,Yg(g,[],r,0,em,nm,0),3);case 3:return v=L.h,S(L,Yg(g,[],i,0,em,nm,0),4);case 4:return y=L.h,S(L,Yg(g,[],a,0,em,nm,0),5);case 5:if(b=L.h,w=0,v.length&&m.length)for(A=c(m),E=A.next();!E.done;E=A.next())for(C=E.value,I=c(v),M=I.next();!M.done;M=I.next())D=M.value,P=w++,D.variantIds.push(P),C.variantIds.push(P);else for(x=v.concat(m),T=c(x),k=T.next();!k.done;k=T.next())k.value.variantIds=[w++];return L.return(v.concat(m).concat(y).concat(b))}}))}function Yg(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E;return R((function(C){switch(C.g){case 1:for(s=[],u=0;u<n.length;u++)u>=r?s.push(new Set(n[u].values())):s.push(new Set);l=c(t),d=l.next();case 2:if(d.done){C.s(4);break}return f=d.value,S(C,function(e,t,n,r,i,a,o){return R((function(s){return 1==s.g?(rm(e,n,t,0<o),t.matchedStreams?t.segmentIndex?S(s,$g(t,r+o),2):s.s(2):s.return(!1)):(Jg(t,r,i,a,o),s.return(!0))}))}(e,f,n,r,a,s,o),5);case 5:if(!C.h)throw new Le(2,4,4037);d=l.next(),C.s(2);break;case 4:for(p=c(s),h=p.next();!h.done;h=p.next())for(g=h.value,m=c(g),v=m.next();!v.done;v=m.next())y=v.value,(b=Qg(e,y,n,i,a,s))&&t.push(b);for(w=c(s),x=w.next();!x.done;x=w.next())for(T=x.value,k=c(T),A=k.next(),E={};!A.done;E={ng:void 0},A=k.next())if(E.ng=A.value,!vm(E.ng)&&t.some(function(t){return function(n){return om(e,t.ng,n)}}(E)))throw new Le(2,4,4037);return C.return(t)}}))}function $g(e,t){var n,r,i,a,o,s;return R((function(u){if(1==u.g){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return S(u,Promise.all(n),2)}if(e.segmentIndex instanceof Wu)for(o=t;o<r.length;o++)(s=r[o]).segmentIndex&&e.segmentIndex.h.push(s.segmentIndex);x(u)}))}function Qg(e,t,n,r,i,a){if(vm(t))return null;var o=r(t);return rm(e,n,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return R((function(e){return o.segmentIndex?e.s(0):(o.segmentIndex=new Wu,S(e,$g(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(Jg(o,0,i,a,0),o):null}function Jg(e,t,n,r,i){var a=e.matchedStreams;for(t+=i;t<a.length;t++){var o=a[t];n(e,o);var s=!0;if("audio"==e.type&&0==ui(e.language,o.language)&&(s=!1),s&&(r[t-i].delete(o),o.fullMimeTypes))for(s=(o=c(o.fullMimeTypes.values())).next();!s.done;s=o.next())e.fullMimeTypes.add(s.value)}}function Zg(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=c(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function em(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function tm(e,t){function n(e,t){e||(e=[]);for(var n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.includes(n)||e.push(n);return e}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=c(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(null==e.originalId?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=_e(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new Le(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=(r=c(t.closedCaptions)).next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Zg(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var t=new Wu,n=c(e.trickModeVideo.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.trickModeVideo.segmentIndex=t,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),tm(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),tm(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=Zg(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var t=new Wu,n=c(e.dependencyStream.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.dependencyStream.segmentIndex=t,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),tm(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),tm(e.dependencyStream,t))}function nm(e,t){var n=e.roles;n||(n=[]);for(var r=c(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,r=(n=c(t.keyIds)).next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=c(t.closedCaptions)).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,e.closedCaptions.set(n,r)}function rm(e,t,n,r){r=void 0!==r&&r?n.matchedStreams:[];for(var i=(t=c(t)).next();!i.done;i=t.next()){if(!(i=im(e,i.value,n)))return;r.push(i)}n.matchedStreams=r}function im(e,t,n){var r={audio:bm,video:ym,text:wm,image:Sm}[n.type],i=null,a=r(n);if(t.has(a))i=t.get(a);else{a={audio:function(t,n){return om(e,t,n)},video:function(t,n){return om(e,t,n)},text:sm,image:um}[n.type];for(var o={audio:lm,video:cm,text:dm,image:fm}[n.type],s=c(t.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||i&&!o(n,i,u)||(i=u)}return e.u&&!vm(i)&&t.delete(r(i)),i}function am(e,t){return e.mimeType==t.mimeType&&xm(e.codecs)===xm(t.codecs)}function om(e,t,n){return!(!am(t,n)&&!e.o||t.drmInfos&&!Ne(t.drmInfos,n.drmInfos))}function sm(e,t){return!t.language||e.forced===t.forced&&0!=ui(e.language,t.language)&&t.kind==e.kind}function um(){return!0}function lm(e,t,n){var r=am(e,t),i=am(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if(r=ui(e.language,t.language),(i=ui(e.language,n.language))>r)return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=gm(e.channelsCount,t.channelsCount,n.channelsCount))==Tm||r!=Am&&((r=gm(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==Tm||r!=Am&&!(!e.bandwidth||mm(e.bandwidth,t.bandwidth,n.bandwidth)!=Tm)))}function cm(e,t,n){var r=am(e,t),i=am(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if((r=gm(e.width*e.height,t.width*t.height,n.width*n.height))==Tm)return!0;if(r==Am)return!1;if(e.frameRate){if((r=gm(e.frameRate,t.frameRate,n.frameRate))==Tm)return!0;if(r==Am)return!1}return!(!e.bandwidth||mm(e.bandwidth,t.bandwidth,n.bandwidth)!=Tm)}function dm(e,t,n){var r=ui(e.language,t.language),i=ui(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function fm(e,t,n){return gm(e.width*e.height,t.width*t.height,n.width*n.height)==Tm}function pm(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function hm(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function gm(e,t,n){if(t==e&&e!=n)return Am;if(n==e&&e!=t)return Tm;if(t>e){if(n<=e||n-e<t-e)return Tm;if(n-e>t-e)return Am}else{if(n>e)return Am;if(e-n<e-t)return Tm;if(e-n>e-t)return Am}return km}function mm(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?Tm:t<e?Am:km}function vm(e){switch(e.type){case Ot:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function ym(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,xm(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function bm(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,xm(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function wm(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Sm(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function xm(e){if(!Em.has(e)){var t=Ur(e);Em.set(e,t)}return Em.get(e)}v(jg,Hu),(r=jg.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},r.release=function(){Hu.prototype.release.call(this),this.h=null},r.Oa=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.getNumReferences()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=r<n?t[r+1].start+this.j:1/0===this.l?i.end+this.j:this.l,e>=a&&e<i)return r+this.i}return null},r.get=function(e){var t=this;if(0>(e-=this.i)||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.wj,a=r.xg+this.h.wg;n=this.j-this.h.hc;var o=this.j+r.end,s=o;e===this.getNumReferences()-1&&1/0!==this.l&&(s=this.l);for(var u=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,d=[],f=(r.end-r.start)/r.Jb,p={},h=0;h<r.Jb;p={Ke:void 0,Fh:void 0},h++){var g=r.start+f*h,m=g+f;p.Fh=h+1,p.Ke=null,(p=new ps(this.j+g,this.j+m,function(e){return function(){return t.h?(null==e.Ke&&(e.Ke=Bg(t.h.ec,t.F,i,t.B,a,e.Fh,t.C,t.H)),e.Ke):[]}}(p),0,null,this.u,n,this.j,this.l,[],"",null,null,gs,this.A)).codecs=u,p.mimeType=l,p.bandwidth=c,0==this.G?0<h&&p.Vc():0!=h%this.G&&p.Vc(),d.push(p)}(n=new ps(this.j+r.start,s,(function(){return 0<r.Jb||!t.h?[]:Bg(t.h.ec,t.F,i,t.B,a,null,t.C,t.H)}),0,null,this.u,n,this.j,this.l,d,"",null,null,gs,this.A,0<r.Jb)).codecs=u,n.mimeType=l,n.j=o,n.bandwidth=c,this.g[e]=n}return n},r.Eb=function(e){Fg(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}},zg.prototype.configure=function(e){this.o=e},zg.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.G.destroy()},zg.prototype.setManifestType=function(e){this.u=e},zg.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)},(r=qg.prototype).release=function(){for(var e=c(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},r.Ki=function(){return this.l},r.Jf=function(){return this.j.slice()},r.oi=function(){return this.i},r.Kg=function(e,t){if(e){if("audio"==e.type)for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("video"==e.type)for(r=(n=c(this.g)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e})),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter((function(t){return t!==e}))),r.dependencyStream&&(r.dependencyStream.matchedStreams=r.dependencyStream.matchedStreams.filter((function(t){return t!==e})));else if(e.type==Ot)for(r=(n=c(this.j)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("image"==e.type)for(r=(n=c(this.i)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}},r.gf=function(e,t,n){n=void 0!==n&&n;var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,T,k,A,E,C,I,M,D,P,L,N,_,O,j,U,F=this;return R((function(R){if(1==R.g){if(r=jt,!t&&1==e.length)return i=Wg(e,!1),a=i.Dg,o=i.Mh,s=i.Ih,u=i.Yg,F.h=Array.from(a[0].values()),F.g=Array.from(o[0].values()),F.j=Array.from(s[0].values()),F.i=Array.from(u[0].values()),R.s(2);for(l=n?F.m.size:0,d=-1,f=0;f<e.length;f++)p=e[f],F.m.has(p.id)||(F.m.add(p.id),-1==d&&(d=f));return-1==d?R.return():(h=Wg(e,!0),g=h.Dg,m=h.Mh,v=h.Ih,y=h.Yg,S(R,Promise.all([Yg(F,F.h,g,d,Zg,tm,l),Yg(F,F.g,m,d,Zg,tm,l),Yg(F,F.j,v,d,Zg,tm,l),Yg(F,F.i,y,d,Zg,tm,l)]),2))}if(b=0,w=[],F.g.length&&F.h.length)for(M=c(F.h),D=M.next();!D.done;D=M.next())for(P=D.value,L=c(F.g),N=L.next();!N.done;N=L.next())_=N.value,O=_e(P.drmInfos,_.drmInfos),P.drmInfos.length&&_.drmInfos.length&&!O.length||(j=(P.bandwidth||0)+(_.bandwidth||0),P.dependencyStream&&(j+=P.dependencyStream.bandwidth||0),_.dependencyStream&&(j+=_.dependencyStream.bandwidth||0),U=b++,w.push({id:U,language:P.language,disabledUntilTime:0,primary:P.primary,audio:P,video:_,bandwidth:j,drmInfos:O,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(T=F.g.length?F.g:F.h,k=c(T),A=k.next();!A.done;A=k.next())E=A.value,C=b++,I=E.bandwidth||0,E.dependencyStream&&(I+=E.dependencyStream.bandwidth||0),w.push({id:C,language:E.language,disabledUntilTime:0,primary:E.primary,audio:E.type==r.V?E:null,video:E.type==r.la?E:null,bandwidth:I,drmInfos:E.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});F.l=w,x(R)}))},r.uh=function(e){this.o=e},r.Ah=function(e){this.u=e},z("shaka.util.PeriodCombiner",qg),qg.prototype.setUseStreamOnce=qg.prototype.Ah,qg.prototype.setAllowMultiTypeVariants=qg.prototype.uh,qg.prototype.combinePeriods=qg.prototype.gf,qg.prototype.deleteStream=qg.prototype.Kg,qg.prototype.getImageStreams=qg.prototype.oi,qg.prototype.getTextStreams=qg.prototype.Jf,qg.prototype.getVariants=qg.prototype.Ki;var Tm=1,km=0,Am=-1,Em=new Map;function Cm(e,t){try{return function(e,t){var n=new DOMParser,r=Im.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(i){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}(vt(e),t)}catch(n){return null}}var Im=new Re((function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function Mm(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.pa=1,this.F=[],this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.u=new Map,this.o=new Map,this.B=new Map,this.ka=new Map,this.m=new qg,this.I=0,this.oa=new G(5),this.K=new ze((function(){e.H&&!e.g.continueLoadingWhenPaused&&(e.G.Ja(e.H,"timeupdate"),e.H.paused)?e.G.ma(e.H,"timeupdate",(function(){return Gm(e)})):Gm(e)})),this.O=new aa,this.M=null,this.C=[],this.Z=1/0,this.fa=!1,this.h=null,this.L=0,this.P=!1,this.G=new ee,this.H=null,this.T=!1,this.Y="",this.ea=function(){return!1},this.W=[]}function Dm(e){var t,n,r,i,a,o,s,u,l,f,p;return R((function(h){return 1==h.g?(t=4,n="MPD",r=function(e){var t=e.l.Id;if(!e.l.me||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter((function(e){return!(e=Bn(e.attributes.ttl))||t+e>n})).map(Cn).filter(ti);return r.length?Dt(e.A,r):[]}(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&(a=Kg(e.h,"Location",!0)).length&&(i=a),o=ca(i,e.g.retryParameters),s=Date.now(),S(h,Qm(e,o,0,{type:t}),2)):3!=h.g?(u=h.h,e.j?(u.uri&&u.uri!=u.originalUri&&!e.A.includes(u.uri)&&e.A.unshift(u.uri),l=new le(u.uri),e.Y=l.g.toString(),S(h,function(e,t,n,r){var i,a,o,s,u,l,f,p;return R((function(h){if(1==h.g){if(i=t,(a=e.g.dash.manifestPreprocessor)!=nc){if(ie("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=Cm(i,r)))throw new Le(2,4,4001,n);a(o),i=yt(o.outerHTML)}if(!(s=wn(i,r)))throw new Le(2,4,4001,n);return(u=e.g.dash.manifestPreprocessorTXml)!=rc&&u(s),"Patch"===r?h.return(function(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,T,k,A,E,C,I,M;return R((function(D){if(1==D.g){if(n=t.attributes.mpdId,r=Pn(t,"originalPublishTime",_n),!n||n!==e.l.me||r!==e.l.Id)throw e.F=[],new Le(1,4,4052);for(i=[],a=[],o=new Set,s=c(kn(t)),u=s.next();!u.done;u=s.next())if(l=u.value,f=Gn(l.attributes.sel||""),p=f[f.length-1],h=Cn(l)||"","MPD"===p.name)if("mediaPresentationDuration"===p.ac){var P=On(Cn(l)||"");if(null!=P){e.l.Wb=P;for(var L=c(e.u.values()),R=L.next();!R.done;R=L.next())R.value.Wb=P}}else if("type"===p.ac){for(e.i.presentationTimeline.Gc("static"==h),e.l.type=h,L=(P=c(e.u.values())).next();!L.done;L=P.next())L.value.Ob="dynamic"==h;"static"==h&&(e.I=-1)}else"publishTime"===p.ac?e.l.Id=_n(h)||0:null===p.ac&&"add"===l.tagName&&a.push(l);else if("PatchLocation"===p.name)Kn(e.F,l);else if("Period"===p.name)"add"===l.tagName?a.push(l):"remove"===l.tagName&&p.id&&Nm(e,p.id);else if("SegmentTemplate"===p.name){if((P=(L=Gn(l.attributes.sel||""))[L.length-1]).ac){L=_m(e,L),R=Cn(l)||"";for(var N=c(L),_=N.next();!_.done;_=N.next())Wn((_=e.u.get(_.value)).J.ic,l.tagName,P.ac,R);P=L}else P=[];for(g=c(P),m=g.next();!m.done;m=g.next())v=m.value,o.add(v)}else if("SegmentTimeline"===p.name||"S"===p.name){for(P=Gn(l.attributes.sel||""),R=(L=c(P=_m(e,P))).next();!R.done;R=L.next())Kn(N=An(R=mg(R=e.u.get(R.value),Og,"SegmentTimeline"),"S"),l),R.children=N;for(y=c(P),b=y.next();!b.done;b=y.next())w=b.value,o.add(w)}for(T=c(o),k=T.next();!k.done;k=T.next())A=k.value,Om(e,A);for(E=c(a),C=E.next();!C.done;C=E.next())I=C.value,i.push.apply(i,d(Rm(e,I)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.L,S(D,Lm(e,i,!0),2)):D.s(2)}"static"==e.l.type&&(M=e.l.Wb,e.i.presentationTimeline.bb(M||1/0)),x(D)}))}(e,s)):e.g.dash.disableXlinkProcessing?h.return(Pm(e,s,n)):(l=e.g.dash.xlinkFailGracefully,f=vg(s,e.g.retryParameters,l,n,e.j.networkingEngine),oa(e.O,f),S(h,f.promise,2))}return p=h.h,h.return(Pm(e,p,n))}))}(e,u.data,u.uri,n),3)):h.return(0)):(f=Date.now(),p=(f-s)/1e3,e.oa.sample(1,p),h.return(p))}))}function Pm(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G,K,q,W,X,$,Q,J,Z,ee,te,ne,re,ie,ae,oe,se,ue;return R((function(le){switch(le.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],a=new Map,o=An(t,"Location"),s=c(o),u=s.next();!u.done;u=s.next())l=u.value,d=l.attributes.serviceLocation,(f=Cn(l))&&(p=Dt(r,[f])[0],d&&(e.h?Gg(e.h,"Location",d,p):a.set(d,p)),i.push(p));if(e.h?0<(h=Kg(e.h,"Location",!0)).length&&(r=e.A=h):i.length&&(r=e.A=i),e.l.me=t.attributes.id||"",e.l.Id=Pn(t,"publishTime",_n)||0,e.F=An(t,"PatchLocation"),g=Promise.resolve(),(m=Mn(t,"ContentSteering"))&&e.j)for(v=m.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=v):(e.h=new zg(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=v,(y=Cn(m))&&(Pn(m,"queryBeforeStart",Vn,!1)?g=Vg(e.h,y):Vg(e.h,y))),b=c(a.keys()),w=b.next();!w.done;w=b.next())k=w.value,C=a.get(k),Gg(e.h,"Location",k,C);if(I=An(t,"BaseURL"),M=!1,e.h)for(D=c(I),P=D.next();!P.done;P=D.next())L=P.value,N=L.attributes.serviceLocation,_=Cn(L),N&&_&&(Gg(e.h,"BaseURL",N,_),M=!0);if(e.W=null,M&&e.h||(O=I.map(Cn),e.W=Dt(r,O)),j=function(){return e.h&&M?Kg(e.h,"BaseURL"):e.W?e.W:[]},e.l.Ua=j,U=0,I&&I.length&&(U=Pn(I[0],"availabilityTimeOffset",zn)||0),e.l.cb=U,e.I=Pn(t,"minimumUpdatePeriod",On,-1),F=Pn(t,"availabilityStartTime",_n),B=Pn(t,"timeShiftBufferDepth",On),z=e.g.dash.ignoreSuggestedPresentationDelay,V=null,z||(V=Pn(t,"suggestedPresentationDelay",On)),H=e.g.dash.ignoreMaxSegmentDuration,G=null,H||(G=Pn(t,"maxSegmentDuration",On)),K=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.T=e.i.presentationTimeline.U()&&"static"==K),e.l.type=K,e.i)for(q=e.i.presentationTimeline,W=q.pb(),X=c(e.o.values()),$=X.next();!$.done;$=X.next())(Q=$.value).segmentIndex&&Q.segmentIndex.Oa(W);else J=e.g.dash.ignoreMinBufferTime,Z=0,J||(Z=Pn(t,"minBufferTime",On)||0),ee=null!=V?Math.min(V,B||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*Z,B||1/0),q=new Tu(F,ee,e.g.dash.autoCorrectDrift);return q.Gc("static"==K),q.U()&&!isNaN(e.g.availabilityWindowOverride)&&(B=e.g.availabilityWindowOverride),null==B&&(B=1/0),q.Ce(B),te=t.attributes.profiles||"",e.l.profiles=te.split(","),ne={Ob:"static"!=K,presentationTimeline:q,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:U,Wb:null,profiles:te.split(","),roles:null,vb:function(){return""}},S(le,g,2);case 2:return e.L=0,re=Fm(e,ne,j,t,!1),ie=re.duration,ae=re.periods,("static"!=K||e.T)&&re.Mg||q.bb(ie||1/0),e.P&&e.fa&&q.vh(e.Z),q.Tf(G||1),e.P&&e.fa&&(oe=null!=V?V:e.g.defaultPresentationDelay,q.jg(oe)),e.i?(e.i.periodCount=ae.length,e.i.gapCount=e.L,S(le,Lm(e,ae,!1),4)):S(le,e.m.gf(ae,ne.Ob),6);case 6:if(e.i={presentationTimeline:q,variants:e.m.l,textStreams:e.m.Jf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:jm(t),nextUrl:Um(t),periodCount:ae.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!q.Kh()){le.s(7);break}return se=An(t,"UTCTiming"),S(le,function(e,t,n){var r,i,a,o,s,u,l,d;return R((function(f){switch(f.g){case 1:r=n.map((function(e){return{scheme:e.attributes.schemeIdUri,value:e.attributes.value}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(r),o=a.next();case 2:if(o.done){f.s(4);break}switch(s=o.value,T(f,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Y("NTP UTCTiming scheme is not supported");break;default:Y("Unrecognized scheme in UTCTiming element",u)}f.s(9);break;case 7:return S(f,Wm(e,t,l,"HEAD"),10);case 10:return f.return(f.h);case 8:return S(f,Wm(e,t,l,"GET"),11);case 11:return f.return(f.h);case 9:A(f,3);break;case 5:E(f);case 3:o=a.next(),f.s(2);break;case 4:return Y("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,j,se),8);case 8:if(ue=le.h,!e.j)return le.return();q.wh(ue);case 7:q.ie();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),function(e){for(var t=Array.from(e.B.keys()).filter((function(t){return!e.C.includes(t)})),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=c(e.B.get(n)),a=i.next();!a.done;a=i.next()){a=a.value;var o=e.o.get(a);o&&(o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?r=!1:(e.m&&e.m.Kg(o,n),e.o.delete(a)))}r&&e.B.delete(n)}}(e),x(le)}}))}function Lm(e,t,n){var r;return R((function(i){if(1==i.g)return S(i,e.m.gf(t,!0,n),2);e.i.variants=e.m.l,0<(r=e.m.Jf()).length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),x(i)}))}function Rm(e,t){return Fm(e,{Ob:"dynamic"==e.l.type,presentationTimeline:e.i.presentationTimeline,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:e.l.cb,profiles:e.l.profiles,Wb:e.l.Wb,roles:null,vb:function(){return""}},e.l.Ua,t,!0).periods}function Nm(e,t){e.i.periodCount--;for(var n=c(e.u.keys()),r=n.next();!r.done;r=n.next())(r=r.value).startsWith(t)&&(mg(e.u.get(r),Og,"SegmentTimeline").children=[],Om(e,r),e.u.delete(r));e.C=e.C.filter((function(e){return e!==t}))}function _m(e,t){for(var n="",r="",i=-1,a="",o=(t=c(t)).next();!o.done;o=t.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(r=o.id,null!==o.position&&(i=o.position)):"Representation"===o.name&&(a=o.id);if(t=[],a)t.push(n+","+a);else if(r)for(i=c(e.u.values()),e=i.next();!e.done;e=i.next())(e=e.value).qa.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=c(e.u.values()),e=r.next();!e.done;e=r.next())(e=e.value).qa.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function Om(e,t){var n=e.u.get(t),r=e.o.get(t);r.segmentIndex&&r.segmentIndex.Oa(e.i.presentationTimeline.pb());try{var i=_g(n,(function(t,n,r,i){return Ym(e,t,n,r,i)}),e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return R((function(e){if(1==e.g)return r.segmentIndex?e.s(0):S(e,i.rc(),3);r.segmentIndex=e.h,x(e)}))}}catch(a){if((t=n.J.contentType)!=Ot&&"application"!=t&&"image"!=t||4002!=a.code)throw a}}function jm(e){var t=Mn(e,"ServiceDescription");if(!t)return null;if(e=Mn(t,"Latency"),t=Mn(t,"PlaybackRate"),!e&&!t)return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function Um(e){if(!(e=An(e,"SupplementalProperty")).length)return null;for(var t=(e=c(e)).next();!t.done;t=e.next())if("urn:mpeg:dash:chaining:2016"==(t=t.value).attributes.schemeIdUri)return t.attributes.value;return null}function Fm(e,t,n,r,i){var a=t.Wb;a||(a=Pn(r,"mediaPresentationDuration",On),e.l.Wb=a);var o=0;e.i&&e.i.presentationTimeline&&e.T&&(o=e.i.presentationTimeline.Hb());var s=[],u=o;r=An(r,"Period");for(var l=0;l<r.length;l++){var d=r[l],f=r[l+1],p=Pn(d,"start",On,u),h=d.attributes.id,g=Pn(d,"duration",On);p=0==l&&0==p&&e.T?o:p;var m=null;if(f){var v=Pn(f,"start",On);null!=v&&(m=v-p+o)}else null!=a&&(m=a-p+o);if(v=Ut,m&&g&&Math.abs(m-g)>v&&m>g&&e.L++,null==m&&(m=g),!(null!==e.M&&null!==h&&null!==p&&p<e.M)||e.C.includes(h)||l+1==r.length){if(null!==p&&(null===e.M||p>e.M)&&(e.M=p),u=Bm(e,t,n,{start:p,duration:m,node:d,$g:null==m||!f}),s.push(u),t.qa.id&&m&&e.ka.set(t.qa.id,m),null==m){u=null;break}u=p+m}}if(i)for(n=(t=c(s)).next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=s.map((function(e){return e.id}));return null!=a?{periods:s,duration:a+o,Mg:!1}:{periods:s,duration:u,Mg:!0}}function Bm(e,t,n,r){t.qa=qm(e,r.node,null,n),t.ha=r,t.qa.cb=t.cb,t.qa.id||(t.qa.id="__shaka_period_"+r.start);var i=An(r.node,"EventStream");n=t.presentationTimeline.pb();for(var a=(i=c(i)).next();!a.done;a=i.next())Xm(e,r.start,r.duration,a.value,n);for(i=(n=c(n=An(r.node,"SupplementalProperty"))).next();!i.done;i=n.next())"urn:mpeg:dash:urlparam:2014"==(i=i.value).attributes.schemeIdUri&&(i=Hm(e,i))&&(t.vb=i);if(n=An(r.node,"AdaptationSet").map((function(n,r){return Vm(e,t,r,n)})).filter(ti),t.Ob){i=[];for(var o=(a=c(n)).next();!o.done;o=a.next())for(var s=(o=c(o.value.rj)).next();!s.done;s=o.next())i.push(s.value);if(i.length!=new Set(i).size)throw new Le(2,4,4018)}for(i=new Map,o=(a=c(n)).next();!o.done;o=a.next())for(s=(o=c(o.value.ei)).next();!s.done;s=o.next()){var u=c(s.value);s=u.next().value,u=u.next().value,i.set(s,u)}if(i.size)for(a=null,s=(o=c(n)).next();!s.done;s=o.next()){u=[];for(var l=c((s=s.value).streams),f=l.next(),p={};!f.done;p={og:void 0},f=l.next())if(p.og=f.value,i.has(p.og.originalId)){a||(a=An(r.node,"AdaptationSet").map((function(n,r){return Vm(e,t,r,n)})).filter(ti));for(var h=(f=c(a)).next();!h.done;h=f.next())(h=h.value.streams.find(function(e){return function(t){return t.originalId==e.og.originalId}}(p)))&&(h.dependencyStream=i.get(h.originalId),u.push(h))}u.length&&s.streams.push.apply(s.streams,d(u))}if(r=n.filter((function(e){return!e.vg})),n=n.filter((function(e){return e.vg})),!e.g.disableIFrames)for(i=(n=c(n)).next();!i.done;i=n.next())for(a=(i=i.value).vg.split(" "),s=(o=c(r)).next();!s.done;s=o.next())if(s=s.value,a.includes(s.id))for(u=(s=c(s.streams)).next();!u.done;u=s.next())_i(u.value,i.streams);if(n=zm(e.g.disableAudio,r,"audio"),i=zm(e.g.disableVideo,r,"video"),a=zm(e.g.disableText,r,Ot),r=zm(e.g.disableThumbnails,r,"image"),0===i.length&&0===n.length)throw new Le(2,4,4004);return{id:t.qa.id,audioStreams:n,videoStreams:i,textStreams:a,imageStreams:r}}function zm(e,t,n){return e||!t.length?[]:t.reduce((function(e,t){return t.contentType!=n||e.push.apply(e,d(t.streams)),e}),[])}function Vm(t,n,r,i){function a(e){var r=e.attributes["dvb:fontFamily"];e=e.attributes["dvb:url"],r&&e&&(e=Dt(n.ga.Ua(),[e],n.vb()),t.j.addFont(r,e[0]))}function o(e){switch(e){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.ga=qm(t,i,n.qa,null),n.ga.position=r;var u=!1,l=(r=An(i,"Role")).map((function(e){return e.attributes.value})).filter(ti),f=void 0,p=n.ga.contentType==Ot;p&&(f="subtitle");for(var h=(r=c(r)).next();!h.done;h=r.next()){var g=(h=h.value).attributes.schemeIdUri;if(null==g||"urn:mpeg:dash:role:2011"==g)switch(h=h.attributes.value,h){case"main":u=!0;break;case"caption":case"subtitle":f=h}}var m=An(i,"EssentialProperty");r=null;var v=!1;h=null,g=!1;for(var y=(m=c(m)).next();!y.done;y=m.next()){var b=(y=y.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==b)r=y.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==b)var w=s(parseInt(y.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==b)var T=o(parseInt(y.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=b&&("urn:mpeg:dash:ssr:2023"==b&&t.g.dash.enableFastSwitching?v=!0:"urn:dvb:dash:fontdownload:2014"==b?a(y):"urn:mpeg:dash:urlparam:2014"==b&&(h=Hm(t,y))||(g=!0))}if(g)return null;var k=null;for(m=(g=c(g=An(i,"SupplementalProperty"))).next();!m.done;m=g.next())"http://dashif.org/guidelines/last-segment-number"==(y=(m=m.value).attributes.schemeIdUri)?k=parseInt(m.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==y?w=s(parseInt(m.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==y?T=o(parseInt(m.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==y?a(m):"urn:mpeg:dash:urlparam:2014"==y&&(h=Hm(t,m));h&&(n.vb=h),h=An(i,"Accessibility");var A,E=new Map;for(g=(h=c(h)).next();!g.done;g=h.next())if(g=(m=g.value).attributes.schemeIdUri,m=m.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=g||t.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=g||t.g.disableText)"urn:mpeg:dash:role:2011"==g?null!=m&&(l.push(m),"captions"==m&&(f="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==g&&("1"==m?A="visually impaired":"2"==m&&(A="hard of hearing"));else if(g=1,null!=m)for(y=(m=c(m.split(";"))).next();!y.done;y=m.next()){b=y.value;var C=y=void 0;b.includes("=")?(y="svc"+(b=b.split("="))[0],C=b[1].split(",")[0].split(":").pop()):(y="svc"+g,g++,C=b),E.set(y,si(C))}else E.set("svc1","und");else if(g=1,null!=m)for(b=(y=c(m=m.split(";"))).next();!b.done;b=y.next()){C=b.value;var I=b=void 0;C.includes("=")?(b=(C=C.split("="))[0].startsWith("CC")?C[0]:"CC"+C[0],I=C[1]||"und"):(b="CC"+g,2==m.length?g+=2:g++,I=C),E.set(b,si(I))}else E.set("CC1","und");var M=ug(h=An(i,"ContentProtection"),t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI);n.ga.encrypted=0<h.length;var D=si(n.ga.language||"und"),P=n.ga.label,L=new Map;if(i=An(i,"Representation"),!t.g.ignoreSupplementalCodecs){for(h=[],m=(g=c(i)).next();!m.done;m=g.next())(m=Ln(y=m.value,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&((y=vn(y)).attributes.codecs=m.split(" ").join(","),y.attributes.id&&(y.attributes.supplementalId=y.attributes.id+"_supplementalCodecs"),h.push(y));i.push.apply(i,d(h))}if(h=i.map((function(r){var i=function(t,n,r,i,a,o,s,u,l,c,d,f){n.J=qm(t,c,n.ga,null);var p=n.J.id;if(t.Z=Math.min(t.Z,n.J.cb),t.P=0<t.Z,!function(e){var t=e.dd?1:0;return t+=e.Zb?1:0,0==(t+=e.ic?1:0)?e.contentType==Ot||"application"==e.contentType:(1!=t&&(e.dd&&(e.Zb=null),e.ic=null),!0)}(n.J))return null;var h=n.ha.start;n.bandwidth=Pn(c,"bandwidth",Fn)||0,n.roles=u;var g=An(c,"SupplementalProperty"),m=An(c,"EssentialProperty"),v=An(c,"ContentProtection");c=null;var y,b,w=m.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}));(w||(w=g.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}))))&&(c=Hm(t,w)),c&&(n.vb=c),w=n.J.contentType,c=w==Ot||"application"==w,w="image"==w,v.length&&(n.ga.encrypted=!0);try{var T=void 0;if(r.cf){var k=n.J.Ua,A=n.vb,E=ca(Dt(k(),[r.cf.Xi],A()),t.g.retryParameters);T={bitsKey:128,blockCipherMode:"CBC",iv:r.cf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,r,i;return R((function(a){if(1==a.g)return S(a,Qm(t,E,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new Le(2,4,4049);return r={name:"AES-CBC"},i=T,S(a,e.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,T.fetchKey=void 0,x(a)}))}}}if(n.J.aesKey=T,k=function(e,n,r,i){return Ym(t,e,n,r,i)},n.J.dd)var C=Cg(n,k,T);else if(n.J.Zb)C=Rg(n,t.o,T);else if(n.J.ic)C=_g(n,k,t.o,!!t.i,t.g.dash.initialSegmentLimit,t.ka,T,f,!1);else{var I=n.ha.duration||0,M=n.J.Ua,D=n.J.mimeType,P=n.J.codecs;C={rc:function(){var e=Ku(h,I,M());return e.Eb((function(e){e.mimeType=D,e.codecs=P})),Promise.resolve(e)}}}}catch(N){if((c||w)&&4002==N.code)return null;throw N}if(f=function(e,t,n,r){var i=ug(e,n,r);if(t.Og)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Og=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Le(2,4,4008);return i.Jg||t.Jg}(v,r,t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI),f=new Set(f?[f]:[]),v=!1,g.some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.attributes.schemeIdUri&&"JOC"==e.attributes.value}))&&(v=!0),g=!1,c&&(g=u.includes("forced_subtitle")||u.includes("forced-subtitle")),w&&((m=m.find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)})))&&(y=m.attributes.value),!y))return null;c=n.J.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(b="PQ"),m=n.J.id?n.qa.id+","+n.J.id:"",t.F.length&&p&&t.u.set(n.qa.id+","+p,function(e){function t(e){return e?((e=yn(e)).dd=null,e.Zb=null,e.ic=Yn(e.ic),e):null}return(e=yn(e)).qa=t(e.qa),e.ga=t(e.ga),e.J=t(e.J),e.ha&&(e.ha=yn(e.ha),e.ha.node=null),e}(n));var L=m&&t.o.has(m)?t.o.get(m):{id:t.pa++,originalId:n.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){L.segmentIndex&&(L.segmentIndex.release(),L.segmentIndex=null)},segmentIndex:null,mimeType:n.J.mimeType,codecs:c,frameRate:n.J.frameRate,pixelAspectRatio:n.J.pixelAspectRatio,bandwidth:n.bandwidth,width:n.J.width,height:n.J.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:f,language:a,originalLanguage:n.ga.language,label:o,type:n.ga.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:n.J.emsgSchemeIdUris,roles:u,forced:g,channelsCount:n.J.oe,audioSamplingRate:n.J.audioSamplingRate,spatialAudio:v,closedCaptions:l,hdr:b,colorGamut:void 0,videoLayout:void 0,tilesLayout:y,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Rr(n.J.mimeType,n.J.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return L.createSegmentIndex=function(){var e;return R((function(t){if(1==t.g)return L.segmentIndex?t.s(0):(e=L,S(t,C.rc(),3));e.segmentIndex=t.h,x(t)}))},m&&n.Ob&&!t.o.has(m)&&(n=n.qa.id||"",t.B.has(n)||t.B.set(n,[]),t.o.set(m,L),t.B.get(n).push(m)),L}(t,n,M,f,D,P,u,l,E,r,A,k);return i&&(i.hdr=i.hdr||w,i.colorGamut=i.colorGamut||T,i.fastSwitching=v,r=r.attributes.dependencyId)?(i.baseOriginalId=r,L.set(r,i),null):i})).filter((function(e){return!!e})),0==h.length&&0==L.size){if(r="image"==n.ga.contentType,t.g.dash.ignoreEmptyAdaptationSet||p||r)return null;throw new Le(2,4,4003)}if(!n.ga.contentType||"application"==n.ga.contentType)for(n.ga.contentType=$m(h[0].mimeType,h[0].codecs),g=(p=c(h)).next();!g.done;g=p.next())g.value.type=n.ga.contentType;for(p=n.ga.id||"__fake__"+t.pa++,m=(g=c(h)).next();!m.done;m=g.next()){for(m=m.value,b=(y=c(M.drmInfos)).next();!b.done;b=y.next())(b=b.value).keyIds=b.keyIds&&m.keyIds?new Set([].concat(d(b.keyIds),d(m.keyIds))):b.keyIds||m.keyIds;m.groupId=p}return i=i.map((function(e){return e.attributes.supplementalId||e.attributes.id})).filter(ti),{id:p,contentType:n.ga.contentType,language:D,Qk:u,streams:h,drmInfos:M.drmInfos,vg:r,rj:i,ei:L}}function Hm(e,t){if((t=Dn(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Pn(t,"useMPDUrlQuery",Vn,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?e.Y:n.split("&").map((function(t){if("$querypart$"==t)return e.Y;var n=/\$query:(.*?)\$/g.exec(t);if(n&&2==n.length){n=n[1];var r=new xe(e.Y).get(n);if(r.length)return n+"="+r[0]}return t})).join("&")}}return null}function Gm(e){var t,n;return R((function(r){switch(r.g){case 1:return t=0,T(r,2),S(r,Dm(e),4);case 4:t=r.h,A(r,3);break;case 2:if(n=E(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),Km(e,t),x(r)}}))}function Km(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.updatePeriod&&(n=e.g.updatePeriod),e.K.da(Math.max(n-t,K(e.oa)))}}function qm(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,oe:null,audioSamplingRate:null,cb:0,Ae:0,encrypted:!1},r=r||n.Ua;var i,a=t.attributes.id,o=t.attributes.supplementalId,s=An(t,"BaseURL"),u=!1;if(e.h)for(var l=c(s),d=l.next();!d.done;d=l.next()){var f=d.value;d=f.attributes.serviceLocation,f=Cn(f),d&&f&&(Gg(e.h,a,d,f),u=!0)}u&&e.h||(i=s.map(Cn)),l=t.attributes.contentType||n.contentType,d=t.attributes.mimeType||n.mimeType,f=ml([t.attributes.codecs||n.codecs]).join(",");var p=Pn(t,"frameRate",Hn)||n.frameRate,h=t.attributes.sar||n.pixelAspectRatio,g=function(e,t){t=t.slice();for(var n=(e=c(e)).next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}(An(t,"InbandEventStream"),n.emsgSchemeIdUris),m=An(t,"AudioChannelConfiguration");m=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var n=(t=t.value).attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(t,10)))continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(t=parseInt(t,16)))continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(t=parseInt(t,16)))continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}(m)||n.oe;var v=Pn(t,"audioSamplingRate",Bn)||n.audioSamplingRate;l||(l=$m(d,f));var y=Mn(t,"SegmentBase"),b=Mn(t,"SegmentTemplate"),w=y&&Pn(y,"availabilityTimeOffset",zn)||0,S=b&&Pn(b,"availabilityTimeOffset",zn)||0,x=s&&s.length&&Pn(s[0],"availabilityTimeOffset",zn)||0;w=n.cb+x+w+S,S=null,(x=Mn(t,"SegmentSequenceProperties"))&&(x=Mn(x,"SAP"))&&(S=Pn(x,"cadence",Un)),x=t.attributes.label;var T=An(t,"Label");return T&&T.length&&En(T=T[0])&&(x=En(T)),{Ua:function(){return Dt(r(),s.length?e.h&&u?Kg(e.h,a):i||[]:[])},dd:y||n.dd,Zb:Mn(t,"SegmentList")||n.Zb,ic:b||n.ic,width:Pn(t,"width",Bn)||n.width,height:Pn(t,"height",Bn)||n.height,contentType:l,mimeType:d,codecs:f,frameRate:p,pixelAspectRatio:h,emsgSchemeIdUris:g,id:o||a,originalId:a,language:t.attributes.lang,oe:m,audioSamplingRate:v,cb:w,de:null,Ae:S||n.Ae,label:x||null,encrypted:!1}}function Wm(e,t,n,r){var i,a,o,s,u,l,c;return R((function(d){if(1==d.g)return i=[St(n)],a=Dt(t(),i),(o=ca(a,e.g.retryParameters)).method=r,s=e.j.networkingEngine.request(4,o,{isPreload:e.ea()}),oa(e.O,s),S(d,s.promise,2);if(u=d.h,"HEAD"==r){if(!u.headers||!u.headers.date)return d.return(0);l=u.headers.date}else l=gt(u.data);return c=Date.parse(l),isNaN(c)?d.return(0):d.return(c-Date.now())}))}function Xm(e,t,n,r,i){for(var a=r.attributes.schemeIdUri||"",o=r.attributes.value||"",s=Pn(r,"timescale",Bn)||1,u=Pn(r,"presentationTimeOffset",Bn)||0,l=(r=c(An(r,"Event"))).next();!l.done;l=r.next()){var d=Pn(l=l.value,"presentationTime",Bn)||0,f=Pn(l,"duration",Bn)||0;f=(d=Math.max((d-u)/s+t,t))+f/s,null!=n&&(d=Math.min(d,t+n),f=Math.min(f,t+n)),f<i||(l={schemeIdUri:a,value:o,startTime:d,endTime:f,id:l.attributes.id||"",timescale:s,eventElement:Xn(l),eventNode:Yn(l)},e.j.onTimelineRegionAdded(l))}}function Ym(e,t,n,r,i){var a,o,s,u;return R((function(l){return 1==l.g?(a=ga,o=i?0:1,s=yl(t,n,r,e.g.retryParameters),S(l,Qm(e,s,a,{type:o}),2)):(u=l.h,l.return(u.data))}))}function $m(e,t){return Yr(t=Rr(e,t))?Ot:e.split("/")[0]}function Qm(e,t,n,r){return r||(r={}),r.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,r),oa(e.O,t),t.promise}function Jm(){}(r=Mm.prototype).configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.ea=t),n&&this.i&&this.i.presentationTimeline.U()&&this.K.sb(),this.h&&this.h.configure(this.g),this.m&&(this.m.uh(this.g.dash.multiTypeVariantsAllowed&&Kt()),this.m.Ah(this.g.dash.useStreamOnceInPeriodFlattening))},r.start=function(e,t){var n,r=this;return R((function(i){if(1==i.g)return r.fa=t.isLowLatencyMode(),r.A=[e],r.j=t,S(i,Dm(r),2);if(n=i.h,r.j&&Km(r,n),!r.j)throw new Le(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var e=c(this.o.values()),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o.clear(),this.B.clear(),this.u.clear(),this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.m=null,null!=this.K&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},r.update=function(){var e,t=this;return R((function(n){return 1==n.g?(T(n,2),S(n,Dm(t),4)):2!=n.g?A(n,0):(e=E(n),t.j&&e?(t.j.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.cc();var n=t.segmentIndex.find(e);null!=n&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,Km(this,0))}}},r.banLocation=function(e){this.h&&this.h.banLocation(e)},r.setMediaElement=function(e){this.H=e},z("shaka.dash.DashParser",Mm),ko("application/dash+xml",(function(){return new Mm})),ko("video/vnd.mpeg.dash.mpd",(function(){return new Mm})),z("shaka.dependencies",Jm),Jm.has=function(e){return tv.has(e)},Jm.add=function(e,t){if(!ev[e])throw Error(e+" is not supported");e==Zm?ie("mux.js","mux.js is no longer used in Shaka Player."):tv.set(e,(function(){return t}))};var Zm="muxjs",ev={Rk:Zm,ISOBoxer:"ISOBoxer"};Jm.Allowed=ev;var tv=new Map([["ISOBoxer",function(){return e.ISOBoxer}]]);function nv(e,t,n){this.type=e,this.ca=t,this.segments=n||null}function rv(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=void 0===r?null:r}function iv(e,t){return t?e.toString():(t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function av(e,t){return(e=e.attributes.filter((function(e){return e.name==t}))).length?e[0]:null}function ov(e,t,n){return(e=av(e,t))?e.value:n||null}function sv(e,t){if(!(e=av(e,t)))throw new Le(2,4,4023,t);return e.value}function uv(e,t,n){n=void 0===n?[]:n,this.ca=t,this.g=e,this.Jb=n}function lv(e,t){this.name=e,this.value=t}function cv(e,t){return e.filter((function(e){return e.name==t}))}function dv(e,t){return e.filter((function(e){return sv(e,"TYPE")==t}))}function fv(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if((n=n.value).name===t)return n;return null}function pv(e,t,n){return n=void 0===n?0:n,(e=fv(e,t))?Number(e.value):n}function hv(e,t,n){return t?gv(e,[t],n):[]}function gv(e,t,n){if(!t.length)return[];var r=t;return n&&n.size&&(r=t.map((function(e){return mv(e,n)}))),Dt(e,r)}function mv(e,t){if(!t||!t.size)return e;var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=t.get(i);if(!a)throw new Le(2,4,4039,i);e=e.replace(r,a)}return e}function vv(){this.g=0}function yv(e,t){var n=(t=(t=gt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new Le(2,4,4015);t=0;for(var r=!0,i=c(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=bv(e,a),--e.g,wv.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(r=!0)}for(i=[],r=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=bv(e,o),Sv.includes(o.name)){if(1!=t)throw new Le(2,4,4017);o=n.splice(a,n.length-a),n=[],r=[],a=[],s=null;for(var u=(o=c(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=bv(e,u),wv.includes(u.name)?i.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==ov(u,"TYPE")?a.push(u):"MAP"==ov(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):r.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&r.push(s),n.push(new uv(u,r,a)),r=[],a=[]);return a.length&&(s&&r.push(s),n.push(new uv("",r,a))),new nv(t,i,n)}i.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new lv("URI",s)),r=!0)}}return new nv(t,i)}function bv(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new Le(2,4,4016,t);t=n[1];var r,i=n[2];if(n=[],i){var a;(a=fn(i=new cn(i),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=fn(i,o);)n.push(new lv(a[1],a[2]||a[3])),dn(i)}return new rv(e,t,n,r)}rv.prototype.toString=function(e){var t="#"+this.name,n=this.attributes?this.attributes.filter((function(t){return!e||!e.has(t.name)})).map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t};var wv="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Sv="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function xv(){}function Tv(e,t){try{var n=kv(e);return Ji({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(r){return $i(r)}}function kv(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new Le(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Le(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?Et(t):yt(t),contentType:r}}function Av(){var t=this;this.g=this.h=null,this.F=1,this.A=new Map,this.I=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(Ot,new Map),this.M.set("image",new Map),this.Sb=(new Map).set("com.apple.streamingkeydelivery",(function(n,r,i){return function(t,n,r,i){var a,o,s,u,l;return R((function(c){if(1==c.g){if("video/mp2t"==r)throw new Le(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4041);if(a=sv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(a))return c.return(null);o="cenc","SAMPLE-AES"==a&&(o="cbcs"),s=sv(n,"URI"),u=Pt("com.apple.fps",o,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],s);var d=new le(s).nb.replace(/-/g,"").toLowerCase();return(l=32===d.length&&/^[0-9a-f]+$/.test(d)?d:null)||!i?c.s(2):S(c,hy(t,i),3)}return 2!=c.g&&(l=c.h),l&&u.keyIds.add(l),c.return(u)}))}(t,n,r,i)})).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Pt("com.widevine.alpha",n,[{initDataType:"cenc",initData:t=Ie((t=kv((t=sv(e,"URI")).split("?")[0])).data)}]),(e=ov(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})).set("com.microsoft.playready",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Pt("com.microsoft.playready",n,[{initDataType:"cenc",initData:t=Ua(e=Ie((e=kv((e=sv(e,"URI")).split("?")[0])).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]),(e=Sn(["<PLAYREADY>",At(e),"</PLAYREADY>"].join("\n")))&&(n.licenseServerUri=og(e)),n=Promise.resolve(n)}else n=Promise.resolve(null);return n})).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",(function(e){var t=sv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Pt("com.huawei.wiseplay",n,[{initDataType:"cenc",initData:t=Ie((t=kv((t=sv(e,"URI")).split("?")[0])).data)}]),(e=ov(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})),this.Na=new Set,this.i=new Map,this.l=null,this.C="",this.Ga=new vv,this.K=-1,this.ea=1/0,this.Z=this.Ub=this.Ma=!1,this.B=new ze((function(){t.W&&!t.g.continueLoadingWhenPaused&&(t.T.Ja(t.W,"timeupdate"),t.W.paused)?t.T.ma(t.W,"timeupdate",(function(){return uy(t)})):uy(t)})),this.Ea=xy,this.m=null,this.La=0,this.o=1/0,this.Fa=this.Aa=this.P=0,this.Y=new aa,this.G=new Map,this.H=new Map,this.sa=new Map,this.ka=new Map,this.L=new Map,this.oa=new Map,this.pa=new Map,this.Tb=this.fa=!1,this.Pb=new G(5),this.j=null,this.O=!0,this.ya=new Set,this.T=new ee,this.u=this.W=null,this.Qb=function(){return!1}}function Ev(e,t){return ly(e)?e.M.get(t.type):t.je}function Cv(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,k,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G;return R((function(R){switch(R.g){case 1:if(t.stream.isAudioMuxedInVideo)return R.return();for(n=[],r=c(t.N()),i=r.next();!i.done;i=r.next())a=i.value,o=new le(a),s=o.g,t.Td&&(0<=t.Ab&&s.add("_HLS_msn",String(t.Ab)),0<=t.Bb&&s.add("_HLS_part",String(t.Bb))),t.Ud&&s.add("_HLS_skip","YES"),ke(s)&&pe(o,he(s.toString())),n.push(o.toString());return T(R,2),S(R,sy(e,n,!0).promise,4);case 4:u=R.h,A(R,3);break;case 2:throw l=E(R),e.h&&e.h.disableStream(t.stream),l;case 3:if(!t.stream.segmentIndex)return R.return();if(1!=(f=yv(e.Ga,u.data)).type)throw new Le(2,4,4017);return(p=u.uri)==u.originalUri||t.N().includes(p)||t.ve.push(p),h=cv(f.ca,"EXT-X-DEFINE"),g=Lv(e,h,p),m=t.stream,v=Ev(e,t),S(R,Wv(e,f,m.mimeType,t.N,g),5);case 5:for(y=R.h,b=y.keyIds,w=y.drmInfos,k=y.encrypted,C=y.Bg,m.encrypted||!k||C||(m.encrypted=!0),function(e,t){return e.size===t.size&&[].concat(d(e)).every((function(e){return t.has(e)}))}(m.keyIds,b)||(m.keyIds=b,m.drmInfos=w,e.h.newDrmInfo(m)),I=ny(e,f,v,g,t.N,t.type),M=I.segments,(D=I.bandwidth)&&(m.bandwidth=D),P=el(m),L=c(M),N=L.next();!N.done;N=L.next())(_=N.value).$&&(_.$.Wc=P);m.segmentIndex.Bd(M,e.l.pb()),M.length&&(O=pv(f.ca,"EXT-X-MEDIA-SEQUENCE",0),U=(j=fv(f.ca,"EXT-X-SKIP"))?Number(ov(j,"SKIPPED-SEGMENTS")):0,F=Kv(O,M),B=F.Ab,z=F.Bb,t.Ab=B+U,t.Bb=z,V=v.get(O),m.segmentIndex.Oa(V)),(H=Gu(m.segmentIndex))&&(t.Bc=H.startTime,G=M[M.length-1],t.Vb=G.endTime),fv(f.ca,"EXT-X-ENDLIST")&&(t.rd=!0),$v(e,f),ty(e,f.ca,m.type,g,t.N),x(R)}}))}function Iv(e,t,n){n=void 0!==n&&n;for(var r=-1==e.K,i=c(t),a=i.next();!a.done;a=i.next()){var o=(a=a.value).stream.segmentIndex,s=Ev(e,a);if(o=Gu(o))for(var u=(s=c(s)).next();!u.done;u=s.next()){var l=(u=c(u.value)).next().value;if(u.next().value==o.startTime){r&&(e.K=Math.max(e.K,l)),a.qf=l;break}}}if(!(0>e.K))for(r=(t=c(t)).next();!r.done;r=t.next())(Hv(e,(r=r.value).type)||n)&&(i=r.stream.segmentIndex)&&0<(a=e.K-r.qf)&&(i.g.splice(0,a),i=Gu(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),Mv(e,r,i))}function Mv(e,t,n){if(!(.001>Math.abs(n))){t.Bc+=n,t.Vb+=n;for(var r=c(e=Ev(e,t)),i=r.next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.set(i,a+n)}t.N()}}function Dv(e,t,n){var r,i,a,o,s;return R((function(u){switch(u.g){case 1:return t?(r=ga,i=yl(t.N(),t.uc(),t.tc(),e.g.retryParameters),S(u,dy(e,i,r,{type:t instanceof ps?1:0}).promise,2)):u.return({mimeType:null,data:null});case 2:if(a=u.h,o=a.data,!t.aesKey){u.s(3);break}return S(u,vl(o,t.aesKey,n),4);case 4:o=u.h;case 3:return t instanceof ps?t.Kd(o,!0):t.Kd(o),(s=a.headers["content-type"])&&(s=s.split(";")[0].toLowerCase()),u.return({mimeType:s,data:o})}}))}function Pv(e){if(ly(e)){if(e.Ea==ky){for(var t=1/0,n=1/0,r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).stream.segmentIndex&&"text"!=i.stream.type&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Vb),n=Math.min(n,i.Bc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Ce(t)}}else e.l.bb(Bv(e));if(!e.l.u)for(n=(t=c(e.i.values())).next();!n.done;n=t.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=Gu(n.stream.segmentIndex))&&n.h&&e.l.xh(n.h);e.l.ie()}function Lv(e,t,n){n=new le(n).g;for(var r=new Map,i=(t=c(t)).next();!i.done;i=t.next()){var a=i.value,o=ov(a,"NAME"),s=ov(a,"VALUE");i=ov(a,"QUERYPARAM"),a=ov(a,"IMPORT"),o&&s&&(r.has(o)||r.set(o,s)),i&&(o=n.get(i)[0])&&!r.has(o)&&r.set(i,o),a&&(i=e.A.get(a))&&r.set(a,i)}return r}function Rv(e){var t=new Set([Rr(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Eb((function(n){n.mimeType&&t.add(Rr(n.mimeType,e.codecs))})),e.fullMimeTypes=t}function Nv(e,t,n){for(var r={audio:[],video:[]},i=new Map,a=[],o=!1,s=!1,u=c(t),l=u.next();!l.done;l=u.next()){var f=l.value;l=ov(f,"AUDIO");var p=ov(f,"VIDEO"),h=l||p;h&&(a.includes(h)||a.push(h),(f=ov(f,"PATHWAY-ID"))&&i.set(h,f),l?o=!0:p&&(s=!0))}a.length&&n.length&&function(e,t,n){t=t.filter((function(e){var t=ov(e,"URI")||"";return"SUBTITLES"!=(e=ov(e,"TYPE"))&&(""!=t||"AUDIO"==e)}));for(var r={},i=(t=c(t)).next();!i.done;i=t.next()){var a=iv(i=i.value,!e.j);r[a]?r[a].push(i):r[a]=[i]}for(var o in r)jv(e,r[o],n,!1)}(e,n=n.filter((function(e){return a.includes(sv(e,"GROUP-ID"))})),i),n=(i=a.sort().join(","))&&e.I.has(i)?e.I.get(i):[],o?r.audio.push.apply(r.audio,d(n)):s&&r.video.push.apply(r.video,d(n)),o=!1;var g=t.map((function(e){return sv(e,"URI")}));return l=r.audio.find((function(e){return e&&e.N().find((function(e){return g.includes(e)}))})),n=Nt("video",s=_v(e,t[0])),(u=Nt("audio",s))&&!n?(l="audio",o=0<r.audio.length):!r.audio.length&&!r.video.length&&u&&n?(l="video",s=[[n,u].join()]):r.audio.length&&l?(l="audio",o=!0):l=r.video.length&&!r.audio.length?"audio":"video",o||(e=function(e,t,n,r){for(var i=e.F++,a=[],o=c(t),s=o.next();!s.done;s=o.next()){var u=s.value;s=sv(u,"URI"),u=ov(u,"PATHWAY-ID"),e.j&&u&&Gg(e.j,i,u,s),a.push(s)}if(o=a.sort().join(",")+n.sort().join(","),e.i.has(o))return e.i.get(o);s=a.join(",");e:{if(t=ov(t[0],"CLOSED-CAPTIONS"),"video"==r){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if("NONE"!=t){t=e.G.get(t);break e}e.O=!1}else if(!t&&e.G.size)for(t=c(e.G.keys()).next();!t.done;){t=e.G.get(t.value);break e}}t=null}return n=Rt(r,n),r=Fv(e,i,a,n,r,null,!1,s,null,t,null,!1,null,!1),e.i.set(o,r),r}(e,t,s,l),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function _v(e,t){return t=ov(t,"CODECS")||"",e.Z=0<t.length,e.Z||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),ml(t.split(/\s*,\s*/))}function Ov(e,t,n,r,i,a,o,s,u,l,d,f){for(var p=c(n),h=p.next();!h.done;h=p.next())oy(h.value.stream,i,a,o,s,u,null);for(i=e.g.disableAudio,t.length&&!i||(t=[null]),i=e.g.disableVideo,n.length&&!i||(n=[null]),i=[],a=(t=c(t)).next();!a.done;a=t.next())for(a=a.value,s=(o=c(n)).next();!s.done;s=o.next()){var g=s.value;(s=a?a.stream:null)&&(s.drmInfos=l,s.keyIds=d),(u=g?g.stream:null)&&(u.drmInfos=l,u.keyIds=d,e.g.disableIFrames||_i(u,f)),u&&!s&&(u.bandwidth=r),!u&&s&&(s.bandwidth=r),p=a?a.stream.drmInfos:null,h=g?g.stream.drmInfos:null,g=g?g.N().sort().join(","):"";var m=a?a.N().sort().join(","):"",v=[];s&&s.codecs&&v.push(s.codecs),u&&u.codecs&&v.push(u.codecs),g=[g,m,v.sort()].join("-"),s&&u&&!Ne(p,h)||e.Na.has(g)||(s={id:e.F++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(s),e.Na.add(g))}return i}function jv(e,t,n,r){r=void 0===r||r;for(var i=[],a=[],o=new Map,s=c(t),u=s.next();!u.done;u=s.next()){var l=u.value;u=r?sv(l,"URI"):ov(l,"URI")||"shaka://hls-muxed",l=sv(l,"GROUP-ID"),i.push(u),a.push(l),o.set(l,u)}if(r=a.sort().join(","),u=t[0],t="","subtitles"==(s=sv(u,"TYPE").toLowerCase())&&(s=Ot),s==Ot)t=ov(u,"CODECS")||"";else for(l=(a=c(a)).next();!l.done;l=a.next())if(l=l.value,e.H.has(l)){t=e.H.get(l);break}if(a=i.sort().join(","),e.i.has(a))return e.i.get(a);if(l=e.F++,e.j)for(var d=(o=c(o)).next();!d.done;d=o.next()){var f=c(d.value);d=f.next().value,f=f.next().value,(d=n.get(d))&&Gg(e.j,l,d,f)}var p;return n=ov(u,"LANGUAGE"),o=ov(u,"NAME"),d="YES"==ov(u,"DEFAULT"),f="audio"==s&&(f=ov(u,"CHANNELS"))?parseInt(f.split("/")[0],10):null,p=!("audio"!=s||!(p=ov(u,"CHANNELS")))&&2==(p=p.split("/")).length&&("JOC"===p[1]||p[1].includes("ATMOS")),(i=Fv(e,l,i,t,s,n,d,o,f,null,ov(u,"CHARACTERISTICS"),"YES"==ov(u,"FORCED"),u="audio"==s&&(u=ov(u,"SAMPLE-RATE"))?parseInt(u,10):null,p)).stream&&(i.stream.groupId=r),e.I.has(r)?e.I.get(r).push(i):e.I.set(r,[i]),e.i.set(a,i),i}function Uv(e,t){var n="video",r=sv(t,"URI"),i=ov(t,"CODECS")||"";if("mjpg"==i&&(n="image"),e.i.has(r))return e.i.get(r);var a=ov(t,"LANGUAGE"),o=ov(t,"NAME"),s=ov(t,"CHARACTERISTICS");return n=Fv(e,e.F++,[r],i,n,a,!1,o,null,null,s,!1,null,!1),a=c((i=ov(t,"RESOLUTION"))?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(t=ov(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function Fv(e,t,n,r,i,a,o,s,u,l,d,f,p,h){function g(t){var n,g,y,w,k,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H;return R((function(R){switch(R.g){case 1:return n=jt,T(R,2),S(R,t.promise,4);case 4:if(g=R.h,t.aborted)return R.return();if((y=g.uri)!=g.originalUri&&(b.N().includes(y)||b.ve.push(y)),1!=(w=yv(e.Ga,g.data)).type)throw new Le(2,4,4017);return k=cv(w.ca,"EXT-X-DEFINE"),C=Lv(e,k,y),I=!1,(!e.Z&&e.g.hls.disableCodecGuessing||e.O&&i==n.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<w.segments.length&&(e.O=!1,I=!0),M=!e.Z&&e.g.hls.disableCodecGuessing,D=ly(e),S(R,Gv(e,0,C,w,m,r,i,a,o,s,u,l,d,f,p,h,void 0,I,M),5);case 5:if(P=R.h,t.aborted)return R.return();if(L=P.stream,Yv(e,w),ly(e)&&!D&&Qv(e,w),b.Bc=P.Bc,b.Vb=P.Vb,b.Ud=P.Ud,b.Td=P.Td,b.rd=P.rd,b.je=P.je,b.Ab=P.Ab,b.Bb=P.Bb,b.Rf=!0,v.segmentIndex=L.segmentIndex,v.encrypted=L.encrypted,v.drmInfos=L.drmInfos,v.keyIds=L.keyIds,v.mimeType=L.mimeType,v.bandwidth=v.bandwidth||L.bandwidth,v.codecs=v.codecs||L.codecs,v.closedCaptions=v.closedCaptions||L.closedCaptions,v.width=v.width||L.width,v.height=v.height||L.height,v.hdr=v.hdr||L.hdr,v.colorGamut=v.colorGamut||L.colorGamut,v.frameRate=v.frameRate||L.frameRate,"und"==v.language&&"und"!=L.language&&(v.language=L.language),v.language=v.language||L.language,v.channelsCount=v.channelsCount||L.channelsCount,v.audioSamplingRate=v.audioSamplingRate||L.audioSamplingRate,Rv(v),v.drmInfos.length&&e.h.newDrmInfo(v),N=!1,(!l&&v.closedCaptions||l&&v.closedCaptions&&l.size!=v.closedCaptions.size)&&(N=!0),e.m&&N&&e.h.makeTextStreamsForClosedCaptions(e.m),i==n.la||i==n.V)for(_=c(e.i.values()),O=_.next();!O.done;O=_.next())(j=O.value).Rf||j.type!=i||(j.stream.mimeType=L.mimeType,Rv(j.stream));i==n.za&&(U=Gu(L.segmentIndex))&&U.$&&(v.mimeType="application/mp4",Rv(v)),F=el(v),v.segmentIndex.Eb((function(e){e.$&&(e.$.Wc=F)})),function(e){if(!e.m)return!1;for(var t=[],n=[],r=(e=c(e.m.variants)).next();!r.done;r=e.next())(r=r.value).video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some((function(e){return e.segmentIndex}))||0<n.length&&!n.some((function(e){return e.segmentIndex})))}(e)&&(e.Ub?Vv(e,[b]):(e.Ub=!0,B=Array.from(e.i.values()),z=B.filter((function(e){return e.stream.segmentIndex})),Vv(e,z),Pv(e),0<(V=e.o)&&e.B.da(V))),ty(e,w.ca,v.type,C,m),e.m&&(e.m.startTime=e.u),A(R,0);break;case 2:if(H=E(R),v.closeSegmentIndex(),7001===H.code)return R.return();if(!e.h.disableStream(v))throw H;x(R)}}))}function m(){return e.j&&1<n.length?Kg(e.j,t):b.ve.concat(gv([e.C],n,e.A))}var v=qv(e,r,i,a,o,s,u,l,d,f,p,h);n.includes("shaka://hls-muxed")&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",Rv(v));var y,b={stream:v,type:i,ve:[],Bc:0,Vb:0,je:new Map,Ud:!1,Td:!1,rd:!1,qf:-1,Ab:-1,Bb:-1,Rf:!1,N:m},w=null;return v.createSegmentIndex=function(){return w||(v.isAudioMuxedInVideo?(v.segmentIndex=new Hu([]),Promise.resolve()):(y=sy(e,b.N(),!0),w=new Promise((function(e){e(g(y))}))))},v.closeSegmentIndex=function(){w&&!v.segmentIndex&&y.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),w=null},b}function Bv(e){for(var t=1/0,n=(e=c(e.i.values())).next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Vb));return t}function zv(e,t){for(var n=[],r=(t=c(t)).next();!r.done;r=t.next())(r=r.value).segmentIndex&&r.segmentIndex.Eb((function(e){n.push(e)}));e.l.Ed(n)}function Vv(e,t){if(!ly(e))for(var n=Bv(e),r=c(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Oc(0,n);zv(e,t.map((function(e){return e.stream}))),n=(r=Array.from(e.i.values()).filter((function(e){return e.stream.segmentIndex}))).some((function(e){return"audio"==e.stream.type})),i=r.some((function(e){return"video"==e.stream.type})),r=ly(e)&&!e.Ma,n=!ly(e)&&e.Ma&&!(n&&i),e.g.hls.ignoreManifestProgramDateTime||r||n?Iv(e,t,r):(function(e,t){if(1/0==e.ea)for(var n=(t=c(t)).next();!n.done;n=t.next())null!=(n=Gu(n.value.stream.segmentIndex))&&null!=n.h&&(e.ea=Math.min(e.ea,n.h));if(1/0!=(t=e.ea))for(var r=(n=c(e.i.values())).next();!r.done;r=n.next())if(!Hv(e,(r=r.value).type)){var i=r.stream.segmentIndex;if(null!=i){var a=Gu(i);if(a)if(null==a.h)X("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(Mv(e,r,a.h-t-a.startTime),i=(r=c(i)).next();!i.done;i=r.next())i.value.qg(t)}}}(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&Iv(e,t))}function Hv(e,t){return!!e.g.hls.ignoreManifestProgramDateTime||e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function Gv(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b){var w,x,k,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G,K,q,W,X,Y,$,Q,J,Z;return y=void 0===y||y,b=void 0===b||b,R((function(t){switch(t.g){case 1:if(w=r.segments||[],x=w.every((function(e){return!!fv(e.ca,"EXT-X-GAP")})),!w.length||x)throw new Le(2,4,4053);if(function(e,t){var n=fv(t.ca,"EXT-X-PLAYLIST-TYPE");t=fv(t.ca,"EXT-X-ENDLIST"),t=n&&"VOD"==n.value||t,n=n&&"EVENT"==n.value&&!t,n=!t&&!n,cy(e,t?xy:n?ky:Ty)}(e,r),ly(e)&&$v(e,r),k=ly(e)?e.M.get(o):new Map,C=ny(e,r,k,n,i,o),I=C.segments,M=C.bandwidth,_=N=L=P=D=null,!(0<I.length&&y)){t.s(2);break}return S(t,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w;return R((function(x){if(1==x.g)return n=hl(e.g.hls.mediaPlaylistFullMimeType),t.length?(r=ay(e,t),i=r.segment,a=r.segmentIndex,o=i.N(),s=o[0],u=new le(s),l=u.ab.split(".").pop(),(d=gy.get(l))?x.return(hl(d)):S(x,Promise.all([Dv(e,i.$,0),Dv(e,i,a)]),2)):x.return(n);if(f=x.h,p=f[0].mimeType,h=f[1].mimeType,g=f[0].data,m=f[1].data,v="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),y=["audio/mp4","video/mp4","video/iso.segment"],Xs(Ie(m))){var T=m,k=e.g.disableAudio,A=e.g.disableVideo,E=e.g.disableText,C=Ie(T),I=(new Gs).parse(C),M=I.od();C=I.Kf();var D=[],P=!1,L=!1;if(!k)switch(M.audio){case"aac":case"aac-loas":I.fb().length&&(D.push("mp4a.40.2"),P=!0);break;case"mp3":I.fb().length&&(D.push("mp4a.40.34"),P=!0);break;case"ac3":I.fb().length&&(D.push("ac-3"),P=!0);break;case"ec3":I.fb().length&&(D.push("ec-3"),P=!0);break;case"opus":I.fb().length&&(D.push("opus"),P=!0)}if(!A)switch(M.video){case"avc":C.codec?D.push(C.codec):D.push("avc1.42E01E"),L=!0;break;case"hvc":C.codec?D.push(C.codec):D.push("hvc1.1.6.L93.90"),L=!0;break;case"av1":D.push("av01.0.01M.08"),L=!0}if(D.length){if(k=P&&!L,A=new Map,L&&!E){for((E=new Qt("video/mp2t")).i(T),L=(T=c(E.j())).next();!L.done;L=T.next())L=L.value,A.set(L,L);E.g()}C={type:k?"audio":"video",mimeType:"video/mp2t",codecs:D.join(", "),language:null,height:C.height,width:C.width,channelCount:null,sampleRate:null,closedCaptions:A,Nd:null,colorGamut:null,frameRate:C.frameRate}}else C=null;if(b=C)return x.return(b)}else if((v.includes(l)||y.includes(h)||p&&y.includes(p))&&(w=gl(g,m,e.g.disableText)))return x.return(w);return h?x.return(hl(h)):p?x.return(hl(p)):x.return(n)}))}(e,I),3);case 3:O=t.h,o=O.type,s=O.language,d=O.channelCount,g=O.sampleRate,e.g.disableText||(f=O.closedCaptions),P=O.height,D=O.width,L=O.Nd,N=O.colorGamut,_=O.frameRate,b&&(v=O.mimeType,a=O.codecs);case 2:if(v){t.s(4);break}return S(t,function(e,t,n,r){var i,a,o,s,u,l,c,d,f,p,h,g,m;return R((function(v){switch(v.g){case 1:return i=ga,a=ay(e,r),2==(o=a.segment).status?v.return(iy(t)):(s=o.N(),u=new le(s[0]),l=u.ab.split(".").pop(),c=wy.get(t),(d=c.get(l))||(d=gy.get(l))||(d=ry(t,n))?v.return(d):(p=1,h=ca(s,e.g.retryParameters),T(v,2),h.method="HEAD",S(v,dy(e,h,i,{type:p}).promise,4)));case 4:g=v.h,f=g.headers["content-type"],A(v,3);break;case 2:if(!(m=E(v))||1002!=m.code&&1001!=m.code){v.s(3);break}return h.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(h.headers.Range="bytes=0-0"),S(v,dy(e,h,i,{type:p}).promise,6);case 6:g=v.h,f=g.headers["content-type"];case 3:if(!f){v.s(7);break}if("application/octet-stream"!=(d=f.toLowerCase().split(";")[0])){v.s(8);break}if(g.data.byteLength){v.s(9);break}return h.method="GET",S(v,dy(e,h,i,{type:p}).promise,10);case 10:g=v.h;case 9:Xs(Ie(g.data))&&(d="video/mp2t");case 8:if("application/octet-stream"!=d)return v.return(d);case 7:return v.return(iy(t))}}))}(e,o,a,I),5);case 5:v=t.h,o!=Ot||a||"application/mp4"!=v||!I[0]||I[0].$||(v="text/vtt");case 4:return S(t,Wv(e,r,v,i,n),6);case 6:if(j=t.h,U=j.drmInfos,F=j.keyIds,B=j.encrypted,z=j.Bg,B&&!U.length&&!z)throw new Le(2,4,4026);return(V=qv(e,a,o,s,u,l,d,f,p,h,g,m)).encrypted=B&&!z,V.drmInfos=U,V.keyIds=F,V.mimeType=v,M&&(V.bandwidth=M),Rv(V),"video"==o&&(D||P||L||N)&&oy(V,D,P,_,L,null,N),ly(e)&&$v(e,r),H=I[0].startTime,G=I[I.length-1],K=G.endTime,q=new Hu(I),V.segmentIndex=q,X=!!(W=fv(r.ca,"EXT-X-SERVER-CONTROL"))&&null!=av(W,"CAN-SKIP-UNTIL"),Y=!!W&&null!=av(W,"CAN-BLOCK-RELOAD"),$=pv(r.ca,"EXT-X-MEDIA-SEQUENCE",0),Q=Kv($,I),J=Q.Ab,Z=Q.Bb,t.return({stream:V,type:o,ve:[],N:i,Bc:H,Vb:K,Ud:X,Td:Y,rd:!1,qf:-1,Ab:J,Bb:Z,je:k,Rf:!1})}}))}function Kv(e,t){e=e+t.length-1;var n=-1;if(!t.length)return{Ab:++e,Bb:n};var r=(t=t[t.length-1]).g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{Ab:e,Bb:n}):(e++,t.m&&(n=0),{Ab:e,Bb:n})}function qv(e,t,n,r,i,a,o,s,u,l,d,f){var p=ry(n,t)||iy(n),h=[];if(u)for(var g=(u=c(u.split(","))).next();!g.done;g=u.next())h.push(g.value);return u=void 0,g=null,n==Ot?u=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(g="visually impaired"),h.length||"subtitle"!==u||h.push("subtitle"),Rv(e={id:e.F++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:p,codecs:t,kind:n==Ot?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:si(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:l,channelsCount:o,audioSamplingRate:d,spatialAudio:f,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:g,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}),e}function Wv(e,t,n,r,i){var a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,x,T,k,A,E,C,I,M,D,P,L,N,_,O;return R((function(R){switch(R.g){case 1:if(a=new Map,!e.g.ignoreDrmInfo&&t.segments)for(o=c(t.segments),s=o.next();!s.done;s=o.next())if(u=s.value,l=cv(u.ca,"EXT-X-KEY"),d=null,l.length)for(d=Jv(e,t,u.ca,r,i),f=c(l),p=f.next();!p.done;p=f.next())h=p.value,a.set(h,d);m=g=!1,v=[],y=new Set,b=c(a),w=b.next();case 2:if(w.done){R.s(4);break}if(x=w.value,T=c(x),k=T.next().value,A=T.next().value,C=A,"NONE"==(I=sv(E=k,"METHOD"))){R.s(3);break}if(g=!0,M=ov(E,"KEYFORMAT")||"identity",D=null,fy(I)){m=!0,R.s(3);break}if("identity"==M)return S(R,py(e,E,n,r,C,i),11);if(!(P=e.Sb.get(M))){L=null,R.s(9);break}return S(R,P(E,n,C),10);case 10:L=R.h;case 9:D=L,R.s(6);break;case 11:D=R.h;case 6:if(D){if(D.keyIds)for(N=c(D.keyIds),_=N.next();!_.done;_=N.next())O=_.value,y.add(O);v.push(D)}case 3:w=b.next(),R.s(2);break;case 4:return R.return({drmInfos:v,keyIds:y,encrypted:g,Bg:m})}}))}function Xv(t,n,r,i,a){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new Le(2,4,4042);var o=0,s=ov(n,"IV","");if(s){var u=Ct(s.substr(2));if(16!=u.byteLength)throw new Le(2,4,4048)}else o=pv(r.ca,"EXT-X-MEDIA-SEQUENCE",0);var l=hv(i(),sv(n,"URI"),a),c=l.sort().join("");if(r=n.toString()+"-"+o+"-"+c,!t.ka.has(r)){var d={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(sv(n,"METHOD")){case"AES-256":d.bitsKey=256;break;case"AES-256-CTR":d.bitsKey=256,d.blockCipherMode="CTR"}d.fetchKey=function(){var n,r,i,a;return R((function(o){if(1==o.g)return t.L.has(c)||(n=ca(l,t.g.retryParameters),r=dy(t,n,6).promise,t.L.set(c,r)),S(o,t.L.get(c),2);if(3!=o.g){if(!(i=o.h).data||i.data.byteLength!=d.bitsKey/8)throw new Le(2,4,4049);return a={name:"CTR"==d.blockCipherMode?"AES-CTR":"AES-CBC",length:d.bitsKey},S(o,e.crypto.subtle.importKey("raw",i.data,a,!0,["decrypt"]),3)}d.cryptoKey=o.h,d.fetchKey=void 0,x(o)}))},t.ka.set(r,d)}return t.ka.get(r)}function Yv(e,t){null==e.u&&(t=fv(t.ca,"EXT-X-START"))&&(e.u=Number(sv(t,"TIME-OFFSET")))}function $v(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var a=fv(r[i].ca,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(!(r=fv(t.ca,"EXT-X-TARGETDURATION")))throw new Le(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=fv(t.ca,"EXT-X-PART-INF"))&&(e.P=Number(sv(i,"PART-TARGET"))),t=fv(t.ca,"EXT-X-SERVER-CONTROL"),e.fa&&e.P?(e.o=e.Tb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Fa=t?Number(sv(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?av(t,"HOLD-BACK"):null,e.Aa=n?Number(n.value):0),e.La=Math.max(r,e.La)}function Qv(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Fa)n=e.Fa;else if(e.Aa)n=e.Aa;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var a=fv(t.segments[i].ca,"EXTINF");n=a?n+Math.ceil(Number(a.value.split(",")[0])):n+e.La}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.yh(0),e.l.jg(n),e.l.Gc(!1)}function Jv(e,t,n,r,i){var a=fv(n,"EXT-X-MAP");if(!a)return null;var o=sv(a,"URI"),s=hv(r(),o,i);if(o=[s.toString(),ov(a,"BYTERANGE","")].join("-"),!e.sa.has(o)){for(var u=void 0,l=null,d=!1,f=(n=c(n)).next();!f.done;f=n.next())"EXT-X-KEY"==(f=f.value).name?fy(d=sv(f,"METHOD"))&&f.id<a.id?(d=!1,u=Xv(e,f,t,r,i)):d="NONE"!=d:"EXT-X-BYTERANGE"==f.name&&f.id<a.id&&(l=f);t=function(e,t,n,r,i){var a=0,o=null;return!(t=ov(t,"BYTERANGE"))&&n&&(t=n.value),t&&(a=t.split("@"),o=Number(a[0]),a=Number(a[1]),o=a+o-1,r&&(n=o+1-a)%16&&(o+=16-n%16)),new ds((function(){return e}),a,o,null,null,null,r,i)}(s,a,l,u,d),e.sa.set(o,t)}return e.sa.get(o)}function Zv(t,n,r,i,a,o,s,u,l){function d(e){e=new le(e).ab.split(".").pop();var t=wy.get(s).get(e);return t||(t=gy.get(e)),t}var f=i.ca,p=fv(f,"EXTINF"),h=0,g=0,m=null;i.Jb.length&&(t.m.isLowLatency=!0);var v=null;if(!t.g.hls.ignoreManifestProgramDateTime){var y=fv(f,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(v=_n(y.value),t.Ma=!0)}var b=gs;if(fv(f,"EXT-X-GAP")&&(t.m.gapCount++,b=2),!p){if(0==i.Jb.length)throw new Le(2,4,4024,"EXTINF");if(!t.fa)return null}var w=[];y=!1;var S=null,x=!1,T=!1;if(t.fa&&i.Jb.length){h=n&&e.ReadableStream&&t.g.hls.allowLowLatencyByteRangeOptimization;for(var k=v,A={},E=0;E<i.Jb.length;A={Le:void 0,re:void 0},E++){var C=i.Jb[E],I=0==E?r:w[w.length-1],M=0==E?a:I.endTime,D=Number(ov(C,"DURATION"))||t.P;if(D){var P=M+D,L=0,R=null;if("EXT-X-PRELOAD-HINT"==C.name?(L=(L=ov(C,"BYTERANGE-START"))?Number(L):0,(I=ov(C,"BYTERANGE-LENGTH"))?R=L+Number(I)-1:L&&(R=Number.MAX_SAFE_INTEGER)):(L=(R=c(ey(I,L=ov(C,"BYTERANGE")))).next().value,R=R.next().value),A.re=ov(C,"URI"),A.re){I=gs,"YES"==ov(C,"GAP")&&(t.m.gapCount++,I=2,x=!0),A.Le=null;var N=function(e){return function(){return null==e.Le&&(e.Le=hv(u(),e.re,o)),e.Le}}(A);h&&0<=L&&null!=R&&(S=N,y=!0),M=new ps(M,P,N,L,R,n,0,0,1/0,[],"",null,k,I,l),"EXT-X-PRELOAD-HINT"==C.name&&(M.Sf(),T=!0),"YES"!=ov(C,"INDEPENDENT")&&0<E&&M.Vc(),(A=d(A.re))&&(M.mimeType=A,Sy.has(A)&&(M.$=null)),w.push(M),k&&(k+=D)}}}}if(p){if(0==(p=Number(p.value.split(",")[0])))return null;h=a+p}else{if(!w.length)return null;h=w[w.length-1].endTime}y&&(x||0!=w[0].Sa?(y=!1,S=null):w=[]),(p=fv(f,"EXT-X-BYTERANGE"))?(g=(m=c(ey(r,p.value))).next().value,m=m.next().value):w.length&&(g=w[0].Sa,m=w[w.length-1].wa),r="",p=null,"image"==s&&(r="1x1",f=fv(f,"EXT-X-TILES"))&&(r=sv(f,"LAYOUT"),(f=ov(f,"DURATION"))&&(p=Number(f)));var _=null;return n=new ps(a,h,(function(){return S?S():(null==_&&(_=hv(u(),i.g,o)),_||[])}),g,m,n,0,0,1/0,w,r,p,v,b,l,0<w.length&&!!i.g),(a=d(i.g))&&(n.mimeType=a,Sy.has(a)&&(n.$=null)),y&&(t.Tb=!0,n.dh(),T&&n.Sf()),n}function ey(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),r=(n=n[1]?Number(n[1]):e.wa+1)+t-1),[n,r]}function ty(e,t,n,r,i){if("video"==n||"audio"==n){var a=e.l.m;if(a&&!Hv(e,n))for(t=(t=cv(t,"EXT-X-DATERANGE")).filter((function(e){return null!=av(e,"START-DATE")})).sort((function(e,t){return(e=sv(e,"START-DATE"))<(t=sv(t,"START-DATE"))?-1:e>t?1:0})),n=0;n<t.length;n++){var o=t[n];try{var s=sv(o,"ID");if(!e.ya.has(s)){var u=_n(sv(o,"START-DATE"));if(!isNaN(u)){var l=Math.max(0,u-a),d=null,f=ov(o,"END-DATE");if(f){var p=_n(f);if(!isNaN(p)&&0>(d=p-a))continue}if(null==d){var h=ov(o,"DURATION")||ov(o,"PLANNED-DURATION");if(h){var g=parseFloat(h);if(isNaN(g)||(d=l+g),0>u-a+g)continue}}var m=ov(o,"CLASS")||"com.apple.quicktime.HLS",v="YES"==ov(o,"END-ON-NEXT");if(null==d&&v){for(var y=n+1;y<t.length;y++)if(m==(ov(t[y],"CLASS")||"com.apple.quicktime.HLS")){var b=_n(sv(t[y],"START-DATE"));if(!isNaN(b)&&b&&b>u){d=Math.max(0,b-a);break}}if(null==d)continue}y=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var w=[],S=c(o.attributes),x=S.next();!x.done;x=S.next()){var T=x.value;if(!y.includes(T.name)){var k=mv(T.value,r);"X-ASSET-URI"!=T.name&&"X-ASSET-LIST"!=T.name||(k=hv(i(),T.value,r)[0]),w.push({key:T.name,description:"",data:k,mimeType:null,pictureType:null})}}1<w.length&&e.h.onMetadata(m,l,d,w),e.ya.add(s)}}}catch(A){}}}}function ny(e,t,n,r,i,a){var o=t.segments,s=void 0,u=pv(t.ca,"EXT-X-DISCONTINUITY-SEQUENCE",-1),l=pv(t.ca,"EXT-X-MEDIA-SEQUENCE",0),d=fv(t.ca,"EXT-X-SKIP"),f=d?Number(ov(d,"SKIPPED-SEGMENTS")):0,p=l+f,h=0;ly(e)&&n.has(p)&&(h=n.get(p)),0===h&&e.Ea==ky&&0<n.size&&!n.has(p)&&null!=e.l.i&&(h=e.l.pb());var g=[],m=null;d=[];for(var v=0;v<o.length;v++){var y=o[v],b=0==v?h:m.endTime;p=l+f+v,fv(y.ca,"EXT-X-DISCONTINUITY")&&(u++,m&&m.$&&(m.$.g=b));for(var w=c(y.ca),S=w.next();!S.done;S=w.next())"EXT-X-KEY"==(S=S.value).name&&(s=fy(sv(S,"METHOD"))?Xv(e,S,t,i,r):void 0);n.set(p,b),(b=Zv(e,w=Jv(e,t,y.ca,i,r),m,y,b,r,a,i,s))&&((m=pv(y.ca,"EXT-X-BITRATE"))?d.push({bitrate:m,duration:b.endTime-b.startTime}):d.length&&((m=d.pop()).duration+=b.endTime-b.startTime,d.push(m)),m=b,b.i=u,Hv(e,a)&&null!=e.K&&p<e.K||g.push(b))}if(t=void 0,d.length&&(t=d.reduce((function(e,t){return e+t.duration}),0),t=Math.round(d.reduce((function(e,t){return e+t.bitrate*t.duration}),0)/t*1e3)),d=g.some((function(e){return null!=e.h})))for(n={},r=0;r<g.length;n={Xd:void 0,Wd:void 0,Qd:void 0,Dc:void 0,Pd:void 0},r++)if(n.Dc=g[r],null==n.Dc.h)for(n.Wd=0,n.Xd=r,i=function(e){return function(){var t=g[e.Xd];if(t){if(null!=t.h)return t.h+e.Wd;e.Wd-=t.endTime-t.startTime,e.Xd+=1}return null}}(n),n.Pd=0,n.Qd=r,o=function(e){return function(){var t=g[e.Qd];if(t){if(t!=e.Dc&&(e.Pd+=t.endTime-t.startTime),null!=t.h)return t.h+e.Pd;--e.Qd}return null}}(n);null==n.Dc.h;)n.Dc.h=o(),null==n.Dc.h&&(n.Dc.h=i());if(d)for(r=(n=c(g)).next();!r.done;r=n.next())for(r=(i=r.value).h,o=(i=c(i.g)).next();!o.done;o=i.next())(o=o.value).h=r,r+=o.endTime-o.startTime;if(n=e.ea,d&&1/0!=n&&!Hv(e,a))for(a=(e=c(g)).next();!a.done;a=e.next())a.value.qg(n);return{segments:g,bandwidth:t}}function ry(e,t){if(e==Ot){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function iy(e){return e==Ot?"text/vtt":wy.get(e).get("mp4")}function ay(e,t){for(var n=t[e=ly(e)?Math.trunc((t.length-1)/2):0];2==n.dc()&&e+1<t.length;)n=t[++e];return{segment:n,segmentIndex:e}}function oy(e,t,n,r,i,a,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=a||void 0,e.colorGamut=o||void 0)}function sy(e,t,n){return dy(e,ca(t,e.g.retryParameters),0,{type:n?2:3})}function uy(e){var t,n,r,i,a,o;return R((function(s){switch(s.g){case 1:return e.h?(T(s,2),t=Date.now(),S(s,e.update(),4)):s.return();case 4:n=Date.now(),ly(e)&&(r=(n-t)/1e3,e.Pb.sample(1,r),i=0<e.g.updatePeriod?e.g.updatePeriod:e.o,a=Math.max(0,i-K(e.Pb)),e.B.da(a)),A(s,3);break;case 2:if(o=E(s),!e.h)return s.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(o),s.return();o.severity=1,e.h.onError(o),e.B.da(.1);case 3:if(!e.h)return s.return();e.h.onManifestUpdated(),x(s)}}))}function ly(e){return e.Ea!=xy}function cy(e,t){e.Ea=t,e.l&&e.l.Gc(!ly(e)),ly(e)||e.B.stop()}function dy(e,t,n,r){if(!e.Y)throw new Le(2,7,7001);return r||(r={}),r.isPreload=e.Qb(),t=e.h.networkingEngine.request(n,t,r),oa(e.Y,t),t}function fy(e){return"AES-128"==e||"AES-256"==e||"AES-256-CTR"==e}function py(t,n,r,i,a,o){var s,u,l,c,d,f,p,h,g,m,v;return R((function(y){switch(y.g){case 1:if("video/mp2t"==r)throw new Le(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Le(2,4,4041);if(s=sv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(s))return y.return(null);if((u=hv(i(),sv(n,"URI"),o))[0].startsWith("data:text/plain;base64,")){l=It(Et(u[0].split("data:text/plain;base64,").pop())),y.s(2);break}return c=u.sort().join(""),t.oa.has(c)||(d=ca(u,t.g.retryParameters),f=dy(t,d,6).promise,t.oa.set(c,f)),S(y,t.oa.get(c),3);case 3:p=y.h,l=It(p.data);case 2:if(h="00000000000000000000000000000000",!a){y.s(4);break}return S(y,hy(t,a),5);case 5:(g=y.h)&&(h=g);case 4:return(m=new Map).set(h,l),v="cenc","SAMPLE-AES"==s&&(v="cbcs"),y.return(Lt(m,v))}}))}function hy(e,t){var n,r,i;return R((function(a){return 1==a.g?(n=null,e.pa.has(t)?(n=e.pa.get(t),a.s(2)):(r=yl(t.N(),t.uc(),t.tc(),e.g.retryParameters),S(a,dy(e,r,ga,{type:0}).promise,3))):(2!=a.g&&(i=a.h,t.Kd(i.data),n=function(e){var t=null;return(new Ea).box("moov",Ca).box("trak",Ca).box("mdia",Ca).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("encv",Ma).box("enca",Da).box("sinf",Ca).box("schi",Ca).R("tenc",(function(e){(e=e.reader).X(),e.X(),e.X(),e.X(),t=It(e.Cb(16))})).parse(e,!0),t}(i.data),e.pa.set(t,n)),a.return(n))}))}z("shaka.net.DataUriPlugin",xv),xv.parse=Tv,ua("data",Tv),(r=Av.prototype).configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.Qb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.sb()},r.start=function(e,t){var n,r=this;return R((function(i){return 1==i.g?(r.h=t,r.fa=t.isLowLatencyMode(),S(i,sy(r,[e]).promise,2)):3!=i.g?(n=i.h,r.C=n.uri,S(i,function(e,t){var n,r,i,a,o,s,u,l,f,p,h,g,m,v,y,b,w,k,A,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G,K,q,W,X,Y,$;return R((function(Q){switch(Q.g){case 1:return n=jt,r=yv(e.Ga,t),i=cv(r.ca,"EXT-X-DEFINE"),a=[],o=[],s=[],e.l=new Tu(null,0),e.l.Gc(!0),u=function(){return[e.C]},l=null,f=new Map,1==r.type?(e.O=!1,B=cv(r.ca,"EXT-X-DEFINE"),f=Lv(e,B,e.C),l=n.la,z="",V=new Map,S(Q,Gv(e,e.F++,f,r,u,"",l,z,!0,"Media Playlist",null,V,null,!1,null,!1),7)):(function(e,t){for(var n=new le(e.C).g,r=(t=c(t)).next();!r.done;r=t.next()){var i=r.value;r=ov(i,"NAME");var a=ov(i,"VALUE");i=ov(i,"QUERYPARAM"),r&&a&&(e.A.has(r)||e.A.set(r,a)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}(e,i),p=cv(r.ca,"EXT-X-MEDIA"),h=cv(r.ca,"EXT-X-STREAM-INF"),g=cv(r.ca,"EXT-X-IMAGE-STREAM-INF"),m=cv(r.ca,"EXT-X-I-FRAME-STREAM-INF"),v=cv(r.ca,"EXT-X-SESSION-KEY"),y=cv(r.ca,"EXT-X-SESSION-DATA"),b=cv(r.ca,"EXT-X-CONTENT-STEERING"),function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"DATA-ID");n=ov(r,"URI");var a=ov(r,"LANGUAGE");r=ov(r,"VALUE"),i=(new Map).set("id",i),n&&i.set("uri",hv([e.C],n,e.A)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new ta("sessiondata",i),e.h&&e.h.onEvent(n)}}(e,y),S(Q,function(e,t){var n,r,i,a,o,s;return R((function(u){if(!e.h||!e.g)return u.return();for(r=c(t),i=r.next();!i.done;i=r.next())if(a=i.value,o=ov(a,"PATHWAY-ID"),s=ov(a,"SERVER-URI"),o&&s){e.j=new zg(e.h),e.j.configure(e.g),e.j.i=[e.C],e.j.setManifestType("HLS"),e.j.h=o,n=Vg(e.j,s);break}return S(u,n,0)}))}(e,b),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(w=[],k=c(h),A=k.next(),C={};!A.done;C={Gh:void 0},A=k.next())I=A.value,(M=ov(I,"SUPPLEMENTAL-CODECS"))&&(C.Gh=M.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),D=I.attributes.map(function(e){return function(t){var n=t.name,r=t.value;return"CODECS"==n&&(r=e.Gh.join(","),1<(t=t.value.split(",")).length&&(t=Nt("audio",t))&&(r+=","+t)),new lv(n,r)}}(C)),w.push(new rv(I.id,I.name,D,null)));for(h.push.apply(h,d(w)),P=[],L=c(m),N=L.next(),_={};!N.done;_={Hh:void 0},N=L.next())O=N.value,(j=ov(O,"SUPPLEMENTAL-CODECS"))&&(_.Hh=j.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),U=O.attributes.map(function(e){return function(t){var n=t.name;return t=t.value,"CODECS"==n&&(t=e.Hh.join(",")),new lv(n,t)}}(_)),P.push(new rv(O.id,O.name,U,null)));m.push.apply(m,d(P))}return function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"AUDIO");n=ov(r,"VIDEO");var a=ov(r,"SUBTITLES");if(r=_v(e,r),a){var o=Nt(Ot,r);e.H.set(a,o),sn(r,o)}i&&((a=Nt("audio",r))||(a=e.g.hls.defaultAudioCodec),e.H.set(i,a)),n&&((i=Nt("video",r))||(i=e.g.hls.defaultVideoCodec),e.H.set(n,i))}}(e,h),function(e,t){t=dv(t,"CLOSED-CAPTIONS"),e.O=0==t.length;for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=ov(r,"LANGUAGE");n=si(i||"und"),i||(i=ov(r,"NAME"))&&(n=i),i=sv(r,"GROUP-ID"),r=sv(r,"INSTREAM-ID").replace("SERVICE","svc"),e.G.get(i)||e.G.set(i,new Map),e.G.get(i).set(r,n)}}(e,p),F=function(e,t){return t.map((function(t){return"video"!==(t=Uv(e,t)).stream.type?null:t.stream})).filter((function(e){return e}))}(e,m),S(Q,function(e,t,n,r,i,a,o){var s,u,l,f,p,h,g,m,v,y,b,w,x,T,k,A,E,C,I,M,D,P,L,N,_,O,j,U,F,B,z,V,H,G,K,q;return R((function(R){switch(R.g){case 1:if(s=[],u=new Set,e.g.ignoreDrmInfo||!(0<n.length)){R.s(2);break}l=c(n),f=l.next();case 3:if(f.done){R.s(2);break}if(p=f.value,h=sv(p,"METHOD"),g=ov(p,"KEYFORMAT")||"identity",m=null,"NONE"==h){R.s(4);break}if(fy(h)){v=hv(i(),sv(p,"URI"),a),y=v.sort().join(""),e.L.has(y)||(b=ca(v,e.g.retryParameters),w=dy(e,b,6).promise,e.L.set(y,w)),R.s(4);break}if("identity"==g)return S(R,py(e,p,"",i,null,a),12);if(!(x=e.Sb.get(g))){T=null,R.s(10);break}return S(R,x(p,"",null),11);case 11:T=R.h;case 10:m=T,R.s(6);break;case 12:m=R.h;case 6:if(m){if(m.keyIds)for(k=c(m.keyIds),A=k.next();!A.done;A=k.next())E=A.value,u.add(E);s.push(m)}case 4:f=l.next(),R.s(3);break;case 2:for(C={},I=c(t),M=I.next();!M.done;M=I.next())D=M.value,P=iv(D,!e.j),C[P]?C[P].push(D):C[P]=[D];for(N in L=[],C)_=C[N],O=_[0],j=ov(O,"FRAME-RATE"),U=Number(ov(O,"AVERAGE-BANDWIDTH"))||Number(sv(O,"BANDWIDTH")),F=ov(O,"RESOLUTION"),B=c(F?F.split("x"):[null,null]),z=B.next().value,V=B.next().value,H=ov(O,"VIDEO-RANGE"),(G=ov(O,"REQ-VIDEO-LAYOUT"))&&G.includes(",")&&(K=G.split(",").filter((function(e){return"CH-STEREO"==e||"CH-MONO"==e})),G=K[0]),G=G||"CH-MONO",q=Nv(e,_,r),L.push.apply(L,d(Ov(e,q.audio,q.video,U,z,V,j,H,G,s,u,o)));return R.return(L.filter((function(e){return null!=e})))}}))}(e,h,v,p,u,e.A,F),5);case 5:return a=Q.h,o=function(e,t){var n=dv(t,"SUBTITLES");t=n.map((function(t){if(e.g.disableText)return null;try{return jv(e,[t],new Map).stream}catch(s){if(e.g.hls.ignoreTextStreamFailures)return null;throw s}}));for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=sv(r.value,"GROUP-ID");if((r=e.H.get(i))&&(i=e.I.get(i)))for(var a=(i=c(i)).next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=ry(Ot,r)||iy(Ot),Rv(a.stream)}return t.filter((function(e){return e}))}(e,p),S(Q,function(e,t,n){var r,i;return R((function(a){return 1==a.g?(r=t.map((function(t){var n,r;return R((function(i){if(1==i.g)return e.g.disableThumbnails?i.return(null):(T(i,2),S(i,function(e,t){var n,r,i,a,o,s,u,l,c,d;return R((function(f){return 1==f.g?(n=sv(t,"URI"),r=ov(t,"CODECS","jpeg")||"",e.i.has(n)?f.return(e.i.get(n)):(i=ov(t,"LANGUAGE"),a=ov(t,"NAME"),o=ov(t,"CHARACTERISTICS"),s=Fv(e,e.F++,[n],r,"image",i,!1,a,null,null,o,!1,null,!1),(u=ov(t,"RESOLUTION"))?S(f,s.stream.createSegmentIndex(),3):f.s(2))):(2!=f.g&&(l=Gu(s.stream.segmentIndex),c=l.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1])),(d=ov(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),e.i.set(n,s),f.return(s))}))}(e,t),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=E(i),e.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})).concat(n.map((function(t){if(e.g.disableThumbnails)return null;try{var n=Uv(e,t);return"image"!==n.stream.type?null:n.stream}catch(u){if(e.g.hls.ignoreImageStreamFailures)return null;throw u}}))),S(a,Promise.all(r),2)):(i=a.h,a.return(i.filter((function(e){return e}))))}))}(e,g,m),6);case 6:s=Q.h,Q.s(3);break;case 7:H=Q.h,e.i.set(e.C,H),H.stream&&(G=el(H.stream),H.stream.segmentIndex.Eb((function(e){e.$&&(e.$.Wc=G)}))),l=H.stream.type,a.push({id:0,language:si(z||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==l?H.stream:null,video:"video"==l?H.stream:null,bandwidth:H.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new Le(2,7,7001);if(Yv(e,r),1==r.type&&(ly(e)&&(Qv(e,r),K=e.o,e.B.da(K)),q=Array.from(e.i.values()),Vv(e,q),Pv(e),ty(e,r.ca,l,f,u)),e.m={presentationTimeline:e.l,variants:a,textStreams:o,imageStreams:s,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.Z||!e.g.hls.disableCodecGuessing){Q.s(8);break}for(W=[],X=c(e.m.variants),Y=X.next();!Y.done;Y=X.next())($=Y.value).audio&&""===$.audio.codecs&&W.push($.audio.createSegmentIndex()),$.video&&""===$.video.codecs&&W.push($.video.createSegmentIndex());return S(Q,Promise.all(W),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),x(Q)}}))}(r,n.data),3)):i.return(r.m)}))},r.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.Y&&(e.push(this.Y.destroy()),this.Y=null),this.g=this.h=null,this.Na.clear(),this.m=null,this.i.clear(),this.I.clear(),this.H.clear(),this.A.clear(),this.sa.clear(),this.ka.clear(),this.L.clear(),this.oa.clear(),this.pa.clear(),this.ya.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},r.update=function(){var e,t,n,r,i,a,o,s,u,l,f,p=this;return R((function(h){if(1==h.g){if(!ly(p))return h.return();for(e=[],t=Array.from(p.i.values()),p.o=1/0,p.m.gapCount=0,n=t.filter((function(e){return e.stream.segmentIndex})),r=c(n),i=r.next();!i.done;i=r.next())a=i.value,e.push(Cv(p,a));return S(h,Promise.all(e),2)}for(zv(p,n.map((function(e){return e.stream}))),o=n.some((function(e){return 0==e.rd})),n.length&&!o&&(cy(p,Ay.Ph),s=n.map((function(e){return e.Vb})),p.l.bb(Math.min.apply(Math,d(s))),p.h.updateDuration()),o&&Pv(p),u=c(n),l=u.next();!l.done;l=u.next())(f=l.value).stream.isAudioMuxedInVideo||!f.stream.segmentIndex||Gu(f.stream.segmentIndex)||p.h.disableStream(f.stream);x(h)}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(e){this.j&&this.j.banLocation(e)},r.setMediaElement=function(e){this.W=e},z("shaka.hls.HlsParser",Av);var gy=(new Map).set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),my=(new Map).set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),vy=(new Map).set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),yy=(new Map).set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),by=(new Map).set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),wy=(new Map).set("audio",my).set("video",vy).set("text",yy).set("image",by),Sy=new Set(["video/mp2t"].concat(d(Kr))),xy="VOD",Ty="EVENT",ky="LIVE",Ay={Ph:xy,Zj:Ty,gk:ky};function Ey(e){return og(e)}ko("application/x-mpegurl",(function(){return new Av})),ko("application/vnd.apple.mpegurl",(function(){return new Av}));var Cy=(new Map).set("com.microsoft.playready",Ey).set("com.microsoft.playready.recommendation",Ey).set("com.microsoft.playready.software",Ey).set("com.microsoft.playready.hardware",Ey);function Iy(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.C=new G(5),this.o=new ze((function(){!function(e){var t;R((function(n){switch(n.g){case 1:return T(n,2),S(n,My(e),4);case 4:A(n,3);break;case 2:t=E(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();x(n)}}))}(e)})),this.B=new aa,this.m=new Map,this.A=function(){return!1}}function My(e){var t,n,r,i,a,o,s;return R((function(u){if(1==u.g)return t=ca(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),oa(e.B,i),S(u,i.promise,2);if(a=u.h,!e.h)return u.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var l=a.uri,f=a.data,p=e.g.mss.manifestPreprocessor;if(p!=nc){if(ie("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(f=Cm(f,"SmoothStreamingMedia")))throw new Le(2,4,4046,l);p(f),f=yt(f.outerHTML)}var h=wn(f,"SmoothStreamingMedia");if(!h)throw new Le(2,4,4046,l);if((l=e.g.mss.manifestPreprocessorTXml)!=rc&&l(h),e.i||(e.i=new Tu(null,0)),l=Pn(h,"IsLive",Vn,!1))throw new Le(2,4,4047);e.i.Gc(!l),p=Pn(h,"TimeScale",Bn,1e7),f=Pn(h,"DVRWindowLength",Bn),l&&(0===f||isNaN(f))&&(f=1/0);var g,m=Pn(h,"CanSeek",Vn,!1);for(0===f&&m&&(f=1/0),m=null,f&&0<f&&(m=f/p),l&&!isNaN(e.g.availabilityWindowOverride)&&(m=e.g.availabilityWindowOverride),null==m&&(m=1/0),e.i.Ce(m),f=Pn(h,"Duration",Bn,1/0),l||e.i.bb(f/p),l={variants:[],textStreams:[],timescale:p,duration:f/p},m=An(h,"Protection"),p=e.g.mss.keySystemsBySystemId,f=[],g=(m=c(m)).next();!g.done;g=m.next())f=f.concat(An(g.value,"ProtectionHeader"));if(f.length){for(m=[],g=0;g<f.length;g++){var v=f[g],y=v.attributes.SystemID.toLowerCase(),b=p[y];if(b){var w;e:{if(w=ag(v))for(var T=(w=c(In(w,"DATA"))).next();!T.done;T=w.next())if(T=Mn(T.value,"KID")){w=Et(En(T)),w=It(w=new Uint8Array([w[3],w[2],w[1],w[0],w[5],w[4],w[7],w[6]].concat(d(w.slice(8)))));break e}w=null}y=Pt(b,"cenc",y=[{initData:Ua(T=Et(En(v)),y=Ct(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:w}]),w&&y.keyIds.add(w),(b=Cy.get(b))&&(y.licenseServerUri=b(v)),m.push(y)}}p=m}else p=[];for(g=p,m=[],p=[],f=[],v=(h=c(h=An(h,"StreamIndex"))).next();!v.done;v=h.next()){b=An(v=v.value,"QualityLevel"),y=l.timescale,w=l.duration,T=An(v,"c");for(var k=[],A=0,E=0;E<T.length;++E){var C=T[E],I=T[E+1],M=Pn(C,"t",Bn),D=Pn(C,"d",Bn);if(C=Pn(C,"r",Un),!D)break;if(M=null!=M?M:A,(C=C||0)&&C--,0>C)if(I){if(null==(I=Pn(I,"t",Bn)))break;if(M>=I)break;C=Math.ceil((I-M)/D)-1}else{if(1/0==w)break;if(M/y>=w)break;C=Math.ceil((w*y-M)/D)-1}for(I=0;I<=C;++I)A=M+D,k.push({start:M/y,end:A/y,xg:M}),M=A}for(y=k,w=(b=c(b)).next();!w.done;w=b.next())(w=Dy(e,v,w.value,y,g,l))&&("audio"!=w.type||e.g.disableAudio?"video"!=w.type||e.g.disableVideo?w.type!=Ot||e.g.disableText||f.push(w):p.push(w):m.push(w))}for(h=[],g=(m=c(0<m.length?m:[null])).next();!g.done;g=m.next())for(g=g.value,k=(v=c(0<p.length?p:[null])).next();!k.done;k=v.next())y=(b=h).push,w=e,T=g,k=k.value,E=0,T&&T.bandwidth&&0<T.bandwidth&&(E+=T.bandwidth),k&&k.bandwidth&&0<k.bandwidth&&(E+=k.bandwidth),w={id:w.u++,language:T?T.language:"und",disabledUntilTime:0,primary:!!T&&T.primary||!!k&&k.primary,audio:T,video:k,bandwidth:E,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(b,w);l.variants=h,l.textStreams=f,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.ie()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,e.C.sample(1,s),x(u)}))}function Dy(e,t,n,r,i,a){var o=t.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return Y("Ignoring unrecognized type:",o),null;var s=t.attributes.Language,u=e.u++,l=Pn(n,"Bitrate",Fn),d=Pn(n,"MaxWidth",Fn),f=Pn(n,"MaxHeight",Fn),p=Pn(n,"Channels",Fn),h=Pn(n,"SamplingRate",Fn),g=a.duration;r.length&&(g=r[r.length-1].end-r[0].start);var m=e.i.getDuration();e.i.bb(Math.min(g,m));var v={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:d||void 0,height:f||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:si(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:p,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((i=t.attributes.Subtype)&&((i=Ly.get(i))&&v.roles.push(i),"main"===i&&(v.primary=!0)),null!==(i=n.attributes.FourCC)&&""!==i||(i=t.attributes.FourCC),!i)if("audio"===o)i="AAC";else if("video"===o)return Y('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!Py.includes(i.toUpperCase()))return Y("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if("audio"!==t)return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,(t=new Uint16Array(2))[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):((n=new Uint8Array(2))[0]=16|r>>1,n[1]=r<<7|t<<3,(t=new Uint16Array(1))[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,i,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":v.type=Ot,v.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(v.codecs="stpp")}return v.fullMimeTypes.add(Rr(v.mimeType,v.codecs)),v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(e.m.has(v.id))var n=e.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=Oo(new _o([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,lb:n,ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:null,stream:v}])),e.m.set(v.id,n);return n=function(e,t,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[];for(var o=(i=c(i)).next(),s={};!o.done;s={Fe:void 0},o=i.next())s.Fe=o.value,r.push(new ps(s.Fe.start,s.Fe.end,function(t){return function(){return Dt(e.l,[a.replace("{start time}",String(t.Fe.xg))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new ds((function(){return[]}),0,null,el(v),v.mssPrivateData.timescale,n,null,v.encrypted),v,t,r),v.segmentIndex=new Hu(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(r=Iy.prototype).configure=function(e,t){this.g=e,t&&(this.A=t)},r.start=function(e,t){var n=this;return R((function(r){if(1==r.g)return n.l=[e],n.h=t,S(r,My(n),2);if(!n.h)throw new Le(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},r.update=function(){var e,t=this;return R((function(n){return 1==n.g?(T(n,2),S(n,My(t),4)):2!=n.g?A(n,0):(e=E(n),t.h&&e?(t.h.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},z("shaka.mss.MssParser",Iy);var Py="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Ly=(new Map).set("CAPT","main").set("SUBT","alternate").set("DESC","main");function Ry(e,t,n,r,i,a,o){if(200<=n&&299>=n&&202!=n||304==n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:a};a=null;try{a=vt(t)}catch(s){}throw new Le(401==n||403==n?2:1,1,1001,r,n,a,e,o,i||r)}function Ny(){}function _y(e,t,n,r,i,a){var o=new zy;Sa(t.headers).forEach((function(e,t){o.append(t,e)}));var s=new Fy,u={Gg:!1,Jh:!1};if(e=function(e,t,n,r,i,a,o,s,u){var l,c,d,f,p,h,g,m,v,y,b,w,k;return R((function(C){switch(C.g){case 1:return l=Uy,c=By,f=new ArrayBuffer(0),h=p=0,g=Date.now(),T(C,2),S(C,l(e,r),4);case 4:if(d=C.h,o(Oy(d.headers)),"HEAD"==r.method){C.s(5);break}return v=(m=d.headers.get("Content-Length"))?parseInt(m,10):0,d.body?(y=d.clone().body.getReader(),new c({start:function(e){function t(){var n,r,i,o;return R((function(l){switch(l.g){case 1:return T(l,2),S(l,y.read(),4);case 4:n=l.h,A(l,3);break;case 2:return E(l),l.return();case 3:if(n.done){l.s(5);break}if(p+=n.value.byteLength,!s){l.s(5);break}return S(l,s(n.value),5);case 5:r=Date.now(),i=p-h,(100<r-g&&i>=u||n.done)&&(o=n.done?0:v-p,a(r-g,i,o),h=p,g=r),n.done?e.close():(e.enqueue(n.value),t()),x(l)}}))}t()}}),S(C,d.arrayBuffer(),8)):S(C,d.arrayBuffer(),9);case 8:f=C.h,C.s(5);break;case 9:f=C.h,b=Date.now(),a(b-g,f.byteLength,0);case 5:A(C,3);break;case 2:if(w=E(C),i.Gg)throw new Le(1,1,7001,e,n);if(i.Jh)throw new Le(1,1,1003,e,n);throw new Le(1,1,1002,e,w,n);case 3:return k=Oy(d.headers),C.return(Ry(k,f,d.status,e,d.url,t,n))}}))}(e,t,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,r,i,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new Yi(e,(function(){return u.Gg=!0,s.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var l=new ze((function(){u.Jh=!0,s.abort()}));l.da(t/1e3),e.finally((function(){l.stop()}))}return e}function Oy(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function jy(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(TT){return!1}return!!e.Response&&!!new Response("").body&&!(!e.fetch||"polyfill"in e.fetch||!e.AbortController)}ko("application/vnd.ms-sstr+xml",(function(){return new Iy})),z("shaka.net.HttpFetchPlugin",Ny),Ny.isSupported=jy,Ny.parse=_y;var Uy=e.fetch,Fy=e.AbortController,By=e.ReadableStream,zy=e.Headers;function Vy(){}function Hy(e,t,n,r,i,a){var o=new Ky,s=Date.now(),u=0;return new Yi(new Promise((function(l,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){c(new Le(1,1,7001,e,n))};var d=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!d){var e=Gy(o);i(e),d=!0}},o.onload=function(i){var a=Gy(o),d=o.response;try{r(Date.now()-s,i.loaded-u,0);var f=Ry(a,d,o.status,e,o.responseURL,t,n);l(f)}catch(p){c(p)}},o.onerror=function(t){c(new Le(1,1,1002,e,t,n))},o.ontimeout=function(){c(new Le(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now(),n=a.minBytesForProgressEvents||0,i=e.loaded-u;(100<t-s&&i>=n||e.lengthComputable&&e.loaded==e.total)&&(r(t-s,i,4==o.readyState?0:e.total-e.loaded),u=e.loaded,s=t)},t.headers)o.setRequestHeader(f.toLowerCase(),t.headers[f]);o.send(t.body)})),(function(){return o.abort(),Promise.resolve()}))}function Gy(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=c(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}jy()&&(ua("http",_y,2,!0),ua("https",_y,2,!0),ua("blob",_y,2,!0)),z("shaka.net.HttpXHRPlugin",Vy),Vy.parse=Hy;var Ky=e.XMLHttpRequest;function qy(e,t,n,r,i){this.g=e,this.i=t,this.groupId=n,this.h=r,this.j=i}function Wy(e){var t=e.Ib(!1);return t?At(t):e.N().map((function(e){return"{"+encodeURI(e.split("#xywh=")[0])+"}"})).join("")+":"+e.Sa+":"+e.wa}function Xy(e,t){return yl(e.g.N(),e.g.Sa,e.g.wa,t.streaming.retryParameters)}function Yy(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function $y(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}function Qy(e){return 0==e.i?0:e.j/e.i}function Jy(e){var t=this;this.u=e,this.i=new Map,this.h=new ya((function(){return Zy(t).catch((function(){}))})),this.j=[],this.o=function(){},this.m=function(){},this.g=new Yy,this.l=!1}function Zy(e){e.l=!0;var t=e.j.map((function(e){return e()}));return e.j=[],Promise.all(t)}function eb(e,t,n,r,i,a){ba(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){var t,o,s,u,l,c,d;return R((function(f){if(1==f.g)return S(f,function(e,t){var n,r,i,a;return R((function(o){return 1==o.g?(n=ga,r=e.u.request(n,t),i=function(){return r.abort()},e.j.push(i),S(o,r.promise,2)):(a=o.h,sn(e.j,i),o.return(a.data))}))}(e,n),2);if(t=f.h,e.h.g)throw new Le(2,9,7001);if(i)for(u in o=Ie(t),(s=new ja(o)).data)l=Number(u),c=s.data[l],d=s.g[l],e.m(c,d);return e.g.close(r,t.byteLength),e.o(Qy(e.g),e.g.g),f.return(a(t))}))}));e.i.set(t,o)}function tb(e,t,n,r,i,a){ba(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){if(e.h.g)throw new Le(2,9,7001);if(i){var t=Ie(n);for(var o in(t=new ja(t)).data){var s=Number(o);e.m(t.data[s],t.g[s])}}return e.g.close(r,n.byteLength),e.o(Qy(e.g),e.g.g),a(n)}));e.i.set(t,o)}function nb(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Xi,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function rb(e,t){return new Promise((function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var e;return R((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(e=i.result,S(r,t(e.key,e.value,e),2));e.continue(),x(r)}))}}))}function ib(e){this.h=e,this.g=[]}function ab(e,t){return ob(e,t,"readwrite")}function ob(e,t,n){var r=new nb(n=e.h.transaction([t],n),t);return e.g.push(r),r.promise().then((function(){sn(e.g,r)}),(function(){sn(e.g,r)})),r}function sb(e,t,n){this.h=new ib(e),this.i=t,this.g=n}function ub(e){return Promise.reject(new Le(2,9,9011,"Cannot add new value to "+e))}function lb(e,t,n,r){t=(e=ab(e.h,t)).store();for(var i=(n=c(n)).next(),a={};!i.done;a={Qf:void 0},i=n.next())a.Qf=i.value,t.delete(a.Qf).onsuccess=function(e){return function(){return r(e.Qf)}}(a);return e.promise()}function cb(e,t,n){var r,i,a,o,s,u,l;return R((function(d){if(1==d.g){for(r=ob(e.h,t,"readonly"),i=r.store(),a={},o=[],s=c(n),u=s.next(),l={};!u.done;l={we:void 0,ee:void 0},u=s.next())l.ee=u.value,l.we=i.get(l.ee),l.we.onsuccess=function(e){return function(){null==e.we.result&&o.push(e.ee),a[e.ee]=e.we.result}}(l);return S(d,r.promise(),2)}if(o.length)throw new Le(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function db(e){this.g=new ib(e)}function fb(){this.g=new Map}function pb(e){var t=null;if(e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{zb:n,Ta:r},Ta:e})}))})),t)return t;throw new Le(2,9,9013,"Could not find a cell that supports add-operations")}function hb(e,t,n){if(!(e=e.g.get(t)))throw new Le(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new Le(2,9,9013,"Could not find cell with name "+n);return t}function gb(e,t){mb.set(e,t)}ua("http",Hy,1,!0),ua("https",Hy,1,!0),ua("blob",Hy,1,!0),Yy.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}},Jy.prototype.destroy=function(){return this.h.destroy()},nb.prototype.abort=function(){var e=this;return R((function(t){if(1==t.g){try{e.i.abort()}catch(n){}return T(t,2),S(t,e.g,4)}if(2!=t.g)return A(t,0);E(t),x(t)}))},nb.prototype.store=function(){return this.h},nb.prototype.promise=function(){return this.g},ib.prototype.destroy=function(){return Promise.all(this.g.map((function(e){return e.abort()})))},(r=sb.prototype).destroy=function(){return this.h.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return ub(this.i)},r.removeSegments=function(e,t){return lb(this,this.i,e,t)},r.getSegments=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,cb(n,n.i,e),2):(t=r.h,r.return(t.map((function(e){return n.Ig(e)}))))}))},r.addManifests=function(){return ub(this.g)},r.updateManifest=function(){return Promise.reject(new Le(2,9,9016,"Cannot modify values in "+this.g))},r.updateManifestExpiration=function(e,t){var n=ab(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},r.removeManifests=function(e,t){return lb(this,this.g,e,t)},r.getManifests=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,cb(n,n.g,e),2):(t=r.h,r.return(Promise.all(t.map((function(e){return n.jd(e)})))))}))},r.getAllManifests=function(){var e,t,n=this;return R((function(r){return 1==r.g?(e=ob(n.h,n.g,"readonly"),t=new Map,S(r,rb(e,(function(e,r){var i;return R((function(a){if(1==a.g)return S(a,n.jd(r),2);i=a.h,t.set(e,i),x(a)}))})),2)):3!=r.g?S(r,e.promise(),3):r.return(t)}))},r.Ig=function(e){return e},r.jd=function(e){return Promise.resolve(e)},r.add=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(d){if(1==d.g){for(n=ab(l.h,e),r=n.store(),i=[],a=c(t),o=a.next(),s={};!o.done;s={cg:void 0},o=a.next())u=o.value,s.cg=r.add(u),s.cg.onsuccess=function(e){return function(){i.push(e.cg.result)}}(s);return S(d,n.promise(),2)}return d.return(i)}))},db.prototype.destroy=function(){return this.g.destroy()},db.prototype.getAll=function(){var e,t,n=this;return R((function(r){return 1==r.g?(e=ob(n.g,"session-ids","readonly"),t=[],S(r,rb(e,(function(e,n){t.push(n)})),2)):3!=r.g?S(r,e.promise(),3):r.return(t)}))},db.prototype.add=function(e){for(var t=ab(this.g,"session-ids"),n=t.store(),r=(e=c(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},db.prototype.remove=function(e){var t,n=this;return R((function(r){return 1==r.g?S(r,rb(t=ab(n.g,"session-ids"),(function(t,n,r){e.includes(n.sessionId)&&r.delete()})),2):S(r,t.promise(),0)}))},fb.prototype.destroy=function(){for(var e=[],t=c(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},fb.prototype.init=function(){var e=this;mb.forEach((function(t,n){(t=t())&&e.g.set(n,t)}));for(var t=[],n=c(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},z("shaka.offline.StorageMuxer",fb),fb.unregister=function(e){mb.delete(e)},fb.register=gb,fb.prototype.destroy=fb.prototype.destroy;var mb=new Map;function vb(){sb.apply(this,arguments)}function yb(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=c(e)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=c(e),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,a=(i=c(t)).next();!a.done;a=i.next())a.value.variantIds.push(r);if(e.length&&t.length)for(r=(t=c(t)).next();!r.done;r=t.next())for(r=r.value,a=(i=c(e)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=c(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map((function(n){return function(e,t,n){var r=e.initSegmentUri?bb(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=bb(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,e.startTime,t)}))}function bb(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new Le(2,9,9004,"Could not parse uri "+e)}function wb(){sb.apply(this,arguments)}function Sb(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function xb(){sb.apply(this,arguments)}function Tb(){this.m=this.j=this.i=this.h=this.g=this.l=null}function kb(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}function Ab(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new kb(t,n,r,Number(e[4])):null}function Eb(e,t){this.h=e,this.g=t}function Cb(e,t){var n=new Tu(null,0);n.bb(t.duration);var r=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));r=function(e,t,n,r){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next())for(var s=(o=c(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(a=c(n),o=a.next();!o.done;o=a.next())for(o=c(o.value.variantIds),s=o.next();!s.done;s=o.next())i.add(s.value);for(a=new Map,i=c(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=c(t),i=t.next();!i.done;i=t.next())for(o=i.value,i=Ib(e,o,r),o=c(o.variantIds),s=o.next();!s.done;s=o.next())(s=a.get(s.value)).language=i.language,s.primary=s.primary||i.primary,s.audio=i;for(n=c(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Ib(e,i,r),i=c(i.variantIds),o=i.next();!o.done;o=i.next())(o=a.get(o.value)).primary=o.primary||t.primary,o.video=t;return a}(e,r,i,n),i=t.streams.filter((function(e){return e.type==Ot})).map((function(t){return Ib(e,t,n)}));var a=t.streams.filter((function(e){return"image"==e.type})).map((function(t){return Ib(e,t,n)})),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=c(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Ib(e,t,n){var r=t.segments.map((function(n){return function(e,t,n){var r=new kb("segment",e.h,e.g,t.dataKey);return e=new ps(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new kb("segment",e.h,e.g,t);return new ds((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.De(t.thumbnailSprite),e}(e,n,t)}));return n.Ed(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Rr(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function Mb(){this.g=null}function Db(){}function Pb(e,t){var n=Ab(e);return e=n&&"manifest"==n.g?Ji(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t}):n&&"segment"==n.g?function(e,t,n){var r=new fb;return Ji(void 0).Ha((function(){return r.init()})).Ha((function(){return hb(r,t.zb(),t.Ta())})).Ha((function(e){return e.getSegments([t.key()])})).Ha((function(e){return{uri:t,data:e[0].data,headers:{},originalRequest:n}})).finally((function(){return r.destroy()}))}(n.key(),n,t):$i(new Le(2,1,9004,e)),e}function Lb(e,t,n){var r,i,a,o,s,u;return R((function(l){switch(l.g){case 1:r=[];for(var d=[],f=c(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,g=c(d),m=g.next();!m.done;m=g.next())if(Rb((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){l.s(4);break}return o=a.value,s=function(e,t,n){var r,i;return R((function(a){switch(a.g){case 1:return r=new Fa({Xb:t,onError:function(){},pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),T(a,2),r.configure(e),S(a,function(e,t,n,r,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],o.set(t,i),qa(e,o,[])}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:A(a,3);break;case 2:return E(a),S(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],S(a,Promise.all(n.sessionIds.map((function(e){return R((function(t){return 1==t.g?(T(t,2),S(t,function(e,t){var n,r,i;return R((function(a){return 1==a.g?S(a,Ya(e,t,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(r=[],(i=e.i.get(n))&&(i.ub=new Xi,r.push(i.ub)),r.push(n.remove()),S(a,Promise.all(r),3)):a.return():(e.i.delete(n),void x(a))}))}(r,e),4)):2!=t.g?(i.push(e),A(t,0)):(E(t),void x(t))}))}))),6);case 6:return S(a,r.destroy(),7);case 7:return a.return(i)}}))}(e,t,o),S(l,s,5);case 5:u=l.h,r=r.concat(u),a=i.next(),l.s(2);break;case 4:return l.return(r)}}))}function Rb(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&un(e.audioCapabilities,t.audioCapabilities,n)&&un(e.videoCapabilities,t.videoCapabilities,n)}function Nb(e,t){var n=Cb(new Eb(e.zb(),e.Ta()),t),r=t.appMetadata||{};return n=_b(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function _b(e){for(var t=[],n=Li(e.variants),r=(n=c(n)).next();!r.done;r=n.next())t.push(ki(r.value));for(n=(e=c(e.textStreams)).next();!n.done;n=e.next())t.push(Ai(n.value));return t}function Ob(){this.g=new Map}function jb(e,t){var n=t.audio,r=t.video;if(n&&!r&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&r&&e.g.set(r.id,r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g.set(n.id,i),e.g.set(r.id,a)}}function Ub(e,t){e.g.set(t.id,t.bandwidth||2048)}function Fb(e,t){return null==(e=e.g.get(t))&&(e=0),e}function Bb(e){var t=this;if(e&&e.constructor!=dd)throw new Le(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.xb()):(this.h=Zl(),this.g=new sa),this.i=[],this.l=[];var n=!e;this.j=new ya((function(){var e,r,i,a,o;return R((function(s){switch(s.g){case 1:return S(s,Promise.all(t.l.map((function(e){return Zy(e)}))),2);case 2:for(e=function(){},r=[],i=c(t.i),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return S(s,Promise.all(r),3);case 3:if(!n){s.s(4);break}return S(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,x(s)}}))})),this.m=1e9}function zb(){if(Ve())e:{for(var e=c(mb.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Vb(e){var t,n,r;return R((function(i){switch(i.g){case 1:return S(i,(t=new fb).init(),2);case 2:return S(i,pb(t),3);case 3:return n=i.h,r=new kb("manifest",n.path.zb,n.path.Ta,e),S(i,t.destroy(),4);case 4:return S(i,(new Bb).remove(r.toString()),0)}}))}function Hb(e,t,n,r,i,a){var o,s,u,l,d,f,p,h,g,m,v;return R((function(y){switch(y.g){case 1:for(o=!1,T(y,2),s=!0,u=c(n.streams),l=u.next();!l.done;l=u.next())for(d=l.value,f=c(d.segments),p=f.next();!p.done;p=f.next())h=p.value,null!=(g=h.pendingSegmentRefId?r[h.pendingSegmentRefId]:null)&&(h.dataKey=g,h.pendingSegmentRefId=void 0),null!=(g=h.pendingInitSegmentRefId?r[h.pendingInitSegmentRefId]:null)&&(h.initSegmentKey=g,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(s=!1),h.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),S(y,e.updateManifest(t,n),4);case 4:o=!0,a(),A(y,0);break;case 2:return m=E(y),S(y,Vb(t),5);case 5:if(o){y.s(6);break}return v=Object.values(r),S(y,e.removeSegments(v,(function(){})),6);case 6:throw m}}))}function Gb(e){return e.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t}))}function Kb(e){return e.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))}))}function qb(e,t,n,r){if(t.expiration=n.pd(),n=Ka(n),t.sessionIds=r?n:[],Gb(e)&&r&&!n.length)throw new Le(2,9,9007)}function Wb(e,t){for(var n=[],r=c(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:Rr(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:Rr(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function Xb(e,t,n){return R((function(r){return S(r,function(e,t,n,r){var i,a,o;return R((function(s){return 1==s.g?r.drmInfo?(i=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new Le(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Wb(r,!1),videoCapabilities:Wb(r,!0)}})),S(s,Lb(t,e,a),2)):s.return():3!=s.g?(o=s.h,S(s,i.remove(o),3)):S(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.g,e.h.drm,n,t),0)}))}function Yb(e,t,n){function r(){}var i=function(e){for(var t=new Set,n=(e=c(e.streams)).next();!n.done;n=e.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.add(r.initSegmentKey),t.add(r.dataKey);return Array.from(t)}(n);return Nb(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}function $b(e,t){var n;return R((function(r){switch(r.g){case 1:return T(r,2),S(r,Sc(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,A(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new Le(1,2,2011,t)}}))}function Qb(e,t,n,r,i,a){var o={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},s=i.offline.numberOfParallelDownloads,u=0===s?r.id:0;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var r=e.segmentIndex.get(t);r;)n(r,t),r=e.segmentIndex.get(++t)}(r,n.presentationTimeline.pb(),(function(n,i){var l=Wy(n),c=void 0;if(!a.has(l)){var d=n.endTime-n.startTime;d=Fb(t,r.id)*d,d=$y(e.g,d),a.set(l,new qy(n,d,u,!1,i))}n.$&&(c=Wy(n.$),a.has(c)||(d=.5*Fb(t,r.id),d=$y(e.g,d),a.set(c,new qy(n.$,d,u,!0,i)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:l,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(u=(u+1)%s)})),o}function Jb(e){if(e.j.g)throw new Le(2,9,7001)}function Zb(){if(!zb())throw new Le(2,9,9e3)}function ew(e,t){return R((function(n){return 1==n.g?(e.i.push(t),k(n,2),S(n,t,4)):2!=n.g?n.return(n.h):(C(n),sn(e.i,t),I(n,0))}))}function tw(e){for(var t=new Set,n=c(e.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);for(r=(n=c(e.textStreams)).next();!r.done;r=n.next())t.add(r.value);for(n=(e=c(e.imageStreams)).next();!n.done;n=e.next())t.add(n.value);return t}v(vb,sb),vb.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return R((function(o){return n=ab(a.h,a.g),r=n.store(),i=new Xi,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new Le(2,9,9012,"Could not find values for "+e))},S(o,Promise.all([n.promise(),i]),0)}))},vb.prototype.jd=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=yb(e.periods[n],i),t.push(a);return S(s,Xg(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})}))},vb.prototype.Ig=function(e){return{data:e.data}},v(wb,sb),wb.prototype.jd=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var u=e.periods[n],l=[],d=c(u.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&l.push(Sb(f,u.startTime,u.startTime+i));a=l,t.push(a)}return S(s,Xg(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o,sequenceMode:!1})}))},v(xb,sb),(r=xb.prototype).hasFixedKeySpace=function(){return!1},r.addSegments=function(e){return this.add(this.i,e)},r.addManifests=function(e){return this.add(this.g,e)},r.updateManifest=function(e,t){return function(e,t,n){var r=(e=ab(e.h,e.g)).store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}(this,e,t)},r.jd=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(r=Tb.prototype).init=function(){var t=this,n=new Xi,r=!1,i=new ze((function(){r=!0,n.reject(new Le(2,9,9017))}));i.da(5);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){var e=a.result;t.l=e;var o=e.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new vb(e,"segment","manifest"):null,t.g=o,o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new wb(e,"segment-v2","manifest-v2"):null,t.h=o,o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new wb(e,"segment-v3","manifest-v3"):null,t.i=o,o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new xb(e,"segment-v5","manifest-v5"):null,t.j=o,e=e.objectStoreNames.contains("session-ids")?new db(e):null,t.m=e,i.stop(),n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=c(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){r||(n.reject(new Le(2,9,9001,a.error)),i.stop(),e.preventDefault())},n},r.destroy=function(){var e=this;return R((function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return S(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return S(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return S(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return S(t,e.j.destroy(),8);case 8:if(!e.m){t.s(10);break}return S(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),x(t)}}))},r.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var t=this;return R((function(n){switch(n.g){case 1:if(!t.g){n.s(2);break}return S(n,t.g.destroy(),2);case 2:if(!t.h){n.s(4);break}return S(n,t.h.destroy(),4);case 4:if(!t.i){n.s(6);break}return S(n,t.i.destroy(),6);case 6:if(!t.j){n.s(8);break}return S(n,t.j.destroy(),8);case 8:return t.l&&t.l.close(),S(n,function(){var t=new Xi,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new Le(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,S(n,t.init(),0)}}))},gb("idb",(function(){return(!$e()||$e()&&it())&&!Ke()&&e.indexedDB?new Tb:null})),kb.prototype.zb=function(){return this.i},kb.prototype.Ta=function(){return this.h},kb.prototype.key=function(){return this.l},kb.prototype.toString=function(){return this.j},(r=Mb.prototype).configure=function(){},r.start=function(e,t){var n,r,i,a,o,s,u=this;return R((function(l){switch(l.g){case 1:if(n=Ab(e),u.g=n,null==n||"manifest"!=n.g)throw new Le(2,1,9004,e);return r=new fb,k(l,2),S(l,r.init(),4);case 4:return S(l,hb(r,n.zb(),n.Ta()),5);case 5:return S(l,l.h.getManifests([n.key()]),6);case 6:return i=l.h,a=i[0],o=new Eb(n.zb(),n.Ta()),s=Cb(o,a),t.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return C(l),S(l,r.destroy(),7);case 7:I(l,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(c){switch(c.g){case 1:return n=l.g,r=new fb,T(c,2,3),S(c,r.init(),5);case 5:return S(c,hb(r,n.zb(),n.Ta()),6);case 6:return S(c,(i=c.h).getManifests([n.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(e),u=null==o.expiration||o.expiration>t,!s||!u){c.s(3);break}return S(c,i.updateManifestExpiration(n.key(),t),3);case 3:return C(c),S(c,r.destroy(),10);case 10:I(c,0);break;case 2:E(c),c.s(3)}}))},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},ko("application/x-offline-manifest",(function(){return new Mb})),z("shaka.offline.OfflineScheme",Db),Db.plugin=Pb,ua("offline",Pb),(r=Bb.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Hl(e,t)),tc(this.h,e)},r.getConfiguration=function(){var e=Zl();return tc(e,this.h,Zl()),e},r.xb=function(){return this.g},r.store=function(e,t,n,r,i){var a=this,o=this.getConfiguration(),s=new Jy(this.g);return this.l.push(s),t=function(e,t,n,r,i,a,o,s){var u,l,d,f,p,h,g,m,v,y,b,w,k,M,D,P,L,N,_,O,j,U,F;return R((function(B){switch(B.g){case 1:return Zb(),l=u=null,d=new fb,h=p=f=null,T(B,2,3),S(B,a(),5);case 5:return u=B.h,S(B,function(e,t,n,r){var i,a,o,s,u;return R((function(l){if(1==l.g)return i=null,a=e.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),Jb(e),S(l,n.start(t,o),2);if(3!=l.g)return s=l.h,Jb(e),u=tw(s),S(l,Promise.all(wa(u,(function(e){return e.createSegmentIndex()}))),3);if(Jb(e),i)throw i;return l.return(s)}))}(e,t,u,o),6);case 6:if(g=B.h,Jb(e),g.presentationTimeline.U()||g.presentationTimeline.yc())throw new Le(2,9,9005,t);m=c(r),v=m.next();case 7:if(v.done){B.s(9);break}return y=v.value,S(B,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,m,v,y;return R((function(b){switch(b.g){case 1:return S(b,$b(e,t),2);case 2:if("text/vtt"!=(r=b.h))throw new Le(1,2,2017,t);return S(b,function(e,t,n){var r,i,a;return R((function(o){return 1==o.g?(r=ga,(i=ca([e],n)).method="GET",S(o,t.request(r,i).promise,2)):(a=o.h,o.return(a.data))}))}(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=b.h,!(a=Xr(r)))throw new Le(2,2,2014,r);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=Ie(i),l=o.parseMedia(u,s,t,[]),d=[],f=c(l),p=f.next(),h={};!p.done;h={Me:void 0,Nc:void 0},p=f.next())h.Nc=p.value,h.Me=null,g=function(e){return function(){return null==e.Me&&(e.Me=Dt([t],[e.Nc.payload])),e.Me||[]}}(h),m=new ps(h.Nc.startTime,h.Nc.endTime,g,0,null,null,0,0,1/0),h.Nc.payload.includes("#xywh")&&4===(v=h.Nc.payload.split("#xywh=")[1].split(",")).length&&m.De({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)}),d.push(m);if(y=r,!d.length){b.s(4);break}return S(b,Sc(d[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:y=b.h;case 4:return b.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(d),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Rr(y||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}}))}(e,y,g),10);case 10:b=B.h,g.imageStreams.push(b),Jb(e),v=m.next(),B.s(7);break;case 9:w=c(i),k=w.next();case 11:return k.done?(io(o.drm.clearKeys,g.variants),P=g.variants.some((function(e){if(e.audio)for(var t=c(e.audio.drmInfos),n=t.next();!n.done;n=t.next())if(n.value.licenseServerUri.startsWith("data:"))return!0;if(e.video)for(t=(e=c(e.video.drmInfos)).next();!t.done;t=e.next())if(t.value.licenseServerUri.startsWith("data:"))return!0;return!1})),L=o.offline.usePersistentLicense,P&&(L=!1),S(B,e.Lc(g,(function(e){h=h||e}),o,L),15)):(M=k.value,S(B,function(e,t,n,r,i,a,o){var s;return R((function(u){if(1==u.g)return a?u.s(2):S(u,$b(e,n),3);if(2!=u.g&&(a=u.h),s={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ku(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:Ot,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Rr(a||"",o||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},!Yr(Rr(s.mimeType,s.codecs)))throw new Le(2,2,2014,a);return u.return(s)}))}(e,g,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:D=B.h,g.textStreams.push(D),Jb(e),k=w.next(),B.s(11);break;case 15:if(l=B.h,Jb(e),h)throw h;return S(B,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,m,v,y,b,w,k,C,I,M,D,P,L,N,_,O,j,U,F;return R((function(R){switch(R.g){case 1:return i={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return gi(e,t,n)}))}(e,n.restrictions,i),S(R,vi(t,e,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,l=n.preferredTextFormats,hi(e,s,u,o,l),d=c(e.variants),f=d.next();!f.done;f=d.next())p=f.value,a.push(ki(p));for(h=c(e.textStreams),g=h.next();!g.done;g=h.next())m=g.value,a.push(Ai(m));for(v=c(e.imageStreams),y=v.next();!y.done;y=v.next())b=y.value,a.push(Ei(b));return S(R,n.offline.trackSelectionCallback(a),3);case 3:for(w=R.h,k=e.presentationTimeline.getDuration(),C=0,I=c(w),M=I.next();!M.done;M=I.next())D=M.value,P=D.bandwidth*k/8,C+=P;return T(R,4),S(R,n.offline.downloadSizeCallback(C),6);case 6:if(!R.h)throw new Le(2,9,9014);A(R,5);break;case 4:if((L=E(R))instanceof Le)throw L;throw new Le(2,9,9015);case 5:for(N=new Set,_=new Set,O=new Set,j=c(w),U=j.next();!U.done;U=j.next())"variant"==(F=U.value).type&&N.add(F.id),"text"==F.type&&_.add(F.id),"image"==F.type&&O.add(F.id);e.variants=e.variants.filter((function(e){return N.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return _.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return O.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=c(t),r=n.next();!r.done;r=n.next())for(var i=(r=c(t)).next();!i.done;i=r.next());for(t=c(e),n=t.next();!n.done;n=t.next())for(n=c(e),r=n.next();!r.done;r=n.next());}(e),x(R)}}))}(g,l,o,L),16);case 16:return S(B,d.init(),17);case 17:return Jb(e),S(B,pb(d),18);case 18:return f=B.h,Jb(e),N=function(e,t,n,r,i,a,o){var s=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=_b(t),appMetadata:n,isIncomplete:!1}}(n,t,r),u=i.offline.progressCallback;!function(e,t,n){e.o=t,e.m=n}(a,(function(e,t){s.size=t,u(s,e)}),(function(t,n){l&&o&&d==n&&Ga(e,"cenc",t)}));var l=Gb(t)&&!Kb(t),d=null;l&&(d=nw.get(e.h.keySystem));for(var f=new Ob,p=c(t.textStreams),h=p.next();!h.done;h=p.next())f.g.set(h.value.id,52);for(p=c(t.imageStreams),h=p.next();!h.done;h=p.next())Ub(f,h.value);for(p=c(t.variants),h=p.next();!h.done;h=p.next())jb(f,h.value);return a=function(e,t,n,r){for(var i=new Map,a=tw(n),o=new Map,s=(a=c(a)).next();!s.done;s=a.next()){var u=Qb(e,t,n,s=s.value,r,i);o.set(s.id,u)}for(e=c(n.variants),t=e.next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),tg:Array.from(i.values())}}(a,f,t,i),i=a.streams,a=a.tg,(f=e.h)&&o&&(f.initData=[]),{Yi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.pd(),streams:i,sessionIds:o?Ka(e):[],drmInfo:f,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},tg:a}}(l,g,t,n,o,s,L),_=N.Yi,O=N.tg,S(B,f.Ta.addManifests([_]),19);case 19:if(j=B.h,Jb(e),p=j[0],Jb(e),h)throw h;return S(B,function(e,t,n,r,i,a,o,s,u,l){var d,f,p,h,g,m,v,y,b,w,k;return R((function(C){switch(C.g){case 1:if(d={},f=0,p=function(){if(e.j.g||i.l)throw new Le(2,9,7001)},h=function(e,t){var h,g,m,v,y,b,w,T,k;return R((function(A){if(1==A.g){for(h=c(e),g=h.next(),m={};!g.done;m={Nb:void 0},g=h.next())m.Nb=g.value,p(),v=Xy(m.Nb,a),y=m.Nb.i,b=m.Nb.h,w=function(e){return function(t){var n,r,i,a;return R((function(s){switch(s.g){case 1:if(n=e.Nb.g,r=n.Ib(!1),!n.aesKey||r){s.s(2);break}return S(s,vl(t,n.aesKey,e.Nb.j),3);case 3:t=s.h;case 2:return i=Wy(n),S(s,o.addSegments([{data:t}]),4);case 4:a=s.h,p(),d[i]=a[0],f+=t.byteLength,x(s)}}))}}(m),T=m.Nb.g,(k=T.Ib(!1))?tb(i,m.Nb.groupId,k,y,b,w):eb(i,m.Nb.groupId,v,y,b,w);return S(A,function(e){return R((function(t){return 1==t.g?S(t,Promise.all(e.i.values()),2):t.return(e.g.g)}))}(i),2)}return p(),!t||i.l?A.s(0):(qb(s,r,u,l),S(A,o.updateManifest(n,r),0))}))},g=!1,T(C,2),!Gb(s)||!g||Kb(s)){C.s(4);break}return S(C,h(t.filter((function(e){return e.h})),!0),5);case 5:return p(),t=t.filter((function(e){return!e.h})),m=d,v=f,d={},f=0,S(C,Hb(o,n,r,m,v,(function(){return Jb(e)})),6);case 6:p();case 4:if(g){C.s(7);break}return S(C,h(t,!1),8);case 8:return p(),y=d,b=f,d={},f=0,S(C,Hb(o,n,r,y,b,(function(){return p()})),9);case 9:p();case 7:A(C,0);break;case 2:return w=E(C),k=Object.values(d),S(C,o.removeSegments(k,(function(){})),10);case 10:throw w}}))}(e,O,p,_,s,o,f.Ta,g,l,L),20);case 20:return Jb(e),qb(g,_,l,L),S(B,f.Ta.updateManifest(p,_),21);case 21:return Jb(e),U=new kb("manifest",f.path.zb,f.path.Ta,p),B.return(Nb(U,_));case 3:return C(B),S(B,d.destroy(),22);case 22:if(!u){B.s(23);break}return S(B,u.stop(),23);case 23:if(!l){B.s(25);break}return S(B,l.destroy(),25);case 25:I(B,0);break;case 2:if(F=E(B),null==p){B.s(27);break}return S(B,Vb(p),27);case 27:throw h||F}}))}(this,e,t||{},r||[],i||[],(function(){var t;return R((function(r){return 1==r.g?n?r.s(2):S(r,Sc(e,a.g,o.manifest.retryParameters),3):(2!=r.g&&(n=r.h),t=Ao(e,n||null),r.return(t()))}))}),o,s),(t=new Yi(t,(function(){return Zy(s)}))).finally((function(){sn(a.l,s)})),function(e,t){var n=t.promise;return e.i.push(n),t.finally((function(){sn(e.i,n)}))}(this,t)},r.remove=function(e){return ew(this,function(e,t){var n,r,i,a,o,s;return R((function(u){switch(u.g){case 1:if(Zb(),null==(n=Ab(t))||"manifest"!=n.g)throw new Le(2,9,9004,t);return r=n,i=new fb,k(u,2),S(u,i.init(),4);case 4:return S(u,hb(i,r.zb(),r.Ta()),5);case 5:return S(u,(a=u.h).getManifests([r.key()]),6);case 6:return o=u.h,s=o[0],S(u,Promise.all([Xb(e,s,i),Yb(a,r,s)]),2);case 2:return C(u),S(u,i.destroy(),8);case 8:I(u,0)}}))}(this,e))},r.qj=function(){return ew(this,function(e){var t,n,r,i,a,o,s,u,l,d;return R((function(f){switch(f.g){case 1:return Zb(),t=e.g,n=e.h.drm,r=new fb,i=!1,k(f,2),S(f,r.init(),4);case 4:a=[],function(e,t){e.g.forEach((function(e){t(e.getEmeSessionCell())}))}(r,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){f.s(2);break}return S(f,(u=s.value).getAll(),8);case 8:return l=f.h,S(f,Lb(n,t,l),9);case 9:return d=f.h,S(f,u.remove(d),10);case 10:d.length!=l.length&&(i=!0),s=o.next(),f.s(5);break;case 2:return C(f),S(f,r.destroy(),11);case 11:I(f,3);break;case 3:return f.return(!i)}}))}(this))},r.list=function(){return ew(this,R((function(r){switch(r.g){case 1:return Zb(),e=[],t=new fb,k(r,2),S(r,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){t({zb:n,Ta:r},e)}))}))}(t,(function(t,r){n=n.then((function(){return R((function(n){if(1==n.g)return S(n,r.getAllManifests(),2);n.h.forEach((function(n,r){n=Nb(new kb("manifest",t.zb,t.Ta,r),n),e.push(n)})),x(n)}))}))})),S(r,n,2);case 2:return C(r),S(r,t.destroy(),6);case 6:I(r,3);break;case 3:return r.return(e)}})));var e,t,n},r.Lc=function(e,t,n,r){var i,a=this;return R((function(o){return 1==o.g?((i=new Fa({Xb:a.g,onError:t,pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),S(o,function(e,t,n){return e.ka=!0,e.B=new Map,e.O=n,za(e,t,!1)}(i,e.variants,r),2)):3!=o.g?S(o,Ha(i),3):o.return(i)}))},z("shaka.offline.Storage",Bb),Bb.deleteAll=function(){var e;return R((function(t){return 1==t.g?(e=new fb,k(t,2),S(t,function(e){var t,n;return R((function(r){return 1==r.g?(t=Array.from(e.g.values()),(n=0<t.length)||mb.forEach((function(e){(e=e())&&t.push(e)})),S(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.s(0):S(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.g?(C(t),S(t,e.destroy(),5)):I(t,0)}))},Bb.prototype.list=Bb.prototype.list,Bb.prototype.removeEmeSessions=Bb.prototype.qj,Bb.prototype.remove=Bb.prototype.remove,Bb.prototype.store=Bb.prototype.store,Bb.prototype.getNetworkingEngine=Bb.prototype.xb,Bb.prototype.getConfiguration=Bb.prototype.getConfiguration,Bb.prototype.configure=Bb.prototype.configure,Bb.prototype.destroy=Bb.prototype.destroy,Bb.support=zb;var nw=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");function rw(){}function iw(e,t){for(e={priority:t||0,callback:e},t=0;t<aw.length;t++)if(aw[t].priority<e.priority)return void aw.splice(t,0,e);aw.push(e)}hd("offline",zb),z("shaka.polyfill",rw),rw.register=iw,rw.installAll=function(){for(var e=c(aw),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){Y("Error installing polyfill!",n)}}};var aw=[];function ow(){}function sw(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=c(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())uw(t.value)}function uw(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function lw(){}function cw(){et()||st("Sky_STB")||mT()}function dw(){}function fw(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",pw),document.addEventListener("webkitfullscreenerror",pw),document.addEventListener("mozfullscreenchange",pw),document.addEventListener("mozfullscreenerror",pw),document.addEventListener("MSFullscreenChange",pw),document.addEventListener("MSFullscreenError",pw)}}function pw(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function hw(){}function gw(){var e=!0;($e()&&!it()&&!at()||Je()||Ze()||et()||Xe()||qe()||tt()||ut()&&!Je())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),vw=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=mw)}function mw(t){var n,r,i,a,o;return R((function(s){switch(s.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},r=t.video,i=t.audio,"media-source"!=t.type){if("file"!=t.type)return s.return(n);if(r&&!He(r.contentType)||i&&!He(i.contentType))return s.return(n);s.s(2);break}if(!Ve())return s.return(n);if(!r){s.s(3);break}return S(s,function(t){var n,r;return R((function(i){return 1==i.g?$e()?S(i,function(t){var n,r,i,a;return R((function(o){if(1==o.g){if(!(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(Gt(t.contentType));switch(n=t.contentType,t.width&&t.height&&1280<t.width&&720<t.height&&(n+="; width="+t.width+"; height="+t.height),t.framerate&&(24>(r=Math.round(t.framerate))||30<r)&&(n+="; framerate="+t.framerate),t.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return o.return(!1)}return i=!1,(a=kw).has(n)?(i=a.get(n),o.s(2)):S(o,cast.__platform__.canDisplayType(n),3)}return 2!=o.g&&(i=o.h,a.set(n,i)),o.return(i)}))}(t),3):qe()?(n=t.contentType,t.width&&t.height&&(n+="; width="+t.width,n+="; height="+t.height),t.framerate&&(n+="; framerate="+t.framerate),t.bitrate&&(n+="; bitrate="+t.bitrate),i.return(Gt(n))):i.s(2):2!=i.g?(r=i.h,i.return(r)):i.return(Gt(t.contentType))}))}(r),4);case 4:if(!s.h)return s.return(n);case 3:if(i){var u=i.contentType;if($e()&&i.spatialRendering&&(u+="; spatialRendering=true"),!Gt(u))return s.return(n)}case 2:return t.keySystemConfiguration?(a=t.keySystemConfiguration,S(s,function(e,t,n){var r,i,a,o,s,u,l,c,d,f,p;return R((function(h){switch(h.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},qe()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),i.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(s.audioCapabilities=r),i.length&&(s.videoCapabilities=i),u=e?e.contentType:"",l=t?t.contentType:"",c=Br(u)+";"+Fr(u),d=Br(l)+";"+Fr(l),f=n.keySystem,p=null,T(h,2),Fe.has(c+"#"+d+"#"+f)){p=Fe.get(c+"#"+d+"#"+f)||null,h.s(4);break}return S(h,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:p=h.h,Fe.set(c+"#"+d+"#"+f,p);case 4:A(h,3);break;case 2:E(h);case 3:return h.return(p)}}))}(r,i,a),6)):(n.supported=!0,s.return(n));case 6:(o=s.h)&&(n.supported=!0,n.keySystemAccess=o);case 5:return s.return(n)}}))}rw.Aria=ow,ow.install=sw,iw(sw),rw.EncryptionScheme=lw,lw.install=cw,iw(cw,-2),rw.Fullscreen=dw,dw.install=fw,iw(fw),rw.MediaCapabilities=hw,hw.install=gw;var vw=null;hw.originalMcap=vw;var yw,bw,ww,Sw,xw,Tw,kw=new Map;function Aw(){}function Ew(){var t=nt();(e.MediaSource||e.ManagedMediaSource)&&(t&&e.MediaSource?12>=t?(Cw(),Iw()):15>=t&&Cw():st("DT_STB_BCM")?(Cw(),Iw()):(st("Tizen 2")||We()||st("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(e){return"opus"!=Fr(e)&&t(e)},e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"opus"!=Fr(e)&&n(e)}}}()),(e.MediaSource||e.ManagedMediaSource)&&function(){if(e.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(e){return"mp2t"!=jr(e)&&t(e)}}if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"mp2t"!=jr(e)&&n(e)}}}(),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Xe()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function Cw(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,N.apply(0,arguments));return t.abort=function(){},t}}function Iw(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Mw(){}function Dw(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Pw;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new ta("change");n.dispatchEvent(e)}))}())}function Pw(){ia.call(this),this.type="",this.angle=0}function Lw(){}function Rw(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&(void 0!==t&&t&&(yw=!0,bw=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),ww=HTMLMediaElement.prototype.setMediaKeys,Sw=e.MediaKeys,xw=e.MediaKeySystemAccess,Tw=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=_w,e.MediaKeys=Uw,e.MediaKeySystemAccess=jw,navigator.requestMediaKeySystemAccess=Nw,e.shakaMediaKeysPolyfill=Hw,Ui.clear(),Fe.clear())}function Nw(e,t){try{var n=new jw(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function _w(e){var t=this.mediaKeys;return t&&t!=e&&Fw(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Fw(e,this):Promise.resolve()}function Ow(e){if(De(e=Ie(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=yt(e=mt(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=Ce(e),this.dispatchEvent(t)}function jw(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=c(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=c(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(a=(n=c(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t)return void(this.g=t)}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Uw(e){this.h=new WebKitMediaKeys(e),this.g=new ee}function Fw(e,t){if(e.g.Qa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",Ow);try{return Mu(t,HTMLMediaElement.HAVE_METADATA,e.g,(function(){t.webkitSetMediaKeys(e.h)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function Bw(e){ia.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ee,this.sessionId="",this.expiration=NaN,this.closed=new Xi,this.keyStatuses=new Vw}function zw(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new ta("keystatuseschange"),e.dispatchEvent(t)}function Vw(){this.size=0,this.g=void 0}iw(gw,-1),rw.MediaSource=Aw,Aw.install=Ew,iw(Ew),rw.Orientation=Mw,Mw.install=Dw,v(Pw,ia),Pw.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Pw.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},iw(Dw),rw.PatchedMediaKeysApple=Lw,Lw.uninstall=function(){yw&&(yw=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",bw),HTMLMediaElement.prototype.setMediaKeys=ww,e.MediaKeys=Sw,e.MediaKeySystemAccess=xw,navigator.requestMediaKeySystemAccess=Tw,bw=Tw=ww=xw=Sw=null,e.shakaMediaKeysPolyfill="",Ui.clear(),Fe.clear())},Lw.install=Rw,jw.prototype.createMediaKeys=function(){var e=new Uw(this.keySystem);return Promise.resolve(e)},jw.prototype.getConfiguration=function(){return this.g},Uw.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Bw(this.h)},Uw.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Uw.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(Bw,ia),(r=Bw.prototype).generateRequest=function(e,t){var n=this;this.h=new Xi;try{var r=this.l.createSession("video/mp4",Ie(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",(function(e){n.h&&(n.h.resolve(),n.h=null),e=new ta("message",e=(new Map).set("messageType",null==n.keyStatuses.dc()?"license-request":"license-renewal").set("message",Ce(e.message))),n.dispatchEvent(e)})),this.j.D(r,"webkitkeyadded",(function(){n.g&&(zw(n,"usable"),n.g.resolve(),n.g=null)})),this.j.D(r,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:zw(n,"output-not-allowed");break;default:zw(n,"internal-error")}})),zw(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.g=new Xi;try{this.i.update(Ie(e))}catch(t){this.g.reject(t)}return this.g},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Qa()}catch(TT){this.closed.reject(TT)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Vw.prototype).dc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Ue.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Ue.value();return!(!this.g||!Ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var Hw="apple";function Gw(){}function Kw(){e.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||We()||st("Tizen 4")||st("Tizen 5.0")||Ye())&&(MediaKeys.prototype.setServerCertificate=qw)}function qw(){return Promise.resolve(!1)}function Ww(){}function Xw(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)sS="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=$w,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Qw,e.MediaKeys=Zw,e.MediaKeySystemAccess=Jw,e.shakaMediaKeysPolyfill=uS}}function Yw(e){return sS?sS+e.charAt(0).toUpperCase()+e.slice(1):e}function $w(e,t){try{var n=new Jw(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Qw(e){var t=this.mediaKeys;return t&&t!=e&&eS(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&eS(e,this),Promise.resolve()}function Jw(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(t=c(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=c(a.audioCapabilities),l=u.next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(l),r=!0));if(a.videoCapabilities)for(l=(u=c(a.videoCapabilities)).next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType,this.g)&&(o.videoCapabilities.push(l),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Zw(e){this.l=e,this.h=null,this.g=new ee,this.i=[],this.j=new Map}function eS(e,t){e.h=t,e.g.Qa();var n=sS;t&&(e.g.D(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=Ce(t.initData),e.h.dispatchEvent(n)})),e.g.D(t,n+"keymessage",(function(t){var n=tS(e,t.sessionId);n&&(t=new ta("message",t=(new Map).set("messageType",null==n.keyStatuses.dc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.D(t,n+"keyadded",(function(t){(t=tS(e,t.sessionId))&&t.ready()})),e.g.D(t,n+"keyerror",(function(t){var n=tS(e,t.sessionId);if(n){var r=Error("EME v0.1b key error"),i=t.errorCode;i.systemCode=t.systemCode,r.errorCode=i,!t.sessionId&&n.h?(45==t.systemCode&&(r.message="Unsupported session type."),n.h.reject(r),n.h=null):t.sessionId&&n.g?(n.g.reject(r),n.g=null):(r=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?aS(n,"output-restricted"):aS(n,1==r?"expired":"internal-error"))}})))}function tS(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function nS(e,t,n){ia.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Xi,this.keyStatuses=new oS}function rS(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=Ie(yt("LOAD_SESSION|"+n));else{var i=yt("PERSISTENT|");r=Mt(i,t)}else r=Ie(t)}catch(o){return Promise.reject(o)}e.h=new Xi;var a=Yw("generateKeyRequest");try{e.j[a](e.i,r)}catch(o){if("InvalidStateError"!=o.name)return e.h=null,Promise.reject(o);new ze((function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).da(.01)}return e.h}function iS(e,t,n){if(e.g)e.g.then((function(){return iS(e,t,n)})).catch((function(){return iS(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=gt(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=Et(i.keys[0].k),i=Et(i.keys[0].kid)}else r=Ie(n),i=null;var a=Yw("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(o){e.g.reject(o),e.g=null}}}function aS(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new ta("keystatuseschange"),e.dispatchEvent(t)}function oS(){this.size=0,this.g=void 0}iw((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||Rw())})),rw.PatchedMediaKeysCert=Gw,Gw.install=Kw,iw(Kw),rw.PatchedMediaKeysWebkit=Ww,Ww.install=Xw,Jw.prototype.createMediaKeys=function(){var e=new Zw(this.g);return Promise.resolve(e)},Jw.prototype.getConfiguration=function(){return this.h},Zw.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new nS(t,this.l,e),this.i.push(e),e},Zw.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Zw.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(nS,ia),(r=nS.prototype).ready=function(){aS(this,"usable"),this.g&&this.g.resolve(),this.g=null},r.generateRequest=function(e,t){return rS(this,t,null)},r.load=function(e){return"persistent-license"==this.l?rS(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new Xi;return iS(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Yw("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=oS.prototype).dc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Ue.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Ue.value();return!(!this.g||!Ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var sS="",uS="webkit";function lS(){}function cS(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=fS,Object.defineProperty(t,"disablePictureInPicture",{get:hS,set:gS,enumerable:!0,configurable:!0}),document.exitPictureInPicture=pS,document.addEventListener("webkitpresentationmodechanged",dS,!0))}}function dS(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function fS(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function pS(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function hS(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function gS(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function mS(){}function vS(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=yS))}function yS(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function bS(){}function wS(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:SS})}function SS(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function xS(){}function TS(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function kS(){}function AS(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||Ye())&&(t.getVideoPlaybackQuality=ES)}}function ES(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function CS(){}function IS(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=MS;else if(6==n)t=DS;else{try{var r=!!MS(1,2,"")}catch(i){r=!1}r&&(t=MS)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function MS(t,n,r){return new e.TextTrackCue(t,n,r)}function DS(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function PS(){}iw(Xw),rw.PiPWebkit=lS,lS.install=cS,iw(cS),rw.RandomUUID=mS,mS.install=vS,iw(vS),rw.Symbol=bS,bS.install=wS,iw(wS),rw.VideoPlayPromise=xS,xS.install=TS,iw(TS),rw.VideoPlaybackQuality=kS,kS.install=AS,iw(AS),rw.VTTCue=CS,CS.install=IS,iw(IS),PS.prototype.parseInit=function(){},PS.prototype.setSequenceMode=function(){},PS.prototype.setManifestType=function(){},PS.prototype.parseMedia=function(e,t){for(var n=null,r=[],i=(e=c(e=gt(e).split(/\r?\n/))).next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=LS.exec(i))){var a=RS.exec(i[1]);i=new Jn(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},z("shaka.text.LrcTextParser",PS),PS.prototype.parseMedia=PS.prototype.parseMedia,PS.prototype.setManifestType=PS.prototype.setManifestType,PS.prototype.setSequenceMode=PS.prototype.setSequenceMode,PS.prototype.parseInit=PS.prototype.parseInit;var LS=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,RS=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function NS(){}function _S(e,t,n,r,i,a,o,s,u,l,d,f,p){var h=l;if(Tn(e)){if(!d)return null;var g={tagName:"span",children:[En(e)],attributes:{},parent:null}}else g=e;for(var m=null,v=c(lx),y=v.next();!y.done&&!(m=HS(g,"backgroundImage",r,"#",y.value)[0]);y=v.next());v=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((y=Nn(g,lx,"backgroundImage"))&&b.test(y)){if((v=parseInt(y.split(":").pop(),10)-1)>=p.length)return null;v=p[v]}else f&&y&&!y.startsWith("#")&&(b=new le(f),y=new le(y),(y=b.resolve(y).toString())&&(v=y));if(("p"==e.tagName||m||v)&&(d=!0),e=d,y="default"==(g.attributes["xml:space"]||(s?"default":"preserve")),s=[],!(b=g.children.every(Tn)))for(var w=c(g.children),S=w.next();!S.done;S=w.next())(S=_S(S.value,t,n,r,i,a,o,y,u,g,d,f,p))&&s.push(S);if(r=null!=l,f=En(g),f=g.children.length&&f&&/\S/.test(f),!((w=g.attributes.begin||g.attributes.end||g.attributes.dur)||f||"br"==g.tagName||0!=s.length||r&&!y))return null;for(f=(p=KS(g,n)).start,p=p.end;h&&h.tagName&&"tt"!=h.tagName;)f=(p=GS(h,n,f,p)).start,p=p.end,h=h.parent;if(null==f&&(f=0),f+=t.periodStart,p=null==p?1/0:p+t.periodStart,f=Math.max(f,t.segmentStart),p=Math.min(p,t.segmentEnd),!w&&0<s.length)for(f=1/0,p=0,n=(t=c(s)).next();!n.done;n=t.next())n=n.value,f=Math.min(f,n.startTime),p=Math.max(p,n.endTime);if("br"==g.tagName)return(i=new Jn(f,p,"")).lineBreak=!0,i;if(t="",b&&(t=St(En(g)||""),y&&(t=t.replace(/\s+/g," "))),(t=new Jn(f,p,t)).nestedCues=s,d||(t.isContainer=!0),u&&(t.cellResolution=u),u=HS(g,"region",a,"")[0],g.attributes.region&&u&&u.attributes["xml:id"]){var x=u.attributes["xml:id"];t.region=o.filter((function(e){return e.id==x}))[0]}return o=u,l&&r&&!g.attributes.region&&!g.attributes.style&&(o=HS(l,"region",a,"")[0]),function(e,t,n,r,i,a,o,s){if("rtl"==FS(t,n,a,"direction",o=o||s)&&(e.direction="rtl"),"tb"==(s=FS(t,n,a,"writingMode",o))||"tblr"==s?e.writingMode="vertical-lr":"tbrl"==s?e.writingMode="vertical-rl":"rltb"==s||"rl"==s?e.direction="rtl":s&&(e.direction=cr),(s=FS(t,n,a,"textAlign",!0))?(e.positionAlign=ox.get(s),e.lineAlign=ax.get(s),e.textAlign=sr[s.toUpperCase()]):e.textAlign=or,(s=FS(t,n,a,"displayAlign",!0))&&(e.displayAlign=lr[s.toUpperCase()]),(s=FS(t,n,a,"color",o))&&(e.color=jS(s)),(s=FS(t,n,a,"backgroundColor",o))&&(e.backgroundColor=jS(s)),(s=FS(t,n,a,"border",o))&&(e.border=s),s=FS(t,n,a,"fontFamily",o))switch(s){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=s.split(",").filter((function(e){return"default"!=e})).join(",")}switch((s=FS(t,n,a,"fontWeight",o))&&"bold"==s&&(e.fontWeight=yr),s=FS(t,n,a,"wrapOption",o),e.wrapLine=!s||"noWrap"!=s,(s=FS(t,n,a,"lineHeight",o))&&s.match(QS)&&(e.lineHeight=s),(s=FS(t,n,a,"fontSize",o))&&(s.match(QS)||s.match($S))&&(e.fontSize=s),(s=FS(t,n,a,"fontStyle",o))&&(e.fontStyle=Sr[s.toUpperCase()]),r?(i=r.attributes.imageType||r.attributes.imagetype,s=r.attributes.encoding,r=En(r).trim(),"PNG"==i&&"Base64"==s&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=FS(t,n,a,"textOutline",o))&&((r=r.split(" "))[0].match(QS)?e.textStrokeColor=e.color:(e.textStrokeColor=jS(r[0]),r.shift()),r[0]&&r[0].match(QS)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=FS(t,n,a,"letterSpacing",o))&&r.match(QS)&&(e.letterSpacing=r),(r=FS(t,n,a,"linePadding",o))&&r.match(QS)&&(e.linePadding=r),(r=FS(t,n,a,"opacity",o))&&(e.opacity=parseFloat(r)),(r=BS(n,a,"textDecoration"))&&US(e,r),(r=zS(t,a,"textDecoration"))&&US(e,r),(r=FS(t,n,a,"textCombine",o))&&(e.textCombineUpright=r),FS(t,n,a,"ruby",o)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}(t,g,o,m,v,i,e,0==s.length),t}function OS(e,t,n){var r=new nn,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=YS.exec(n)||JS.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var a,o=BS(e,t,"extent");if(o){var s=(a=YS.exec(o))||JS.exec(o);null!=s&&(r.width=Number(s[1]),r.height=Number(s[2]),a||(null!=n&&(r.width=100*r.width/n),null!=i&&(r.height=100*r.height/i)),r.widthUnits=a||null!=n?rn:0,r.heightUnits=a||null!=i?rn:0)}return(e=BS(e,t,"origin"))&&null!=(s=(a=YS.exec(e))||JS.exec(e))&&(r.viewportAnchorX=Number(s[1]),r.viewportAnchorY=Number(s[2]),a?o||(r.width=100-r.viewportAnchorX,r.widthUnits=rn,r.height=100-r.viewportAnchorY,r.heightUnits=rn):(null!=i&&(r.viewportAnchorY=100*r.viewportAnchorY/i),null!=n&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=a||null!=n?rn:0),r}function jS(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&4==(t=t[1].split(",")).length?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function US(e,t){for(var n=(t=c(t.split(" "))).next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(xr)||e.textDecoration.push(xr);break;case"noUnderline":e.textDecoration.includes(xr)&&sn(e.textDecoration,xr);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&sn(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&sn(e.textDecoration,"overline")}}function FS(e,t,n,r,i){return i=void 0===i||i,(e=zS(e,n,r))?e:i?BS(t,n,r):null}function BS(e,t,n){if(!e)return null;var r=Nn(e,ux,n);return r||VS(e,t,n)}function zS(e,t,n){var r=Nn(e,ux,n);return r||VS(e,t,n)}function VS(e,t,n){e=HS(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=Ln(e[i],"urn:ebu:tt:style",n);a||(a=Nn(e[i],ux,n)),a||(a=zS(e[i],t,n)),a&&(r=a)}return r}function HS(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;!e&&!(e=i?Ln(o,i,t):o.attributes[t])&&(o=o.parent););if(t=e)for(i=(t=c(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=c(n)).next();!o.done;o=e.next())if(r+(o=o.value).attributes["xml:id"]==i){a.push(o);break}return a}function GS(e,t,n,r){return e=KS(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==r?r=e.end:null!=e.start&&(r+=e.start),{start:n,end:r}}function KS(e,t){var n=qS(e.attributes.begin,t),r=qS(e.attributes.end,t);return e=qS(e.attributes.dur,t),null==r&&null!=e&&(r=n+e),{start:n,end:r}}function qS(e,t){var n=null;if(ZS.test(e)){e=ZS.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);n=(i+=(a+=(Number(e[5])||0)/t.h)/t.frameRate)+60*r+3600*n}else if(ex.test(e))n=WS(ex,e);else if(tx.test(e))n=WS(tx,e);else if(nx.test(e))e=nx.exec(e),n=Number(e[1])/t.frameRate;else if(rx.test(e))e=rx.exec(e),n=Number(e[1])/t.g;else if(ix.test(e))n=WS(ix,e);else if(e)throw new Le(2,2,2001,"Could not parse cue time range in TTML");return n}function WS(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function XS(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Wr("application/x-subtitle-lrc",(function(){return new PS})),NS.prototype.parseInit=function(){},NS.prototype.setSequenceMode=function(){},NS.prototype.setManifestType=function(){},NS.prototype.parseMedia=function(e,t,n,r){var i=gt(e);if(e=[],""==i)return e;var a=Sn(i,"tt",!0);if(!a)throw new Le(2,2,2005,"Failed to parse TTML.");if(!(i=In(a,"body")[0]))return[];var o=Nn(a,sx,"frameRate"),s=Nn(a,sx,"subFrameRate"),u=Nn(a,sx,"frameRateMultiplier"),l=Nn(a,sx,"tickRate"),d=Nn(a,sx,"cellResolution"),f=a.attributes["xml:space"]||"default",p=Nn(a,ux,"extent");if("default"!=f&&"preserve"!=f)throw new Le(2,2,2005,"Invalid xml:space value: "+f);f="default"==f,o=new XS(o,s,u,l),d=function(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}(d),s=((s=In(a,"metadata")[0])?s.children:[]).filter((function(e){return"\n"!=e})),u=In(a,"style"),l=[];for(var h=c(a=In(a,"region")),g=h.next();!g.done;g=h.next())(g=OS(g.value,u,p))&&l.push(g);if(An(i,"p").length)throw new Le(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(p=c(An(i,"div"))).next();!h.done;h=p.next())if(An(h.value,"span").length)throw new Le(2,2,2001,"<span> can only be inside <p> in TTML");return(t=_S(i,t,o,s,u,a,l,f,d,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},z("shaka.text.TtmlTextParser",NS),NS.prototype.parseMedia=NS.prototype.parseMedia,NS.prototype.setManifestType=NS.prototype.setManifestType,NS.prototype.setSequenceMode=NS.prototype.setSequenceMode,NS.prototype.parseInit=NS.prototype.parseInit;var YS=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,$S=/^(\d{1,4}(?:\.\d+)?|100)%$/,QS=/^(\d+px|\d+em|\d*\.?\d+c)$/,JS=/^(\d+)px (\d+)px$/,ZS=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ex=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,tx=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,nx=/^(\d*(?:\.\d*)?)f$/,rx=/^(\d*(?:\.\d*)?)t$/,ix=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),ax=(new Map).set("left",pr).set("center","center").set("right","end").set("start",pr).set("end","end"),ox=(new Map).set("left","line-left").set("center","center").set("right","line-right"),sx=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],ux=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],lx=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function cx(){this.g=new NS}function dx(){this.g="UNKNOWN"}function fx(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?or:sr[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":ar)):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){return e=e.filter((function(e){return e.id==t})),e.length?e[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=hr[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=fr,e.line=Number(n[1]),n[2]&&(e.lineAlign=hr[n[2].toUpperCase()]))}function px(){this.g=null}function hx(e,t,n){var r,i,a;return(new Ea).box("payl",Pa((function(e){r=gt(e)}))).box("iden",Pa((function(e){i=gt(e)}))).box("sttg",Pa((function(e){a=gt(e)}))).parse(e),r?function(e,t,n,r,i){if(tr(e=new Jn(r,i,e)),t&&(e.id=t),n)for(t=new cn(n),n=pn(t);n;)fx(e,n,[]),dn(t),n=pn(t);return e}(r,i,a,t,n):null}function gx(){}function mx(){this.g=new dx}function vx(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=c((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}function yx(){}function bx(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=wx(n))&&(e.color=n),(n=t.BackColour)&&(n=wx(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=yr),t.Italic&&(e.fontStyle=wr),t.Underline&&e.textDecoration.push(xr),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=ur,e.textAlign="start";break;case 2:e.displayAlign=ur,e.textAlign=or;break;case 3:e.displayAlign=ur,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=or;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=or;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function wx(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function Sx(e){return 3600*((e=Ax.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Wr("application/ttml+xml",(function(){return new NS})),cx.prototype.parseInit=function(e){var t=!1;if((new Ea).box("moov",Ca).box("trak",Ca).box("mdia",Ca).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new Le(2,2,2007)},cx.prototype.setSequenceMode=function(){},cx.prototype.setManifestType=function(){},cx.prototype.parseMedia=function(e,t,n){var r=[],i=null,a=[],o=new Map,s=[];if((new Ea).box("moof",Ca).box("traf",Ca).R("tfhd",(function(e){i=Co(e.reader,e.flags).md})).R("trun",(function(e){for(var t=(e=c((e=Do(e.reader,e.version,e.flags)).fg)).next();!t.done;t=e.next())s.push(t.value.sampleSize||i||0)})).R("subs",(function(e){for(var t=e.reader,n=t.S(),r=-1,i=0;i<n;i++){var a=t.S();r+=a,a=t.na();for(var s=[],u=0;u<a;u++)1==e.version?s.push(t.S()):s.push(t.na()),t.X(),t.X(),t.S();o.set(r,s)}})).box("mdat",Pa((function(e){a.push(e)}))).parse(e,!1),0==a.length)throw new Le(2,2,2007);for(var u=Mt.apply(Tt,d(a)),l=0,f=0;f<s.length;f++){var p=Ie(u,l,s[f]);l+=s[f];var h=o.get(f);if(h&&h.length){p=Ie(p,0,h[0]);for(var g=[],m=h[0],v=1;v<h.length;v++){var y=Ie(e,m,h[v]);y=kt(y),g.push("data:image/png;base64,"+y),m+=h[v]}r=r.concat(this.g.parseMedia(p,t,n,g))}else r=r.concat(this.g.parseMedia(p,t,n,[]))}return r},z("shaka.text.Mp4TtmlParser",cx),cx.prototype.parseMedia=cx.prototype.parseMedia,cx.prototype.setManifestType=cx.prototype.setManifestType,cx.prototype.setSequenceMode=cx.prototype.setSequenceMode,cx.prototype.parseInit=cx.prototype.parseInit,Wr('application/mp4; codecs="stpp"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.im1i"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.im2i"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.im2t"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.etd1"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.etd1|im1t"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.ttml.im1t|etd1"',(function(){return new cx})),Wr('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new cx})),dx.prototype.parseInit=function(){},dx.prototype.setSequenceMode=function(){},dx.prototype.setManifestType=function(e){this.g=e},dx.prototype.parseMedia=function(e,t){var n=(e=(e=gt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Le(2,2,2e3);if(e=t.vttOffset,"HLS"==this.g)if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new Le(2,2,2e3);if(null==(e=gn(e[1])))throw new Le(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],i=(r=c(n[0].split("\n"))).next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new cn(i);var a=new nn;pn(i),dn(i);for(var o=pn(i);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),dn(i),o=pn(i)}t.push(a)}for(nr(r=new Map),i=[],a=(n=c(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=c(s)).next();!o.done;o=s.next()){var l=o.value;o="global",(u=l[0].match(/\((.*)\)/))&&(o=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=r.get(o))||(l=new Jn(0,0,""));for(var d=!1,f=0;f<u.length;f++){var p=/^\s*([^:]+):\s*(.*)/.exec(u[f]);if(p){var h=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":case"background":d=!0,l.backgroundColor=h;break;case"color":d=!0,l.color=h;break;case"font-family":d=!0,l.fontFamily=h;break;case"font-size":d=!0,l.fontSize=h;break;case"font-weight":(700<=parseInt(h,10)||"bold"==h)&&(d=!0,l.fontWeight=yr);break;case"font-style":switch(h){case"normal":d=!0,l.fontStyle=br;break;case"italic":d=!0,l.fontStyle=wr;break;case"oblique":d=!0,l.fontStyle="oblique"}break;case"opacity":d=!0,l.opacity=parseFloat(h);break;case"text-combine-upright":d=!0,l.textCombineUpright=h;break;case"text-shadow":d=!0,l.textShadow=h;break;case"white-space":d=!0,l.wrapLine="noWrap"!=h}}}d&&r.set(o,l)}}if(d=e,1==(l=a).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0]||"REGION"==l[0])a=null;else if(a=null,l[0].includes("--\x3e")||(a=l[0],l.splice(0,1)),o=hn(s=new cn(l[0])),f=fn(s,/[ \t]+--\x3e[ \t]+/g),u=hn(s),null==o||null==f||null==u)Y("Failed to parse VTT time code. Cue skipped:",a,l),a=null;else{for(o+=d,u+=d,d=l.slice(1).join("\n").trim(),r.has("global")?((l=r.get("global").clone()).startTime=o,l.endTime=u,l.payload=d):l=new Jn(o,u,d),dn(s),o=pn(s);o;)fx(l,o,t),dn(s),o=pn(s);tr(l,r),null!=a&&(l.id=a),a=l}a&&i.push(a)}return i},z("shaka.text.VttTextParser",dx),dx.prototype.parseMedia=dx.prototype.parseMedia,dx.prototype.setManifestType=dx.prototype.setManifestType,dx.prototype.setSequenceMode=dx.prototype.setSequenceMode,dx.prototype.parseInit=dx.prototype.parseInit,Wr("text/vtt",(function(){return new dx})),Wr('text/vtt; codecs="vtt"',(function(){return new dx})),Wr('text/vtt; codecs="wvtt"',(function(){return new dx})),px.prototype.parseInit=function(e){var t=this,n=!1;if((new Ea).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){e=Mo(e.reader,e.version),t.g=e.timescale})).box("minf",Ca).box("stbl",Ca).R("stsd",Ia).box("wvtt",(function(){n=!0})).parse(e),!this.g)throw new Le(2,2,2008);if(!n)throw new Le(2,2,2008)},px.prototype.setSequenceMode=function(){},px.prototype.setManifestType=function(){},px.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new Le(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,l=null;if((new Ea).box("moof",Ca).box("traf",Ca).R("tfdt",(function(e){o=!0,r=Io(e.reader,e.version).baseMediaDecodeTime})).R("tfhd",(function(e){l=Co(e.reader,e.flags).ld})).R("trun",(function(e){s=!0,i=Do(e.reader,e.version,e.flags).fg})).box("mdat",Pa((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new Le(2,2,2008);e=r;for(var d=new Ta(n,0),f=c(i),p=f.next();!p.done;p=f.next()){var h=(p=p.value).gg||l,g=p.ye?r+p.ye:e;e=g+(h||0);var m=0;do{var v=d.S();m+=v;var y=null;"vttc"==Ra(d.S())?8<v&&(y=d.Cb(v-8)):d.skip(v-8),h&&y&&(v=hx(y,t.periodStart+g/this.g,t.periodStart+e/this.g),a.push(v))}while(p.sampleSize&&m<p.sampleSize)}return a.filter(ti)},z("shaka.text.Mp4VttParser",px),px.prototype.parseMedia=px.prototype.parseMedia,px.prototype.setManifestType=px.prototype.setManifestType,px.prototype.setSequenceMode=px.prototype.setSequenceMode,px.prototype.parseInit=px.prototype.parseInit,Wr('application/mp4; codecs="wvtt"',(function(){return new px})),gx.prototype.parseInit=function(){},gx.prototype.setSequenceMode=function(){},gx.prototype.setManifestType=function(){},gx.prototype.parseMedia=function(e){var t=gt(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var n=(t=c(t.split("\n\n"))).next();!n.done;n=t.next()){var r=new cn((n=n.value.split("\n"))[0]),i=hn(r),a=fn(r,/,/g);if(r=hn(r),null==i||null==a||null==r)throw new Le(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Jn(i,r,n.slice(1).join("\n").trim()))}return e},z("shaka.text.SbvTextParser",gx),gx.prototype.parseMedia=gx.prototype.parseMedia,gx.prototype.setManifestType=gx.prototype.setManifestType,gx.prototype.setSequenceMode=gx.prototype.setSequenceMode,gx.prototype.parseInit=gx.prototype.parseInit,Wr("text/x-subviewer",(function(){return new gx})),mx.prototype.parseInit=function(){},mx.prototype.setSequenceMode=function(){},mx.prototype.setManifestType=function(){},mx.prototype.parseMedia=function(e,t,n){return e=Ie(yt(e=vx(e=gt(e)))),this.g.parseMedia(e,t,n,[])},z("shaka.text.SrtTextParser",mx),mx.srt2webvtt=vx,mx.prototype.parseMedia=mx.prototype.parseMedia,mx.prototype.setManifestType=mx.prototype.setManifestType,mx.prototype.setSequenceMode=mx.prototype.setSequenceMode,mx.prototype.parseInit=mx.prototype.parseInit,Wr("text/srt",(function(){return new mx})),yx.prototype.parseInit=function(){},yx.prototype.setSequenceMode=function(){},yx.prototype.setManifestType=function(){},yx.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=(e=c(i=gt(e).split(/\r?\n\s*\r?\n/))).next();!i.done;i=e.next()){var a=i.value;i=a,(a=xx.exec(a))&&(r=a[1],i=a[2]),"V4 Styles"==r||"V4+ Styles"==r?(t=i,t=n?t+"\n"+i:i):"Events"==r&&(n=n?n+"\n"+i:i)}for(r=[],i=null,e=(t=c(t.split(/\r?\n/))).next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=Tx.exec(e)))if(e=a[1].trim(),a=a[2].trim(),"Format"==e)i=a.split(kx);else if("Style"==e){e=a.split(kx),a={};for(var o=0;o<i.length&&o<e.length;o++)a[i[o]]=e[o];r.push(a)}for(i=[],t=null,a=(n=c(n.split(/\r?\n/))).next(),e={};!a.done;e={Dh:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=Tx.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(kx);else if("Dialogue"==a){o=o.split(kx),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new Jn(s=Sx(a.Start),Sx(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.Dh=a.Style,(e=r.find(function(e){return function(t){return t.Name==e.Dh}}(e)))&&bx(o,e),i.push(o)}return i},z("shaka.text.SsaTextParser",yx),yx.prototype.parseMedia=yx.prototype.parseMedia,yx.prototype.setManifestType=yx.prototype.setManifestType,yx.prototype.setSequenceMode=yx.prototype.setSequenceMode,yx.prototype.parseInit=yx.prototype.parseInit;var xx=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,Tx=/^\s*([^:]+):\s*(.*)/,kx=/\s*,\s*/,Ax=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function Ex(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{ud:n,ia:e}:null}function Cx(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=1+((192&e[t+2])>>>6),a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function Ix(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function Mx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Dx(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,ra:e,ia:i}}function Px(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,a=5;for(t+=a;0<a;){r=e[t];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,t+=1,a-=o}if(16>i)return!0}return!1}function Lx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Rx(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]))return null;var n=new Ls(e.subarray(t+2));Ns(n,2),Ns(n,3);var r=_s(n,11)+1<<1,i=_s(n,2);if(3==i){i=[24e3,22060,16e3][i=_s(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=_s(n,2);var o=_s(n,3),s=_s(n,1);return n=_s(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1,o<<1|s,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,ra:e,ia:r})}function Nx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}Wr("text/x-ssa",(function(){return new yx})),(r=Mx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Gt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(zr(t)||"mp4a.40.2")+'"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ie(e),a=Ps(i),o=a.length;o<i.length&&!Ix(i,o);o++);if(e=1e3*n.endTime,(a=Ds(a)).length&&n&&(a=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=a.data),!(a=Cx(i,o)))return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var s=[];o<i.length;){var u=Ex(i,o);if(!u)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));var l=u.ud+u.ia;o+l<=i.length&&s.push({data:i.subarray(o+u.ud,o+l),size:u.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),o+=l}return i=a.sampleRate,e=Math.floor(e*i/1e3),r=new _o([r={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:s},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Oo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Mt(t,r),Promise.resolve(t)):Promise.resolve(r)},z("shaka.transmuxer.AacTransmuxer",Mx),Mx.prototype.transmux=Mx.prototype.transmux,Mx.prototype.getOriginalMimeType=Mx.prototype.getOriginalMimeType,Mx.prototype.convertCodecs=Mx.prototype.convertCodecs,Mx.prototype.isSupported=Mx.prototype.isSupported,Mx.prototype.destroy=Mx.prototype.destroy,Ar("audio/aac",(function(){return new Mx("audio/aac")}),Ir),(r=Lx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Gt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?We()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ps(e=Ie(e)),a=i.length;a<e.length&&!Px(e,a);a++);var o=1e3*n.endTime;(i=Ds(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=Dx(e,a);if(!l)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,i=l.sampleRate,s=l.ra,u.push({data:e.subarray(a,a+l.ia),size:l.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=l.ia}return e=Math.floor(o*i/1e3),r=new _o([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:s,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Oo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Mt(t,r),Promise.resolve(t)):Promise.resolve(r)},z("shaka.transmuxer.Ac3Transmuxer",Lx),Lx.prototype.transmux=Lx.prototype.transmux,Lx.prototype.getOriginalMimeType=Lx.prototype.getOriginalMimeType,Lx.prototype.convertCodecs=Lx.prototype.convertCodecs,Lx.prototype.isSupported=Lx.prototype.isSupported,Lx.prototype.destroy=Lx.prototype.destroy,Ar("audio/ac3",(function(){return new Lx("audio/ac3")}),Ir),(r=Nx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Gt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ps(e=Ie(e)),a=i.length;a<e.length&&2935!=(e[a]<<8|e[a+1]);a++);var o=1e3*n.endTime;(i=Ds(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=Rx(e,a);if(!l)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,i=l.sampleRate,s=l.ra,u.push({data:e.subarray(a,a+l.ia),size:l.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=l.ia}return e=Math.floor(o*i/1e3),r=new _o([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:s,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Oo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Mt(t,r),Promise.resolve(t)):Promise.resolve(r)},z("shaka.transmuxer.Ec3Transmuxer",Nx),Nx.prototype.transmux=Nx.prototype.transmux,Nx.prototype.getOriginalMimeType=Nx.prototype.getOriginalMimeType,Nx.prototype.convertCodecs=Nx.prototype.convertCodecs,Nx.prototype.isSupported=Nx.prototype.isSupported,Nx.prototype.destroy=Nx.prototype.destroy,Ar("audio/ec3",(function(){return new Nx("audio/ec3")}),Ir);var _x=[100,110,122,244,44,83,86,118,128,138,139,134];function Ox(e){if(!e.length)return null;var t=e.find((function(e){return 32==e.type})),n=e.find((function(e){return 33==e.type})),r=e.find((function(e){return 34==e.type}));if(!t||!n||!r)return null;var i=function(e){var t=new Ls(e,!0);return zs(t),zs(t),_s(t,4),_s(t,2),_s(t,6),e=_s(t,3),t=Bs(t),{Uf:e+1,rg:t}}(t.fullData);e=function(e){zs(e=new Ls(e,!0)),zs(e);var t=0,n=0,r=0,i=0;_s(e,4);var a=_s(e,3);Bs(e);for(var o=_s(e,2),s=_s(e,1),u=_s(e,5),l=zs(e),c=zs(e),d=zs(e),f=zs(e),p=zs(e),h=zs(e),g=zs(e),m=zs(e),v=zs(e),y=zs(e),b=zs(e),w=[],S=[],x=0;x<a;x++)w.push(Bs(e)),S.push(Bs(e));if(0<a)for(x=a;8>x;x++)_s(e,2);for(x=0;x<a;x++)w[x]&&_s(e,88),S[x]&&zs(e);Us(e),3==(w=Us(e))&&_s(e,1),S=Us(e),x=Us(e),Bs(e)&&(t+=Us(e),n+=Us(e),r+=Us(e),i+=Us(e));var T=Us(e),k=Us(e),A=Us(e);if(Bs(e))for(var E=0;E<=a;E++)Us(e),Us(e),Us(e);else Us(e),Us(e),Us(e);if(Us(e),Us(e),Us(e),Us(e),Us(e),Us(e),Bs(e)&&Bs(e))for(E=0;4>E;E++)for(var C=0;C<(3===E?2:6);C++)if(Bs(e)){var I=Math.min(64,1<<4+(E<<1));1<E&&Fs(e);for(var M=0;M<I;M++)Fs(e)}else Us(e);for(Bs(e),Bs(e),Bs(e)&&(zs(e),Us(e),Us(e),Bs(e)),E=Us(e),I=C=0;I<E;I++)if(M=!1,0!==I&&(M=Bs(e)),M){I===E&&Us(e),Bs(e),Us(e);for(var D=M=0;D<=C;D++){var P=Bs(e),L=!1;P||(L=Bs(e)),(P||L)&&M++}C=M}else{for(C=(D=Us(e))+(M=Us(e)),P=0;P<D;P++)Us(e),Bs(e);for(D=0;D<M;D++)Us(e),Bs(e)}if(Bs(e))for(E=Us(e),C=0;C<E;C++){for(I=0;I<A+4;I++)_s(e,1);_s(e,1)}if(E=A=1,C=0,Bs(e),Bs(e),Bs(e)){if(Bs(e)&&(M=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],D=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<(I=zs(e))&&16>=I?(A=M[I-1],E=D[I-1]):255===I&&(A=_s(e,16),E=_s(e,16))),Bs(e)&&Bs(e),Bs(e)&&(_s(e,3),Bs(e),Bs(e)&&(zs(e),zs(e),zs(e))),Bs(e)&&(Us(e),Us(e)),Bs(e),Bs(e),Bs(e),(I=Bs(e))&&(Us(e),Us(e),Us(e),Us(e)),Bs(e)&&(_s(e,32),_s(e,32),Bs(e)&&Us(e),Bs(e)))for(D=!1,I=Bs(e),M=Bs(e),(I||M)&&((D=Bs(e))&&(zs(e),_s(e,5),Bs(e),_s(e,5)),_s(e,4),_s(e,4),D&&_s(e,4),_s(e,5),_s(e,5),_s(e,5)),P=0;P<=a;P++){var R=!0;L=1,Bs(e)||(R=Bs(e));var N=!1;if(R?Us(e):N=Bs(e),N||(L=Us(e)+1),I){for(R=0;R<L;R++)Us(e),Us(e),D&&(Us(e),Us(e));Bs(e)}if(M){for(R=0;R<L;R++)Us(e),Us(e),D&&(Us(e),Us(e));Bs(e)}}Bs(e)&&(Bs(e),Bs(e),Bs(e),C=Us(e),Us(e),Us(e),Us(e),Us(e))}return{yf:b,Ef:o,Ff:s,Df:u,zf:l,Af:c,Bf:d,Cf:f,rf:p,tf:h,uf:g,vf:m,wf:v,xf:y,le:C,hf:0,ff:w,ef:T,df:k,width:S-(t+n)*(1===w||2===w?2:1),height:x-(r+i)*(1===w?2:1),vj:A,uj:E}}(n.fullData);var a=function(e){var t=new Ls(e,!0);zs(t),zs(t),Us(t),Us(t),Bs(t),Bs(t),_s(t,3),Bs(t),Bs(t),Us(t),Us(t),Fs(t),Bs(t),Bs(t),Bs(t)&&Us(t),Fs(t),Fs(t),Bs(t),Bs(t),Bs(t),Bs(t),e=Bs(t),t=Bs(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Wf:n}}(r.fullData);return t=function(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(3&r.Ef)<<6|(r.Ff?1:0)<<5|31&r.Df,i[2]=r.zf,i[3]=r.Af,i[4]=r.Bf,i[5]=r.Cf,i[6]=r.rf,i[7]=r.tf,i[8]=r.uf,i[9]=r.vf,i[10]=r.wf,i[11]=r.xf,i[12]=r.yf,i[13]=240|(3840&r.le)>>8,i[14]=255&r.le,i[15]=252|3&r.Wf,i[16]=252|3&r.ff,i[17]=248|7&r.ef,i[18]=248|7&r.df,i[19]=0,i[20]=0,i[21]=(3&r.hf)<<6|(7&r.Uf)<<3|(r.rg?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(65280&e.byteLength)>>8,i[27]=255&e.byteLength,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(65280&t.byteLength)>>8,i[e.byteLength+32]=255&t.byteLength,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(65280&n.byteLength)>>8,i[e.byteLength+10+t.byteLength+27]=255&n.byteLength,i.set(n,e.byteLength+10+t.byteLength+28),i}(t.fullData,n.fullData,r.fullData,{Uf:i.Uf,rg:i.rg,Ef:e.Ef,Ff:e.Ff,yf:e.yf,Df:e.Df,zf:e.zf,Af:e.Af,Bf:e.Bf,Cf:e.Cf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,xf:e.xf,hf:e.hf,le:e.le,ff:e.ff,ef:e.ef,df:e.df,Wf:a.Wf}),{height:e.height,width:e.width,Ca:t,Ia:e.vj,Ka:e.uj}}function jx(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+3]>>6;i=1e3*Bx[14*(3===n?3-r:3===r?3:4)+i-1],a=zx[3*(3===n?0:2===n?1:2)+a],n=Vx[n][r];var s=Hx[r],u=Math.floor(n*i/a+(e[t+2]>>1&1))*s,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&87>=l&&2===r&&224e3<=i&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,ia:u,tj:8*n*s}}return null}function Ux(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}function Fx(e,t){if(t+1<e.length&&Ux(e,t)){var n=jx(e,t),r=4;return n&&n.ia&&(r=n.ia),(t+=r)===e.length||t+1<e.length&&Ux(e,t)}return!1}var Bx=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],zx=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Vx=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Hx=[0,1,1,4];function Gx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Kx(e){this.h=e,this.g=null}
/*
      		 @license
      		 MSS Transmuxer
      		 Copyright 2015 Dash Industry Forum
      		 SPDX-License-Identifier: BSD-3-Clause
      		*/
function qx(e){this.h=e,(this.g=tv.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==Xx[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function Wx(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(r=Gx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Gt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r){for(var i=Ie(e),a=Ps(i).length;a<i.length&&!Fx(i,a);a++);var o;for(e=[];a<i.length;){var s=jx(i,a);if(!s)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));o||(o=s),a+s.ia<=i.length&&e.push({data:i.subarray(a,a+s.ia),size:s.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=s.ia}return o?(i=9e4*o.tj/o.sampleRate*this.h,r=new _o([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:o.sampleRate,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:i,jb:e},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Oo(r),this.g.set(n,t)),n=this.i!==t,r=zo(r),this.i=t,this.h++,n?(t=Mt(t,r),Promise.resolve(t)):Promise.resolve(r)):Promise.reject(new Le(2,3,3018,n?n.N()[0]:null))},z("shaka.transmuxer.Mp3Transmuxer",Gx),Gx.prototype.transmux=Gx.prototype.transmux,Gx.prototype.getOriginalMimeType=Gx.prototype.getOriginalMimeType,Gx.prototype.convertCodecs=Gx.prototype.convertCodecs,Gx.prototype.isSupported=Gx.prototype.isSupported,Gx.prototype.destroy=Gx.prototype.destroy,Ar("audio/mpeg",(function(){return new Gx("audio/mpeg")}),Ir),(r=Kx.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=zr(e).split(","),n=Nt("audio",t);return t=Nt("video",t),!(!n||t||"mp3"!=Ur(n))&&Gt(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new Gs,e=Ie(e),"mp3"!=(e=this.g.parse(e)).od().audio||"audio"!=i)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=c(e.fb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=jx(e,t))?(t+r.ia<=e.length&&(n=Mt(n,e.subarray(t,t+r.ia))),t+=r.ia):t++;return Promise.resolve(n)},z("shaka.transmuxer.MpegTsTransmuxer",Kx),Kx.prototype.transmux=Kx.prototype.transmux,Kx.prototype.getOriginalMimeType=Kx.prototype.getOriginalMimeType,Kx.prototype.convertCodecs=Kx.prototype.convertCodecs,Kx.prototype.isSupported=Kx.prototype.isSupported,Kx.prototype.destroy=Kx.prototype.destroy,Ar("video/mp2t",(function(){return new Kx("video/mp2t")}),Mr),(r=qx.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Gt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Gt(t)||Gt(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(Ie(e));if(!t.mssPrivateData)return Promise.reject(new Le(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=i.fetch("trun"),l=i.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=i.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=i.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var f=i.fetch("saio");if(null===f){(f=this.g.createFullBox("saio",s)).version=0,f.flags=0,f.entry_count=1,f.offset=[0];var p=this.g.createFullBox("saiz",s);if(p.version=0,p.flags=0,p.sample_count=d.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],2&d.flags)for(r=0;r<d.sample_count;r+=1)p.sample_info_size[r]=10+6*d.entry[r].NumberOfEntries;else p.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var h=i.fetch("moof");u.data_offset=h.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Wx(h,"traf")+Wx(s,"senc")+16);var m=Ie(i.write());return Promise.resolve(m)}catch(v){return v instanceof Le?Promise.reject(v):Promise.reject(new Le(2,3,3022,n?n.N()[0]:null))}},z("shaka.transmuxer.MssTransmuxer",qx),qx.prototype.transmux=qx.prototype.transmux,qx.prototype.getOriginalMimeType=qx.prototype.getOriginalMimeType,qx.prototype.convertCodecs=qx.prototype.convertCodecs,qx.prototype.isSupported=qx.prototype.isSupported,qx.prototype.destroy=qx.prototype.destroy;var Xx=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function Yx(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}Ar("mss/audio/mp4",(function(){return new qx("mss/audio/mp4")}),Ir),Ar("mss/video/mp4",(function(){return new qx("mss/video/mp4")}),Ir),(r=Yx.prototype).destroy=function(){this.i.clear(),this.h&&this.h.destroy()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=zr(n).split(",");return n=Nt("audio",r),r=Nt("video",r),!(n&&(n=Ur(n),!Jx.includes(n))||r&&(n=Ur(r),!Zx.includes(n)))&&(t?Gt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Gt(t)||Gt(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=zr(t).replace("mp4a.40.34","mp3").split(",").map((function(e){return xi(e,"audio/mp4")})).map(Ti).join(","),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOriginalMimeType=function(){return this.m},r.transmux=function(e,t,n,r,i){var a=Ie(e);if("audio"==i&&!Xs(a)){for(var o=Ps(a),s=o.length;s<a.length;s++)if(Fx(a,s))return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));for(s=o.length;s<a.length;s++)if(Ix(a,s))return this.h||(this.h=new Mx("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new Gs;var u=this.j.parse(a),l=[],f=u.od();try{var p=null;if("video"==i){switch(f.video){case"avc":var h=[],g=null,m=u.wc(),v=function(e){function t(e){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:e.pts,dts:e.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var e=[],t=c(i.nalus),n=t.next();!n.done;n=t.next()){var a=(n=n.value).fullData.byteLength,o=new Uint8Array(4);o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,e.push(o),e.push(n.fullData)}i.data=Mt.apply(Tt,d(e)),r.push(i)}}for(var r=[],i=null,a=!1,o=0;o<e.length;o++){var s=e[o],u=s.nalus,l=!1;i&&u.length&&!a&&(n(),t(s));for(var f=(u=c(s.nalus)).next();!f.done;f=u.next()){var p=!1;switch((f=f.value).type){case 1:var h=!1;p=!0;var g=f.data;l&&4<g.length&&(2===(g=Hs(new Ls(g)))||4===g||7===g||9===g)&&(h=!0),h&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=h;break;case 5:p=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=!0;break;case 6:case 8:case 12:p=!0;break;case 7:l=p=!0;break;case 9:a=p=!0,i&&i.frame&&(n(),i=null),i||t(s);break;default:p=!1}i&&p&&i.nalus.push(f)}}return n(),r}(m);if(!v.length)throw new Le(2,3,3023,n?n.N()[0]:null);for(var y=0;y<v.length;y++){var b,w=v[y];null==g&&(g=w.dts),b=y+1<v.length?(v[y+1].dts||0)-(w.dts||0):1<v.length?(w.dts||0)-(v[y-1].dts||0):9e4*(n.endTime-n.startTime),h.push({data:w.data,size:w.data.byteLength,duration:b,eb:Math.round((w.pts||0)-(w.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:w.isKeyframe?2:1,ib:w.isKeyframe?0:1}})}for(var S=[],x=c(m),T=x.next();!T.done;T=x.next())S.push.apply(S,d(T.value.nalus));var k=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new Ls(t.data),r=zs(n);if(zs(n),zs(n),js(n),_x.includes(r)&&(3===(r=Us(n))&&Ns(n,1),js(n),js(n),Ns(n,1),Bs(n))){r=3!==r?8:12;for(var i=0;i<r;i++)Bs(n)&&Vs(n,6>i?16:64)}if(js(n),0===(r=Us(n)))Us(n);else if(1===r)for(Ns(n,1),js(n),js(n),r=Us(n),i=0;i<r;i++)js(n);js(n),Ns(n,1);var a=Us(n),o=Us(n),s=_s(n,1);0===s&&Ns(n,1),Ns(n,1);var u=0,l=0,c=0,f=0;if(Bs(n)&&(u=Us(n),l=Us(n),c=Us(n),f=Us(n)),i=r=1,Bs(n)&&Bs(n)){var p=zs(n);0<p&&16>=p?(r=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][p-1],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][p-1]):255===p&&(r=_s(n,16),i=_s(n,16))}return n=(2-s)*(o+1)*16-2*c-2*f,a=16*(a+1)-2*u-2*l,u=[],t=t.fullData,u.push(t.byteLength>>>8&255),u.push(255&t.byteLength),u=u.concat.apply(u,d(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,d(e)),{height:n,width:a,Ca:e=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],t)),Ia:r,Ka:i}}(S);if(!k||null==g)throw new Le(2,3,3018,n?n.N()[0]:null);t.height=k.height,t.width=k.width,p={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:k.Ca,Ia:k.Ia,Ka:k.Ka,data:{Db:this.g,baseMediaDecodeTime:g,jb:h},stream:t};break;case"hvc":var A=[],E=null,C=[],I=u.wc();if(!I.length)throw new Le(2,3,3023,n?n.N()[0]:null);for(var M=0;M<I.length;M++){var D=I[M],P=D.nalus;C.push.apply(C,d(P));for(var L=!1,R=[],N=!1,_=c(P),O=_.next();!O.done;O=_.next()){var j=O.value;switch(j.type){case 1:case 0:var U=N=!0;break;case 19:case 20:case 21:L=U=N=!0;break;case 32:case 33:case 34:case 39:case 40:U=!0;break;case 35:N=U=!0;break;default:U=!1}if(N&&U){var F=j.fullData.byteLength,B=new Uint8Array(4);B[0]=F>>24&255,B[1]=F>>16&255,B[2]=F>>8&255,B[3]=255&F,R.push(B),R.push(j.fullData)}}var z,V=R.length?{data:Mt.apply(Tt,d(R)),isKeyframe:L}:null;V&&(null==E&&null!=D.dts&&(E=D.dts),z=M+1<I.length?(I[M+1].dts||0)-(D.dts||0):1<I.length?(D.dts||0)-(I[M-1].dts||0):9e4*(n.endTime-n.startTime),A.push({data:V.data,size:V.data.byteLength,duration:z,eb:Math.round((D.pts||0)-(D.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:V.isKeyframe?2:1,ib:V.isKeyframe?0:1}}))}var H=Ox(C);if(!H||null==E)throw new Le(2,3,3018,n?n.N()[0]:null);t.height=H.height,t.width=H.width,p={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:H.Ca,Ia:H.Ia,Ka:H.Ka,data:{Db:this.g,baseMediaDecodeTime:E,jb:A},stream:t}}p&&(l.push(p),p=null)}if("audio"==i){switch(f.audio){case"aac":for(var G,K=[],q=null,W=null,X=null,Y=c(u.fb()),$=Y.next();!$.done;$=Y.next()){var Q=$.value,J=Q.data;if(J){var Z=0;if(-1==W&&X)J=Mt(X,Q.data),W=null;else if(null!=W&&X){Z=Math.max(0,W);var ee=Mt(X,J.subarray(0,Z));K.push({data:ee,size:ee.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),W=X=null}if(!(G=Cx(J,Z)))throw new Le(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=G.sampleRate,t.channelsCount=G.channelCount,null==q&&null!==Q.pts&&(q=Q.pts);Z<J.length;){var te=Ex(J,Z);if(!te){X=J.subarray(Z,J.length),W=-1;break}var ne=te.ud+te.ia;0!=(W=Math.max(0,Z+ne-J.length))?X=J.subarray(Z+te.ud,Z+ne):Z+ne<=J.length&&K.push({data:J.subarray(Z+te.ud,Z+ne),size:te.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Z+=ne}}}if(!G||null==q){if(!u.wc().length)throw new Le(2,3,3018,n?n.N()[0]:null);q=9e4*n.startTime;var re=Nt("audio",t.codecs.split(","));if(!re||!t.channelsCount||!t.audioSamplingRate)throw new Le(2,3,3018,n?n.N()[0]:null);G={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:re};var ie=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(re,t.channelsCount);if(!ie)throw new Le(2,3,3018,n?n.N()[0]:null);for(var ae=q+9e4*(n.endTime-n.startTime),oe=q;oe<ae;)K.push({data:ie,size:ie.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),oe+=1024/G.sampleRate*9e4}var se=G.sampleRate,ue=q/9e4*se;p={id:t.id,type:"audio",codecs:G.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:se,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:ue,jb:K},stream:t};break;case"ac3":for(var le=[],ce=0,de=new Uint8Array([]),fe=null,pe=c(u.fb()),he=pe.next();!he.done;he=pe.next()){var ge=he.value,me=ge.data;null==fe&&null!==ge.pts&&(fe=ge.pts);for(var ve=0;ve<me.length;){var ye=Dx(me,ve);ye?(t.audioSamplingRate=ye.sampleRate,t.channelsCount=ye.channelCount,ce=ye.sampleRate,de=ye.ra,le.push({data:me.subarray(ve,ve+ye.ia),size:ye.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),ve+=ye.ia):ve++}}if(0==ce||0==de.byteLength||null==fe)throw new Le(2,3,3018,n?n.N()[0]:null);var be=fe/9e4*ce;p={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ce,duration:r,lb:[],ra:de,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:be,jb:le},stream:t};break;case"ec3":for(var we=[],Se=0,xe=new Uint8Array([]),Te=null,ke=c(u.fb()),Ae=ke.next();!Ae.done;Ae=ke.next()){var Ee=Ae.value,Ce=Ee.data;null==Te&&null!==Ee.pts&&(Te=Ee.pts);for(var Me=0;Me<Ce.length;){var De=Rx(Ce,Me);De?(t.audioSamplingRate=De.sampleRate,t.channelsCount=De.channelCount,Se=De.sampleRate,xe=De.ra,we.push({data:Ce.subarray(Me,Me+De.ia),size:De.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Me+=De.ia):Me++}}if(0==Se||0==xe.byteLength||null==Te)throw new Le(2,3,3018,n?n.N()[0]:null);var Pe=Te/9e4*Se;p={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Se,duration:r,lb:[],ra:xe,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:Pe,jb:we},stream:t};break;case"mp3":for(var Re,Ne=[],_e=null,Oe=c(u.fb()),je=Oe.next();!je.done;je=Oe.next()){var Ue=je.value,Fe=Ue.data;if(Fe){null==_e&&null!==Ue.pts&&(_e=Ue.pts);for(var Be=0;Be<Fe.length;){var ze=jx(Fe,Be);ze?(Re||(Re=ze),Be+ze.ia<=Fe.length&&Ne.push({data:Fe.subarray(Be,Be+ze.ia),size:ze.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Be+=ze.ia):Be++}}}if(!Re||null==_e)throw new Le(2,3,3018,n?n.N()[0]:null);var Ve=Re.sampleRate,He=_e/9e4*Ve;p={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ve,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:He,jb:Ne},stream:t};break;case"opus":var Ge=[],Ke=null,qe=u.F;if(!qe)throw new Le(2,3,3018,n?n.N()[0]:null);var We=[];switch(qe.Zh){case 1:case 2:We=[0];break;case 0:We=[255,1,1,0,1];break;case 128:We=[255,2,0,0,1];break;case 3:We=[1,2,1,0,2,1];break;case 4:We=[1,2,2,0,1,2,3];break;case 5:We=[1,3,2,0,4,1,2,3];break;case 6:We=[1,4,2,0,4,1,2,3,5];break;case 7:We=[1,4,2,0,4,1,2,3,5,6];break;case 8:We=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:We=[1,1,2,0,1];break;case 131:We=[1,1,3,0,1,2];break;case 132:We=[1,1,4,0,1,2,3];break;case 133:We=[1,1,5,0,1,2,3,4];break;case 134:We=[1,1,6,0,1,2,3,4,5];break;case 135:We=[1,1,7,0,1,2,3,4,5,6];break;case 136:We=[1,1,8,0,1,2,3,4,5,6,7]}for(var Xe=new Uint8Array([0,qe.channelCount,0,0,qe.sampleRate>>>24&255,qe.sampleRate>>>17&255,qe.sampleRate>>>8&255,qe.sampleRate>>>0&255,0,0].concat(d(We))),Ye=qe.sampleRate,$e=c(u.fb()),Qe=$e.next();!Qe.done;Qe=$e.next()){var Je=Qe.value,Ze=Je.data;null==Ke&&null!==Je.pts&&(Ke=Je.pts);for(var et=0;et<Ze.length;){for(var tt=!!(16&Ze[et+1]),nt=!!(8&Ze[et+1]),rt=et+2,it=0;255===Ze[rt];)it+=255,rt+=1;it+=Ze[rt],rt+=1,rt+=tt?2:0,rt+=nt?2:0;var at=Ze.slice(rt,rt+it);Ge.push({data:at,size:at.byteLength,duration:960,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),et=rt+it}}if(0==Xe.byteLength||null==Ke)throw new Le(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=qe.sampleRate,t.channelsCount=qe.channelCount;var ot=Ke/9e4*Ye;p={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ye,duration:r,lb:[],ra:Xe,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:ot,jb:Ge},stream:t}}p&&(l.push(p),p=null)}}catch(pt){return pt&&3023==pt.code?Promise.resolve(new Uint8Array([])):Promise.reject(pt)}if(!l.length)return Promise.reject(new Le(2,3,3018,n?n.N()[0]:null));var st=new _o(l),ut=t.id+"_"+n.i;if(this.i.has(ut))var lt=this.i.get(ut);else lt=Oo(st),this.i.set(ut,lt);var ct=this.l!==lt,dt=zo(st);if(this.l=lt,this.g++,ct){var ft=Mt(lt,dt);return Promise.resolve(ft)}return Promise.resolve(dt)},z("shaka.transmuxer.TsTransmuxer",Yx),Yx.prototype.transmux=Yx.prototype.transmux,Yx.prototype.getOriginalMimeType=Yx.prototype.getOriginalMimeType,Yx.prototype.convertCodecs=Yx.prototype.convertCodecs,Yx.prototype.isSupported=Yx.prototype.isSupported,Yx.prototype.destroy=Yx.prototype.destroy;var $x,Qx,Jx=["aac","ac-3","ec-3","mp3","opus"],Zx=["avc","hevc"];function eT(){}
/*
      		 @license
      		 EME Encryption Scheme Polyfill
      		 Copyright 2019 Google LLC
      		 SPDX-License-Identifier: Apache-2.0
      		*/
function tT(){}function nT(){$x||navigator.emeEncryptionSchemePolyfilled||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration&&($x=navigator.requestMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=rT,navigator.emeEncryptionSchemePolyfilled=!0)}function rT(e,t){var n,r=this;return R((function(i){return 1==i.g?S(i,$x.call(r,e,t),2):pT(n=i.h)?(navigator.requestMediaKeySystemAccess=$x,i.return(n)):(navigator.requestMediaKeySystemAccess=iT,i.return(iT.call(r,e,t)))}))}function iT(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g=this;return R((function(m){if(1==m.g){for(n=fT(e),r=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=aT(o.videoCapabilities,n),u=aT(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return S(m,$x.call(g,e,r),2)}return f=m.h,h=p=null,r[0]&&(r[0].videoCapabilities&&(p=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(h=r[0].audioCapabilities[0].encryptionScheme)),m.return(new dT(f,p,h))}))}function aT(e,t){return e?e.filter((function(e){return hT(e.encryptionScheme,t)})):e}function oT(){}function sT(){Qx||navigator.mediaCapabilitiesEncryptionSchemePolyfilled||navigator.mediaCapabilities&&(Qx=navigator.mediaCapabilities.decodingInfo,navigator.mediaCapabilities.decodingInfo=uT,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0)}function uT(e){var t,n,r=this;return R((function(i){switch(i.g){case 1:return S(i,Qx.call(r,e),2);case 2:if(!(t=i.h).supported||!e.keySystemConfiguration)return i.return(t);if((n=t.keySystemAccess)&&pT(n))return navigator.mediaCapabilities.decodingInfo=Qx,i.return(t);if(navigator.mediaCapabilities.decodingInfo=lT,n){i.s(3);break}return S(i,cT(e),4);case 4:return t.keySystemAccess=i.h,i.return(t);case 3:return i.return(lT.call(r,e))}}))}function lT(e){var t,n,r,i,a,o,s,u=this;return R((function(l){switch(l.g){case 1:return n=t=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,i=r.keySystem,n=r.audio&&r.audio.encryptionScheme,t=r.video&&r.video.encryptionScheme,a=fT(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},hT(n,a)&&hT(t,a))?S(l,Qx.call(u,e),2):l.return(o);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new dT(s.keySystemAccess,t,n),l.s(3);break}if(!e.keySystemConfiguration){l.s(3);break}return S(l,cT(e),5);case 5:s.keySystemAccess=l.h;case 3:return l.return(s)}}))}function cT(e){var t,n;return R((function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,S(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function dT(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}function fT(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":null}function pT(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function hT(e,t){return!e||e==t||!("cbcs"!=e&&"cbcs-1-9"!=e||!(bT||xT||yT))}function gT(){}function mT(){nT(),sT()}Ar("video/mp2t",(function(){return new Yx("video/mp2t")}),Dr),v(eT,ql),z("shaka.util.FairPlayUtils",eT),z("EmeEncryptionSchemePolyfill",tT),tT.install=nT,z("McEncryptionSchemePolyfill",oT),oT.install=sT,dT.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(n=(t=c(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},dT.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},z("EncryptionSchemePolyfills",gT),gT.install=mT;var vT,yT=navigator.userAgent.includes("CrKey"),bT=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),wT=navigator.userAgent||"";if(wT.includes("Web0S")){var ST=wT.match(/Chrome\/(\d+)/);vT=!!ST&&79<=parseInt(ST[1],10)}else vT=!1;var xT=vT;void 0!==n&&n.exports&&(n.exports=gT)}.call(r,n,n,void 0),r.shaka)e[i]=r.shaka[i]}()}(G)),G);
/*
       @license
       Shaka Player
       Copyright 2016 Google LLC
       SPDX-License-Identifier: Apache-2.0
      */const q=n(K);var W=(e=>(e.HLS="HLS",e.DASH="DASH",e.DASH_WIDEVINE="DASH WIDEVINE",e.HLS_WIDEVINE="HLS WIDEVINE",e.HLS_PLAY_READY="HLS PLAY READY",e))(W||{});const X=({src:e,type:t})=>{const n=P.useRef(null),r=P.useRef(null),{addLog:i}=_(),a=P.useCallback((e=>{if(e?.detail){const t=e.detail;i(` Error on player: ${t.mesage} (${t.code}) (${t.severity})`,"error")}else i("Error on player","error")}),[i]);return P.useEffect((()=>{if(!n.current)return;q.polyfill.installAll();const e=new q.Player(n.current);return r.current=e,e.addEventListener("error",a),()=>{e.destroy()}}),[]),P.useEffect((()=>{r?.current&&("DASH WIDEVINE"!==t&&"HLS WIDEVINE"!==t||r.current.configure({drm:{servers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}}}),"HLS PLAY READY"===t&&(i(t),r.current.configure({drm:{servers:{"com.microsoft.playready":"https://test.playready.microsoft.com/service/rightsmanager.asmx?PlayRight=1&ContentKey=EAtsIJQPd5pFiRUrV9Layw=="}}})),r.current.load(e).then((()=>i("Vido charge"))).catch((e=>i(e.message?"Error: "+e.message:"Error","error"))))}),[e,t]),l.jsxs("div",{className:"player",children:[l.jsxs("h2",{className:"videoType",children:[" ",t]}),l.jsx("video",{ref:n,autoPlay:!0}),";"]})},Y=()=>l.jsx("div",{className:"help-container",children:l.jsxs("div",{className:"help-message",children:[l.jsx("div",{className:"message",children:" press 0: Reload"}),l.jsx("div",{className:"message",children:" press 1: Play DASH"}),l.jsx("div",{className:"message",children:" press 2: Play HLS"}),l.jsx("div",{className:"message",children:" press 3: Play HLS CRYPTED widevine"}),l.jsx("div",{className:"message",children:" press 4: Play DASH CRYPTED widevine"}),l.jsx("div",{className:"message",children:" press 5: Play HLS CRYPTED PLAY READY"})]})}),$=[{src:"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd",type:W.DASH},{src:"https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd",type:W.DASH}],Q=[{src:"https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8",type:W.HLS},{src:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",type:W.HLS}],J=[{src:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine/dash.mpd",type:W.DASH_WIDEVINE}],Z=[{src:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine-hls/hls.m3u8",type:W.HLS_WIDEVINE}],ee=[{src:"https://cdn.bitmovin.com/content/assets/art-of-motion_drm/m3u8s/11331.m3u8",type:W.HLS_PLAY_READY}],te=()=>{const[e,t]=P.useState($[0]),{addLog:n}=_();P.useEffect((()=>{n("VERSION 1.0.5")}),[]);const r=P.useCallback((t=>{const n=t.filter((t=>t.src!==e.src)),r=Math.floor(Math.random()*n.length);return n.length?n[r]:t[0]}),[e]);return(e=>{const{addLog:t}=_(),n=P.useCallback((n=>{switch(n.keyCode?n.keyCode:n.which){case 96:case j:return void window.location.reload();case 97:case U:return t("Press 1"),void e?.("1");case 98:case F:return t("Press 2"),void e?.("2");case 99:case B:return t("Press 3"),void e?.("3");case 100:case z:return t("Press 4"),void e?.("4");case 101:case V:return t("Press 5"),void e?.("5");default:t("Key press not handled")}}),[e]);P.useEffect((()=>(document.addEventListener("keydown",n,!1),()=>{document.removeEventListener("keydown",n,!1)})),[n])})(P.useCallback((e=>{switch(e){case"1":return void t(r($));case"2":return void t(r(Q));case"3":return void t(r(Z));case"4":return void t(r(J));case"5":return void t(r(ee))}}),[r])),l.jsxs(l.Fragment,{children:[l.jsx(D,{}),l.jsxs("div",{className:"content",children:[l.jsx(O,{}),l.jsx(X,{src:e.src,type:e.type}),l.jsx(Y,{})]})]})};M.createRoot(document.getElementById("root")).render(l.jsx(N,{children:l.jsx(te,{})}))}}}));

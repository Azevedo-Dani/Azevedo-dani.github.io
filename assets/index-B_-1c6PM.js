function H4(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const ft=document.createElement("link").relList;if(ft&&ft.supports&&ft.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))ee(F);new MutationObserver(F=>{for(const gt of F)if(gt.type==="childList")for(const St of gt.addedNodes)St.tagName==="LINK"&&St.rel==="modulepreload"&&ee(St)}).observe(document,{childList:!0,subtree:!0});function lt(F){const gt={};return F.integrity&&(gt.integrity=F.integrity),F.referrerPolicy&&(gt.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?gt.credentials="include":F.crossOrigin==="anonymous"?gt.credentials="omit":gt.credentials="same-origin",gt}function ee(F){if(F.ep)return;F.ep=!0;const gt=lt(F);fetch(F.href,gt)}})();var v4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rE(ge){return ge&&ge.__esModule&&Object.prototype.hasOwnProperty.call(ge,"default")?ge.default:ge}var X1={exports:{}},_g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function y4(){if(qw)return _g;qw=1;var ge=Symbol.for("react.transitional.element"),ft=Symbol.for("react.fragment");function lt(ee,F,gt){var St=null;if(gt!==void 0&&(St=""+gt),F.key!==void 0&&(St=""+F.key),"key"in F){gt={};for(var S in F)S!=="key"&&(gt[S]=F[S])}else gt=F;return F=gt.ref,{$$typeof:ge,type:ee,key:St,ref:F!==void 0?F:null,props:gt}}return _g.Fragment=ft,_g.jsx=lt,_g.jsxs=lt,_g}var Fw;function S4(){return Fw||(Fw=1,X1.exports=y4()),X1.exports}var yn=S4(),q1={exports:{}},Og={},F1={exports:{}},K1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function T4(){return Kw||(Kw=1,function(ge){function ft(re,ye){var ut=re.length;re.push(ye);e:for(;0<ut;){var on=ut-1>>>1,G=re[on];if(0<F(G,ye))re[on]=ye,re[ut]=G,ut=on;else break e}}function lt(re){return re.length===0?null:re[0]}function ee(re){if(re.length===0)return null;var ye=re[0],ut=re.pop();if(ut!==ye){re[0]=ut;e:for(var on=0,G=re.length,de=G>>>1;on<de;){var _e=2*(on+1)-1,Ce=re[_e],L=_e+1,rt=re[L];if(0>F(Ce,ut))L<G&&0>F(rt,Ce)?(re[on]=rt,re[L]=ut,on=L):(re[on]=Ce,re[_e]=ut,on=_e);else if(L<G&&0>F(rt,ut))re[on]=rt,re[L]=ut,on=L;else break e}}return ye}function F(re,ye){var ut=re.sortIndex-ye.sortIndex;return ut!==0?ut:re.id-ye.id}if(ge.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var gt=performance;ge.unstable_now=function(){return gt.now()}}else{var St=Date,S=St.now();ge.unstable_now=function(){return St.now()-S}}var qe=[],he=[],We=1,Bt=null,Fe=3,Ei=!1,x=!1,ce=!1,Yi=!1,Zu=typeof setTimeout=="function"?setTimeout:null,Wr=typeof clearTimeout=="function"?clearTimeout:null,Ai=typeof setImmediate<"u"?setImmediate:null;function Nr(re){for(var ye=lt(he);ye!==null;){if(ye.callback===null)ee(he);else if(ye.startTime<=re)ee(he),ye.sortIndex=ye.expirationTime,ft(qe,ye);else break;ye=lt(he)}}function Ht(re){if(ce=!1,Nr(re),!x)if(lt(qe)!==null)x=!0,Yt||(Yt=!0,Se());else{var ye=lt(he);ye!==null&&Te(Ht,ye.startTime-re)}}var Yt=!1,Mi=-1,ji=5,Lr=-1;function C(){return Yi?!0:!(ge.unstable_now()-Lr<ji)}function le(){if(Yi=!1,Yt){var re=ge.unstable_now();Lr=re;var ye=!0;try{e:{x=!1,ce&&(ce=!1,Wr(Mi),Mi=-1),Ei=!0;var ut=Fe;try{t:{for(Nr(re),Bt=lt(qe);Bt!==null&&!(Bt.expirationTime>re&&C());){var on=Bt.callback;if(typeof on=="function"){Bt.callback=null,Fe=Bt.priorityLevel;var G=on(Bt.expirationTime<=re);if(re=ge.unstable_now(),typeof G=="function"){Bt.callback=G,Nr(re),ye=!0;break t}Bt===lt(qe)&&ee(qe),Nr(re)}else ee(qe);Bt=lt(qe)}if(Bt!==null)ye=!0;else{var de=lt(he);de!==null&&Te(Ht,de.startTime-re),ye=!1}}break e}finally{Bt=null,Fe=ut,Ei=!1}ye=void 0}}finally{ye?Se():Yt=!1}}}var Se;if(typeof Ai=="function")Se=function(){Ai(le)};else if(typeof MessageChannel<"u"){var bi=new MessageChannel,Pe=bi.port2;bi.port1.onmessage=le,Se=function(){Pe.postMessage(null)}}else Se=function(){Zu(le,0)};function Te(re,ye){Mi=Zu(function(){re(ge.unstable_now())},ye)}ge.unstable_IdlePriority=5,ge.unstable_ImmediatePriority=1,ge.unstable_LowPriority=4,ge.unstable_NormalPriority=3,ge.unstable_Profiling=null,ge.unstable_UserBlockingPriority=2,ge.unstable_cancelCallback=function(re){re.callback=null},ge.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ji=0<re?Math.floor(1e3/re):5},ge.unstable_getCurrentPriorityLevel=function(){return Fe},ge.unstable_next=function(re){switch(Fe){case 1:case 2:case 3:var ye=3;break;default:ye=Fe}var ut=Fe;Fe=ye;try{return re()}finally{Fe=ut}},ge.unstable_requestPaint=function(){Yi=!0},ge.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ut=Fe;Fe=re;try{return ye()}finally{Fe=ut}},ge.unstable_scheduleCallback=function(re,ye,ut){var on=ge.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?on+ut:on):ut=on,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ut+G,re={id:We++,callback:ye,priorityLevel:re,startTime:ut,expirationTime:G,sortIndex:-1},ut>on?(re.sortIndex=ut,ft(he,re),lt(qe)===null&&re===lt(he)&&(ce?(Wr(Mi),Mi=-1):ce=!0,Te(Ht,ut-on))):(re.sortIndex=G,ft(qe,re),x||Ei||(x=!0,Yt||(Yt=!0,Se()))),re},ge.unstable_shouldYield=C,ge.unstable_wrapCallback=function(re){var ye=Fe;return function(){var ut=Fe;Fe=ye;try{return re.apply(this,arguments)}finally{Fe=ut}}}}(K1)),K1}var Yw;function x4(){return Yw||(Yw=1,F1.exports=T4()),F1.exports}var Y1={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function w4(){if(Qw)return Dt;Qw=1;var ge=Symbol.for("react.transitional.element"),ft=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),St=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),he=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Bt=Symbol.iterator;function Fe(G){return G===null||typeof G!="object"?null:(G=Bt&&G[Bt]||G["@@iterator"],typeof G=="function"?G:null)}var Ei={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,ce={};function Yi(G,de,_e){this.props=G,this.context=de,this.refs=ce,this.updater=_e||Ei}Yi.prototype.isReactComponent={},Yi.prototype.setState=function(G,de){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,de,"setState")},Yi.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function Zu(){}Zu.prototype=Yi.prototype;function Wr(G,de,_e){this.props=G,this.context=de,this.refs=ce,this.updater=_e||Ei}var Ai=Wr.prototype=new Zu;Ai.constructor=Wr,x(Ai,Yi.prototype),Ai.isPureReactComponent=!0;var Nr=Array.isArray,Ht={H:null,A:null,T:null,S:null,V:null},Yt=Object.prototype.hasOwnProperty;function Mi(G,de,_e,Ce,L,rt){return _e=rt.ref,{$$typeof:ge,type:G,key:de,ref:_e!==void 0?_e:null,props:rt}}function ji(G,de){return Mi(G.type,de,void 0,void 0,void 0,G.props)}function Lr(G){return typeof G=="object"&&G!==null&&G.$$typeof===ge}function C(G){var de={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(_e){return de[_e]})}var le=/\/+/g;function Se(G,de){return typeof G=="object"&&G!==null&&G.key!=null?C(""+G.key):de.toString(36)}function bi(){}function Pe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(bi,bi):(G.status="pending",G.then(function(de){G.status==="pending"&&(G.status="fulfilled",G.value=de)},function(de){G.status==="pending"&&(G.status="rejected",G.reason=de)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Te(G,de,_e,Ce,L){var rt=typeof G;(rt==="undefined"||rt==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(rt){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case ge:case ft:Ye=!0;break;case We:return Ye=G._init,Te(Ye(G._payload),de,_e,Ce,L)}}if(Ye)return L=L(G),Ye=Ce===""?"."+Se(G,0):Ce,Nr(L)?(_e="",Ye!=null&&(_e=Ye.replace(le,"$&/")+"/"),Te(L,de,_e,"",function(Wu){return Wu})):L!=null&&(Lr(L)&&(L=ji(L,_e+(L.key==null||G&&G.key===L.key?"":(""+L.key).replace(le,"$&/")+"/")+Ye)),de.push(L)),1;Ye=0;var Pi=Ce===""?".":Ce+":";if(Nr(G))for(var sn=0;sn<G.length;sn++)Ce=G[sn],rt=Pi+Se(Ce,sn),Ye+=Te(Ce,de,_e,rt,L);else if(sn=Fe(G),typeof sn=="function")for(G=sn.call(G),sn=0;!(Ce=G.next()).done;)Ce=Ce.value,rt=Pi+Se(Ce,sn++),Ye+=Te(Ce,de,_e,rt,L);else if(rt==="object"){if(typeof G.then=="function")return Te(Pe(G),de,_e,Ce,L);throw de=String(G),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function re(G,de,_e){if(G==null)return G;var Ce=[],L=0;return Te(G,Ce,"","",function(rt){return de.call(_e,rt,L++)}),Ce}function ye(G){if(G._status===-1){var de=G._result;de=de(),de.then(function(_e){(G._status===0||G._status===-1)&&(G._status=1,G._result=_e)},function(_e){(G._status===0||G._status===-1)&&(G._status=2,G._result=_e)}),G._status===-1&&(G._status=0,G._result=de)}if(G._status===1)return G._result.default;throw G._result}var ut=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function on(){}return Dt.Children={map:re,forEach:function(G,de,_e){re(G,function(){de.apply(this,arguments)},_e)},count:function(G){var de=0;return re(G,function(){de++}),de},toArray:function(G){return re(G,function(de){return de})||[]},only:function(G){if(!Lr(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Dt.Component=Yi,Dt.Fragment=lt,Dt.Profiler=F,Dt.PureComponent=Wr,Dt.StrictMode=ee,Dt.Suspense=qe,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return Ht.H.useMemoCache(G)}},Dt.cache=function(G){return function(){return G.apply(null,arguments)}},Dt.cloneElement=function(G,de,_e){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ce=x({},G.props),L=G.key,rt=void 0;if(de!=null)for(Ye in de.ref!==void 0&&(rt=void 0),de.key!==void 0&&(L=""+de.key),de)!Yt.call(de,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&de.ref===void 0||(Ce[Ye]=de[Ye]);var Ye=arguments.length-2;if(Ye===1)Ce.children=_e;else if(1<Ye){for(var Pi=Array(Ye),sn=0;sn<Ye;sn++)Pi[sn]=arguments[sn+2];Ce.children=Pi}return Mi(G.type,L,void 0,void 0,rt,Ce)},Dt.createContext=function(G){return G={$$typeof:St,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:gt,_context:G},G},Dt.createElement=function(G,de,_e){var Ce,L={},rt=null;if(de!=null)for(Ce in de.key!==void 0&&(rt=""+de.key),de)Yt.call(de,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(L[Ce]=de[Ce]);var Ye=arguments.length-2;if(Ye===1)L.children=_e;else if(1<Ye){for(var Pi=Array(Ye),sn=0;sn<Ye;sn++)Pi[sn]=arguments[sn+2];L.children=Pi}if(G&&G.defaultProps)for(Ce in Ye=G.defaultProps,Ye)L[Ce]===void 0&&(L[Ce]=Ye[Ce]);return Mi(G,rt,void 0,void 0,null,L)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(G){return{$$typeof:S,render:G}},Dt.isValidElement=Lr,Dt.lazy=function(G){return{$$typeof:We,_payload:{_status:-1,_result:G},_init:ye}},Dt.memo=function(G,de){return{$$typeof:he,type:G,compare:de===void 0?null:de}},Dt.startTransition=function(G){var de=Ht.T,_e={};Ht.T=_e;try{var Ce=G(),L=Ht.S;L!==null&&L(_e,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(on,ut)}catch(rt){ut(rt)}finally{Ht.T=de}},Dt.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()},Dt.use=function(G){return Ht.H.use(G)},Dt.useActionState=function(G,de,_e){return Ht.H.useActionState(G,de,_e)},Dt.useCallback=function(G,de){return Ht.H.useCallback(G,de)},Dt.useContext=function(G){return Ht.H.useContext(G)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(G,de){return Ht.H.useDeferredValue(G,de)},Dt.useEffect=function(G,de,_e){var Ce=Ht.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(G,de)},Dt.useId=function(){return Ht.H.useId()},Dt.useImperativeHandle=function(G,de,_e){return Ht.H.useImperativeHandle(G,de,_e)},Dt.useInsertionEffect=function(G,de){return Ht.H.useInsertionEffect(G,de)},Dt.useLayoutEffect=function(G,de){return Ht.H.useLayoutEffect(G,de)},Dt.useMemo=function(G,de){return Ht.H.useMemo(G,de)},Dt.useOptimistic=function(G,de){return Ht.H.useOptimistic(G,de)},Dt.useReducer=function(G,de,_e){return Ht.H.useReducer(G,de,_e)},Dt.useRef=function(G){return Ht.H.useRef(G)},Dt.useState=function(G){return Ht.H.useState(G)},Dt.useSyncExternalStore=function(G,de,_e){return Ht.H.useSyncExternalStore(G,de,_e)},Dt.useTransition=function(){return Ht.H.useTransition()},Dt.version="19.1.0",Dt}var Zw;function W1(){return Zw||(Zw=1,Y1.exports=w4()),Y1.exports}var Q1={exports:{}},pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function E4(){if(Ww)return pr;Ww=1;var ge=W1();function ft(qe){var he="https://react.dev/errors/"+qe;if(1<arguments.length){he+="?args[]="+encodeURIComponent(arguments[1]);for(var We=2;We<arguments.length;We++)he+="&args[]="+encodeURIComponent(arguments[We])}return"Minified React error #"+qe+"; visit "+he+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lt(){}var ee={d:{f:lt,r:function(){throw Error(ft(522))},D:lt,C:lt,L:lt,m:lt,X:lt,S:lt,M:lt},p:0,findDOMNode:null},F=Symbol.for("react.portal");function gt(qe,he,We){var Bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:Bt==null?null:""+Bt,children:qe,containerInfo:he,implementation:We}}var St=ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(qe,he){if(qe==="font")return"";if(typeof he=="string")return he==="use-credentials"?he:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,pr.createPortal=function(qe,he){var We=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!he||he.nodeType!==1&&he.nodeType!==9&&he.nodeType!==11)throw Error(ft(299));return gt(qe,he,null,We)},pr.flushSync=function(qe){var he=St.T,We=ee.p;try{if(St.T=null,ee.p=2,qe)return qe()}finally{St.T=he,ee.p=We,ee.d.f()}},pr.preconnect=function(qe,he){typeof qe=="string"&&(he?(he=he.crossOrigin,he=typeof he=="string"?he==="use-credentials"?he:"":void 0):he=null,ee.d.C(qe,he))},pr.prefetchDNS=function(qe){typeof qe=="string"&&ee.d.D(qe)},pr.preinit=function(qe,he){if(typeof qe=="string"&&he&&typeof he.as=="string"){var We=he.as,Bt=S(We,he.crossOrigin),Fe=typeof he.integrity=="string"?he.integrity:void 0,Ei=typeof he.fetchPriority=="string"?he.fetchPriority:void 0;We==="style"?ee.d.S(qe,typeof he.precedence=="string"?he.precedence:void 0,{crossOrigin:Bt,integrity:Fe,fetchPriority:Ei}):We==="script"&&ee.d.X(qe,{crossOrigin:Bt,integrity:Fe,fetchPriority:Ei,nonce:typeof he.nonce=="string"?he.nonce:void 0})}},pr.preinitModule=function(qe,he){if(typeof qe=="string")if(typeof he=="object"&&he!==null){if(he.as==null||he.as==="script"){var We=S(he.as,he.crossOrigin);ee.d.M(qe,{crossOrigin:We,integrity:typeof he.integrity=="string"?he.integrity:void 0,nonce:typeof he.nonce=="string"?he.nonce:void 0})}}else he==null&&ee.d.M(qe)},pr.preload=function(qe,he){if(typeof qe=="string"&&typeof he=="object"&&he!==null&&typeof he.as=="string"){var We=he.as,Bt=S(We,he.crossOrigin);ee.d.L(qe,We,{crossOrigin:Bt,integrity:typeof he.integrity=="string"?he.integrity:void 0,nonce:typeof he.nonce=="string"?he.nonce:void 0,type:typeof he.type=="string"?he.type:void 0,fetchPriority:typeof he.fetchPriority=="string"?he.fetchPriority:void 0,referrerPolicy:typeof he.referrerPolicy=="string"?he.referrerPolicy:void 0,imageSrcSet:typeof he.imageSrcSet=="string"?he.imageSrcSet:void 0,imageSizes:typeof he.imageSizes=="string"?he.imageSizes:void 0,media:typeof he.media=="string"?he.media:void 0})}},pr.preloadModule=function(qe,he){if(typeof qe=="string")if(he){var We=S(he.as,he.crossOrigin);ee.d.m(qe,{as:typeof he.as=="string"&&he.as!=="script"?he.as:void 0,crossOrigin:We,integrity:typeof he.integrity=="string"?he.integrity:void 0})}else ee.d.m(qe)},pr.requestFormReset=function(qe){ee.d.r(qe)},pr.unstable_batchedUpdates=function(qe,he){return qe(he)},pr.useFormState=function(qe,he,We){return St.H.useFormState(qe,he,We)},pr.useFormStatus=function(){return St.H.useHostTransitionStatus()},pr.version="19.1.0",pr}var Jw;function A4(){if(Jw)return Q1.exports;Jw=1;function ge(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ge)}catch(ft){console.error(ft)}}return ge(),Q1.exports=E4(),Q1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function M4(){if($w)return Og;$w=1;var ge=x4(),ft=W1(),lt=A4();function ee(u){var s="https://react.dev/errors/"+u;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+u+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function F(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function gt(u){var s=u,c=u;if(u.alternate)for(;s.return;)s=s.return;else{u=s;do s=u,(s.flags&4098)!==0&&(c=s.return),u=s.return;while(u)}return s.tag===3?c:null}function St(u){if(u.tag===13){var s=u.memoizedState;if(s===null&&(u=u.alternate,u!==null&&(s=u.memoizedState)),s!==null)return s.dehydrated}return null}function S(u){if(gt(u)!==u)throw Error(ee(188))}function qe(u){var s=u.alternate;if(!s){if(s=gt(u),s===null)throw Error(ee(188));return s!==u?null:u}for(var c=u,d=s;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return S(m),u;if(v===d)return S(m),s;v=v.sibling}throw Error(ee(188))}if(c.return!==d.return)c=m,d=v;else{for(var D=!1,R=m.child;R;){if(R===c){D=!0,c=m,d=v;break}if(R===d){D=!0,d=m,c=v;break}R=R.sibling}if(!D){for(R=v.child;R;){if(R===c){D=!0,c=v,d=m;break}if(R===d){D=!0,d=v,c=m;break}R=R.sibling}if(!D)throw Error(ee(189))}}if(c.alternate!==d)throw Error(ee(190))}if(c.tag!==3)throw Error(ee(188));return c.stateNode.current===c?u:s}function he(u){var s=u.tag;if(s===5||s===26||s===27||s===6)return u;for(u=u.child;u!==null;){if(s=he(u),s!==null)return s;u=u.sibling}return null}var We=Object.assign,Bt=Symbol.for("react.element"),Fe=Symbol.for("react.transitional.element"),Ei=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Yi=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),Wr=Symbol.for("react.consumer"),Ai=Symbol.for("react.context"),Nr=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),Yt=Symbol.for("react.suspense_list"),Mi=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),Lr=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Se(u){return u===null||typeof u!="object"?null:(u=le&&u[le]||u["@@iterator"],typeof u=="function"?u:null)}var bi=Symbol.for("react.client.reference");function Pe(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===bi?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case x:return"Fragment";case Yi:return"Profiler";case ce:return"StrictMode";case Ht:return"Suspense";case Yt:return"SuspenseList";case Lr:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case Ei:return"Portal";case Ai:return(u.displayName||"Context")+".Provider";case Wr:return(u._context.displayName||"Context")+".Consumer";case Nr:var s=u.render;return u=u.displayName,u||(u=s.displayName||s.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Mi:return s=u.displayName||null,s!==null?s:Pe(u.type)||"Memo";case ji:s=u._payload,u=u._init;try{return Pe(u(s))}catch(c){}}return null}var Te=Array.isArray,re=ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},on=[],G=-1;function de(u){return{current:u}}function _e(u){0>G||(u.current=on[G],on[G]=null,G--)}function Ce(u,s){G++,on[G]=u.current,u.current=s}var L=de(null),rt=de(null),Ye=de(null),Pi=de(null);function sn(u,s){switch(Ce(Ye,s),Ce(rt,u),Ce(L,null),s.nodeType){case 9:case 11:u=(u=s.documentElement)&&(u=u.namespaceURI)?bm(u):0;break;default:if(u=s.tagName,s=s.namespaceURI)s=bm(s),u=Pm(s,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}_e(L),Ce(L,u)}function Wu(){_e(L),_e(rt),_e(Ye)}function ch(u){u.memoizedState!==null&&Ce(Pi,u);var s=L.current,c=Pm(s,u.type);s!==c&&(Ce(rt,u),Ce(L,c))}function vf(u){rt.current===u&&(_e(L),_e(rt)),Pi.current===u&&(_e(Pi),xa._currentValue=ut)}var me=Object.prototype.hasOwnProperty,fh=ge.unstable_scheduleCallback,dh=ge.unstable_cancelCallback,La=ge.unstable_shouldYield,yf=ge.unstable_requestPaint,Qi=ge.unstable_now,dy=ge.unstable_getCurrentPriorityLevel,Jr=ge.unstable_ImmediatePriority,ot=ge.unstable_UserBlockingPriority,Eu=ge.unstable_NormalPriority,hy=ge.unstable_LowPriority,py=ge.unstable_IdlePriority,$1=ge.log,bg=ge.unstable_setDisableYieldValue,Uo=null,$e=null;function Ju(u){if(typeof $1=="function"&&bg(u),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Uo,u)}catch(s){}}var gr=Math.clz32?Math.clz32:hh,gy=Math.log,Pg=Math.LN2;function hh(u){return u>>>=0,u===0?32:31-(gy(u)/Pg|0)|0}var ct=256,Sf=4194304;function ws(u){var s=u&42;if(s!==0)return s;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Kl(u,s,c){var d=u.pendingLanes;if(d===0)return 0;var m=0,v=u.suspendedLanes,D=u.pingedLanes;u=u.warmLanes;var R=d&134217727;return R!==0?(d=R&~v,d!==0?m=ws(d):(D&=R,D!==0?m=ws(D):c||(c=R&~u,c!==0&&(m=ws(c))))):(R=d&~v,R!==0?m=ws(R):D!==0?m=ws(D):c||(c=d&~u,c!==0&&(m=ws(c)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,c=s&-s,v>=c||v===32&&(c&4194048)!==0)?s:m}function Yl(u,s){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&s)===0}function Jt(u,s){switch(u){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var u=ct;return ct<<=1,(ct&4194048)===0&&(ct=256),u}function Zl(){var u=Sf;return Sf<<=1,(Sf&62914560)===0&&(Sf=4194304),u}function Wl(u){for(var s=[],c=0;31>c;c++)s.push(u);return s}function $r(u,s){u.pendingLanes|=s,s!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ua(u,s,c,d,m,v){var D=u.pendingLanes;u.pendingLanes=c,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=c,u.entangledLanes&=c,u.errorRecoveryDisabledLanes&=c,u.shellSuspendCounter=0;var R=u.entanglements,B=u.expirationTimes,$=u.hiddenUpdates;for(c=D&~c;0<c;){var ue=31-gr(c),ae=1<<ue;R[ue]=0,B[ue]=-1;var te=$[ue];if(te!==null)for($[ue]=null,ue=0;ue<te.length;ue++){var ne=te[ue];ne!==null&&(ne.lane&=-536870913)}c&=~ae}d!==0&&_a(u,d,0),v!==0&&m===0&&u.tag!==0&&(u.suspendedLanes|=v&~(D&~s))}function _a(u,s,c){u.pendingLanes|=s,u.suspendedLanes&=~s;var d=31-gr(s);u.entangledLanes|=s,u.entanglements[d]=u.entanglements[d]|1073741824|c&4194090}function Bg(u,s){var c=u.entangledLanes|=s;for(u=u.entanglements;c;){var d=31-gr(c),m=1<<d;m&s|u[d]&s&&(u[d]|=s),c&=~m}}function Tf(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function ph(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Hg(){var u=ye.p;return u!==0?u:(u=window.event,u===void 0?32:Zm(u.type))}function my(u,s){var c=ye.p;try{return ye.p=u,s()}finally{ye.p=c}}var _o=Math.random().toString(36).slice(2),Un="__reactFiber$"+_o,gi="__reactProps$"+_o,Es="__reactContainer$"+_o,Oo="__reactEvents$"+_o,$u="__reactListeners$"+_o,mr="__reactHandles$"+_o,Ue="__reactResources$"+_o,Oa="__reactMarker$"+_o;function ii(u){delete u[Un],delete u[gi],delete u[Oo],delete u[$u],delete u[mr]}function jo(u){var s=u[Un];if(s)return s;for(var c=u.parentNode;c;){if(s=c[Es]||c[Un]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(u=Vm(u);u!==null;){if(c=u[Un])return c;u=Vm(u)}return s}u=c,c=u.parentNode}return null}function O(u){if(u=u[Un]||u[Es]){var s=u.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return u}return null}function eo(u){var s=u.tag;if(s===5||s===26||s===27||s===6)return u.stateNode;throw Error(ee(33))}function As(u){var s=u[Ue];return s||(s=u[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xn(u){u[Oa]=!0}var xf=new Set,Jl={};function Au(u,s){eu(u,s),eu(u+"Capture",s)}function eu(u,s){for(Jl[u]=s,u=0;u<s.length;u++)xf.add(s[u])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ke={},tu={};function ec(u){return me.call(tu,u)?!0:me.call(Ke,u)?!1:$l.test(u)?tu[u]=!0:(Ke[u]=!0,!1)}function bo(u,s,c){if(ec(s))if(c===null)u.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":u.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){u.removeAttribute(s);return}}u.setAttribute(s,""+c)}}function Zi(u,s,c){if(c===null)u.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(s);return}u.setAttribute(s,""+c)}}function Wn(u,s,c,d){if(d===null)u.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(c);return}u.setAttributeNS(s,c,""+d)}}var nu,Mu;function to(u){if(nu===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);nu=s&&s[1]||"",Mu=-1<c.stack.indexOf("\n    at")?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+nu+u+Mu}var Wi=!1;function wf(u,s){if(!u||Wi)return"";Wi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ne){var te=ne}Reflect.construct(u,[],ae)}else{try{ae.call()}catch(ne){te=ne}u.call(ae.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ae=u())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),D=v[0],R=v[1];if(D&&R){var B=D.split("\n"),$=R.split("\n");for(m=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(d===B.length||m===$.length)for(d=B.length-1,m=$.length-1;1<=d&&0<=m&&B[d]!==$[m];)m--;for(;1<=d&&0<=m;d--,m--)if(B[d]!==$[m]){if(d!==1||m!==1)do if(d--,m--,0>m||B[d]!==$[m]){var ue="\n"+B[d].replace(" at new "," at ");return u.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",u.displayName)),ue}while(1<=d&&0<=m);break}}}finally{Wi=!1,Error.prepareStackTrace=c}return(c=u?u.displayName||u.name:"")?to(c):""}function qn(u){switch(u.tag){case 26:case 27:case 5:return to(u.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 15:return wf(u.type,!1);case 11:return wf(u.type.render,!1);case 1:return wf(u.type,!0);case 31:return to("Activity");default:return""}}function Ms(u){try{var s="";do s+=qn(u),u=u.return;while(u);return s}catch(c){return"\nError generating stack: "+c.message+"\n"+c.stack}}function kn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function tc(u){var s=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vg(u){var s=tc(u)?"checked":"value",c=Object.getOwnPropertyDescriptor(u.constructor.prototype,s),d=""+u[s];if(!u.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(u,s,{configurable:!0,get:function(){return m.call(this)},set:function(D){d=""+D,v.call(this,D)}}),Object.defineProperty(u,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){u._valueTracker=null,delete u[s]}}}}function ja(u){u._valueTracker||(u._valueTracker=Vg(u))}function no(u){if(!u)return!1;var s=u._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return u&&(d=tc(u)?u.checked?"true":"false":u.value),u=d,u!==c?(s.setValue(u),!0):!1}function ba(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch(s){return u.body}}var gh=/[\n"\\]/g;function Rt(u){return u.replace(gh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Po(u,s,c,d,m,v,D,R){u.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?u.type=D:u.removeAttribute("type"),s!=null?D==="number"?(s===0&&u.value===""||u.value!=s)&&(u.value=""+kn(s)):u.value!==""+kn(s)&&(u.value=""+kn(s)):D!=="submit"&&D!=="reset"||u.removeAttribute("value"),s!=null?vh(u,D,kn(s)):c!=null?vh(u,D,kn(c)):d!=null&&u.removeAttribute("value"),m==null&&v!=null&&(u.defaultChecked=!!v),m!=null&&(u.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?u.name=""+kn(R):u.removeAttribute("name")}function mh(u,s,c,d,m,v,D,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(u.type=v),s!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;c=c!=null?""+kn(c):"",s=s!=null?""+kn(s):c,R||s===u.value||(u.value=s),u.defaultValue=s}d=d!=null?d:m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,u.checked=R?u.checked:!!d,u.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(u.name=D)}function vh(u,s,c){s==="number"&&ba(u.ownerDocument)===u||u.defaultValue===""+c||(u.defaultValue=""+c)}function Cs(u,s,c,d){if(u=u.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<u.length;c++)m=s.hasOwnProperty("$"+u[c].value),u[c].selected!==m&&(u[c].selected=m),m&&d&&(u[c].defaultSelected=!0)}else{for(c=""+kn(c),s=null,m=0;m<u.length;m++){if(u[m].value===c){u[m].selected=!0,d&&(u[m].defaultSelected=!0);return}s!==null||u[m].disabled||(s=u[m])}s!==null&&(s.selected=!0)}}function Ef(u,s,c){if(s!=null&&(s=""+kn(s),s!==u.value&&(u.value=s),c==null)){u.defaultValue!==s&&(u.defaultValue=s);return}u.defaultValue=c!=null?""+kn(c):""}function Ds(u,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(ee(92));if(Te(d)){if(1<d.length)throw Error(ee(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=kn(s),u.defaultValue=c,d=u.textContent,d===c&&d!==""&&d!==null&&(u.value=d)}function Ur(u,s){if(s){var c=u.firstChild;if(c&&c===u.lastChild&&c.nodeType===3){c.nodeValue=s;return}}u.textContent=s}var Xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(u,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?u.setProperty(s,""):s==="float"?u.cssFloat="":u[s]="":d?u.setProperty(s,c):typeof c!="number"||c===0||Xt.has(s)?s==="float"?u.cssFloat=c:u[s]=(""+c).trim():u[s]=c+"px"}function iu(u,s,c){if(s!=null&&typeof s!="object")throw Error(ee(62));if(u=u.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="");for(var m in s)d=s[m],s.hasOwnProperty(m)&&c[m]!==d&&io(u,m,d)}else for(var v in s)s.hasOwnProperty(v)&&io(u,v,s[v])}function Ji(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(u){return Sh.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Af=null;function _n(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var ro=null,$i=null;function er(u){var s=O(u);if(s&&(u=s.stateNode)){var c=u[gi]||null;e:switch(u=s.stateNode,s.type){case"input":if(Po(u,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=u;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==u&&d.form===u.form){var m=d[gi]||null;if(!m)throw Error(ee(90));Po(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===u.form&&no(d)}break e;case"textarea":Ef(u,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Cs(u,!!c.multiple,s,!1)}}}var uo=!1;function Cu(u,s,c){if(uo)return u(s,c);uo=!0;try{var d=u(s);return d}finally{if(uo=!1,(ro!==null||$i!==null)&&(la(),ro&&(s=ro,u=$i,$i=ro=null,er(s),u)))for(s=0;s<u.length;s++)er(u[s])}}function Vt(u,s){var c=u.stateNode;if(c===null)return null;var d=c[gi]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(u=u.type,d=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!d;break e;default:u=!1}if(u)return null;if(c&&typeof c!="function")throw Error(ee(231,s,typeof c));return c}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(Qt)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch(u){Du=!1}var vr=null,ri=null,Ba=null;function Xe(){if(Ba)return Ba;var u,s=ri,c=s.length,d,m="value"in vr?vr.value:vr.textContent,v=m.length;for(u=0;u<c&&s[u]===m[u];u++);var D=c-u;for(d=1;d<=D&&s[c-d]===m[v-d];d++);return Ba=m.slice(u,1<d?1-d:void 0)}function an(u){var s=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&s===13&&(u=13)):u=s,u===10&&(u=13),32<=u||u===13?u:0}function Mf(){return!0}function Th(){return!1}function ui(u){function s(c,d,m,v,D){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=D,this.currentTarget=null;for(var R in u)u.hasOwnProperty(R)&&(c=u[R],this[R]=c?c(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Mf:Th,this.isPropagationStopped=Th,this}return We(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),s}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=ui(oo),Ha=We({},oo,{view:0,detail:0}),On=ui(Ha),so,Cf,Is,Bo=We({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Is&&(Is&&u.type==="mousemove"?(so=u.screenX-Is.screenX,Cf=u.screenY-Is.screenY):Cf=so=0,Is=u),so)},movementY:function(u){return"movementY"in u?u.movementY:Cf}}),Df=ui(Bo),ic=We({},Bo,{dataTransfer:0}),tr=ui(ic),xh=We({},Ha,{relatedTarget:0}),If=ui(xh),wh=We({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=ui(wh),Rs=We({},oo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Bi=ui(Rs),zg=We({},oo,{data:0}),Eh=ui(zg),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(u){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(u):(u=za[u])?!!s[u]:!1}function Ho(){return Ga}var ks=We({},Ha,{key:function(u){if(u.key){var s=_r[u.key]||u.key;if(s!=="Unidentified")return s}return u.type==="keypress"?(u=an(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ah[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(u){return u.type==="keypress"?an(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?an(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ns=ui(ks),rc=We({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ls=ui(rc),vy=We({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),ru=ui(vy),Us=We({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=ui(Us),uc=We({},Bo,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),_s=ui(uc),Ch=We({},oo,{newState:0,oldState:0}),yy=ui(Ch),Rf=[9,13,27,32],kf=Qt&&"CompositionEvent"in window,dt=null;Qt&&"documentMode"in document&&(dt=document.documentMode);var gn=Qt&&"TextEvent"in window&&!dt,Hi=Qt&&(!kf||dt&&8<dt&&11>=dt),Or=" ",ln=!1;function yr(u,s){switch(u){case"keyup":return Rf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oe(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var nr=!1;function Gg(u,s){switch(u){case"compositionend":return Oe(s);case"keypress":return s.which!==32?null:(ln=!0,Or);case"textInput":return u=s.data,u===Or&&ln?null:u;default:return null}}function Iu(u,s){if(nr)return u==="compositionend"||!kf&&yr(u,s)?(u=Xe(),Ba=ri=vr=null,nr=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hi&&s.locale!=="ko"?null:s.data;default:return null}}var Vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(u){var s=u&&u.nodeName&&u.nodeName.toLowerCase();return s==="input"?!!Vo[u.type]:s==="textarea"}function oc(u,s,c,d){ro?$i?$i.push(d):$i=[d]:ro=d,s=ya(s,"onChange"),0<s.length&&(c=new nc("onChange","change",null,c,d),u.push({event:c,listeners:s}))}var jn=null,Sr=null;function oi(u){Dd(u,0)}function zo(u){var s=eo(u);if(no(s))return u}function sc(u,s){if(u==="change")return s}var Xg=!1;if(Qt){var Xa;if(Qt){var Nf="oninput"in document;if(!Nf){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Nf=typeof Dh.oninput=="function"}Xa=Nf}else Xa=!1;Xg=Xa&&(!document.documentMode||9<document.documentMode)}function Ih(){jn&&(jn.detachEvent("onpropertychange",Rh),Sr=jn=null)}function Rh(u){if(u.propertyName==="value"&&zo(Sr)){var s=[];oc(s,Sr,u,_n(u)),Cu(oi,s)}}function kh(u,s,c){u==="focusin"?(Ih(),jn=s,Sr=c,jn.attachEvent("onpropertychange",Rh)):u==="focusout"&&Ih()}function Nh(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return zo(Sr)}function Lh(u,s){if(u==="click")return zo(s)}function Ot(u,s){if(u==="input"||u==="change")return zo(s)}function qg(u,s){return u===s&&(u!==0||1/u===1/s)||u!==u&&s!==s}var Ci=typeof Object.is=="function"?Object.is:qg;function Go(u,s){if(Ci(u,s))return!0;if(typeof u!="object"||u===null||typeof s!="object"||s===null)return!1;var c=Object.keys(u),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!me.call(s,m)||!Ci(u[m],s[m]))return!1}return!0}function Uh(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Fg(u,s){var c=Uh(u);u=0;for(var d;c;){if(c.nodeType===3){if(d=u+c.textContent.length,u<=s&&d>=s)return{node:c,offset:s-u};u=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Uh(c)}}function _h(u,s){return u&&s?u===s?!0:u&&u.nodeType===3?!1:s&&s.nodeType===3?_h(u,s.parentNode):"contains"in u?u.contains(s):u.compareDocumentPosition?!!(u.compareDocumentPosition(s)&16):!1:!1}function qa(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var s=ba(u.document);s instanceof u.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch(d){c=!1}if(c)u=s.contentWindow;else break;s=ba(u.document)}return s}function Fa(u){var s=u&&u.nodeName&&u.nodeName.toLowerCase();return s&&(s==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||s==="textarea"||u.contentEditable==="true")}var Ru=Qt&&"documentMode"in document&&11>=document.documentMode,Xo=null,Os=null,Ka=null,js=!1;function qo(u,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;js||Xo==null||Xo!==ba(d)||(d=Xo,"selectionStart"in d&&Fa(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ka&&Go(Ka,d)||(Ka=d,d=ya(Os,"onSelect"),0<d.length&&(s=new nc("onSelect","select",null,s,c),u.push({event:s,listeners:d}),s.target=Xo)))}function ou(u,s){var c={};return c[u.toLowerCase()]=s.toLowerCase(),c["Webkit"+u]="webkit"+s,c["Moz"+u]="moz"+s,c}var jr={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionrun:ou("Transition","TransitionRun"),transitionstart:ou("Transition","TransitionStart"),transitioncancel:ou("Transition","TransitionCancel"),transitionend:ou("Transition","TransitionEnd")},ac={},Oh={};Qt&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Fo(u){if(ac[u])return ac[u];if(!jr[u])return u;var s=jr[u],c;for(c in s)if(s.hasOwnProperty(c)&&c in Oh)return ac[u]=s[c];return u}var jh=Fo("animationend"),bs=Fo("animationiteration"),Lf=Fo("animationstart"),Ya=Fo("transitionrun"),Kg=Fo("transitionstart"),ao=Fo("transitioncancel"),Yg=Fo("transitionend"),lo=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function si(u,s){lo.set(u,s),Au(s,[u])}var Uf=new WeakMap;function $n(u,s){if(typeof u=="object"&&u!==null){var c=Uf.get(u);return c!==void 0?c:(s={value:u,source:s,stack:Ms(s)},Uf.set(u,s),s)}return{value:u,source:s,stack:Ms(s)}}var ir=[],Ko=0,_f=0;function Qa(){for(var u=Ko,s=_f=Ko=0;s<u;){var c=ir[s];ir[s++]=null;var d=ir[s];ir[s++]=null;var m=ir[s];ir[s++]=null;var v=ir[s];if(ir[s++]=null,d!==null&&m!==null){var D=d.pending;D===null?m.next=m:(m.next=D.next,D.next=m),d.pending=m}v!==0&&Qg(c,m,v)}}function Zt(u,s,c,d){ir[Ko++]=u,ir[Ko++]=s,ir[Ko++]=c,ir[Ko++]=d,_f|=d,u.lanes|=d,u=u.alternate,u!==null&&(u.lanes|=d)}function Yo(u,s,c,d){return Zt(u,s,c,d),Ps(u)}function Qo(u,s){return Zt(u,null,null,s),Ps(u)}function Qg(u,s,c){u.lanes|=c;var d=u.alternate;d!==null&&(d.lanes|=c);for(var m=!1,v=u.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(u=v.stateNode,u===null||u._visibility&1||(m=!0)),u=v,v=v.return;return u.tag===3?(v=u.stateNode,m&&s!==null&&(m=31-gr(c),u=v.hiddenUpdates,d=u[m],d===null?u[m]=[s]:d.push(s),s.lane=c|536870912),v):null}function Ps(u){if(50<st)throw st=0,Mr=null,Error(ee(185));for(var s=u.return;s!==null;)u=s,s=u.return;return u.tag===3?u.stateNode:null}var Sn={};function Zo(u,s,c,d){this.tag=u,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(u,s,c,d){return new Zo(u,s,c,d)}function mi(u){return u=u.prototype,!(!u||!u.isReactComponent)}function au(u,s){var c=u.alternate;return c===null?(c=cn(u.tag,s,u.key,u.mode),c.elementType=u.elementType,c.type=u.type,c.stateNode=u.stateNode,c.alternate=u,u.alternate=c):(c.pendingProps=s,c.type=u.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=u.flags&65011712,c.childLanes=u.childLanes,c.lanes=u.lanes,c.child=u.child,c.memoizedProps=u.memoizedProps,c.memoizedState=u.memoizedState,c.updateQueue=u.updateQueue,s=u.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=u.sibling,c.index=u.index,c.ref=u.ref,c.refCleanup=u.refCleanup,c}function bh(u,s){u.flags&=65011714;var c=u.alternate;return c===null?(u.childLanes=0,u.lanes=s,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,s=c.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u}function Of(u,s,c,d,m,v){var D=0;if(d=u,typeof u=="function")mi(u)&&(D=1);else if(typeof u=="string")D=Xm(u,c,L.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case Lr:return u=cn(31,c,s,m),u.elementType=Lr,u.lanes=v,u;case x:return Vi(c.children,m,v,s);case ce:D=8,m|=24;break;case Yi:return u=cn(12,c,s,m|2),u.elementType=Yi,u.lanes=v,u;case Ht:return u=cn(13,c,s,m),u.elementType=Ht,u.lanes=v,u;case Yt:return u=cn(19,c,s,m),u.elementType=Yt,u.lanes=v,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Zu:case Ai:D=10;break e;case Wr:D=9;break e;case Nr:D=11;break e;case Mi:D=14;break e;case ji:D=16,d=null;break e}D=29,c=Error(ee(130,u===null?"null":typeof u,"")),d=null}return s=cn(D,c,s,m),s.elementType=u,s.type=d,s.lanes=v,s}function Vi(u,s,c,d){return u=cn(7,u,d,s),u.lanes=c,u}function lu(u,s,c){return u=cn(6,u,null,s),u.lanes=c,u}function Nn(u,s,c){return s=cn(4,u.children!==null?u.children:[],u.key,s),s.lanes=c,s.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},s}var co=[],cu=0,jf=null,bf=0,Tr=[],xr=0,Bs=null,wr=1,fo="";function Hs(u,s){co[cu++]=bf,co[cu++]=jf,jf=u,bf=s}function ho(u,s,c){Tr[xr++]=wr,Tr[xr++]=fo,Tr[xr++]=Bs,Bs=u;var d=wr;u=fo;var m=32-gr(d)-1;d&=~(1<<m),c+=1;var v=32-gr(s)+m;if(30<v){var D=m-m%5;v=(d&(1<<D)-1).toString(32),d>>=D,m-=D,wr=1<<32-gr(s)+m|c<<m|d,fo=v+u}else wr=1<<v|c<<m|d,fo=u}function Vs(u){u.return!==null&&(Hs(u,1),ho(u,1,0))}function rr(u){for(;u===jf;)jf=co[--cu],co[cu]=null,bf=co[--cu],co[cu]=null;for(;u===Bs;)Bs=Tr[--xr],Tr[xr]=null,fo=Tr[--xr],Tr[xr]=null,wr=Tr[--xr],Tr[xr]=null}var Fn=null,dn=null,zt=!1,ht=null,Di=!1,lc=Error(ee(519));function po(u){var s=Error(ee(418,""));throw fc($n(s,u)),lc}function cc(u){var s=u.stateNode,c=u.type,d=u.memoizedProps;switch(s[Un]=u,s[gi]=d,c){case"dialog":Tt("cancel",s),Tt("close",s);break;case"iframe":case"object":case"embed":Tt("load",s);break;case"video":case"audio":for(c=0;c<pa.length;c++)Tt(pa[c],s);break;case"source":Tt("error",s);break;case"img":case"image":case"link":Tt("error",s),Tt("load",s);break;case"details":Tt("toggle",s);break;case"input":Tt("invalid",s),mh(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ja(s);break;case"select":Tt("invalid",s);break;case"textarea":Tt("invalid",s),Ds(s,d.value,d.defaultValue,d.children),ja(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||Qc(s.textContent,c)?(d.popover!=null&&(Tt("beforetoggle",s),Tt("toggle",s)),d.onScroll!=null&&Tt("scroll",s),d.onScrollEnd!=null&&Tt("scrollend",s),d.onClick!=null&&(s.onclick=Ro),s=!0):s=!1,s||po(u)}function Ph(u){for(Fn=u.return;Fn;)switch(Fn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Fn=Fn.return}}function Za(u){if(u!==Fn)return!1;if(!zt)return Ph(u),zt=!0,!1;var s=u.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=u.type,c=!(c!=="form"&&c!=="button")||jp(u.type,u.memoizedProps)),c=!c),c&&dn&&po(u),Ph(u),s===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ee(317));e:{for(u=u.nextSibling,s=0;u;){if(u.nodeType===8)if(c=u.data,c==="/$"){if(s===0){dn=Dr(u.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;u=u.nextSibling}dn=null}}else s===27?(s=dn,Cr(u.type)?(u=Bp,Bp=null,dn=u):dn=s):dn=Fn?Dr(u.stateNode.nextSibling):null;return!0}function Wa(){dn=Fn=null,zt=!1}function Zg(){var u=ht;return u!==null&&(sr===null?sr=u:sr.push.apply(sr,u),ht=null),u}function fc(u){ht===null?ht=[u]:ht.push(u)}var Ja=de(null),zs=null,ku=null;function Wo(u,s,c){Ce(Ja,s._currentValue),s._currentValue=c}function go(u){u._currentValue=Ja.current,_e(Ja)}function Pf(u,s,c){for(;u!==null;){var d=u.alternate;if((u.childLanes&s)!==s?(u.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),u===c)break;u=u.return}}function Bh(u,s,c,d){var m=u.child;for(m!==null&&(m.return=u);m!==null;){var v=m.dependencies;if(v!==null){var D=m.child;v=v.firstContext;e:for(;v!==null;){var R=v;v=m;for(var B=0;B<s.length;B++)if(R.context===s[B]){v.lanes|=c,R=v.alternate,R!==null&&(R.lanes|=c),Pf(v.return,c,u),d||(D=null);break e}v=R.next}}else if(m.tag===18){if(D=m.return,D===null)throw Error(ee(341));D.lanes|=c,v=D.alternate,v!==null&&(v.lanes|=c),Pf(D,c,u),D=null}else D=m.child;if(D!==null)D.return=m;else for(D=m;D!==null;){if(D===u){D=null;break}if(m=D.sibling,m!==null){m.return=D.return,D=m;break}D=D.return}m=D}}function $a(u,s,c,d){u=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var D=m.alternate;if(D===null)throw Error(ee(387));if(D=D.memoizedProps,D!==null){var R=m.type;Ci(m.pendingProps.value,D.value)||(u!==null?u.push(R):u=[R])}}else if(m===Pi.current){if(D=m.alternate,D===null)throw Error(ee(387));D.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(u!==null?u.push(xa):u=[xa])}m=m.return}u!==null&&Bh(s,u,c,d),s.flags|=262144}function dc(u){for(u=u.firstContext;u!==null;){if(!Ci(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function fu(u){zs=u,ku=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ai(u){return Wg(zs,u)}function Bf(u,s){return zs===null&&fu(u),Wg(u,s)}function Wg(u,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ku===null){if(u===null)throw Error(ee(308));ku=s,u.dependencies={lanes:0,firstContext:s},u.flags|=524288}else ku=ku.next=s;return c}var Sy=typeof AbortController<"u"?AbortController:function(){var u=[],s=this.signal={aborted:!1,addEventListener:function(c,d){u.push(d)}};this.abort=function(){s.aborted=!0,u.forEach(function(c){return c()})}},Gs=ge.unstable_scheduleCallback,hc=ge.unstable_NormalPriority,bn={$$typeof:Ai,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new Sy,data:new Map,refCount:0}}function el(u){u.refCount--,u.refCount===0&&Gs(hc,function(){u.controller.abort()})}var Xs=null,Hf=0,Nu=0,mo=null;function tl(u,s){if(Xs===null){var c=Xs=[];Hf=0,Nu=Lp(),mo={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Hf++,s.then(Hh,Hh),s}function Hh(){if(--Hf===0&&Xs!==null){mo!==null&&(mo.status="fulfilled");var u=Xs;Xs=null,Nu=0,mo=null;for(var s=0;s<u.length;s++)(0,u[s])()}}function Jg(u,s){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return u.then(function(){d.status="fulfilled",d.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var Vh=re.S;re.S=function(u,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tl(u,s),Vh!==null&&Vh(u,s)};var Jo=de(null);function nl(){var u=Jo.current;return u!==null?u:pn.pooledCache}function Vf(u,s){s===null?Ce(Jo,Jo.current):Ce(Jo,s.pool)}function gc(){var u=nl();return u===null?null:{parent:bn._currentValue,pool:u}}var mc=Error(ee(460)),qt=Error(ee(474)),vc=Error(ee(542)),yc={then:function(){}};function $g(u){return u=u.status,u==="fulfilled"||u==="rejected"}function zf(){}function zh(u,s,c){switch(c=u[c],c===void 0?u.push(s):c!==s&&(s.then(zf,zf),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw u=s.reason,xt(u),u;default:if(typeof s.status=="string")s.then(zf,zf);else{if(u=pn,u!==null&&100<u.shellSuspendCounter)throw Error(ee(482));u=s,u.status="pending",u.then(function(d){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=d}},function(d){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw u=s.reason,xt(u),u}throw il=s,mc}}var il=null;function br(){if(il===null)throw Error(ee(459));var u=il;return il=null,u}function xt(u){if(u===mc||u===vc)throw Error(ee(483))}var bt=!1;function vo(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sc(u,s){u=u.updateQueue,s.updateQueue===u&&(s.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Er(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function yo(u,s,c){var d=u.updateQueue;if(d===null)return null;if(d=d.shared,($t&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,s=Ps(u),Qg(u,null,c),s}return Zt(u,d,s,c),Ps(u)}function rl(u,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=u.pendingLanes,c|=d,s.lanes=c,Bg(u,c)}}function Gh(u,s){var c=u.updateQueue,d=u.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?m=v=D:v=v.next=D,c=c.next}while(c!==null);v===null?m=v=s:v=v.next=s}else m=v=s;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},u.updateQueue=c;return}u=c.lastBaseUpdate,u===null?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=s}var fe=!1;function ul(){if(fe){var u=mo;if(u!==null)throw u}}function $o(u,s,c,d){fe=!1;var m=u.updateQueue;bt=!1;var v=m.firstBaseUpdate,D=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var B=R,$=B.next;B.next=null,D===null?v=$:D.next=$,D=B;var ue=u.alternate;ue!==null&&(ue=ue.updateQueue,R=ue.lastBaseUpdate,R!==D&&(R===null?ue.firstBaseUpdate=$:R.next=$,ue.lastBaseUpdate=B))}if(v!==null){var ae=m.baseState;D=0,ue=$=B=null,R=v;do{var te=R.lane&-536870913,ne=te!==R.lane;if(ne?(jt&te)===te:(d&te)===te){te!==0&&te===Nu&&(fe=!0),ue!==null&&(ue=ue.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var at=u,tt=R;te=s;var rn=c;switch(tt.tag){case 1:if(at=tt.payload,typeof at=="function"){ae=at.call(rn,ae,te);break e}ae=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=tt.payload,te=typeof at=="function"?at.call(rn,ae,te):at,te==null)break e;ae=We({},ae,te);break e;case 2:bt=!0}}te=R.callback,te!==null&&(u.flags|=64,ne&&(u.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ue===null?($=ue=ne,B=ae):ue=ue.next=ne,D|=te;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ue===null&&(B=ae),m.baseState=B,m.firstBaseUpdate=$,m.lastBaseUpdate=ue,v===null&&(m.shared.lanes=0),Hr|=D,u.lanes=D,u.memoizedState=ae}}function wt(u,s){if(typeof u!="function")throw Error(ee(191,u));u.call(s)}function qs(u,s){var c=u.callbacks;if(c!==null)for(u.callbacks=null,u=0;u<c.length;u++)wt(c[u],s)}var Pr=de(null),Ct=de(0);function Lu(u,s){u=xe,Ce(Ct,u),Ce(Pr,s),xe=u|s.baseLanes}function Gf(){Ce(Ct,xe),Ce(Pr,Pr.current)}function mn(){xe=Ct.current,_e(Pr),_e(Ct)}var es=0,Et=null,nn=null,Pn=null,Tc=!1,So=!1,li=!1,xc=0,ts=0,du=null,kt=0;function En(){throw Error(ee(321))}function Xh(u,s){if(s===null)return!1;for(var c=0;c<s.length&&c<u.length;c++)if(!Ci(u[c],s[c]))return!1;return!0}function To(u,s,c,d,m,v){return es=v,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=u===null||u.memoizedState===null?hl:ns,li=!1,v=c(d,m),li=!1,So&&(v=Ut(s,c,d,m)),Xf(u),v}function Xf(u){re.H=dl;var s=nn!==null&&nn.next!==null;if(es=0,Pn=nn=Et=null,Tc=!1,ts=0,du=null,s)throw Error(ee(300));u===null||ci||(u=u.dependencies,u!==null&&dc(u)&&(ci=!0))}function Ut(u,s,c,d){Et=u;var m=0;do{if(So&&(du=null),ts=0,So=!1,25<=m)throw Error(ee(301));if(m+=1,Pn=nn=null,u.updateQueue!=null){var v=u.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}re.H=wy,v=s(c,d)}while(So);return v}function xo(){var u=re.H,s=u.useState()[0];return s=typeof s.then=="function"?Uu(s):s,u=u.useState()[0],(nn!==null?nn.memoizedState:null)!==u&&(Et.flags|=1024),s}function qf(){var u=xc!==0;return xc=0,u}function At(u,s,c){s.updateQueue=u.updateQueue,s.flags&=-2053,u.lanes&=~c}function Ve(u){if(Tc){for(u=u.memoizedState;u!==null;){var s=u.queue;s!==null&&(s.pending=null),u=u.next}Tc=!1}es=0,Pn=nn=Et=null,So=!1,ts=xc=0,du=null}function Bn(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Et.memoizedState=Pn=u:Pn=Pn.next=u,Pn}function Pt(){if(nn===null){var u=Et.alternate;u=u!==null?u.memoizedState:null}else u=nn.next;var s=Pn===null?Et.memoizedState:Pn.next;if(s!==null)Pn=s,nn=u;else{if(u===null)throw Et.alternate===null?Error(ee(467)):Error(ee(310));nn=u,u={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Pn===null?Et.memoizedState=Pn=u:Pn=Pn.next=u}return Pn}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(u){var s=ts;return ts+=1,du===null&&(du=[]),u=zh(du,u,s),s=Et,(Pn===null?s.memoizedState:Pn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?hl:ns),u}function Ec(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Uu(u);if(u.$$typeof===Ai)return ai(u)}throw Error(ee(438,String(u)))}function ol(u){var s=null,c=Et.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Et.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=wc(),Et.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(u),d=0;d<u;d++)c[d]=C;return s.index++,c}function Ii(u,s){return typeof s=="function"?s(u):s}function Ff(u){var s=Pt();return Kf(s,nn,u)}function Kf(u,s,c){var d=u.queue;if(d===null)throw Error(ee(311));d.lastRenderedReducer=c;var m=u.baseQueue,v=d.pending;if(v!==null){if(m!==null){var D=m.next;m.next=v.next,v.next=D}s.baseQueue=m=v,d.pending=null}if(v=u.baseState,m===null)u.memoizedState=v;else{s=m.next;var R=D=null,B=null,$=s,ue=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(jt&ae)===ae:(es&ae)===ae){var te=$.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===Nu&&(ue=!0);else if((es&te)===te){$=$.next,te===Nu&&(ue=!0);continue}else ae={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(R=B=ae,D=v):B=B.next=ae,Et.lanes|=te,Hr|=te;ae=$.action,li&&c(v,ae),v=$.hasEagerState?$.eagerState:c(v,ae)}else te={lane:ae,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(R=B=te,D=v):B=B.next=te,Et.lanes|=ae,Hr|=ae;$=$.next}while($!==null&&$!==s);if(B===null?D=v:B.next=R,!Ci(v,u.memoizedState)&&(ci=!0,ue&&(c=mo,c!==null)))throw c;u.memoizedState=v,u.baseState=D,u.baseQueue=B,d.lastRenderedState=v}return m===null&&(d.lanes=0),[u.memoizedState,d.dispatch]}function Ac(u){var s=Pt(),c=s.queue;if(c===null)throw Error(ee(311));c.lastRenderedReducer=u;var d=c.dispatch,m=c.pending,v=s.memoizedState;if(m!==null){c.pending=null;var D=m=m.next;do v=u(v,D.action),D=D.next;while(D!==m);Ci(v,s.memoizedState)||(ci=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,d]}function Mc(u,s,c){var d=Et,m=Pt(),v=zt;if(v){if(c===void 0)throw Error(ee(407));c=c()}else c=s();var D=!Ci((nn||m).memoizedState,c);D&&(m.memoizedState=c,ci=!0),m=m.queue;var R=tm.bind(null,d,m,u);if(Ic(2048,8,R,[u]),m.getSnapshot!==s||D||Pn!==null&&Pn.memoizedState.tag&1){if(d.flags|=2048,sl(9,Zf(),em.bind(null,d,m,c,s),null),pn===null)throw Error(ee(349));v||(es&124)!==0||Cc(d,s,c)}return c}function Cc(u,s,c){u.flags|=16384,u={getSnapshot:s,value:c},s=Et.updateQueue,s===null?(s=wc(),Et.updateQueue=s,s.stores=[u]):(c=s.stores,c===null?s.stores=[u]:c.push(u))}function em(u,s,c,d){s.value=c,s.getSnapshot=d,qh(s)&&nm(u)}function tm(u,s,c){return c(function(){qh(s)&&nm(u)})}function qh(u){var s=u.getSnapshot;u=u.value;try{var c=s();return!Ci(u,c)}catch(d){return!0}}function nm(u){var s=Qo(u,2);s!==null&&vt(s,u,2)}function Yf(u){var s=Bn();if(typeof u=="function"){var c=u;if(u=c(),li){Ju(!0);try{c()}finally{Ju(!1)}}}return s.memoizedState=s.baseState=u,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:u},s}function Fh(u,s,c,d){return u.baseState=c,Kf(u,nn,typeof d=="function"?d:Ii)}function Ty(u,s,c,d,m){if(Nc(u))throw Error(ee(485));if(u=s.action,u!==null){var v={payload:m,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){v.listeners.push(D)}};re.T!==null?c(!0):v.isTransition=!1,d(v),c=s.pending,c===null?(v.next=s.pending=v,im(s,v)):(v.next=c.next,s.pending=c.next=v)}}function im(u,s){var c=s.action,d=s.payload,m=u.state;if(s.isTransition){var v=re.T,D={};re.T=D;try{var R=c(m,d),B=re.S;B!==null&&B(D,R),rm(u,s,R)}catch($){Fs(u,s,$)}finally{re.T=v}}else try{v=c(m,d),rm(u,s,v)}catch($){Fs(u,s,$)}}function rm(u,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Kh(u,s,d)},function(d){return Fs(u,s,d)}):Kh(u,s,c)}function Kh(u,s,c){s.status="fulfilled",s.value=c,Yh(s),u.state=c,s=u.pending,s!==null&&(c=s.next,c===s?u.pending=null:(c=c.next,s.next=c,im(u,c)))}function Fs(u,s,c){var d=u.pending;if(u.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,Yh(s),s=s.next;while(s!==d)}u.action=null}function Yh(u){u=u.listeners;for(var s=0;s<u.length;s++)(0,u[s])()}function Qh(u,s){return s}function um(u,s){if(zt){var c=pn.formState;if(c!==null){e:{var d=Et;if(zt){if(dn){t:{for(var m=dn,v=Di;m.nodeType!==8;){if(!v){m=null;break t}if(m=Dr(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){dn=Dr(m.nextSibling),d=m.data==="F!";break e}}po(d)}d=!1}d&&(s=c[0])}}return c=Bn(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:s},c.queue=d,c=ed.bind(null,Et,d),d.dispatch=c,d=Yf(!1),v=td.bind(null,Et,!1,d.queue),d=Bn(),m={state:s,dispatch:null,action:u,pending:null},d.queue=m,c=Ty.bind(null,Et,m,v,c),m.dispatch=c,d.memoizedState=u,[s,c,!1]}function om(u){var s=Pt();return Qf(s,nn,u)}function Qf(u,s,c){if(s=Kf(u,s,Qh)[0],u=Ff(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Uu(s)}catch(D){throw D===mc?vc:D}else d=s;s=Pt();var m=s.queue,v=m.dispatch;return c!==s.memoizedState&&(Et.flags|=2048,sl(9,Zf(),sm.bind(null,m,c),null)),[d,v,u]}function sm(u,s){u.action=s}function Zh(u){var s=Pt(),c=nn;if(c!==null)return Qf(s,c,u);Pt(),s=s.memoizedState,c=Pt();var d=c.queue.dispatch;return c.memoizedState=u,[s,d,!1]}function sl(u,s,c,d){return u={tag:u,create:c,deps:d,inst:s,next:null},s=Et.updateQueue,s===null&&(s=wc(),Et.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=u.next=u:(d=c.next,c.next=u,u.next=d,s.lastEffect=u),u}function Zf(){return{destroy:void 0,resource:void 0}}function Wf(){return Pt().memoizedState}function Dc(u,s,c,d){var m=Bn();d=d===void 0?null:d,Et.flags|=u,m.memoizedState=sl(1|s,Zf(),c,d)}function Ic(u,s,c,d){var m=Pt();d=d===void 0?null:d;var v=m.memoizedState.inst;nn!==null&&d!==null&&Xh(d,nn.memoizedState.deps)?m.memoizedState=sl(s,v,c,d):(Et.flags|=u,m.memoizedState=sl(1|s,v,c,d))}function am(u,s){Dc(8390656,8,u,s)}function Wh(u,s){Ic(2048,8,u,s)}function al(u,s){return Ic(4,2,u,s)}function Jh(u,s){return Ic(4,4,u,s)}function lm(u,s){if(typeof s=="function"){u=u();var c=s(u);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return u=u(),s.current=u,function(){s.current=null}}function ll(u,s,c){c=c!=null?c.concat([u]):null,Ic(4,4,lm.bind(null,s,u),c)}function $h(){}function cm(u,s){var c=Pt();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Xh(s,d[1])?d[0]:(c.memoizedState=[u,s],u)}function ep(u,s){var c=Pt();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Xh(s,d[1]))return d[0];if(d=u(),li){Ju(!0);try{u()}finally{Ju(!1)}}return c.memoizedState=[d,s],d}function tp(u,s,c){return c===void 0||(es&1073741824)!==0?u.memoizedState=s:(u.memoizedState=c,u=ar(),Et.lanes|=u,Hr|=u,c)}function np(u,s,c,d){return Ci(c,s)?c:Pr.current!==null?(u=tp(u,c,d),Ci(u,s)||(ci=!0),u):(es&42)===0?(ci=!0,u.memoizedState=c):(u=ar(),Et.lanes|=u,Hr|=u,s)}function fm(u,s,c,d,m){var v=ye.p;ye.p=v!==0&&8>v?v:8;var D=re.T,R={};re.T=R,td(u,!1,s,c);try{var B=m(),$=re.S;if($!==null&&$(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=Jg(B,d);fl(u,s,ue,Ni(u))}else fl(u,s,d,Ni(u))}catch(ae){fl(u,s,{then:function(){},status:"rejected",reason:ae},Ni())}finally{ye.p=v,re.T=D}}function xy(){}function ip(u,s,c,d){if(u.tag!==5)throw Error(ee(476));var m=Rc(u).queue;fm(u,m,s,ut,c===null?xy:function(){return rp(u),c(d)})}function Rc(u){var s=u.memoizedState;if(s!==null)return s;s={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ut},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:c},next:null},u.memoizedState=s,u=u.alternate,u!==null&&(u.memoizedState=s),s}function rp(u){var s=Rc(u).next.queue;fl(u,s,{},Ni())}function Jf(){return ai(xa)}function $f(){return Pt().memoizedState}function dm(){return Pt().memoizedState}function cl(u){for(var s=u.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ni();u=Er(c);var d=yo(s,u,c);d!==null&&(vt(d,s,c),rl(d,s,c)),s={cache:pc()},u.payload=s;return}s=s.return}}function kc(u,s,c){var d=Ni();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Nc(u)?nd(s,c):(c=Yo(u,s,c,d),c!==null&&(vt(c,u,d),up(c,s,d)))}function ed(u,s,c){var d=Ni();fl(u,s,c,d)}function fl(u,s,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nc(u))nd(s,m);else{var v=u.alternate;if(u.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var D=s.lastRenderedState,R=v(D,c);if(m.hasEagerState=!0,m.eagerState=R,Ci(R,D))return Zt(u,s,m,0),pn===null&&Qa(),!1}catch(B){}finally{}if(c=Yo(u,s,m,d),c!==null)return vt(c,u,d),up(c,s,d),!0}return!1}function td(u,s,c,d){if(d={lane:2,revertLane:Lp(),action:d,hasEagerState:!1,eagerState:null,next:null},Nc(u)){if(s)throw Error(ee(479))}else s=Yo(u,c,d,2),s!==null&&vt(s,u,2)}function Nc(u){var s=u.alternate;return u===Et||s!==null&&s===Et}function nd(u,s){So=Tc=!0;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}function up(u,s,c){if((c&4194048)!==0){var d=s.lanes;d&=u.pendingLanes,c|=d,s.lanes=c,Bg(u,c)}}var dl={readContext:ai,use:Ec,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},hl={readContext:ai,use:Ec,useCallback:function(u,s){return Bn().memoizedState=[u,s===void 0?null:s],u},useContext:ai,useEffect:am,useImperativeHandle:function(u,s,c){c=c!=null?c.concat([u]):null,Dc(4194308,4,lm.bind(null,s,u),c)},useLayoutEffect:function(u,s){return Dc(4194308,4,u,s)},useInsertionEffect:function(u,s){Dc(4,2,u,s)},useMemo:function(u,s){var c=Bn();s=s===void 0?null:s;var d=u();if(li){Ju(!0);try{u()}finally{Ju(!1)}}return c.memoizedState=[d,s],d},useReducer:function(u,s,c){var d=Bn();if(c!==void 0){var m=c(s);if(li){Ju(!0);try{c(s)}finally{Ju(!1)}}}else m=s;return d.memoizedState=d.baseState=m,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:m},d.queue=u,u=u.dispatch=kc.bind(null,Et,u),[d.memoizedState,u]},useRef:function(u){var s=Bn();return u={current:u},s.memoizedState=u},useState:function(u){u=Yf(u);var s=u.queue,c=ed.bind(null,Et,s);return s.dispatch=c,[u.memoizedState,c]},useDebugValue:$h,useDeferredValue:function(u,s){var c=Bn();return tp(c,u,s)},useTransition:function(){var u=Yf(!1);return u=fm.bind(null,Et,u.queue,!0,!1),Bn().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,s,c){var d=Et,m=Bn();if(zt){if(c===void 0)throw Error(ee(407));c=c()}else{if(c=s(),pn===null)throw Error(ee(349));(jt&124)!==0||Cc(d,s,c)}m.memoizedState=c;var v={value:c,getSnapshot:s};return m.queue=v,am(tm.bind(null,d,v,u),[u]),d.flags|=2048,sl(9,Zf(),em.bind(null,d,v,c,s),null),c},useId:function(){var u=Bn(),s=pn.identifierPrefix;if(zt){var c=fo,d=wr;c=(d&~(1<<32-gr(d)-1)).toString(32)+c,s="«"+s+"R"+c,c=xc++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=kt++,s="«"+s+"r"+c.toString(32)+"»";return u.memoizedState=s},useHostTransitionStatus:Jf,useFormState:um,useActionState:um,useOptimistic:function(u){var s=Bn();s.memoizedState=s.baseState=u;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=td.bind(null,Et,!0,c),c.dispatch=s,[u,s]},useMemoCache:ol,useCacheRefresh:function(){return Bn().memoizedState=cl.bind(null,Et)}},ns={readContext:ai,use:Ec,useCallback:cm,useContext:ai,useEffect:Wh,useImperativeHandle:ll,useInsertionEffect:al,useLayoutEffect:Jh,useMemo:ep,useReducer:Ff,useRef:Wf,useState:function(){return Ff(Ii)},useDebugValue:$h,useDeferredValue:function(u,s){var c=Pt();return np(c,nn.memoizedState,u,s)},useTransition:function(){var u=Ff(Ii)[0],s=Pt().memoizedState;return[typeof u=="boolean"?u:Uu(u),s]},useSyncExternalStore:Mc,useId:$f,useHostTransitionStatus:Jf,useFormState:om,useActionState:om,useOptimistic:function(u,s){var c=Pt();return Fh(c,nn,u,s)},useMemoCache:ol,useCacheRefresh:dm},wy={readContext:ai,use:Ec,useCallback:cm,useContext:ai,useEffect:Wh,useImperativeHandle:ll,useInsertionEffect:al,useLayoutEffect:Jh,useMemo:ep,useReducer:Ac,useRef:Wf,useState:function(){return Ac(Ii)},useDebugValue:$h,useDeferredValue:function(u,s){var c=Pt();return nn===null?tp(c,u,s):np(c,nn.memoizedState,u,s)},useTransition:function(){var u=Ac(Ii)[0],s=Pt().memoizedState;return[typeof u=="boolean"?u:Uu(u),s]},useSyncExternalStore:Mc,useId:$f,useHostTransitionStatus:Jf,useFormState:Zh,useActionState:Zh,useOptimistic:function(u,s){var c=Pt();return nn!==null?Fh(c,nn,u,s):(c.baseState=u,[u,c.queue.dispatch])},useMemoCache:ol,useCacheRefresh:dm},Ks=null,_u=0;function Ys(u){var s=_u;return _u+=1,Ks===null&&(Ks=[]),zh(Ks,u,s)}function is(u,s){s=s.props.ref,u.ref=s!==void 0?s:null}function Qs(u,s){throw s.$$typeof===Bt?Error(ee(525)):(u=Object.prototype.toString.call(s),Error(ee(31,u==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":u)))}function Lc(u){var s=u._init;return s(u._payload)}function op(u){function s(Q,q){if(u){var J=Q.deletions;J===null?(Q.deletions=[q],Q.flags|=16):J.push(q)}}function c(Q,q){if(!u)return null;for(;q!==null;)s(Q,q),q=q.sibling;return null}function d(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function m(Q,q){return Q=au(Q,q),Q.index=0,Q.sibling=null,Q}function v(Q,q,J){return Q.index=J,u?(J=Q.alternate,J!==null?(J=J.index,J<q?(Q.flags|=67108866,q):J):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function D(Q){return u&&Q.alternate===null&&(Q.flags|=67108866),Q}function R(Q,q,J,oe){return q===null||q.tag!==6?(q=lu(J,Q.mode,oe),q.return=Q,q):(q=m(q,J),q.return=Q,q)}function B(Q,q,J,oe){var je=J.type;return je===x?ue(Q,q,J.props.children,oe,J.key):q!==null&&(q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ji&&Lc(je)===q.type)?(q=m(q,J.props),is(q,J),q.return=Q,q):(q=Of(J.type,J.key,J.props,null,Q.mode,oe),is(q,J),q.return=Q,q)}function $(Q,q,J,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Nn(J,Q.mode,oe),q.return=Q,q):(q=m(q,J.children||[]),q.return=Q,q)}function ue(Q,q,J,oe,je){return q===null||q.tag!==7?(q=Vi(J,Q.mode,oe,je),q.return=Q,q):(q=m(q,J),q.return=Q,q)}function ae(Q,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=lu(""+q,Q.mode,J),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Fe:return J=Of(q.type,q.key,q.props,null,Q.mode,J),is(J,q),J.return=Q,J;case Ei:return q=Nn(q,Q.mode,J),q.return=Q,q;case ji:var oe=q._init;return q=oe(q._payload),ae(Q,q,J)}if(Te(q)||Se(q))return q=Vi(q,Q.mode,J,null),q.return=Q,q;if(typeof q.then=="function")return ae(Q,Ys(q),J);if(q.$$typeof===Ai)return ae(Q,Bf(Q,q),J);Qs(Q,q)}return null}function te(Q,q,J,oe){var je=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:R(Q,q,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Fe:return J.key===je?B(Q,q,J,oe):null;case Ei:return J.key===je?$(Q,q,J,oe):null;case ji:return je=J._init,J=je(J._payload),te(Q,q,J,oe)}if(Te(J)||Se(J))return je!==null?null:ue(Q,q,J,oe,null);if(typeof J.then=="function")return te(Q,q,Ys(J),oe);if(J.$$typeof===Ai)return te(Q,q,Bf(Q,J),oe);Qs(Q,J)}return null}function ne(Q,q,J,oe,je){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(J)||null,R(q,Q,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Fe:return Q=Q.get(oe.key===null?J:oe.key)||null,B(q,Q,oe,je);case Ei:return Q=Q.get(oe.key===null?J:oe.key)||null,$(q,Q,oe,je);case ji:var Mt=oe._init;return oe=Mt(oe._payload),ne(Q,q,J,oe,je)}if(Te(oe)||Se(oe))return Q=Q.get(J)||null,ue(q,Q,oe,je,null);if(typeof oe.then=="function")return ne(Q,q,J,Ys(oe),je);if(oe.$$typeof===Ai)return ne(Q,q,J,Bf(q,oe),je);Qs(q,oe)}return null}function at(Q,q,J,oe){for(var je=null,Mt=null,ze=q,nt=q=0,pi=null;ze!==null&&nt<J.length;nt++){ze.index>nt?(pi=ze,ze=null):pi=ze.sibling;var Ft=te(Q,ze,J[nt],oe);if(Ft===null){ze===null&&(ze=pi);break}u&&ze&&Ft.alternate===null&&s(Q,ze),q=v(Ft,q,nt),Mt===null?je=Ft:Mt.sibling=Ft,Mt=Ft,ze=pi}if(nt===J.length)return c(Q,ze),zt&&Hs(Q,nt),je;if(ze===null){for(;nt<J.length;nt++)ze=ae(Q,J[nt],oe),ze!==null&&(q=v(ze,q,nt),Mt===null?je=ze:Mt.sibling=ze,Mt=ze);return zt&&Hs(Q,nt),je}for(ze=d(ze);nt<J.length;nt++)pi=ne(ze,Q,nt,J[nt],oe),pi!==null&&(u&&pi.alternate!==null&&ze.delete(pi.key===null?nt:pi.key),q=v(pi,q,nt),Mt===null?je=pi:Mt.sibling=pi,Mt=pi);return u&&ze.forEach(function(ys){return s(Q,ys)}),zt&&Hs(Q,nt),je}function tt(Q,q,J,oe){if(J==null)throw Error(ee(151));for(var je=null,Mt=null,ze=q,nt=q=0,pi=null,Ft=J.next();ze!==null&&!Ft.done;nt++,Ft=J.next()){ze.index>nt?(pi=ze,ze=null):pi=ze.sibling;var ys=te(Q,ze,Ft.value,oe);if(ys===null){ze===null&&(ze=pi);break}u&&ze&&ys.alternate===null&&s(Q,ze),q=v(ys,q,nt),Mt===null?je=ys:Mt.sibling=ys,Mt=ys,ze=pi}if(Ft.done)return c(Q,ze),zt&&Hs(Q,nt),je;if(ze===null){for(;!Ft.done;nt++,Ft=J.next())Ft=ae(Q,Ft.value,oe),Ft!==null&&(q=v(Ft,q,nt),Mt===null?je=Ft:Mt.sibling=Ft,Mt=Ft);return zt&&Hs(Q,nt),je}for(ze=d(ze);!Ft.done;nt++,Ft=J.next())Ft=ne(ze,Q,nt,Ft.value,oe),Ft!==null&&(u&&Ft.alternate!==null&&ze.delete(Ft.key===null?nt:Ft.key),q=v(Ft,q,nt),Mt===null?je=Ft:Mt.sibling=Ft,Mt=Ft);return u&&ze.forEach(function(Jm){return s(Q,Jm)}),zt&&Hs(Q,nt),je}function rn(Q,q,J,oe){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case Fe:e:{for(var je=J.key;q!==null;){if(q.key===je){if(je=J.type,je===x){if(q.tag===7){c(Q,q.sibling),oe=m(q,J.props.children),oe.return=Q,Q=oe;break e}}else if(q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ji&&Lc(je)===q.type){c(Q,q.sibling),oe=m(q,J.props),is(oe,J),oe.return=Q,Q=oe;break e}c(Q,q);break}else s(Q,q);q=q.sibling}J.type===x?(oe=Vi(J.props.children,Q.mode,oe,J.key),oe.return=Q,Q=oe):(oe=Of(J.type,J.key,J.props,null,Q.mode,oe),is(oe,J),oe.return=Q,Q=oe)}return D(Q);case Ei:e:{for(je=J.key;q!==null;){if(q.key===je)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){c(Q,q.sibling),oe=m(q,J.children||[]),oe.return=Q,Q=oe;break e}else{c(Q,q);break}else s(Q,q);q=q.sibling}oe=Nn(J,Q.mode,oe),oe.return=Q,Q=oe}return D(Q);case ji:return je=J._init,J=je(J._payload),rn(Q,q,J,oe)}if(Te(J))return at(Q,q,J,oe);if(Se(J)){if(je=Se(J),typeof je!="function")throw Error(ee(150));return J=je.call(J),tt(Q,q,J,oe)}if(typeof J.then=="function")return rn(Q,q,Ys(J),oe);if(J.$$typeof===Ai)return rn(Q,q,Bf(Q,J),oe);Qs(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(c(Q,q.sibling),oe=m(q,J),oe.return=Q,Q=oe):(c(Q,q),oe=lu(J,Q.mode,oe),oe.return=Q,Q=oe),D(Q)):c(Q,q)}return function(Q,q,J,oe){try{_u=0;var je=rn(Q,q,J,oe);return Ks=null,je}catch(ze){if(ze===mc||ze===vc)throw ze;var Mt=cn(29,ze,null,Q.mode);return Mt.lanes=oe,Mt.return=Q,Mt}finally{}}}var Zs=op(!0),hm=op(!1),Ri=de(null),Tn=null;function ur(u){var s=u.alternate;Ce(An,An.current&1),Ce(Ri,u),Tn===null&&(s===null||Pr.current!==null||s.memoizedState!==null)&&(Tn=u)}function Ws(u){if(u.tag===22){if(Ce(An,An.current),Ce(Ri,u),Tn===null){var s=u.alternate;s!==null&&s.memoizedState!==null&&(Tn=u)}}else wo()}function wo(){Ce(An,An.current),Ce(Ri,Ri.current)}function Ou(u){_e(Ri),Tn===u&&(Tn=null),_e(An)}var An=de(0);function ju(u){for(var s=u;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ll(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break;for(;s.sibling===null;){if(s.return===null||s.return===u)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Js(u,s,c,d){s=u.memoizedState,c=c(d,s),c=c==null?s:We({},s,c),u.memoizedState=c,u.lanes===0&&(u.updateQueue.baseState=c)}var sp={enqueueSetState:function(u,s,c){u=u._reactInternals;var d=Ni(),m=Er(d);m.payload=s,c!=null&&(m.callback=c),s=yo(u,m,d),s!==null&&(vt(s,u,d),rl(s,u,d))},enqueueReplaceState:function(u,s,c){u=u._reactInternals;var d=Ni(),m=Er(d);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=yo(u,m,d),s!==null&&(vt(s,u,d),rl(s,u,d))},enqueueForceUpdate:function(u,s){u=u._reactInternals;var c=Ni(),d=Er(c);d.tag=2,s!=null&&(d.callback=s),s=yo(u,d,c),s!==null&&(vt(s,u,c),rl(s,u,c))}};function Gt(u,s,c,d,m,v,D){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(d,v,D):s.prototype&&s.prototype.isPureReactComponent?!Go(c,d)||!Go(m,v):!0}function ap(u,s,c,d){u=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==u&&sp.enqueueReplaceState(s,s.state,null)}function rs(u,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(u=u.defaultProps){c===s&&(c=We({},c));for(var m in u)c[m]===void 0&&(c[m]=u[m])}return c}var Qe=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function lp(u){Qe(u)}function Eo(u){console.error(u)}function cp(u){Qe(u)}function id(u,s){try{var c=u.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function pm(u,s,c){try{var d=u.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fp(u,s,c){return c=Er(c),c.tag=3,c.payload={element:null},c.callback=function(){id(u,s)},c}function gm(u){return u=Er(u),u.tag=3,u}function mm(u,s,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;u.payload=function(){return m(v)},u.callback=function(){pm(s,c,d)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(u.callback=function(){pm(s,c,d),typeof m!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function Ey(u,s,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&$a(s,c,m,!0),c=Ri.current,c!==null){switch(c.tag){case 13:return Tn===null?ca():c.alternate===null&&xn===0&&(xn=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===yc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),kp(u,d,m)),!1;case 22:return c.flags|=65536,d===yc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),kp(u,d,m)),!1}throw Error(ee(435,c.tag))}return kp(u,d,m),ca(),!1}if(zt)return s=Ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,d!==lc&&(u=Error(ee(422),{cause:d}),fc($n(u,c)))):(d!==lc&&(s=Error(ee(423),{cause:d}),fc($n(s,c))),u=u.current.alternate,u.flags|=65536,m&=-m,u.lanes|=m,d=$n(d,c),m=fp(u.stateNode,d,m),Gh(u,m),xn!==4&&(xn=2)),!1;var v=Error(ee(520),{cause:d});if(v=$n(v,c),Gu===null?Gu=[v]:Gu.push(v),xn!==4&&(xn=2),s===null)return!0;d=$n(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,u=m&-m,c.lanes|=u,u=fp(c.stateNode,d,u),Gh(c,u),!1;case 1:if(s=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Co===null||!Co.has(v))))return c.flags|=65536,m&=-m,c.lanes|=m,m=gm(m),mm(m,u,c,d),Gh(c,m),!1}c=c.return}while(c!==null);return!1}var vm=Error(ee(461)),ci=!1;function vi(u,s,c,d){s.child=u===null?hm(s,null,c,d):Zs(s,u.child,c,d)}function Uc(u,s,c,d,m){c=c.render;var v=s.ref;if("ref"in d){var D={};for(var R in d)R!=="ref"&&(D[R]=d[R])}else D=d;return fu(s),d=To(u,s,c,D,v,m),R=qf(),u!==null&&!ci?(At(u,s,m),Si(u,s,m)):(zt&&R&&Vs(s),s.flags|=1,vi(u,s,d,m),s.child)}function ym(u,s,c,d,m){if(u===null){var v=c.type;return typeof v=="function"&&!mi(v)&&v.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=v,rd(u,s,v,d,m)):(u=Of(c.type,null,d,s,s.mode,m),u.ref=s.ref,u.return=s,s.child=u)}if(v=u.child,!cd(u,m)){var D=v.memoizedProps;if(c=c.compare,c=c!==null?c:Go,c(D,d)&&u.ref===s.ref)return Si(u,s,m)}return s.flags|=1,u=au(v,d),u.ref=s.ref,u.return=s,s.child=u}function rd(u,s,c,d,m){if(u!==null){var v=u.memoizedProps;if(Go(v,d)&&u.ref===s.ref)if(ci=!1,s.pendingProps=d=v,cd(u,m))(u.flags&131072)!==0&&(ci=!0);else return s.lanes=u.lanes,Si(u,s,m)}return dp(u,s,c,d,m)}function Sm(u,s,c){var d=s.pendingProps,m=d.children,v=u!==null?u.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,u!==null){for(m=s.child=u.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;s.childLanes=v&~d}else s.childLanes=0,s.child=null;return Tm(u,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},u!==null&&Vf(s,v!==null?v.cachePool:null),v!==null?Lu(s,v):Gf(),Ws(s);else return s.lanes=s.childLanes=536870912,Tm(u,s,v!==null?v.baseLanes|c:c,c)}else v!==null?(Vf(s,v.cachePool),Lu(s,v),wo(),s.memoizedState=null):(u!==null&&Vf(s,null),Gf(),wo());return vi(u,s,m,c),s.child}function Tm(u,s,c,d){var m=nl();return m=m===null?null:{parent:bn._currentValue,pool:m},s.memoizedState={baseLanes:c,cachePool:m},u!==null&&Vf(s,null),Gf(),Ws(s),u!==null&&$a(u,s,d,!0),null}function ud(u,s){var c=s.ref;if(c===null)u!==null&&u.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(ee(284));(u===null||u.ref!==c)&&(s.flags|=4194816)}}function dp(u,s,c,d,m){return fu(s),c=To(u,s,c,d,void 0,m),d=qf(),u!==null&&!ci?(At(u,s,m),Si(u,s,m)):(zt&&d&&Vs(s),s.flags|=1,vi(u,s,c,m),s.child)}function _c(u,s,c,d,m,v){return fu(s),s.updateQueue=null,c=Ut(s,d,c,m),Xf(u),d=qf(),u!==null&&!ci?(At(u,s,v),Si(u,s,v)):(zt&&d&&Vs(s),s.flags|=1,vi(u,s,c,v),s.child)}function xm(u,s,c,d,m){if(fu(s),s.stateNode===null){var v=Sn,D=c.contextType;typeof D=="object"&&D!==null&&(v=ai(D)),v=new c(d,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sp,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=d,v.state=s.memoizedState,v.refs={},vo(s),D=c.contextType,v.context=typeof D=="object"&&D!==null?ai(D):Sn,v.state=s.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(Js(s,c,D,d),v.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(D=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),D!==v.state&&sp.enqueueReplaceState(v,v.state,null),$o(s,d,v,m),ul(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(u===null){v=s.stateNode;var R=s.memoizedProps,B=rs(c,R);v.props=B;var $=v.context,ue=c.contextType;D=Sn,typeof ue=="object"&&ue!==null&&(D=ai(ue));var ae=c.getDerivedStateFromProps;ue=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||$!==D)&&ap(s,v,d,D),bt=!1;var te=s.memoizedState;v.state=te,$o(s,d,v,m),ul(),$=s.memoizedState,R||te!==$||bt?(typeof ae=="function"&&(Js(s,c,ae,d),$=s.memoizedState),(B=bt||Gt(s,c,B,d,te,$,D))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=$),v.props=d,v.state=$,v.context=D,d=B):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{v=s.stateNode,Sc(u,s),D=s.memoizedProps,ue=rs(c,D),v.props=ue,ae=s.pendingProps,te=v.context,$=c.contextType,B=Sn,typeof $=="object"&&$!==null&&(B=ai($)),R=c.getDerivedStateFromProps,($=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D!==ae||te!==B)&&ap(s,v,d,B),bt=!1,te=s.memoizedState,v.state=te,$o(s,d,v,m),ul();var ne=s.memoizedState;D!==ae||te!==ne||bt||u!==null&&u.dependencies!==null&&dc(u.dependencies)?(typeof R=="function"&&(Js(s,c,R,d),ne=s.memoizedState),(ue=bt||Gt(s,c,ue,d,te,ne,B)||u!==null&&u.dependencies!==null&&dc(u.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ne,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ne,B)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||D===u.memoizedProps&&te===u.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===u.memoizedProps&&te===u.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ne),v.props=d,v.state=ne,v.context=B,d=ue):(typeof v.componentDidUpdate!="function"||D===u.memoizedProps&&te===u.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===u.memoizedProps&&te===u.memoizedState||(s.flags|=1024),d=!1)}return v=d,ud(u,s),d=(s.flags&128)!==0,v||d?(v=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,u!==null&&d?(s.child=Zs(s,u.child,null,m),s.child=Zs(s,null,c,m)):vi(u,s,c,m),s.memoizedState=v.state,u=s.child):u=Si(u,s,m),u}function yi(u,s,c,d){return Wa(),s.flags|=256,vi(u,s,c,d),s.child}var pl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Me(u){return{baseLanes:u,cachePool:gc()}}function od(u,s,c){return u=u!==null?u.childLanes&~c:0,s&&(u|=Vr),u}function bu(u,s,c){var d=s.pendingProps,m=!1,v=(s.flags&128)!==0,D;if((D=v)||(D=u!==null&&u.memoizedState===null?!1:(An.current&2)!==0),D&&(m=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,u===null){if(zt){if(m?ur(s):wo(),zt){var R=dn,B;if(B=R){e:{for(B=R,R=Di;B.nodeType!==8;){if(!R){R=null;break e}if(B=Dr(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(s.memoizedState={dehydrated:R,treeContext:Bs!==null?{id:wr,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},B=cn(18,null,null,0),B.stateNode=R,B.return=s,s.child=B,Fn=s,dn=null,B=!0):B=!1}B||po(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Ll(R)?s.lanes=32:s.lanes=536870912,null;Ou(s)}return R=d.children,d=d.fallback,m?(wo(),m=s.mode,R=us({mode:"hidden",children:R},m),d=Vi(d,m,c,null),R.return=s,d.return=s,R.sibling=d,s.child=R,m=s.child,m.memoizedState=Me(c),m.childLanes=od(u,D,c),s.memoizedState=pl,d):(ur(s),sd(s,R))}if(B=u.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(v)s.flags&256?(ur(s),s.flags&=-257,s=Oc(u,s,c)):s.memoizedState!==null?(wo(),s.child=u.child,s.flags|=128,s=null):(wo(),m=d.fallback,R=s.mode,d=us({mode:"visible",children:d.children},R),m=Vi(m,R,c,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,Zs(s,u.child,null,c),d=s.child,d.memoizedState=Me(c),d.childLanes=od(u,D,c),s.memoizedState=pl,s=m);else if(ur(s),Ll(R)){if(D=R.nextSibling&&R.nextSibling.dataset,D)var $=D.dgst;D=$,d=Error(ee(419)),d.stack="",d.digest=D,fc({value:d,source:null,stack:null}),s=Oc(u,s,c)}else if(ci||$a(u,s,c,!1),D=(c&u.childLanes)!==0,ci||D){if(D=pn,D!==null&&(d=c&-c,d=(d&42)!==0?1:Tf(d),d=(d&(D.suspendedLanes|c))!==0?0:d,d!==0&&d!==B.retryLane))throw B.retryLane=d,Qo(u,d),vt(D,u,d),vm;R.data==="$?"||ca(),s=Oc(u,s,c)}else R.data==="$?"?(s.flags|=192,s.child=u.child,s=null):(u=B.treeContext,dn=Dr(R.nextSibling),Fn=s,zt=!0,ht=null,Di=!1,u!==null&&(Tr[xr++]=wr,Tr[xr++]=fo,Tr[xr++]=Bs,wr=u.id,fo=u.overflow,Bs=s),s=sd(s,d.children),s.flags|=4096);return s}return m?(wo(),m=d.fallback,R=s.mode,B=u.child,$=B.sibling,d=au(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,$!==null?m=au($,m):(m=Vi(m,R,c,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,R=u.child.memoizedState,R===null?R=Me(c):(B=R.cachePool,B!==null?($=bn._currentValue,B=B.parent!==$?{parent:$,pool:$}:B):B=gc(),R={baseLanes:R.baseLanes|c,cachePool:B}),m.memoizedState=R,m.childLanes=od(u,D,c),s.memoizedState=pl,d):(ur(s),c=u.child,u=c.sibling,c=au(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,u!==null&&(D=s.deletions,D===null?(s.deletions=[u],s.flags|=16):D.push(u)),s.child=c,s.memoizedState=null,c)}function sd(u,s){return s=us({mode:"visible",children:s},u.mode),s.return=u,u.child=s}function us(u,s){return u=cn(22,u,null,s),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function Oc(u,s,c){return Zs(s,u.child,null,c),u=sd(s,s.pendingProps.children),u.flags|=2,s.memoizedState=null,u}function ad(u,s,c){u.lanes|=s;var d=u.alternate;d!==null&&(d.lanes|=s),Pf(u.return,s,c)}function ld(u,s,c,d,m){var v=u.memoizedState;v===null?u.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=m)}function wm(u,s,c){var d=s.pendingProps,m=d.revealOrder,v=d.tail;if(vi(u,s,d.children,c),d=An.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=s.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ad(u,c,s);else if(u.tag===19)ad(u,c,s);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}d&=1}switch(Ce(An,d),m){case"forwards":for(c=s.child,m=null;c!==null;)u=c.alternate,u!==null&&ju(u)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),ld(s,!1,m,c,v);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(u=m.alternate,u!==null&&ju(u)===null){s.child=m;break}u=m.sibling,m.sibling=c,c=m,m=u}ld(s,!0,c,null,v);break;case"together":ld(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Si(u,s,c){if(u!==null&&(s.dependencies=u.dependencies),Hr|=s.lanes,(c&s.childLanes)===0)if(u!==null){if($a(u,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(u!==null&&s.child!==u.child)throw Error(ee(153));if(s.child!==null){for(u=s.child,c=au(u,u.pendingProps),s.child=c,c.return=s;u.sibling!==null;)u=u.sibling,c=c.sibling=au(u,u.pendingProps),c.return=s;c.sibling=null}return s.child}function cd(u,s){return(u.lanes&s)!==0?!0:(u=u.dependencies,!!(u!==null&&dc(u)))}function Em(u,s,c){switch(s.tag){case 3:sn(s,s.stateNode.containerInfo),Wo(s,bn,u.memoizedState.cache),Wa();break;case 27:case 5:ch(s);break;case 4:sn(s,s.stateNode.containerInfo);break;case 10:Wo(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ur(s),s.flags|=128,null):(c&s.child.childLanes)!==0?bu(u,s,c):(ur(s),u=Si(u,s,c),u!==null?u.sibling:null);ur(s);break;case 19:var m=(u.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||($a(u,s,c,!1),d=(c&s.childLanes)!==0),m){if(d)return wm(u,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ce(An,An.current),d)break;return null;case 22:case 23:return s.lanes=0,Sm(u,s,c);case 24:Wo(s,bn,u.memoizedState.cache)}return Si(u,s,c)}function Ao(u,s,c){if(u!==null)if(u.memoizedProps!==s.pendingProps)ci=!0;else{if(!cd(u,c)&&(s.flags&128)===0)return ci=!1,Em(u,s,c);ci=(u.flags&131072)!==0}else ci=!1,zt&&(s.flags&1048576)!==0&&ho(s,bf,s.index);switch(s.lanes=0,s.tag){case 16:e:{u=s.pendingProps;var d=s.elementType,m=d._init;if(d=m(d._payload),s.type=d,typeof d=="function")mi(d)?(u=rs(d,u),s.tag=1,s=xm(null,s,d,u,c)):(s.tag=0,s=dp(null,s,d,u,c));else{if(d!=null){if(m=d.$$typeof,m===Nr){s.tag=11,s=Uc(null,s,d,u,c);break e}else if(m===Mi){s.tag=14,s=ym(null,s,d,u,c);break e}}throw s=Pe(d)||d,Error(ee(306,s,""))}}return s;case 0:return dp(u,s,s.type,s.pendingProps,c);case 1:return d=s.type,m=rs(d,s.pendingProps),xm(u,s,d,m,c);case 3:e:{if(sn(s,s.stateNode.containerInfo),u===null)throw Error(ee(387));d=s.pendingProps;var v=s.memoizedState;m=v.element,Sc(u,s),$o(s,d,null,c);var D=s.memoizedState;if(d=D.cache,Wo(s,bn,d),d!==v.cache&&Bh(s,[bn],c,!0),ul(),d=D.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=yi(u,s,d,c);break e}else if(d!==m){m=$n(Error(ee(424)),s),fc(m),s=yi(u,s,d,c);break e}else{switch(u=s.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(dn=Dr(u.firstChild),Fn=s,zt=!0,ht=null,Di=!0,c=hm(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Wa(),d===m){s=Si(u,s,c);break e}vi(u,s,d,c)}s=s.child}return s;case 26:return ud(u,s),u===null?(c=hs(s.type,null,s.pendingProps,null))?s.memoizedState=c:zt||(c=s.type,u=s.pendingProps,d=Nl(Ye.current).createElement(c),d[Un]=s,d[gi]=u,hi(d,c,u),Xn(d),s.stateNode=d):s.memoizedState=hs(s.type,u.memoizedProps,s.pendingProps,u.memoizedState),null;case 27:return ch(s),u===null&&zt&&(d=s.stateNode=Ud(s.type,s.pendingProps,Ye.current),Fn=s,Di=!0,m=dn,Cr(s.type)?(Bp=m,dn=Dr(d.firstChild)):dn=m),vi(u,s,s.pendingProps.children,c),ud(u,s),u===null&&(s.flags|=4194304),s.child;case 5:return u===null&&zt&&((m=d=dn)&&(d=Oy(d,s.type,s.pendingProps,Di),d!==null?(s.stateNode=d,Fn=s,dn=Dr(d.firstChild),Di=!1,m=!0):m=!1),m||po(s)),ch(s),m=s.type,v=s.pendingProps,D=u!==null?u.memoizedProps:null,d=v.children,jp(m,v)?d=null:D!==null&&jp(m,D)&&(s.flags|=32),s.memoizedState!==null&&(m=To(u,s,xo,null,null,c),xa._currentValue=m),ud(u,s),vi(u,s,d,c),s.child;case 6:return u===null&&zt&&((u=c=dn)&&(c=Ld(c,s.pendingProps,Di),c!==null?(s.stateNode=c,Fn=s,dn=null,u=!0):u=!1),u||po(s)),null;case 13:return bu(u,s,c);case 4:return sn(s,s.stateNode.containerInfo),d=s.pendingProps,u===null?s.child=Zs(s,null,d,c):vi(u,s,d,c),s.child;case 11:return Uc(u,s,s.type,s.pendingProps,c);case 7:return vi(u,s,s.pendingProps,c),s.child;case 8:return vi(u,s,s.pendingProps.children,c),s.child;case 12:return vi(u,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,Wo(s,s.type,d.value),vi(u,s,d.children,c),s.child;case 9:return m=s.type._context,d=s.pendingProps.children,fu(s),m=ai(m),d=d(m),s.flags|=1,vi(u,s,d,c),s.child;case 14:return ym(u,s,s.type,s.pendingProps,c);case 15:return rd(u,s,s.type,s.pendingProps,c);case 19:return wm(u,s,c);case 31:return d=s.pendingProps,c=s.mode,d={mode:d.mode,children:d.children},u===null?(c=us(d,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=au(u.child,d),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return Sm(u,s,c);case 24:return fu(s),d=ai(bn),u===null?(m=nl(),m===null&&(m=pn,v=pc(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=c),m=v),s.memoizedState={parent:d,cache:m},vo(s),Wo(s,bn,m)):((u.lanes&c)!==0&&(Sc(u,s),$o(s,null,null,c),ul()),m=u.memoizedState,v=s.memoizedState,m.parent!==d?(m={parent:d,cache:d},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Wo(s,bn,d)):(d=v.cache,Wo(s,bn,d),d!==m.cache&&Bh(s,[bn],c,!0))),vi(u,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(ee(156,s.tag))}function hu(u){u.flags|=4}function hp(u,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!Qn(s)){if(s=Ri.current,s!==null&&((jt&4194048)===jt?Tn!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==Tn))throw il=yc,qt;u.flags|=8192}}function jc(u,s){s!==null&&(u.flags|=4),u.flags&16384&&(s=u.tag!==22?Zl():536870912,u.lanes|=s,oa|=s)}function $s(u,s){if(!zt)switch(u.tailMode){case"hidden":s=u.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?u.tail=null:c.sibling=null;break;case"collapsed":c=u.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||u.tail===null?u.tail=null:u.tail.sibling=null:d.sibling=null}}function Mn(u){var s=u.alternate!==null&&u.alternate.child===u.child,c=0,d=0;if(s)for(var m=u.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=u,m=m.sibling;else for(m=u.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=u,m=m.sibling;return u.subtreeFlags|=d,u.childLanes=c,s}function ea(u,s,c){var d=s.pendingProps;switch(rr(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(s),null;case 1:return Mn(s),null;case 3:return c=s.stateNode,d=null,u!==null&&(d=u.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),go(bn),Wu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(u===null||u.child===null)&&(Za(s)?hu(s):u===null||u.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zg())),Mn(s),null;case 26:return c=s.memoizedState,u===null?(hu(s),c!==null?(Mn(s),hp(s,c)):(Mn(s),s.flags&=-16777217)):c?c!==u.memoizedState?(hu(s),Mn(s),hp(s,c)):(Mn(s),s.flags&=-16777217):(u.memoizedProps!==d&&hu(s),Mn(s),s.flags&=-16777217),null;case 27:vf(s),c=Ye.current;var m=s.type;if(u!==null&&s.stateNode!=null)u.memoizedProps!==d&&hu(s);else{if(!d){if(s.stateNode===null)throw Error(ee(166));return Mn(s),null}u=L.current,Za(s)?cc(s):(u=Ud(m,d,c),s.stateNode=u,hu(s))}return Mn(s),null;case 5:if(vf(s),c=s.type,u!==null&&s.stateNode!=null)u.memoizedProps!==d&&hu(s);else{if(!d){if(s.stateNode===null)throw Error(ee(166));return Mn(s),null}if(u=L.current,Za(s))cc(s);else{switch(m=Nl(Ye.current),u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?u.multiple=!0:d.size&&(u.size=d.size);break;default:u=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}u[Un]=s,u[gi]=d;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=u;e:switch(hi(u,c,d),c){case"button":case"input":case"select":case"textarea":u=!!d.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&hu(s)}}return Mn(s),s.flags&=-16777217,null;case 6:if(u&&s.stateNode!=null)u.memoizedProps!==d&&hu(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(ee(166));if(u=Ye.current,Za(s)){if(u=s.stateNode,c=s.memoizedProps,d=null,m=Fn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}u[Un]=s,u=!!(u.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Qc(u.nodeValue,c)),u||po(s)}else u=Nl(u).createTextNode(d),u[Un]=s,s.stateNode=u}return Mn(s),null;case 13:if(d=s.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(m=Za(s),d!==null&&d.dehydrated!==null){if(u===null){if(!m)throw Error(ee(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(ee(317));m[Un]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mn(s),m=!1}else m=Zg(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ou(s),s):(Ou(s),null)}if(Ou(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,u=u!==null&&u.memoizedState!==null,c){d=s.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return c!==u&&c&&(s.child.flags|=8192),jc(s,s.updateQueue),Mn(s),null;case 4:return Wu(),u===null&&ei(s.stateNode.containerInfo),Mn(s),null;case 10:return go(s.type),Mn(s),null;case 19:if(_e(An),m=s.memoizedState,m===null)return Mn(s),null;if(d=(s.flags&128)!==0,v=m.rendering,v===null)if(d)$s(m,!1);else{if(xn!==0||u!==null&&(u.flags&128)!==0)for(u=s.child;u!==null;){if(v=ju(u),v!==null){for(s.flags|=128,$s(m,!1),u=v.updateQueue,s.updateQueue=u,jc(s,u),s.subtreeFlags=0,u=c,c=s.child;c!==null;)bh(c,u),c=c.sibling;return Ce(An,An.current&1|2),s.child}u=u.sibling}m.tail!==null&&Qi()>Vc&&(s.flags|=128,d=!0,$s(m,!1),s.lanes=4194304)}else{if(!d)if(u=ju(v),u!==null){if(s.flags|=128,d=!0,u=u.updateQueue,s.updateQueue=u,jc(s,u),$s(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!zt)return Mn(s),null}else 2*Qi()-m.renderingStartTime>Vc&&c!==536870912&&(s.flags|=128,d=!0,$s(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(u=m.last,u!==null?u.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Qi(),s.sibling=null,u=An.current,Ce(An,d?u&1|2:u&1),s):(Mn(s),null);case 22:case 23:return Ou(s),mn(),d=s.memoizedState!==null,u!==null?u.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Mn(s),s.subtreeFlags&6&&(s.flags|=8192)):Mn(s),c=s.updateQueue,c!==null&&jc(s,c.retryQueue),c=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),u!==null&&_e(Jo),null;case 24:return c=null,u!==null&&(c=u.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),go(bn),Mn(s),null;case 25:return null;case 30:return null}throw Error(ee(156,s.tag))}function gl(u,s){switch(rr(s),s.tag){case 1:return u=s.flags,u&65536?(s.flags=u&-65537|128,s):null;case 3:return go(bn),Wu(),u=s.flags,(u&65536)!==0&&(u&128)===0?(s.flags=u&-65537|128,s):null;case 26:case 27:case 5:return vf(s),null;case 13:if(Ou(s),u=s.memoizedState,u!==null&&u.dehydrated!==null){if(s.alternate===null)throw Error(ee(340));Wa()}return u=s.flags,u&65536?(s.flags=u&-65537|128,s):null;case 19:return _e(An),null;case 4:return Wu(),null;case 10:return go(s.type),null;case 22:case 23:return Ou(s),mn(),u!==null&&_e(Jo),u=s.flags,u&65536?(s.flags=u&-65537|128,s):null;case 24:return go(bn),null;case 25:return null;default:return null}}function Pu(u,s){switch(rr(s),s.tag){case 3:go(bn),Wu();break;case 26:case 27:case 5:vf(s);break;case 4:Wu();break;case 13:Ou(s);break;case 19:_e(An);break;case 10:go(s.type);break;case 22:case 23:Ou(s),mn(),u!==null&&_e(Jo);break;case 24:go(bn)}}function ta(u,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&u)===u){d=void 0;var v=c.create,D=c.inst;d=v(),D.destroy=d}c=c.next}while(c!==m)}}catch(R){fn(s,s.return,R)}}function Ln(u,s,c){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&u)===u){var D=d.inst,R=D.destroy;if(R!==void 0){D.destroy=void 0,m=s;var B=c,$=R;try{$()}catch(ue){fn(m,B,ue)}}}d=d.next}while(d!==v)}}catch(ue){fn(s,s.return,ue)}}function Je(u){var s=u.updateQueue;if(s!==null){var c=u.stateNode;try{qs(s,c)}catch(d){fn(u,u.return,d)}}}function fd(u,s,c){c.props=rs(u.type,u.memoizedProps),c.state=u.memoizedState;try{c.componentWillUnmount()}catch(d){fn(u,s,d)}}function Kn(u,s){try{var c=u.ref;if(c!==null){switch(u.tag){case 26:case 27:case 5:var d=u.stateNode;break;case 30:d=u.stateNode;break;default:d=u.stateNode}typeof c=="function"?u.refCleanup=c(d):c.current=d}}catch(m){fn(u,s,m)}}function pe(u,s){var c=u.ref,d=u.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){fn(u,s,m)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){fn(u,s,m)}else c.current=null}function na(u){var s=u.type,c=u.memoizedProps,d=u.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){fn(u,u.return,m)}}function Ae(u,s,c){try{var d=u.stateNode;Zc(d,u.type,c,s),d[gi]=s}catch(m){fn(u,u.return,m)}}function mt(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Cr(u.type)||u.tag===4}function ml(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||mt(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Cr(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function pp(u,s,c){var d=u.tag;if(d===5||d===6)u=u.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(u,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(u),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Ro));else if(d!==4&&(d===27&&Cr(u.type)&&(c=u.stateNode,s=null),u=u.child,u!==null))for(pp(u,s,c),u=u.sibling;u!==null;)pp(u,s,c),u=u.sibling}function Nt(u,s,c){var d=u.tag;if(d===5||d===6)u=u.stateNode,s?c.insertBefore(u,s):c.appendChild(u);else if(d!==4&&(d===27&&Cr(u.type)&&(c=u.stateNode),u=u.child,u!==null))for(Nt(u,s,c),u=u.sibling;u!==null;)Nt(u,s,c),u=u.sibling}function dd(u){var s=u.stateNode,c=u.memoizedProps;try{for(var d=u.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);hi(s,d,c),s[Un]=u,s[gi]=c}catch(v){fn(u,u.return,v)}}var Bu=!1,Hn=!1,gp=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function vp(u,s){if(u=u.containerInfo,Wc=Bd,u=qa(u),Fa(u)){if("selectionStart"in u)var c={start:u.selectionStart,end:u.selectionEnd};else e:{c=(c=u.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch(tt){c=null;break e}var D=0,R=-1,B=-1,$=0,ue=0,ae=u,te=null;t:for(;;){for(var ne;ae!==c||m!==0&&ae.nodeType!==3||(R=D+m),ae!==v||d!==0&&ae.nodeType!==3||(B=D+d),ae.nodeType===3&&(D+=ae.nodeValue.length),(ne=ae.firstChild)!==null;)te=ae,ae=ne;for(;;){if(ae===u)break t;if(te===c&&++$===m&&(R=D),te===v&&++ue===d&&(B=D),(ne=ae.nextSibling)!==null)break;ae=te,te=ae.parentNode}ae=ne}c=R===-1||B===-1?null:{start:R,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(kl={focusedElem:u,selectionRange:c},Bd=!1,Cn=s;Cn!==null;)if(s=Cn,u=s.child,(s.subtreeFlags&1024)!==0&&u!==null)u.return=s,Cn=u;else for(;Cn!==null;){switch(s=Cn,v=s.alternate,u=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&v!==null){u=void 0,c=s,m=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var at=rs(c.type,m,c.elementType===c.type);u=d.getSnapshotBeforeUpdate(at,v),d.__reactInternalSnapshotBeforeUpdate=u}catch(tt){fn(c,c.return,tt)}}break;case 3:if((u&1024)!==0){if(u=s.stateNode.containerInfo,c=u.nodeType,c===9)Xu(u);else if(c===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Xu(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(ee(163))}if(u=s.sibling,u!==null){u.return=s.return,Cn=u;break}Cn=s.return}}function Am(u,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ss(u,c),d&4&&ta(5,c);break;case 1:if(ss(u,c),d&4)if(u=c.stateNode,s===null)try{u.componentDidMount()}catch(D){fn(c,c.return,D)}else{var m=rs(c.type,s.memoizedProps);s=s.memoizedState;try{u.componentDidUpdate(m,s,u.__reactInternalSnapshotBeforeUpdate)}catch(D){fn(c,c.return,D)}}d&64&&Je(c),d&512&&Kn(c,c.return);break;case 3:if(ss(u,c),d&64&&(u=c.updateQueue,u!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{qs(u,s)}catch(D){fn(c,c.return,D)}}break;case 27:s===null&&d&4&&dd(c);case 26:case 5:ss(u,c),s===null&&d&4&&na(c),d&512&&Kn(c,c.return);break;case 12:ss(u,c);break;case 13:ss(u,c),d&4&&Cm(u,c),d&64&&(u=c.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(c=Nm.bind(null,c),jy(u,c))));break;case 22:if(d=c.memoizedState!==null||Bu,!d){s=s!==null&&s.memoizedState!==null||Hn,m=Bu;var v=Hn;Bu=d,(Hn=s)&&!v?as(u,c,(c.subtreeFlags&8772)!==0):ss(u,c),Bu=m,Hn=v}break;case 30:break;default:ss(u,c)}}function yp(u){var s=u.alternate;s!==null&&(u.alternate=null,yp(s)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(s=u.stateNode,s!==null&&ii(s)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var hn=null,or=!1;function Mo(u,s,c){for(c=c.child;c!==null;)Mm(u,s,c),c=c.sibling}function Mm(u,s,c){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Uo,c)}catch(v){}switch(c.tag){case 26:Hn||pe(c,s),Mo(u,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Hn||pe(c,s);var d=hn,m=or;Cr(c.type)&&(hn=c.stateNode,or=!1),Mo(u,s,c),ds(c.stateNode),hn=d,or=m;break;case 5:Hn||pe(c,s);case 6:if(d=hn,m=or,hn=null,Mo(u,s,c),hn=d,or=m,hn!==null)if(or)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(c.stateNode)}catch(v){fn(c,s,v)}else try{hn.removeChild(c.stateNode)}catch(v){fn(c,s,v)}break;case 18:hn!==null&&(or?(u=hn,Pp(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,c.stateNode),bl(u)):Pp(hn,c.stateNode));break;case 4:d=hn,m=or,hn=c.stateNode.containerInfo,or=!0,Mo(u,s,c),hn=d,or=m;break;case 0:case 11:case 14:case 15:Hn||Ln(2,c,s),Hn||Ln(4,c,s),Mo(u,s,c);break;case 1:Hn||(pe(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&fd(c,s,d)),Mo(u,s,c);break;case 21:Mo(u,s,c);break;case 22:Hn=(d=Hn)||c.memoizedState!==null,Mo(u,s,c),Hn=d;break;default:Mo(u,s,c)}}function Cm(u,s){if(s.memoizedState===null&&(u=s.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{bl(u)}catch(c){fn(s,s.return,c)}}function hd(u){switch(u.tag){case 13:case 19:var s=u.stateNode;return s===null&&(s=u.stateNode=new mp),s;case 22:return u=u.stateNode,s=u._retryCache,s===null&&(s=u._retryCache=new mp),s;default:throw Error(ee(435,u.tag))}}function pd(u,s){var c=hd(u);s.forEach(function(d){var m=Cy.bind(null,u,d);c.has(d)||(c.add(d),d.then(m,m))})}function ki(u,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],v=u,D=s,R=D;e:for(;R!==null;){switch(R.tag){case 27:if(Cr(R.type)){hn=R.stateNode,or=!1;break e}break;case 5:hn=R.stateNode,or=!1;break e;case 3:case 4:hn=R.stateNode.containerInfo,or=!0;break e}R=R.return}if(hn===null)throw Error(ee(160));Mm(v,D,m),hn=null,or=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ia(s,u),s=s.sibling}var Ti=null;function ia(u,s){var c=u.alternate,d=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ki(s,u),zi(u),d&4&&(Ln(3,u,u.return),ta(3,u),Ln(5,u,u.return));break;case 1:ki(s,u),zi(u),d&512&&(Hn||c===null||pe(c,c.return)),d&64&&Bu&&(u=u.updateQueue,u!==null&&(d=u.callbacks,d!==null&&(c=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Ti;if(ki(s,u),zi(u),d&512&&(Hn||c===null||pe(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=u.memoizedState,c===null)if(d===null)if(u.stateNode===null){e:{d=u.type,c=u.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Oa]||v[Un]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),hi(v,d,c),v[Un]=u,Xn(v),d=v;break e;case"link":var D=Yn("link","href",m).get(d+(c.href||""));if(D){for(var R=0;R<D.length;R++)if(v=D[R],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice(R,1);break t}}v=m.createElement(d),hi(v,d,c),m.head.appendChild(v);break;case"meta":if(D=Yn("meta","content",m).get(d+(c.content||""))){for(R=0;R<D.length;R++)if(v=D[R],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice(R,1);break t}}v=m.createElement(d),hi(v,d,c),m.head.appendChild(v);break;default:throw Error(ee(468,d))}v[Un]=u,Xn(v),d=v}u.stateNode=d}else Gp(m,u.type,u.stateNode);else u.stateNode=zp(m,d,u.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?Gp(m,u.type,u.stateNode):zp(m,d,u.memoizedProps)):d===null&&u.stateNode!==null&&Ae(u,u.memoizedProps,c.memoizedProps)}break;case 27:ki(s,u),zi(u),d&512&&(Hn||c===null||pe(c,c.return)),c!==null&&d&4&&Ae(u,u.memoizedProps,c.memoizedProps);break;case 5:if(ki(s,u),zi(u),d&512&&(Hn||c===null||pe(c,c.return)),u.flags&32){m=u.stateNode;try{Ur(m,"")}catch(ne){fn(u,u.return,ne)}}d&4&&u.stateNode!=null&&(m=u.memoizedProps,Ae(u,m,c!==null?c.memoizedProps:m)),d&1024&&(gp=!0);break;case 6:if(ki(s,u),zi(u),d&4){if(u.stateNode===null)throw Error(ee(162));d=u.memoizedProps,c=u.stateNode;try{c.nodeValue=d}catch(ne){fn(u,u.return,ne)}}break;case 3:if(jd=null,m=Ti,Ti=_d(s.containerInfo),ki(s,u),Ti=m,zi(u),d&4&&c!==null&&c.memoizedState.isDehydrated)try{bl(s.containerInfo)}catch(ne){fn(u,u.return,ne)}gp&&(gp=!1,os(u));break;case 4:d=Ti,Ti=_d(u.stateNode.containerInfo),ki(s,u),zi(u),Ti=d;break;case 12:ki(s,u),zi(u);break;case 13:ki(s,u),zi(u),u.child.flags&8192&&u.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Hc=Qi()),d&4&&(d=u.updateQueue,d!==null&&(u.updateQueue=null,pd(u,d)));break;case 22:m=u.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,$=Bu,ue=Hn;if(Bu=$||m,Hn=ue||B,ki(s,u),Hn=ue,Bu=$,zi(u),d&8192)e:for(s=u.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||B||Bu||Hn||Br(u)),c=null,s=u;;){if(s.tag===5||s.tag===26){if(c===null){B=c=s;try{if(v=B.stateNode,m)D=v.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{R=B.stateNode;var ae=B.memoizedProps.style,te=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){fn(B,B.return,ne)}}}else if(s.tag===6){if(c===null){B=s;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(ne){fn(B,B.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===u)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=u.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,pd(u,c))));break;case 19:ki(s,u),zi(u),d&4&&(d=u.updateQueue,d!==null&&(u.updateQueue=null,pd(u,d)));break;case 30:break;case 21:break;default:ki(s,u),zi(u)}}function zi(u){var s=u.flags;if(s&2){try{for(var c,d=u.return;d!==null;){if(mt(d)){c=d;break}d=d.return}if(c==null)throw Error(ee(160));switch(c.tag){case 27:var m=c.stateNode,v=ml(u);Nt(u,v,m);break;case 5:var D=c.stateNode;c.flags&32&&(Ur(D,""),c.flags&=-33);var R=ml(u);Nt(u,R,D);break;case 3:case 4:var B=c.stateNode.containerInfo,$=ml(u);pp(u,$,B);break;default:throw Error(ee(161))}}catch(ue){fn(u,u.return,ue)}u.flags&=-3}s&4096&&(u.flags&=-4097)}function os(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var s=u;os(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),u=u.sibling}}function ss(u,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Am(u,s.alternate,s),s=s.sibling}function Br(u){for(u=u.child;u!==null;){var s=u;switch(s.tag){case 0:case 11:case 14:case 15:Ln(4,s,s.return),Br(s);break;case 1:pe(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&fd(s,s.return,c),Br(s);break;case 27:ds(s.stateNode);case 26:case 5:pe(s,s.return),Br(s);break;case 22:s.memoizedState===null&&Br(s);break;case 30:Br(s);break;default:Br(s)}u=u.sibling}}function as(u,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,m=u,v=s,D=v.flags;switch(v.tag){case 0:case 11:case 15:as(m,v,c),ta(4,v);break;case 1:if(as(m,v,c),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){fn(d,d.return,$)}if(d=v,m=d.updateQueue,m!==null){var R=d.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)wt(B[m],R)}catch($){fn(d,d.return,$)}}c&&D&64&&Je(v),Kn(v,v.return);break;case 27:dd(v);case 26:case 5:as(m,v,c),c&&d===null&&D&4&&na(v),Kn(v,v.return);break;case 12:as(m,v,c);break;case 13:as(m,v,c),c&&D&4&&Cm(m,v);break;case 22:v.memoizedState===null&&as(m,v,c),Kn(v,v.return);break;case 30:break;default:as(m,v,c)}s=s.sibling}}function vl(u,s){var c=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==c&&(u!=null&&u.refCount++,c!=null&&el(c))}function Sp(u,s){u=null,s.alternate!==null&&(u=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==u&&(s.refCount++,u!=null&&el(u))}function Hu(u,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tp(u,s,c,d),s=s.sibling}function Tp(u,s,c,d){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Hu(u,s,c,d),m&2048&&ta(9,s);break;case 1:Hu(u,s,c,d);break;case 3:Hu(u,s,c,d),m&2048&&(u=null,s.alternate!==null&&(u=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==u&&(s.refCount++,u!=null&&el(u)));break;case 12:if(m&2048){Hu(u,s,c,d),u=s.stateNode;try{var v=s.memoizedProps,D=v.id,R=v.onPostCommit;typeof R=="function"&&R(D,s.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(B){fn(s,s.return,B)}}else Hu(u,s,c,d);break;case 13:Hu(u,s,c,d);break;case 23:break;case 22:v=s.stateNode,D=s.alternate,s.memoizedState!==null?v._visibility&2?Hu(u,s,c,d):bc(u,s):v._visibility&2?Hu(u,s,c,d):(v._visibility|=2,yl(u,s,c,d,(s.subtreeFlags&10256)!==0)),m&2048&&vl(D,s);break;case 24:Hu(u,s,c,d),m&2048&&Sp(s.alternate,s);break;default:Hu(u,s,c,d)}}function yl(u,s,c,d,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=u,D=s,R=c,B=d,$=D.flags;switch(D.tag){case 0:case 11:case 15:yl(v,D,R,B,m),ta(8,D);break;case 23:break;case 22:var ue=D.stateNode;D.memoizedState!==null?ue._visibility&2?yl(v,D,R,B,m):bc(v,D):(ue._visibility|=2,yl(v,D,R,B,m)),m&&$&2048&&vl(D.alternate,D);break;case 24:yl(v,D,R,B,m),m&&$&2048&&Sp(D.alternate,D);break;default:yl(v,D,R,B,m)}s=s.sibling}}function bc(u,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=u,d=s,m=d.flags;switch(d.tag){case 22:bc(c,d),m&2048&&vl(d.alternate,d);break;case 24:bc(c,d),m&2048&&Sp(d.alternate,d);break;default:bc(c,d)}s=s.sibling}}var Pc=8192;function ls(u){if(u.subtreeFlags&Pc)for(u=u.child;u!==null;)Bc(u),u=u.sibling}function Bc(u){switch(u.tag){case 26:ls(u),u.flags&Pc&&u.memoizedState!==null&&zy(Ti,u.memoizedState,u.memoizedProps);break;case 5:ls(u);break;case 3:case 4:var s=Ti;Ti=_d(u.stateNode.containerInfo),ls(u),Ti=s;break;case 22:u.memoizedState===null&&(s=u.alternate,s!==null&&s.memoizedState!==null?(s=Pc,Pc=16777216,ls(u),Pc=s):ls(u));break;default:ls(u)}}function ra(u){var s=u.alternate;if(s!==null&&(u=s.child,u!==null)){s.child=null;do s=u.sibling,u.sibling=null,u=s;while(u!==null)}}function Vu(u){var s=u.deletions;if((u.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Cn=d,Sl(d,u)}ra(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)zu(u),u=u.sibling}function zu(u){switch(u.tag){case 0:case 11:case 15:Vu(u),u.flags&2048&&Ln(9,u,u.return);break;case 3:Vu(u);break;case 12:Vu(u);break;case 22:var s=u.stateNode;u.memoizedState!==null&&s._visibility&2&&(u.return===null||u.return.tag!==13)?(s._visibility&=-3,vn(u)):Vu(u);break;default:Vu(u)}}function vn(u){var s=u.deletions;if((u.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Cn=d,Sl(d,u)}ra(u)}for(u=u.child;u!==null;){switch(s=u,s.tag){case 0:case 11:case 15:Ln(8,s,s.return),vn(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,vn(s));break;default:vn(s)}u=u.sibling}}function Sl(u,s){for(;Cn!==null;){var c=Cn;switch(c.tag){case 0:case 11:case 15:Ln(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:el(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Cn=d;else e:for(c=u;Cn!==null;){d=Cn;var m=d.sibling,v=d.return;if(yp(d),d===c){Cn=null;break e}if(m!==null){m.return=v,Cn=m;break e}Cn=v}}}var xp={getCacheForType:function(u){var s=ai(bn),c=s.data.get(u);return c===void 0&&(c=u(),s.data.set(u,c)),c}},Dm=typeof WeakMap=="function"?WeakMap:Map,$t=0,pn=null,Lt=null,jt=0,Wt=0,Ar=null,cs=!1,fs=!1,wp=!1,xe=0,xn=0,Hr=0,ua=0,gd=0,Vr=0,oa=0,Gu=null,sr=null,md=!1,Hc=0,Vc=1/0,zc=null,Co=null,fi=0,Do=null,sa=null,aa=0,vd=0,yd=null,Ep=null,st=0,Mr=null;function Ni(){if(($t&2)!==0&&jt!==0)return jt&-jt;if(re.T!==null){var u=Nu;return u!==0?u:Lp()}return Hg()}function ar(){Vr===0&&(Vr=(jt&536870912)===0||zt?Ql():536870912);var u=Ri.current;return u!==null&&(u.flags|=32),Vr}function vt(u,s,c){(u===pn&&(Wt===2||Wt===9)||u.cancelPendingCommit!==null)&&(xl(u,0),Io(u,jt,Vr,!1)),$r(u,c),(($t&2)===0||u!==pn)&&(u===pn&&(($t&2)===0&&(ua|=c),xn===4&&Io(u,jt,Vr,!1)),Gi(u))}function Tl(u,s,c){if(($t&6)!==0)throw Error(ee(327));var d=!c&&(s&124)===0&&(s&u.expiredLanes)===0||Yl(u,s),m=d?Td(u,s):Xc(u,s,!0),v=d;do{if(m===0){fs&&!d&&Io(u,s,0,!1);break}else{if(c=u.current.alternate,v&&!Ap(c)){m=Xc(u,s,!1),v=!1;continue}if(m===2){if(v=s,u.errorRecoveryDisabledLanes&v)var D=0;else D=u.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var R=u;m=Gu;var B=R.current.memoizedState.isDehydrated;if(B&&(xl(R,D).flags|=256),D=Xc(R,D,!1),D!==2){if(wp&&!B){R.errorRecoveryDisabledLanes|=v,ua|=v,m=4;break e}v=sr,sr=m,v!==null&&(sr===null?sr=v:sr.push.apply(sr,v))}m=D}if(v=!1,m!==2)continue}}if(m===1){xl(u,0),Io(u,s,0,!0);break}e:{switch(d=u,v=m,v){case 0:case 1:throw Error(ee(345));case 4:if((s&4194048)!==s)break;case 6:Io(d,s,Vr,!cs);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(ee(329))}if((s&62914560)===s&&(m=Hc+300-Qi(),10<m)){if(Io(d,s,Vr,!cs),Kl(d,0,!0)!==0)break e;d.timeoutHandle=Bm(Sd.bind(null,d,c,sr,zc,md,s,Vr,ua,oa,cs,v,2,-0,0),m);break e}Sd(d,c,sr,zc,md,s,Vr,ua,oa,cs,v,0,-0,0)}}break}while(!0);Gi(u)}function Sd(u,s,c,d,m,v,D,R,B,$,ue,ae,te,ne){if(u.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Dn={stylesheets:null,count:0,unsuspend:nf},Bc(s),ae=qm(),ae!==null)){u.cancelPendingCommit=ae(Ip.bind(null,u,s,v,c,d,m,D,R,B,ue,1,te,ne)),Io(u,v,D,!$);return}Ip(u,s,v,c,d,m,D,R,B)}function Ap(u){for(var s=u;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],v=m.getSnapshot;m=m.value;try{if(!Ci(v(),m))return!1}catch(D){return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===u)break;for(;s.sibling===null;){if(s.return===null||s.return===u)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Io(u,s,c,d){s&=~gd,s&=~ua,u.suspendedLanes|=s,u.pingedLanes&=~s,d&&(u.warmLanes|=s),d=u.expirationTimes;for(var m=s;0<m;){var v=31-gr(m),D=1<<v;d[v]=-1,m&=~D}c!==0&&_a(u,c,s)}function la(){return($t&6)===0?(Kc(0),!1):!0}function Mp(){if(Lt!==null){if(Wt===0)var u=Lt.return;else u=Lt,ku=zs=null,Ve(u),Ks=null,_u=0,u=Lt;for(;u!==null;)Pu(u.alternate,u),u=u.return;Lt=null}}function xl(u,s){var c=u.timeoutHandle;c!==-1&&(u.timeoutHandle=-1,Uy(c)),c=u.cancelPendingCommit,c!==null&&(u.cancelPendingCommit=null,c()),Mp(),pn=u,Lt=c=au(u.current,null),jt=s,Wt=0,Ar=null,cs=!1,fs=Yl(u,s),wp=!1,oa=Vr=gd=ua=Hr=xn=0,sr=Gu=null,md=!1,(s&8)!==0&&(s|=s&32);var d=u.entangledLanes;if(d!==0)for(u=u.entanglements,d&=s;0<d;){var m=31-gr(d),v=1<<m;s|=u[m],d&=~v}return xe=s,Qa(),c}function Cp(u,s){Et=null,re.H=dl,s===mc||s===vc?(s=br(),Wt=3):s===qt?(s=br(),Wt=4):Wt=s===vm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ar=s,Lt===null&&(xn=1,id(u,$n(s,u.current)))}function Im(){var u=re.H;return re.H=dl,u===null?dl:u}function Gc(){var u=re.A;return re.A=xp,u}function ca(){xn=4,cs||(jt&4194048)!==jt&&Ri.current!==null||(fs=!0),(Hr&134217727)===0&&(ua&134217727)===0||pn===null||Io(pn,jt,Vr,!1)}function Xc(u,s,c){var d=$t;$t|=2;var m=Im(),v=Gc();(pn!==u||jt!==s)&&(zc=null,xl(u,s)),s=!1;var D=xn;e:do try{if(Wt!==0&&Lt!==null){var R=Lt,B=Ar;switch(Wt){case 8:Mp(),D=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(s=!0);var $=Wt;if(Wt=0,Ar=null,fa(u,R,B,$),c&&fs){D=0;break e}break;default:$=Wt,Wt=0,Ar=null,fa(u,R,B,$)}}Ay(),D=xn;break}catch(ue){Cp(u,ue)}while(!0);return s&&u.shellSuspendCounter++,ku=zs=null,$t=d,re.H=m,re.A=v,Lt===null&&(pn=null,jt=0,Qa()),D}function Ay(){for(;Lt!==null;)wl(Lt)}function Td(u,s){var c=$t;$t|=2;var d=Im(),m=Gc();pn!==u||jt!==s?(zc=null,Vc=Qi()+500,xl(u,s)):fs=Yl(u,s);e:do try{if(Wt!==0&&Lt!==null){s=Lt;var v=Ar;t:switch(Wt){case 1:Wt=0,Ar=null,fa(u,s,v,1);break;case 2:case 9:if($g(v)){Wt=0,Ar=null,Dp(s);break}s=function(){Wt!==2&&Wt!==9||pn!==u||(Wt=7),Gi(u)},v.then(s,s);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:$g(v)?(Wt=0,Ar=null,Dp(s)):(Wt=0,Ar=null,fa(u,s,v,7));break;case 5:var D=null;switch(Lt.tag){case 26:D=Lt.memoizedState;case 5:case 27:var R=Lt;if(!D||Qn(D)){Wt=0,Ar=null;var B=R.sibling;if(B!==null)Lt=B;else{var $=R.return;$!==null?(Lt=$,lr($)):Lt=null}break t}}Wt=0,Ar=null,fa(u,s,v,5);break;case 6:Wt=0,Ar=null,fa(u,s,v,6);break;case 8:Mp(),xn=6;break e;default:throw Error(ee(462))}}My();break}catch(ue){Cp(u,ue)}while(!0);return ku=zs=null,re.H=d,re.A=m,$t=c,Lt!==null?0:(pn=null,jt=0,Qa(),xn)}function My(){for(;Lt!==null&&!La();)wl(Lt)}function wl(u){var s=Ao(u.alternate,u,xe);u.memoizedProps=u.pendingProps,s===null?lr(u):Lt=s}function Dp(u){var s=u,c=s.alternate;switch(s.tag){case 15:case 0:s=_c(c,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=_c(c,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:Ve(s);default:Pu(c,s),s=Lt=bh(s,xe),s=Ao(c,s,xe)}u.memoizedProps=u.pendingProps,s===null?lr(u):Lt=s}function fa(u,s,c,d){ku=zs=null,Ve(s),Ks=null,_u=0;var m=s.return;try{if(Ey(u,m,s,c,jt)){xn=1,id(u,$n(c,u.current)),Lt=null;return}}catch(v){if(m!==null)throw Lt=m,v;xn=1,id(u,$n(c,u.current)),Lt=null;return}s.flags&32768?(zt||d===1?u=!0:fs||(jt&536870912)!==0?u=!1:(cs=u=!0,(d===2||d===9||d===3||d===6)&&(d=Ri.current,d!==null&&d.tag===13&&(d.flags|=16384))),xd(s,u)):lr(s)}function lr(u){var s=u;do{if((s.flags&32768)!==0){xd(s,cs);return}u=s.return;var c=ea(s.alternate,s,xe);if(c!==null){Lt=c;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=u}while(s!==null);xn===0&&(xn=5)}function xd(u,s){do{var c=gl(u.alternate,u);if(c!==null){c.flags&=32767,Lt=c;return}if(c=u.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(u=u.sibling,u!==null)){Lt=u;return}Lt=u=c}while(u!==null);xn=6,Lt=null}function Ip(u,s,c,d,m,v,D,R,B){u.cancelPendingCommit=null;do da();while(fi!==0);if(($t&6)!==0)throw Error(ee(327));if(s!==null){if(s===u.current)throw Error(ee(177));if(v=s.lanes|s.childLanes,v|=_f,Ua(u,c,v,D,R,B),u===pn&&(Lt=pn=null,jt=0),sa=s,Do=u,aa=c,vd=v,yd=m,Ep=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Dy(Eu,function(){return km(),null})):(u.callbackNode=null,u.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=re.T,re.T=null,m=ye.p,ye.p=2,D=$t,$t|=4;try{vp(u,s,c)}finally{$t=D,ye.p=m,re.T=d}}fi=1,Rm(),El(),wd()}}function Rm(){if(fi===1){fi=0;var u=Do,s=sa,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var d=ye.p;ye.p=2;var m=$t;$t|=4;try{ia(s,u);var v=kl,D=qa(u.containerInfo),R=v.focusedElem,B=v.selectionRange;if(D!==R&&R&&R.ownerDocument&&_h(R.ownerDocument.documentElement,R)){if(B!==null&&Fa(R)){var $=B.start,ue=B.end;if(ue===void 0&&(ue=$),"selectionStart"in R)R.selectionStart=$,R.selectionEnd=Math.min(ue,R.value.length);else{var ae=R.ownerDocument||document,te=ae&&ae.defaultView||window;if(te.getSelection){var ne=te.getSelection(),at=R.textContent.length,tt=Math.min(B.start,at),rn=B.end===void 0?tt:Math.min(B.end,at);!ne.extend&&tt>rn&&(D=rn,rn=tt,tt=D);var Q=Fg(R,tt),q=Fg(R,rn);if(Q&&q&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var J=ae.createRange();J.setStart(Q.node,Q.offset),ne.removeAllRanges(),tt>rn?(ne.addRange(J),ne.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ne.addRange(J))}}}}for(ae=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&ae.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var oe=ae[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Bd=!!Wc,kl=Wc=null}finally{$t=m,ye.p=d,re.T=c}}u.current=s,fi=2}}function El(){if(fi===2){fi=0;var u=Do,s=sa,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var d=ye.p;ye.p=2;var m=$t;$t|=4;try{Am(u,s.alternate,s)}finally{$t=m,ye.p=d,re.T=c}}fi=3}}function wd(){if(fi===4||fi===3){fi=0,yf();var u=Do,s=sa,c=aa,d=Ep;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?fi=5:(fi=0,sa=Do=null,Rp(u,u.pendingLanes));var m=u.pendingLanes;if(m===0&&(Co=null),ph(c),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Uo,s,void 0,(s.current.flags&128)===128)}catch(B){}if(d!==null){s=re.T,m=ye.p,ye.p=2,re.T=null;try{for(var v=u.onRecoverableError,D=0;D<d.length;D++){var R=d[D];v(R.value,{componentStack:R.stack})}}finally{re.T=s,ye.p=m}}(aa&3)!==0&&da(),Gi(u),m=u.pendingLanes,(c&4194090)!==0&&(m&42)!==0?u===Mr?st++:(st=0,Mr=u):st=0,Kc(0)}}function Rp(u,s){(u.pooledCacheLanes&=s)===0&&(s=u.pooledCache,s!=null&&(u.pooledCache=null,el(s)))}function da(u){return Rm(),El(),wd(),km()}function km(){if(fi!==5)return!1;var u=Do,s=vd;vd=0;var c=ph(aa),d=re.T,m=ye.p;try{ye.p=32>c?32:c,re.T=null,c=yd,yd=null;var v=Do,D=aa;if(fi=0,sa=Do=null,aa=0,($t&6)!==0)throw Error(ee(331));var R=$t;if($t|=4,zu(v.current),Tp(v,v.current,D,c),$t=R,Kc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Uo,v)}catch(B){}return!0}finally{ye.p=m,re.T=d,Rp(u,s)}}function Ed(u,s,c){s=$n(c,s),s=fp(u.stateNode,s,2),u=yo(u,s,2),u!==null&&($r(u,2),Gi(u))}function fn(u,s,c){if(u.tag===3)Ed(u,u,c);else for(;s!==null;){if(s.tag===3){Ed(s,u,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Co===null||!Co.has(d))){u=$n(c,u),c=gm(2),d=yo(s,c,2),d!==null&&(mm(c,d,s,u),$r(d,2),Gi(d));break}}s=s.return}}function kp(u,s,c){var d=u.pingCache;if(d===null){d=u.pingCache=new Dm;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(c)||(wp=!0,m.add(c),u=Np.bind(null,u,s,c),s.then(u,u))}function Np(u,s,c){var d=u.pingCache;d!==null&&d.delete(s),u.pingedLanes|=u.suspendedLanes&c,u.warmLanes&=~c,pn===u&&(jt&c)===c&&(xn===4||xn===3&&(jt&62914560)===jt&&300>Qi()-Hc?($t&2)===0&&xl(u,0):gd|=c,oa===jt&&(oa=0)),Gi(u)}function Al(u,s){s===0&&(s=Zl()),u=Qo(u,s),u!==null&&($r(u,s),Gi(u))}function Nm(u){var s=u.memoizedState,c=0;s!==null&&(c=s.retryLane),Al(u,c)}function Cy(u,s){var c=0;switch(u.tag){case 13:var d=u.stateNode,m=u.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=u.stateNode;break;case 22:d=u.stateNode._retryCache;break;default:throw Error(ee(314))}d!==null&&d.delete(s),Al(u,c)}function Dy(u,s){return fh(u,s)}var Ad=null,Ml=null,qc=!1,Fc=!1,Cl=!1,ha=0;function Gi(u){u!==Ml&&u.next===null&&(Ml===null?Ad=Ml=u:Ml=Ml.next=u),Fc=!0,qc||(qc=!0,Iy())}function Kc(u,s){if(!Cl&&Fc){Cl=!0;do for(var c=!1,d=Ad;d!==null;){if(u!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var D=d.suspendedLanes,R=d.pingedLanes;v=(1<<31-gr(42|u)+1)-1,v&=m&~(D&~R),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Um(d,v))}else v=jt,v=Kl(d,d===pn?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Yl(d,v)||(c=!0,Um(d,v));d=d.next}while(c);Cl=!1}}function Md(){Lm()}function Lm(){Fc=qc=!1;var u=0;ha!==0&&(Ly()&&(u=ha),ha=0);for(var s=Qi(),c=null,d=Ad;d!==null;){var m=d.next,v=Yc(d,s);v===0?(d.next=null,c===null?Ad=m:c.next=m,m===null&&(Ml=c)):(c=d,(u!==0||(v&3)!==0)&&(Fc=!0)),d=m}Kc(u)}function Yc(u,s){for(var c=u.suspendedLanes,d=u.pingedLanes,m=u.expirationTimes,v=u.pendingLanes&-62914561;0<v;){var D=31-gr(v),R=1<<D,B=m[D];B===-1?((R&c)===0||(R&d)!==0)&&(m[D]=Jt(R,s)):B<=s&&(u.expiredLanes|=R),v&=~R}if(s=pn,c=jt,c=Kl(u,u===s?c:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),d=u.callbackNode,c===0||u===s&&(Wt===2||Wt===9)||u.cancelPendingCommit!==null)return d!==null&&d!==null&&dh(d),u.callbackNode=null,u.callbackPriority=0;if((c&3)===0||Yl(u,c)){if(s=c&-c,s===u.callbackPriority)return s;switch(d!==null&&dh(d),ph(c)){case 2:case 8:c=ot;break;case 32:c=Eu;break;case 268435456:c=py;break;default:c=Eu}return d=Cd.bind(null,u),c=fh(c,d),u.callbackPriority=s,u.callbackNode=c,s}return d!==null&&d!==null&&dh(d),u.callbackPriority=2,u.callbackNode=null,2}function Cd(u,s){if(fi!==0&&fi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var c=u.callbackNode;if(da()&&u.callbackNode!==c)return null;var d=jt;return d=Kl(u,u===pn?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),d===0?null:(Tl(u,d,s),Yc(u,Qi()),u.callbackNode!=null&&u.callbackNode===c?Cd.bind(null,u):null)}function Um(u,s){if(da())return null;Tl(u,s,!0)}function Iy(){_y(function(){($t&6)!==0?fh(Jr,Md):Lm()})}function Lp(){return ha===0&&(ha=Ql()),ha}function _m(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Jn(""+u)}function Om(u,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,u.id&&c.setAttribute("form",u.id),s.parentNode.insertBefore(c,s),u=new FormData(u),c.parentNode.removeChild(c),u}function Ry(u,s,c,d,m){if(s==="submit"&&c&&c.stateNode===m){var v=_m((m[gi]||null).action),D=d.submitter;D&&(s=(s=D[gi]||null)?_m(s.formAction):D.getAttribute("formAction"),s!==null&&(v=s,D=null));var R=new nc("action","action",null,d,m);u.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ha!==0){var B=D?Om(m,D):new FormData(m);ip(c,{pending:!0,data:B,method:m.method,action:v},null,B)}}else typeof v=="function"&&(R.preventDefault(),B=D?Om(m,D):new FormData(m),ip(c,{pending:!0,data:B,method:m.method,action:v},v,B))},currentTarget:m}]})}}for(var Up=0;Up<su.length;Up++){var _p=su[Up],ky=_p.toLowerCase(),jm=_p[0].toUpperCase()+_p.slice(1);si(ky,"on"+jm)}si(jh,"onAnimationEnd"),si(bs,"onAnimationIteration"),si(Lf,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Ya,"onTransitionRun"),si(Kg,"onTransitionStart"),si(ao,"onTransitionCancel"),si(Yg,"onTransitionEnd"),eu("onMouseEnter",["mouseout","mouseover"]),eu("onMouseLeave",["mouseout","mouseover"]),eu("onPointerEnter",["pointerout","pointerover"]),eu("onPointerLeave",["pointerout","pointerover"]),Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Au("onBeforeInput",["compositionend","keypress","textInput","paste"]),Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pa));function Dd(u,s){s=(s&4)!==0;for(var c=0;c<u.length;c++){var d=u[c],m=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var D=d.length-1;0<=D;D--){var R=d[D],B=R.instance,$=R.currentTarget;if(R=R.listener,B!==v&&m.isPropagationStopped())break e;v=R,m.currentTarget=$;try{v(m)}catch(ue){Qe(ue)}m.currentTarget=null,v=B}else for(D=0;D<d.length;D++){if(R=d[D],B=R.instance,$=R.currentTarget,R=R.listener,B!==v&&m.isPropagationStopped())break e;v=R,m.currentTarget=$;try{v(m)}catch(ue){Qe(ue)}m.currentTarget=null,v=B}}}}function Tt(u,s){var c=s[Oo];c===void 0&&(c=s[Oo]=new Set);var d=u+"__bubble";c.has(d)||(ga(s,u,2,!1),c.add(d))}function Dl(u,s,c){var d=0;s&&(d|=4),ga(c,u,d,s)}var Il="_reactListening"+Math.random().toString(36).slice(2);function ei(u){if(!u[Il]){u[Il]=!0,xf.forEach(function(c){c!=="selectionchange"&&(Op.has(c)||Dl(c,!1,u),Dl(c,!0,u))});var s=u.nodeType===9?u:u.ownerDocument;s===null||s[Il]||(s[Il]=!0,Dl("selectionchange",!1,s))}}function ga(u,s,c,d){switch(Zm(s)){case 2:var m=Fp;break;case 8:m=Ol;break;default:m=Kp}c=m.bind(null,s,c,u),m=void 0,!Du||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?u.addEventListener(s,c,{capture:!0,passive:m}):u.addEventListener(s,c,!0):m!==void 0?u.addEventListener(s,c,{passive:m}):u.addEventListener(s,c,!1)}function ma(u,s,c,d,m){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var R=d.stateNode.containerInfo;if(R===m)break;if(D===4)for(D=d.return;D!==null;){var B=D.tag;if((B===3||B===4)&&D.stateNode.containerInfo===m)return;D=D.return}for(;R!==null;){if(D=jo(R),D===null)return;if(B=D.tag,B===5||B===6||B===26||B===27){d=v=D;continue e}R=R.parentNode}}d=d.return}Cu(function(){var $=v,ue=_n(c),ae=[];e:{var te=lo.get(u);if(te!==void 0){var ne=nc,at=u;switch(u){case"keypress":if(an(c)===0)break e;case"keydown":case"keyup":ne=Ns;break;case"focusin":at="focus",ne=If;break;case"focusout":at="blur",ne=If;break;case"beforeblur":case"afterblur":ne=If;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=ru;break;case jh:case bs:case Lf:ne=Va;break;case Yg:ne=Mh;break;case"scroll":case"scrollend":ne=On;break;case"wheel":ne=_s;break;case"copy":case"cut":case"paste":ne=Bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ls;break;case"toggle":case"beforetoggle":ne=yy}var tt=(s&4)!==0,rn=!tt&&(u==="scroll"||u==="scrollend"),Q=tt?te!==null?te+"Capture":null:te;tt=[];for(var q=$,J;q!==null;){var oe=q;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||Q===null||(oe=Vt(q,Q),oe!=null&&tt.push(va(q,oe,J))),rn)break;q=q.return}0<tt.length&&(te=new ne(te,at,null,c,ue),ae.push({event:te,listeners:tt}))}}if((s&7)===0){e:{if(te=u==="mouseover"||u==="pointerover",ne=u==="mouseout"||u==="pointerout",te&&c!==Af&&(at=c.relatedTarget||c.fromElement)&&(jo(at)||at[Es]))break e;if((ne||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(at=c.relatedTarget||c.toElement,ne=$,at=at?jo(at):null,at!==null&&(rn=gt(at),tt=at.tag,at!==rn||tt!==5&&tt!==27&&tt!==6)&&(at=null)):(ne=null,at=$),ne!==at)){if(tt=Df,oe="onMouseLeave",Q="onMouseEnter",q="mouse",(u==="pointerout"||u==="pointerover")&&(tt=Ls,oe="onPointerLeave",Q="onPointerEnter",q="pointer"),rn=ne==null?te:eo(ne),J=at==null?te:eo(at),te=new tt(oe,q+"leave",ne,c,ue),te.target=rn,te.relatedTarget=J,oe=null,jo(ue)===$&&(tt=new tt(Q,q+"enter",at,c,ue),tt.target=J,tt.relatedTarget=rn,oe=tt),rn=oe,ne&&at)t:{for(tt=ne,Q=at,q=0,J=tt;J;J=Rl(J))q++;for(J=0,oe=Q;oe;oe=Rl(oe))J++;for(;0<q-J;)tt=Rl(tt),q--;for(;0<J-q;)Q=Rl(Q),J--;for(;q--;){if(tt===Q||Q!==null&&tt===Q.alternate)break t;tt=Rl(tt),Q=Rl(Q)}tt=null}else tt=null;ne!==null&&Id(ae,te,ne,tt,!1),at!==null&&rn!==null&&Id(ae,rn,at,tt,!0)}}e:{if(te=$?eo($):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var je=sc;else if(uu(te))if(Xg)je=Ot;else{je=Nh;var Mt=kh}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?$&&Ji($.elementType)&&(je=sc):je=Lh;if(je&&(je=je(u,$))){oc(ae,je,c,ue);break e}Mt&&Mt(u,te,$),u==="focusout"&&$&&te.type==="number"&&$.memoizedProps.value!=null&&vh(te,"number",te.value)}switch(Mt=$?eo($):window,u){case"focusin":(uu(Mt)||Mt.contentEditable==="true")&&(Xo=Mt,Os=$,Ka=null);break;case"focusout":Ka=Os=Xo=null;break;case"mousedown":js=!0;break;case"contextmenu":case"mouseup":case"dragend":js=!1,qo(ae,c,ue);break;case"selectionchange":if(Ru)break;case"keydown":case"keyup":qo(ae,c,ue)}var ze;if(kf)e:{switch(u){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else nr?yr(u,c)&&(nt="onCompositionEnd"):u==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(Hi&&c.locale!=="ko"&&(nr||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&nr&&(ze=Xe()):(vr=ue,ri="value"in vr?vr.value:vr.textContent,nr=!0)),Mt=ya($,nt),0<Mt.length&&(nt=new Eh(nt,u,null,c,ue),ae.push({event:nt,listeners:Mt}),ze?nt.data=ze:(ze=Oe(c),ze!==null&&(nt.data=ze)))),(ze=gn?Gg(u,c):Iu(u,c))&&(nt=ya($,"onBeforeInput"),0<nt.length&&(Mt=new Eh("onBeforeInput","beforeinput",null,c,ue),ae.push({event:Mt,listeners:nt}),Mt.data=ze)),Ry(ae,u,$,c,ue)}Dd(ae,s)})}function va(u,s,c){return{instance:u,listener:s,currentTarget:c}}function ya(u,s){for(var c=s+"Capture",d=[];u!==null;){var m=u,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Vt(u,c),m!=null&&d.unshift(va(u,m,v)),m=Vt(u,s),m!=null&&d.push(va(u,m,v))),u.tag===3)return d;u=u.return}return[]}function Rl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function Id(u,s,c,d,m){for(var v=s._reactName,D=[];c!==null&&c!==d;){var R=c,B=R.alternate,$=R.stateNode;if(R=R.tag,B!==null&&B===d)break;R!==5&&R!==26&&R!==27||$===null||(B=$,m?($=Vt(c,v),$!=null&&D.unshift(va(c,$,B))):m||($=Vt(c,v),$!=null&&D.push(va(c,$,B)))),c=c.return}D.length!==0&&u.push({event:s,listeners:D})}var Ny=/\r\n?/g,Rd=/\u0000|\uFFFD/g;function kd(u){return(typeof u=="string"?u:""+u).replace(Ny,"\n").replace(Rd,"")}function Qc(u,s){return s=kd(s),kd(u)===s}function Ro(){}function en(u,s,c,d,m,v){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ur(u,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ur(u,""+d);break;case"className":Zi(u,"class",d);break;case"tabIndex":Zi(u,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(u,c,d);break;case"style":iu(u,d,v);break;case"data":if(s!=="object"){Zi(u,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){u.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){u.removeAttribute(c);break}d=Jn(""+d),u.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){u.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(s!=="input"&&en(u,s,"name",m.name,m,null),en(u,s,"formEncType",m.formEncType,m,null),en(u,s,"formMethod",m.formMethod,m,null),en(u,s,"formTarget",m.formTarget,m,null)):(en(u,s,"encType",m.encType,m,null),en(u,s,"method",m.method,m,null),en(u,s,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){u.removeAttribute(c);break}d=Jn(""+d),u.setAttribute(c,d);break;case"onClick":d!=null&&(u.onclick=Ro);break;case"onScroll":d!=null&&Tt("scroll",u);break;case"onScrollEnd":d!=null&&Tt("scrollend",u);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(ee(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(ee(60));u.innerHTML=c}}break;case"multiple":u.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":u.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){u.removeAttribute("xlink:href");break}c=Jn(""+d),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?u.setAttribute(c,""+d):u.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?u.setAttribute(c,""):u.removeAttribute(c);break;case"capture":case"download":d===!0?u.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?u.setAttribute(c,d):u.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?u.setAttribute(c,d):u.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?u.removeAttribute(c):u.setAttribute(c,d);break;case"popover":Tt("beforetoggle",u),Tt("toggle",u),bo(u,"popover",d);break;case"xlinkActuate":Wn(u,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wn(u,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wn(u,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wn(u,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wn(u,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wn(u,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wn(u,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":bo(u,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=yh.get(c)||c,bo(u,c,d))}}function di(u,s,c,d,m,v){switch(c){case"style":iu(u,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(ee(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(ee(60));u.innerHTML=c}}break;case"children":typeof d=="string"?Ur(u,d):(typeof d=="number"||typeof d=="bigint")&&Ur(u,""+d);break;case"onScroll":d!=null&&Tt("scroll",u);break;case"onScrollEnd":d!=null&&Tt("scrollend",u);break;case"onClick":d!=null&&(u.onclick=Ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),v=u[gi]||null,v=v!=null?v[c]:null,typeof v=="function"&&u.removeEventListener(s,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(c in u?u[c]=null:u.hasAttribute(c)&&u.removeAttribute(c)),u.addEventListener(s,d,m);break e}c in u?u[c]=d:d===!0?u.setAttribute(c,""):bo(u,c,d)}}}function hi(u,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",u),Tt("load",u);var d=!1,m=!1,v;for(v in c)if(c.hasOwnProperty(v)){var D=c[v];if(D!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ee(137,s));default:en(u,s,v,D,c,null)}}m&&en(u,s,"srcSet",c.srcSet,c,null),d&&en(u,s,"src",c.src,c,null);return;case"input":Tt("invalid",u);var R=v=D=m=null,B=null,$=null;for(d in c)if(c.hasOwnProperty(d)){var ue=c[d];if(ue!=null)switch(d){case"name":m=ue;break;case"type":D=ue;break;case"checked":B=ue;break;case"defaultChecked":$=ue;break;case"value":v=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(ee(137,s));break;default:en(u,s,d,ue,c,null)}}mh(u,v,R,B,$,D,m,!1),ja(u);return;case"select":Tt("invalid",u),d=D=v=null;for(m in c)if(c.hasOwnProperty(m)&&(R=c[m],R!=null))switch(m){case"value":v=R;break;case"defaultValue":D=R;break;case"multiple":d=R;default:en(u,s,m,R,c,null)}s=v,c=D,u.multiple=!!d,s!=null?Cs(u,!!d,s,!1):c!=null&&Cs(u,!!d,c,!0);return;case"textarea":Tt("invalid",u),v=m=d=null;for(D in c)if(c.hasOwnProperty(D)&&(R=c[D],R!=null))switch(D){case"value":d=R;break;case"defaultValue":m=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(ee(91));break;default:en(u,s,D,R,c,null)}Ds(u,d,m,v),ja(u);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(d=c[B],d!=null))switch(B){case"selected":u.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:en(u,s,B,d,c,null)}return;case"dialog":Tt("beforetoggle",u),Tt("toggle",u),Tt("cancel",u),Tt("close",u);break;case"iframe":case"object":Tt("load",u);break;case"video":case"audio":for(d=0;d<pa.length;d++)Tt(pa[d],u);break;case"image":Tt("error",u),Tt("load",u);break;case"details":Tt("toggle",u);break;case"embed":case"source":case"link":Tt("error",u),Tt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in c)if(c.hasOwnProperty($)&&(d=c[$],d!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(ee(137,s));default:en(u,s,$,d,c,null)}return;default:if(Ji(s)){for(ue in c)c.hasOwnProperty(ue)&&(d=c[ue],d!==void 0&&di(u,s,ue,d,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(d=c[R],d!=null&&en(u,s,R,d,c,null))}function Zc(u,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,D=null,R=null,B=null,$=null,ue=null;for(ne in c){var ae=c[ne];if(c.hasOwnProperty(ne)&&ae!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":B=ae;default:d.hasOwnProperty(ne)||en(u,s,ne,null,d,ae)}}for(var te in d){var ne=d[te];if(ae=c[te],d.hasOwnProperty(te)&&(ne!=null||ae!=null))switch(te){case"type":v=ne;break;case"name":m=ne;break;case"checked":$=ne;break;case"defaultChecked":ue=ne;break;case"value":D=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(ee(137,s));break;default:ne!==ae&&en(u,s,te,ne,d,ae)}}Po(u,D,R,B,$,ue,v,m);return;case"select":ne=D=R=te=null;for(v in c)if(B=c[v],c.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":ne=B;default:d.hasOwnProperty(v)||en(u,s,v,null,d,B)}for(m in d)if(v=d[m],B=c[m],d.hasOwnProperty(m)&&(v!=null||B!=null))switch(m){case"value":te=v;break;case"defaultValue":R=v;break;case"multiple":D=v;default:v!==B&&en(u,s,m,v,d,B)}s=R,c=D,d=ne,te!=null?Cs(u,!!c,te,!1):!!d!=!!c&&(s!=null?Cs(u,!!c,s,!0):Cs(u,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(R in c)if(m=c[R],c.hasOwnProperty(R)&&m!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:en(u,s,R,null,d,m)}for(D in d)if(m=d[D],v=c[D],d.hasOwnProperty(D)&&(m!=null||v!=null))switch(D){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(ee(91));break;default:m!==v&&en(u,s,D,m,d,v)}Ef(u,te,ne);return;case"option":for(var at in c)if(te=c[at],c.hasOwnProperty(at)&&te!=null&&!d.hasOwnProperty(at))switch(at){case"selected":u.selected=!1;break;default:en(u,s,at,null,d,te)}for(B in d)if(te=d[B],ne=c[B],d.hasOwnProperty(B)&&te!==ne&&(te!=null||ne!=null))switch(B){case"selected":u.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:en(u,s,B,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in c)te=c[tt],c.hasOwnProperty(tt)&&te!=null&&!d.hasOwnProperty(tt)&&en(u,s,tt,null,d,te);for($ in d)if(te=d[$],ne=c[$],d.hasOwnProperty($)&&te!==ne&&(te!=null||ne!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(ee(137,s));break;default:en(u,s,$,te,d,ne)}return;default:if(Ji(s)){for(var rn in c)te=c[rn],c.hasOwnProperty(rn)&&te!==void 0&&!d.hasOwnProperty(rn)&&di(u,s,rn,void 0,d,te);for(ue in d)te=d[ue],ne=c[ue],!d.hasOwnProperty(ue)||te===ne||te===void 0&&ne===void 0||di(u,s,ue,te,d,ne);return}}for(var Q in c)te=c[Q],c.hasOwnProperty(Q)&&te!=null&&!d.hasOwnProperty(Q)&&en(u,s,Q,null,d,te);for(ae in d)te=d[ae],ne=c[ae],!d.hasOwnProperty(ae)||te===ne||te==null&&ne==null||en(u,s,ae,te,d,ne)}var Wc=null,kl=null;function Nl(u){return u.nodeType===9?u:u.ownerDocument}function bm(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(u,s){if(u===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&s==="foreignObject"?0:u}function jp(u,s){return u==="textarea"||u==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bp=null;function Ly(){var u=window.event;return u&&u.type==="popstate"?u===bp?!1:(bp=u,!0):(bp=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(u){return Hm.resolve(null).then(u).catch(Nd)}:Bm;function Nd(u){setTimeout(function(){throw u})}function Cr(u){return u==="head"}function Pp(u,s){var c=s,d=0,m=0;do{var v=c.nextSibling;if(u.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var D=u.ownerDocument;if(c&1&&ds(D.documentElement),c&2&&ds(D.body),c&4)for(c=D.head,ds(c),D=c.firstChild;D;){var R=D.nextSibling,B=D.nodeName;D[Oa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&D.rel.toLowerCase()==="stylesheet"||c.removeChild(D),D=R}}if(m===0){u.removeChild(v),bl(s);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);bl(s)}function Xu(u){var s=u.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Xu(c),ii(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}u.removeChild(c)}}function Oy(u,s,c,d){for(;u.nodeType===1;){var m=c;if(u.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(d){if(!u[Oa])switch(s){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(v=u.getAttribute("rel"),v==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(v!==m.rel||u.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||u.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||u.getAttribute("title")!==(m.title==null?null:m.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(v=u.getAttribute("src"),(v!==(m.src==null?null:m.src)||u.getAttribute("type")!==(m.type==null?null:m.type)||u.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(s==="input"&&u.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&u.getAttribute("name")===v)return u}else return u;if(u=Dr(u.nextSibling),u===null)break}return null}function Ld(u,s,c){if(s==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!c||(u=Dr(u.nextSibling),u===null))return null;return u}function Ll(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function jy(u,s){var c=u.ownerDocument;if(u.data!=="$?"||c.readyState==="complete")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),u._reactRetry=d}}function Dr(u){for(;u!=null;u=u.nextSibling){var s=u.nodeType;if(s===1||s===3)break;if(s===8){if(s=u.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return u}var Bp=null;function Vm(u){u=u.previousSibling;for(var s=0;u;){if(u.nodeType===8){var c=u.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return u;s--}else c==="/$"&&s++}u=u.previousSibling}return null}function Ud(u,s,c){switch(s=Nl(c),u){case"html":if(u=s.documentElement,!u)throw Error(ee(452));return u;case"head":if(u=s.head,!u)throw Error(ee(453));return u;case"body":if(u=s.body,!u)throw Error(ee(454));return u;default:throw Error(ee(451))}}function ds(u){for(var s=u.attributes;s.length;)u.removeAttributeNode(s[0]);ii(u)}var wn=new Map,Ul=new Set;function _d(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var qu=ye.d;ye.d={f:by,r:Py,D:Sa,C:Hp,L:By,m:Gm,X:Vp,S:Hy,M:Vy};function by(){var u=qu.f(),s=la();return u||s}function Py(u){var s=O(u);s!==null&&s.tag===5&&s.type==="form"?rp(s):qu.r(u)}var _l=typeof document>"u"?null:document;function zm(u,s,c){var d=_l;if(d&&typeof s=="string"&&s){var m=Rt(s);m='link[rel="'+u+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Ul.has(m)||(Ul.add(m),u={rel:u,crossOrigin:c,href:s},d.querySelector(m)===null&&(s=d.createElement("link"),hi(s,"link",u),Xn(s),d.head.appendChild(s)))}}function Sa(u){qu.D(u),zm("dns-prefetch",u,null)}function Hp(u,s){qu.C(u,s),zm("preconnect",u,s)}function By(u,s,c){qu.L(u,s,c);var d=_l;if(d&&u&&s){var m='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Rt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Rt(c.imageSizes)+'"]')):m+='[href="'+Rt(u)+'"]';var v=m;switch(s){case"style":v=cr(u);break;case"script":v=zr(u)}wn.has(v)||(u=We({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:u,as:s},c),wn.set(v,u),d.querySelector(m)!==null||s==="style"&&d.querySelector(ko(v))||s==="script"&&d.querySelector($c(v))||(s=d.createElement("link"),hi(s,"link",u),Xn(s),d.head.appendChild(s)))}}function Gm(u,s){qu.m(u,s);var c=_l;if(c&&u){var d=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Rt(d)+'"][href="'+Rt(u)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=zr(u)}if(!wn.has(v)&&(u=We({rel:"modulepreload",href:u},s),wn.set(v,u),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($c(v)))return}d=c.createElement("link"),hi(d,"link",u),Xn(d),c.head.appendChild(d)}}}function Hy(u,s,c){qu.S(u,s,c);var d=_l;if(d&&u){var m=As(d).hoistableStyles,v=cr(u);s=s||"default";var D=m.get(v);if(!D){var R={loading:0,preload:null};if(D=d.querySelector(ko(v)))R.loading=5;else{u=We({rel:"stylesheet",href:u,"data-precedence":s},c),(c=wn.get(v))&&tf(u,c);var B=D=d.createElement("link");Xn(B),hi(B,"link",u),B._p=new Promise(function($,ue){B.onload=$,B.onerror=ue}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ef(D,s,d)}D={type:"stylesheet",instance:D,count:1,state:R},m.set(v,D)}}}function Vp(u,s){qu.X(u,s);var c=_l;if(c&&u){var d=As(c).hoistableScripts,m=zr(u),v=d.get(m);v||(v=c.querySelector($c(m)),v||(u=We({src:u,async:!0},s),(s=wn.get(m))&&Od(u,s),v=c.createElement("script"),Xn(v),hi(v,"link",u),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function Vy(u,s){qu.M(u,s);var c=_l;if(c&&u){var d=As(c).hoistableScripts,m=zr(u),v=d.get(m);v||(v=c.querySelector($c(m)),v||(u=We({src:u,async:!0,type:"module"},s),(s=wn.get(m))&&Od(u,s),v=c.createElement("script"),Xn(v),hi(v,"link",u),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function hs(u,s,c,d){var m=(m=Ye.current)?_d(m):null;if(!m)throw Error(ee(446));switch(u){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=cr(c.href),c=As(m).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){u=cr(c.href);var v=As(m).hoistableStyles,D=v.get(u);if(D||(m=m.ownerDocument||m,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(u,D),(v=m.querySelector(ko(u)))&&!v._p&&(D.instance=v,D.state.loading=5),wn.has(u)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},wn.set(u,c),v||Jc(m,u,c,D.state))),s&&d===null)throw Error(ee(528,""));return D}if(s&&d!==null)throw Error(ee(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zr(c),c=As(m).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(ee(444,u))}}function cr(u){return'href="'+Rt(u)+'"'}function ko(u){return'link[rel="stylesheet"]['+u+"]"}function Ta(u){return We({},u,{"data-precedence":u.precedence,precedence:null})}function Jc(u,s,c,d){u.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=u.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),hi(s,"link",c),Xn(s),u.head.appendChild(s))}function zr(u){return'[src="'+Rt(u)+'"]'}function $c(u){return"script[async]"+u}function zp(u,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=u.querySelector('style[data-href~="'+Rt(c.href)+'"]');if(d)return s.instance=d,Xn(d),d;var m=We({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(u.ownerDocument||u).createElement("style"),Xn(d),hi(d,"style",m),ef(d,c.precedence,u),s.instance=d;case"stylesheet":m=cr(c.href);var v=u.querySelector(ko(m));if(v)return s.state.loading|=4,s.instance=v,Xn(v),v;d=Ta(c),(m=wn.get(m))&&tf(d,m),v=(u.ownerDocument||u).createElement("link"),Xn(v);var D=v;return D._p=new Promise(function(R,B){D.onload=R,D.onerror=B}),hi(v,"link",d),s.state.loading|=4,ef(v,c.precedence,u),s.instance=v;case"script":return v=zr(c.src),(m=u.querySelector($c(v)))?(s.instance=m,Xn(m),m):(d=c,(m=wn.get(v))&&(d=We({},c),Od(d,m)),u=u.ownerDocument||u,m=u.createElement("script"),Xn(m),hi(m,"link",d),u.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(ee(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,ef(d,c.precedence,u));return s.instance}function ef(u,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,D=0;D<d.length;D++){var R=d[D];if(R.dataset.precedence===s)v=R;else if(v!==m)break}v?v.parentNode.insertBefore(u,v.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(u,s.firstChild))}function tf(u,s){u.crossOrigin==null&&(u.crossOrigin=s.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=s.referrerPolicy),u.title==null&&(u.title=s.title)}function Od(u,s){u.crossOrigin==null&&(u.crossOrigin=s.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=s.referrerPolicy),u.integrity==null&&(u.integrity=s.integrity)}var jd=null;function Yn(u,s,c){if(jd===null){var d=new Map,m=jd=new Map;m.set(c,d)}else m=jd,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(u))return d;for(d.set(u,null),c=c.getElementsByTagName(u),m=0;m<c.length;m++){var v=c[m];if(!(v[Oa]||v[Un]||u==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var D=v.getAttribute(s)||"";D=u+D;var R=d.get(D);R?R.push(v):d.set(D,[v])}}return d}function Gp(u,s,c){u=u.ownerDocument||u,u.head.insertBefore(c,s==="title"?u.querySelector("head > title"):null)}function Xm(u,s,c){if(c===1||s.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return u=s.disabled,typeof s.precedence=="string"&&u==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qn(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Dn=null;function nf(){}function zy(u,s,c){if(Dn===null)throw Error(ee(475));var d=Dn;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=cr(c.href),v=u.querySelector(ko(m));if(v){u=v._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(d.count++,d=pu.bind(d),u.then(d,d)),s.state.loading|=4,s.instance=v,Xn(v);return}v=u.ownerDocument||u,c=Ta(c),(m=wn.get(m))&&tf(c,m),v=v.createElement("link"),Xn(v);var D=v;D._p=new Promise(function(R,B){D.onload=R,D.onerror=B}),hi(v,"link",c),s.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,u),(u=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=pu.bind(d),u.addEventListener("load",s),u.addEventListener("error",s))}}function qm(){if(Dn===null)throw Error(ee(475));var u=Dn;return u.stylesheets&&u.count===0&&Xp(u,u.stylesheets),0<u.count?function(s){var c=setTimeout(function(){if(u.stylesheets&&Xp(u,u.stylesheets),u.unsuspend){var d=u.unsuspend;u.unsuspend=null,d()}},6e4);return u.unsuspend=s,function(){u.unsuspend=null,clearTimeout(c)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)Xp(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var bd=null;function Xp(u,s){u.stylesheets=null,u.unsuspend!==null&&(u.count++,bd=new Map,s.forEach(Gy,u),bd=null,pu.call(u))}function Gy(u,s){if(!(s.state.loading&4)){var c=bd.get(u);if(c)var d=c.get(null);else{c=new Map,bd.set(u,c);for(var m=u.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var D=m[v];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),d=D)}d&&c.set(null,d)}m=s.instance,D=m.getAttribute("data-precedence"),v=c.get(D)||d,v===d&&c.set(null,m),c.set(D,m),this.count++,d=pu.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(m,u.firstChild)),s.state.loading|=4}}var xa={$$typeof:Ai,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Xy(u,s,c,d,m,v,D,R){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.hiddenUpdates=Wl(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Fm(u,s,c,d,m,v,D,R,B,$,ue,ae){return u=new Xy(u,s,c,D,R,B,$,ae),s=1,v===!0&&(s|=24),v=cn(3,null,null,s),u.current=v,v.stateNode=u,s=pc(),s.refCount++,u.pooledCache=s,s.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:s},vo(v),u}function Pd(u){return u?(u=Sn,u):Sn}function Km(u,s,c,d,m,v){m=Pd(m),d.context===null?d.context=m:d.pendingContext=m,d=Er(s),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=yo(u,d,s),c!==null&&(vt(c,u,s),rl(c,u,s))}function Ym(u,s){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var c=u.retryLane;u.retryLane=c!==0&&c<s?c:s}}function qp(u,s){Ym(u,s),(u=u.alternate)&&Ym(u,s)}function Qm(u){if(u.tag===13){var s=Qo(u,67108864);s!==null&&vt(s,u,67108864),qp(u,67108864)}}var Bd=!0;function Fp(u,s,c,d){var m=re.T;re.T=null;var v=ye.p;try{ye.p=2,Kp(u,s,c,d)}finally{ye.p=v,re.T=m}}function Ol(u,s,c,d){var m=re.T;re.T=null;var v=ye.p;try{ye.p=8,Kp(u,s,c,d)}finally{ye.p=v,re.T=m}}function Kp(u,s,c,d){if(Bd){var m=Yp(d);if(m===null)ma(u,s,d,Hd,c),zd(u,d);else if(Wm(m,u,s,c,d))d.stopPropagation();else if(zd(u,d),s&4&&-1<qy.indexOf(u)){for(;m!==null;){var v=O(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var D=ws(v.pendingLanes);if(D!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;D;){var B=1<<31-gr(D);R.entanglements[1]|=B,D&=~B}Gi(v),($t&6)===0&&(Vc=Qi()+500,Kc(0))}}break;case 13:R=Qo(v,2),R!==null&&vt(R,v,2),la(),qp(v,2)}if(v=Yp(d),v===null&&ma(u,s,d,Hd,c),v===m)break;m=v}m!==null&&d.stopPropagation()}else ma(u,s,d,null,c)}}function Yp(u){return u=_n(u),Vd(u)}var Hd=null;function Vd(u){if(Hd=null,u=jo(u),u!==null){var s=gt(u);if(s===null)u=null;else{var c=s.tag;if(c===13){if(u=St(s),u!==null)return u;u=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;u=null}else s!==u&&(u=null)}}return Hd=u,null}function Zm(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dy()){case Jr:return 2;case ot:return 8;case Eu:case hy:return 32;case py:return 268435456;default:return 32}default:return 32}}var jl=!1,ps=null,Fu=null,No=null,gs=new Map,ms=new Map,gu=[],qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zd(u,s){switch(u){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":gs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(s.pointerId)}}function vs(u,s,c,d,m,v){return u===null||u.nativeEvent!==v?(u={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},s!==null&&(s=O(s),s!==null&&Qm(s)),u):(u.eventSystemFlags|=d,s=u.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),u)}function Wm(u,s,c,d,m){switch(s){case"focusin":return ps=vs(ps,u,s,c,d,m),!0;case"dragenter":return Fu=vs(Fu,u,s,c,d,m),!0;case"mouseover":return No=vs(No,u,s,c,d,m),!0;case"pointerover":var v=m.pointerId;return gs.set(v,vs(gs.get(v)||null,u,s,c,d,m)),!0;case"gotpointercapture":return v=m.pointerId,ms.set(v,vs(ms.get(v)||null,u,s,c,d,m)),!0}return!1}function rf(u){var s=jo(u.target);if(s!==null){var c=gt(s);if(c!==null){if(s=c.tag,s===13){if(s=St(c),s!==null){u.blockedOn=s,my(u.priority,function(){if(c.tag===13){var d=Ni();d=Tf(d);var m=Qo(c,d);m!==null&&vt(m,c,d),qp(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){u.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}u.blockedOn=null}function wa(u){if(u.blockedOn!==null)return!1;for(var s=u.targetContainers;0<s.length;){var c=Yp(u.nativeEvent);if(c===null){c=u.nativeEvent;var d=new c.constructor(c.type,c);Af=d,c.target.dispatchEvent(d),Af=null}else return s=O(c),s!==null&&Qm(s),u.blockedOn=c,!1;s.shift()}return!0}function uf(u,s,c){wa(u)&&c.delete(s)}function Gd(){jl=!1,ps!==null&&wa(ps)&&(ps=null),Fu!==null&&wa(Fu)&&(Fu=null),No!==null&&wa(No)&&(No=null),gs.forEach(uf),ms.forEach(uf)}function Li(u,s){u.blockedOn===s&&(u.blockedOn=null,jl||(jl=!0,ge.unstable_scheduleCallback(ge.unstable_NormalPriority,Gd)))}var of=null;function Qp(u){of!==u&&(of=u,ge.unstable_scheduleCallback(ge.unstable_NormalPriority,function(){of===u&&(of=null);for(var s=0;s<u.length;s+=3){var c=u[s],d=u[s+1],m=u[s+2];if(typeof d!="function"){if(Vd(d||c)===null)continue;break}var v=O(c);v!==null&&(u.splice(s,3),s-=3,ip(v,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function bl(u){function s(B){return Li(B,u)}ps!==null&&Li(ps,u),Fu!==null&&Li(Fu,u),No!==null&&Li(No,u),gs.forEach(s),ms.forEach(s);for(var c=0;c<gu.length;c++){var d=gu[c];d.blockedOn===u&&(d.blockedOn=null)}for(;0<gu.length&&(c=gu[0],c.blockedOn===null);)rf(c),c.blockedOn===null&&gu.shift();if(c=(u.ownerDocument||u).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],D=m[gi]||null;if(typeof v=="function")D||Qp(c);else if(D){var R=null;if(v&&v.hasAttribute("formAction")){if(m=v,D=v[gi]||null)R=D.formAction;else if(Vd(m)!==null)continue}else R=D.action;typeof R=="function"?c[d+1]=R:(c.splice(d,3),d-=3),Qp(c)}}}function Xd(u){this._internalRoot=u}sf.prototype.render=Xd.prototype.render=function(u){var s=this._internalRoot;if(s===null)throw Error(ee(409));var c=s.current,d=Ni();Km(c,d,u,s,null,null)},sf.prototype.unmount=Xd.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var s=u.containerInfo;Km(u.current,2,null,u,null,null),la(),s[Es]=null}};function sf(u){this._internalRoot=u}sf.prototype.unstable_scheduleHydration=function(u){if(u){var s=Hg();u={blockedOn:null,target:u,priority:s};for(var c=0;c<gu.length&&s!==0&&s<gu[c].priority;c++);gu.splice(c,0,u),c===0&&rf(u)}};var Zp=ft.version;if(Zp!=="19.1.0")throw Error(ee(527,Zp,"19.1.0"));ye.findDOMNode=function(u){var s=u._reactInternals;if(s===void 0)throw typeof u.render=="function"?Error(ee(188)):(u=Object.keys(u).join(","),Error(ee(268,u)));return u=qe(s),u=u!==null?he(u):null,u=u===null?null:u.stateNode,u};var Wp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W.isDisabled&&W.supportsFiber)try{Uo=W.inject(Wp),$e=W}catch(u){}}return Og.createRoot=function(u,s){if(!F(u))throw Error(ee(299));var c=!1,d="",m=lp,v=Eo,D=cp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=Fm(u,1,!1,null,null,c,d,m,v,D,R,null),u[Es]=s.current,ei(u),new Xd(s)},Og.hydrateRoot=function(u,s,c){if(!F(u))throw Error(ee(299));var d=!1,m="",v=lp,D=Eo,R=cp,B=null,$=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&($=c.formState)),s=Fm(u,1,!0,s,c!=null?c:null,d,m,v,D,R,B,$),s.context=Pd(null),c=s.current,d=Ni(),d=Tf(d),m=Er(d),m.callback=null,yo(c,m,d),c=d,s.current.lanes=c,$r(s,c),Gi(s),u[Es]=s.current,ei(u),new sf(s)},Og.version="19.1.0",Og}var eE;function C4(){if(eE)return q1.exports;eE=1;function ge(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ge)}catch(ft){console.error(ft)}}return ge(),q1.exports=M4(),q1.exports}var D4=C4();const I4=()=>yn.jsx("header",{children:yn.jsx("h2",{children:"Shaka player"})});var kr=W1();const J1=rE(kr),uE=J1.createContext({logs:[],addLog:()=>{}}),R4=({children:ge})=>{const[ft,lt]=J1.useState([]),ee=kr.useCallback((F,gt)=>{lt(St=>[...St,{message:F,level:gt!=null?gt:"info",date:Date.now()}])},[]);return yn.jsx(uE.Provider,{value:{logs:ft,addLog:ee},children:ge})},fy=()=>J1.useContext(uE),k4=()=>{const{logs:ge}=fy(),ft=kr.useRef(null);return kr.useEffect(()=>{ft.current&&(ft.current.scrollTop=ft.current.scrollHeight)},[ge]),yn.jsx("div",{className:"logs-container",ref:ft,children:yn.jsx("div",{className:"logs",children:ge.map(lt=>yn.jsxs("div",{className:"log ".concat(lt.level),children:[yn.jsx("span",{className:"date",children:new Date(Date.now()).toLocaleString()}),yn.jsx("span",{className:"message",children:lt.message})]},lt.date))})})},jg={NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52},N4=ge=>{const{addLog:ft}=fy(),lt=kr.useCallback(ee=>{const F=ee.keyCode?ee.keyCode:ee.which;switch(console.log("code",F),F){case 96:case jg.NUM_0:{window.location.reload();return}case 97:case jg.NUM_1:{ft("Press 1"),ge==null||ge("1");return}case 98:case jg.NUM_2:{ft("Press 2"),ge==null||ge("2");return}case 99:case jg.NUM_3:{ft("Press 3"),ge==null||ge("3");return}case 100:case jg.NUM_4:{ft("Press 4"),ge==null||ge("4");return}default:ft("Key press not handled")}},[ge]);kr.useEffect(()=>(document.addEventListener("keydown",lt,!1),()=>{document.removeEventListener("keydown",lt,!1)}),[lt])};var Z1={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var tE;function L4(){return tE||(tE=1,function(ge){(function(){var ft=typeof window<"u"?window:v4,lt={};(function(F,gt,St){var S;function qe(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var he=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function We(e){e=[typeof globalThis=="object"&&globalThis,e,typeof F=="object"&&F,typeof self=="object"&&self,typeof gt=="object"&&gt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var Bt=We(this);function Fe(e,t){if(t)e:{var n=Bt;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&t!=null&&he(n,e,{configurable:!0,writable:!0,value:t})}}Fe("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(i+(o||"")+"_"+r++,o)}function n(o,a){this.g=o,he(this,"description",{configurable:!0,writable:!0,value:a})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return t}),Fe("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=Bt[t[n]];typeof i=="function"&&typeof i.prototype[e]!="function"&&he(i.prototype,e,{configurable:!0,writable:!0,value:function(){return Ei(qe(this))}})}return e});function Ei(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function x(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:qe(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function ce(e){if(!(e instanceof Array)){e=x(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var Yi=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Zu;if(typeof Object.setPrototypeOf=="function")Zu=Object.setPrototypeOf;else{var Wr;e:{var Ai={a:!0},Nr={};try{Nr.__proto__=Ai,Wr=Nr.a;break e}catch(e){}Wr=!1}Zu=Wr?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Ht=Zu;function Yt(e,t){if(e.prototype=Yi(t.prototype),e.prototype.constructor=e,Ht)Ht(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.Tk=t.prototype}function Mi(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function ji(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}Mi.prototype.u=function(e){this.h=e};function Lr(e,t){e.i={Ng:t,Zg:!0},e.g=e.m||e.j}Mi.prototype.return=function(e){this.i={return:e},this.g=this.j};function C(e,t,n){return e.g=n,{value:t}}Mi.prototype.s=function(e){this.g=e};function le(e){e.g=0}function Se(e,t,n){e.m=t,n!=null&&(e.j=n)}function bi(e,t){e.m=0,e.j=t||0}function Pe(e,t,n){e.g=t,e.m=n||0}function Te(e,t){return e.m=t||0,t=e.i.Ng,e.i=null,t}function re(e){e.A=[e.i],e.m=0,e.j=0}function ye(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Zg?e.g=e.m||e.j:n.s!=null&&e.j<n.s?(e.g=n.s,e.i=null):e.g=e.j:e.g=t}function ut(e){this.g=new Mi,this.h=e}function on(e,t){ji(e.g);var n=e.g.l;return n?G(e,"return"in n?n.return:function(i){return{value:i,done:!0}},t,e.g.return):(e.g.return(t),de(e))}function G(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.o=!1,r;var o=r.value}catch(a){return e.g.l=null,Lr(e.g,a),de(e)}return e.g.l=null,i.call(e.g,o),de(e)}function de(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,Lr(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Zg)throw t.Ng;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function _e(e){this.next=function(t){return ji(e.g),e.g.l?t=G(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=de(e)),t},this.throw=function(t){return ji(e.g),e.g.l?t=G(e,e.g.l.throw,t,e.g.u):(Lr(e.g,t),t=de(e)),t},this.return=function(t){return on(e,t)},this[Symbol.iterator]=function(){return this}}function Ce(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function o(a){a.done?i(a.value):Promise.resolve(a.value).then(t,n).then(o,r)}o(e.next())})}function L(e){return Ce(new _e(new ut(e)))}function rt(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}Fe("Promise",function(e){function t(a){this.h=0,this.i=void 0,this.g=[],this.o=!1;var l=this.j();try{a(l.resolve,l.reject)}catch(f){l.reject(f)}}function n(){this.g=null}function i(a){return a instanceof t?a:new t(function(l){l(a)})}if(e)return e;n.prototype.h=function(a){if(this.g==null){this.g=[];var l=this;this.i(function(){l.l()})}this.g.push(a)};var r=Bt.setTimeout;n.prototype.i=function(a){r(a,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var l=0;l<a.length;++l){var f=a[l];a[l]=null;try{f()}catch(h){this.j(h)}}}this.g=null},n.prototype.j=function(a){this.i(function(){throw a})},t.prototype.j=function(){function a(h){return function(p){f||(f=!0,h.call(l,p))}}var l=this,f=!1;return{resolve:a(this.F),reject:a(this.l)}},t.prototype.F=function(a){if(a===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof t)this.H(a);else{e:switch(typeof a){case"object":var l=a!=null;break e;case"function":l=!0;break e;default:l=!1}l?this.C(a):this.m(a)}},t.prototype.C=function(a){var l=void 0;try{l=a.then}catch(f){this.l(f);return}typeof l=="function"?this.I(l,a):this.m(a)},t.prototype.l=function(a){this.u(2,a)},t.prototype.m=function(a){this.u(1,a)},t.prototype.u=function(a,l){if(this.h!=0)throw Error("Cannot settle("+a+", "+l+"): Promise already settled in state"+this.h);this.h=a,this.i=l,this.h===2&&this.G(),this.A()},t.prototype.G=function(){var a=this;r(function(){if(a.B()){var l=Bt.console;typeof l<"u"&&l.error(a.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var a=Bt.CustomEvent,l=Bt.Event,f=Bt.dispatchEvent;return typeof f>"u"?!0:(typeof a=="function"?a=new a("unhandledrejection",{cancelable:!0}):typeof l=="function"?a=new l("unhandledrejection",{cancelable:!0}):(a=Bt.document.createEvent("CustomEvent"),a.initCustomEvent("unhandledrejection",!1,!0,a)),a.promise=this,a.reason=this.i,f(a))},t.prototype.A=function(){if(this.g!=null){for(var a=0;a<this.g.length;++a)o.h(this.g[a]);this.g=null}};var o=new n;return t.prototype.H=function(a){var l=this.j();a.Sd(l.resolve,l.reject)},t.prototype.I=function(a,l){var f=this.j();try{a.call(l,f.resolve,f.reject)}catch(h){f.reject(h)}},t.prototype.then=function(a,l){function f(y,T){return typeof y=="function"?function(w){try{h(y(w))}catch(A){p(A)}}:T}var h,p,g=new t(function(y,T){h=y,p=T});return this.Sd(f(a,h),f(l,p)),g},t.prototype.catch=function(a){return this.then(void 0,a)},t.prototype.Sd=function(a,l){function f(){switch(h.h){case 1:a(h.i);break;case 2:l(h.i);break;default:throw Error("Unexpected state: "+h.h)}}var h=this;this.g==null?o.h(f):this.g.push(f),this.o=!0},t.resolve=i,t.reject=function(a){return new t(function(l,f){f(a)})},t.race=function(a){return new t(function(l,f){for(var h=x(a),p=h.next();!p.done;p=h.next())i(p.value).Sd(l,f)})},t.all=function(a){var l=x(a),f=l.next();return f.done?i([]):new t(function(h,p){function g(w){return function(A){y[w]=A,T--,T==0&&h(y)}}var y=[],T=0;do y.push(void 0),T++,i(f.value).Sd(g(y.length-1),p),f=l.next();while(!f.done)})},t});function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Fe("WeakMap",function(e){function t(f){if(this.g=(l+=Math.random()+1).toString(),f){f=x(f);for(var h;!(h=f.next()).done;)h=h.value,this.set(h[0],h[1])}}function n(){}function i(f){var h=typeof f;return h==="object"&&f!==null||h==="function"}function r(f){if(!Ye(f,a)){var h=new n;he(f,a,{value:h})}}function o(f){var h=Object[f];h&&(Object[f]=function(p){return p instanceof n?p:(Object.isExtensible(p)&&r(p),h(p))})}if(function(){if(!e||!Object.seal)return!1;try{var f=Object.seal({}),h=Object.seal({}),p=new e([[f,2],[h,3]]);return p.get(f)!=2||p.get(h)!=3?!1:(p.delete(f),p.set(h,4),!p.has(f)&&p.get(h)==4)}catch(g){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var l=0;return t.prototype.set=function(f,h){if(!i(f))throw Error("Invalid WeakMap key");if(r(f),!Ye(f,a))throw Error("WeakMap key fail: "+f);return f[a][this.g]=h,this},t.prototype.get=function(f){return i(f)&&Ye(f,a)?f[a][this.g]:void 0},t.prototype.has=function(f){return i(f)&&Ye(f,a)&&Ye(f[a],this.g)},t.prototype.delete=function(f){return i(f)&&Ye(f,a)&&Ye(f[a],this.g)?delete f[a][this.g]:!1},t}),Fe("Map",function(e){function t(){var l={};return l.Yb=l.next=l.head=l}function n(l,f){var h=l[1];return Ei(function(){if(h){for(;h.head!=l[1];)h=h.Yb;for(;h.next!=h.head;)return h=h.next,{done:!1,value:f(h)};h=null}return{done:!0,value:void 0}})}function i(l,f){var h=f&&typeof f;h=="object"||h=="function"?o.has(f)?h=o.get(f):(h=""+ ++a,o.set(f,h)):h="p_"+f;var p=l[0][h];if(p&&Ye(l[0],h))for(l=0;l<p.length;l++){var g=p[l];if(f!==f&&g.key!==g.key||f===g.key)return{id:h,list:p,index:l,entry:g}}return{id:h,list:p,index:-1,entry:void 0}}function r(l){if(this[0]={},this[1]=t(),this.size=0,l){l=x(l);for(var f;!(f=l.next()).done;)f=f.value,this.set(f[0],f[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var l=Object.seal({x:4}),f=new e(x([[l,"s"]]));if(f.get(l)!="s"||f.size!=1||f.get({x:4})||f.set({x:4},"t")!=f||f.size!=2)return!1;var h=f.entries(),p=h.next();return p.done||p.value[0]!=l||p.value[1]!="s"?!1:(p=h.next(),!(p.done||p.value[0].x!=4||p.value[1]!="t"||!h.next().done))}catch(g){return!1}}())return e;var o=new WeakMap;r.prototype.set=function(l,f){l=l===0?0:l;var h=i(this,l);return h.list||(h.list=this[0][h.id]=[]),h.entry?h.entry.value=f:(h.entry={next:this[1],Yb:this[1].Yb,head:this[1],key:l,value:f},h.list.push(h.entry),this[1].Yb.next=h.entry,this[1].Yb=h.entry,this.size++),this},r.prototype.delete=function(l){return l=i(this,l),l.entry&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.entry.Yb.next=l.entry.next,l.entry.next.Yb=l.entry.Yb,l.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this[0]={},this[1]=this[1].Yb=t(),this.size=0},r.prototype.has=function(l){return!!i(this,l).entry},r.prototype.get=function(l){return(l=i(this,l).entry)&&l.value},r.prototype.entries=function(){return n(this,function(l){return[l.key,l.value]})},r.prototype.keys=function(){return n(this,function(l){return l.key})},r.prototype.values=function(){return n(this,function(l){return l.value})},r.prototype.forEach=function(l,f){for(var h=this.entries(),p;!(p=h.next()).done;)p=p.value,l.call(f,p[1],p[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var a=0;return r}),Fe("Set",function(e){function t(n){if(this.g=new Map,n){n=x(n);for(var i;!(i=n.next()).done;)this.add(i.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),i=new e(x([n]));if(!i.has(n)||i.size!=1||i.add(n)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var r=i.entries(),o=r.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=r.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:r.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,i){var r=this;this.g.forEach(function(o){return n.call(i,o,o,r)})},t)});function Pi(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}Fe("Array.prototype.values",function(e){return e||function(){return Pi(this,function(t,n){return n})}}),Fe("Array.from",function(e){return e||function(t,n,i){n=n!=null?n:function(l){return l};var r=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var a=0;!(o=t.next()).done;)r.push(n.call(i,o.value,a++))}else for(o=t.length,a=0;a<o;a++)r.push(n.call(i,t[a],a));return r}}),Fe("Array.prototype.keys",function(e){return e||function(){return Pi(this,function(t){return t})}}),Fe("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),Fe("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length;for(n=n||0,0>n&&(n=Math.max(n+r,0));n<r;n++){var o=i[n];if(o===t||Object.is(o,t))return!0}return!1}});function sn(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}Fe("String.prototype.includes",function(e){return e||function(t,n){return sn(this,t,"includes").indexOf(t,n||0)!==-1}}),Fe("String.fromCodePoint",function(e){return e||function(t){for(var n="",i=0;i<arguments.length;i++){var r=Number(arguments[i]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),n+=String.fromCharCode(r&1023|56320))}return n}});function Wu(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{Xg:r,v:o}}return{Xg:-1,v:void 0}}Fe("Array.prototype.findIndex",function(e){return e||function(t,n){return Wu(this,t,n).Xg}}),Fe("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=x(n);for(var i;!(i=n.next()).done;)this.add(i.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),i=Object.seal({}),r=new e([n]);return!r.has(n)||r.has(i)?!1:(r.delete(n),r.add(i),!r.has(n)&&r.has(i))}catch(o){return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),Fe("Array.prototype.find",function(e){return e||function(t,n){return Wu(this,t,n).v}}),Fe("String.prototype.startsWith",function(e){return e||function(t,n){var i=sn(this,t,"startsWith"),r=i.length,o=t.length;n=Math.max(0,Math.min(n|0,i.length));for(var a=0;a<o&&n<r;)if(i[n++]!=t[a++])return!1;return a>=o}}),Fe("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)Ye(t,i)&&n.push([i,t[i]]);return n}});var ch=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Ye(i,r)&&(e[r]=i[r])}return e};Fe("Object.assign",function(e){return e||ch}),Fe("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),Fe("Array.prototype.entries",function(e){return e||function(){return Pi(this,function(t,n){return[t,n]})}}),Fe("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),Fe("String.prototype.repeat",function(e){return e||function(t){var n=sn(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}}),Fe("Number.EPSILON",function(){return Math.pow(2,-52)}),Fe("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),Fe("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),Fe("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)Ye(t,i)&&n.push(t[i]);return n}}),Fe("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),Fe("String.prototype.endsWith",function(e){return e||function(t,n){var i=sn(this,t,"endsWith");n===void 0&&(n=i.length),n=Math.max(0,Math.min(n|0,i.length));for(var r=t.length;0<r&&0<n;)if(i[--n]!=t[--r])return!1;return 0>=r}}),Fe("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}});var vf=this||self;function me(e,t){e=e.split(".");var n=vf;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||t===void 0?n[i]&&n[i]!==Object.prototype[i]?n=n[i]:n=n[i]={}:n[i]=t}function fh(){}function dh(){}function La(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}La.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function yf(e){return e.h/(1-Math.pow(e.g,e.i))}function Qi(){this.h=new La(2),this.j=new La(5),this.g=0,this.i=128e3,this.l=16e3}Qi.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},Qi.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},Qi.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(yf(this.h),yf(this.j))};function dy(){}function Jr(){}function ot(){}function Eu(e){var t=rt.apply(1,arguments);bg.has(e)||(bg.add(e),ot.apply(dy,ce(t)))}function hy(){}function py(){}function $1(){}var bg=new Set;F.console&&(new Map().set(1,function(){return console.error.apply(console,ce(rt.apply(0,arguments)))}).set(2,function(){return console.warn.apply(console,ce(rt.apply(0,arguments)))}).set(3,function(){return console.info.apply(console,ce(rt.apply(0,arguments)))}).set(4,function(){return console.log.apply(console,ce(rt.apply(0,arguments)))}).set(5,function(){return console.debug.apply(console,ce(rt.apply(0,arguments)))}).set(6,function(){return console.debug.apply(console,ce(rt.apply(0,arguments)))}),ot=function(){return console.warn.apply(console,ce(rt.apply(0,arguments)))},Jr=function(){console.error.apply(console,ce(rt.apply(0,arguments)))});function Uo(){this.g=new Map}S=Uo.prototype,S.push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},S.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},S.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter(function(i){return i!=t});this.g.set(e,n),n.length||this.g.delete(e)}},S.forEach=function(e){this.g.forEach(function(t,n){e(n,t)})},S.size=function(){return this.g.size},S.keys=function(){return Array.from(this.g.keys())};function $e(){this.g=new Uo}S=$e.prototype,S.release=function(){this.Qa(),this.g=null},S.D=function(e,t,n,i){this.g&&(e=new Ju(e,t,n,i),this.g.push(t,e))},S.ma=function(e,t,n,i){function r(a){o.Ja(e,t,r),n(a)}var o=this;this.D(e,t,r,i)},S.Ja=function(e,t,n){if(this.g){var i=this.g.get(t)||[];i=x(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.Ja(),this.g.remove(t,r))}},S.Qa=function(){if(this.g){for(var e=[],t=x(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,ce(n.value));for(e=x(e),t=e.next();!t.done;t=e.next())t.value.Ja();this.g.g.clear()}},me("shaka.util.EventManager",$e),$e.prototype.removeAll=$e.prototype.Qa,$e.prototype.unlisten=$e.prototype.Ja,$e.prototype.listenOnce=$e.prototype.ma,$e.prototype.listen=$e.prototype.D,$e.prototype.release=$e.prototype.release;function Ju(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=gr(e,i),this.target.addEventListener(t,n,this.g)}Ju.prototype.Ja=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function gr(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(i){return!n.has(i)}),gy(e)?t:t.capture||!1}function gy(e){var t=Pg;if(t==null){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(r){t=!1}Pg=t}return t||!1}var Pg=void 0;me("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function hh(e,t){this.g=e,this.h=t}hh.prototype.toString=function(){return"v"+this.g+"."+this.h};function ct(e,t){var n=new hh(5,0),i=Kl,r=i.g,o=n.h-r.h;(0<(n.g-r.g||o)?i.i:i.h)(i.g,n,e,t)}function Sf(e,t,n,i){ot([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function ws(e,t,n,i){Jr([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(" "))}var Kl=null;/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function Jt(e){var t;e instanceof Jt?(Ql(this,e.Kb),this.Hc=e.Hc,Zl(this,e.nb),Wl(this,e.$c),this.ab=e.ab,$r(this,e.g.clone()),this.qc=e.qc):e&&(t=String(e).match(Yl))?(Ql(this,t[1]||"",!0),this.Hc=Ua(t[2]||""),Zl(this,t[3]||"",!0),Wl(this,t[4]),this.ab=Ua(t[5]||"",!0),$r(this,t[6]||"",!0),this.qc=Ua(t[7]||"")):this.g=new Un(null)}S=Jt.prototype,S.Kb="",S.Hc="",S.nb="",S.$c=null,S.ab="",S.qc="",S.toString=function(){var e=[],t=this.Kb;if(t&&e.push(_a(t,Tf,!0),":"),t=this.nb){e.push("//");var n=this.Hc;n&&e.push(_a(n,Tf,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.$c,t!=null&&e.push(":",String(t))}return(t=this.ab)&&(this.nb&&t.charAt(0)!="/"&&e.push("/"),e.push(_a(t,t.charAt(0)=="/"?Hg:ph,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.qc)&&e.push("#",_a(t,_o)),e.join("")},S.resolve=function(e){var t=this.clone();t.Kb==="data"&&(t=new Jt);var n=!!e.Kb;n?Ql(t,e.Kb):n=!!e.Hc,n?t.Hc=e.Hc:n=!!e.nb,n?Zl(t,e.nb):n=e.$c!=null;var i=e.ab;if(n)Wl(t,e.$c);else if(n=!!e.ab){if(i.charAt(0)!="/")if(this.nb&&!this.ab)i="/"+i;else{var r=t.ab.lastIndexOf("/");r!=-1&&(i=t.ab.substr(0,r+1)+i)}if(i==".."||i==".")i="";else if(i.indexOf("./")!=-1||i.indexOf("/.")!=-1){r=i.lastIndexOf("/",0)==0,i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];l=="."?r&&a==i.length&&o.push(""):l==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}i=o.join("/")}}return n?t.ab=i:n=e.g.toString()!=="",n?$r(t,e.g.clone()):n=!!e.qc,n&&(t.qc=e.qc),t},S.clone=function(){return new Jt(this)};function Ql(e,t,n){e.Kb=n?Ua(t,!0):t,e.Kb&&(e.Kb=e.Kb.replace(/:$/,""))}function Zl(e,t,n){e.nb=n?Ua(t,!0):t}function Wl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.$c=t}else e.$c=null}function $r(e,t,n){t instanceof Un?e.g=t:(n||(t=_a(t,my)),e.g=new Un(t))}function Ua(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function _a(e,t,n){return e!=null?(e=encodeURI(e).replace(t,Bg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bg(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Tf=/[#\/\?@]/g,ph=/[#\?:]/g,Hg=/[#\?]/g,my=/[#\?@]/g,_o=/#/g;function Un(e){this.g=e||null}function gi(e){if(!e.Va&&(e.Va=new Map,e.kd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),r=r||"",e.add(o,decodeURIComponent(r.replace(/\+/g," ")))}}S=Un.prototype,S.Va=null,S.kd=null;function Es(e){return gi(e),e.kd}S.add=function(e,t){gi(this),this.g=null;var n=this.Va.has(e)?this.Va.get(e):null;return n||this.Va.set(e,n=[]),n.push(t),this.kd++,this},S.set=function(e,t){return gi(this),this.g=null,this.Va.has(e)?this.Va.set(e,[t]):this.add(e,t),this},S.get=function(e){return gi(this),this.Va.get(e)||[]},S.toString=function(){if(this.g)return this.g;if(!this.Va||!this.Va.size)return"";for(var e=[],t=x(this.Va.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=encodeURIComponent(i),i=this.Va.get(i);for(var r=0;r<i.length;r++){var o=n;i[r]!==""&&(o+="="+encodeURIComponent(i[r])),e.push(o)}}return this.g=e.join("&")},S.clone=function(){var e=new Un;if(e.g=this.g,this.Va){for(var t=new Map,n=x(this.Va),i=n.next();!i.done;i=n.next()){var r=x(i.value);i=r.next().value,r=r.next().value,t.set(i,r.concat())}e.Va=t,e.kd=this.kd}return e};function Oo(){}function $u(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ue(e);t=Ue(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function mr(e){return ArrayBuffer.isView(e)?e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Ue(e,t,n){return n=n===void 0?1/0:n,jo(e,t===void 0?0:t,n,Uint8Array)}function Oa(e,t,n){return n=n===void 0?1/0:n,jo(e,t===void 0?0:t,n,Uint16Array)}function ii(e,t,n){return n=n===void 0?1/0:n,jo(e,t===void 0?0:t,n,DataView)}function jo(e,t,n,i){var r=ArrayBuffer.isView(e)?e.buffer:e,o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);var a=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,a))),new i(r,e,Math.floor(Math.min(e+Math.max(n,0),a))-e)}me("shaka.util.BufferUtils",Oo),Oo.toDataView=ii,Oo.toUint16=Oa,Oo.toUint8=Ue,Oo.toArrayBuffer=mr,Oo.equal=$u;function O(e,t,n){var i=rt.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(r){this.stack=r.stack}}O.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},me("shaka.util.Error",O),O.Severity={RECOVERABLE:1,CRITICAL:2},O.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},O.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007};function eo(e){this.h=e,this.g=void 0}eo.prototype.value=function(){return this.g===void 0&&(this.g=this.h()),this.g};function As(e,t){return e.length&&t.length&&e!==t?0<Xn(e,t).length:!0}function Xn(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=x(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=x(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.keySystem==o.keySystem){r=new Map;for(var a=x((i.initData||[]).concat(o.initData||[])),l=a.next();!l.done;l=a.next())l=l.value,r.set(l.keyId,l);r=Array.from(r.values()),a=i.keyIds&&o.keyIds?new Set([].concat(ce(i.keyIds),ce(o.keyIds))):i.keyIds||o.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,serverCertificateUri:i.serverCertificateUri||o.serverCertificateUri,initData:r,keyIds:a});break}}return n}function xf(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function Jl(e){return e?!!e.match(/^com\.apple\.fps/):!1}var Au=new eo(function(){return mr(new Uint8Array([0]))}),eu=new Map;function $l(e){this.h=e,this.g=null}$l.prototype.da=function(e){var t=this;this.stop();var n=!0,i=null;return this.g=function(){F.clearTimeout(i),n=!1},i=F.setTimeout(function(){n&&t.h()},1e3*e),this},$l.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function Ke(e){this.h=e,this.g=null}Ke.prototype.sb=function(){return this.stop(),this.h(),this},Ke.prototype.da=function(e){var t=this;return this.stop(),this.g=new $l(function(){t.h()}).da(e),this},Ke.prototype.ua=function(e){var t=this;return this.stop(),this.g=new $l(function(){t.g.da(e),t.h()}).da(e),this},Ke.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},me("shaka.util.Timer",Ke),Ke.prototype.stop=Ke.prototype.stop,Ke.prototype.tickEvery=Ke.prototype.ua,Ke.prototype.tickAfter=Ke.prototype.da,Ke.prototype.tickNow=Ke.prototype.sb;function tu(){var e=F.ManagedMediaSource||F.MediaSource;return!!(e&&e.isTypeSupported)}function ec(e){return mh().canPlayType(e)!=""}function bo(){return!!navigator.userAgent.match(/Edge?\//)}function Zi(){return Rt("Xbox One")}function Wn(){return Rt("Tizen")}function nu(){return Rt("Tizen 3")}function Mu(){return Rt("Web0S")}function to(){return Mu()&&wf()===38}function Wi(){return Rt("CrKey")&&!Rt("VIZIO SmartCast")}function wf(){if(!Rt("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function qn(){return Po()&&((navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="macos":navigator.platform?navigator.platform.toLowerCase().includes("mac"):!1)||(/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)?!0:Po()&&1<navigator.maxTouchPoints))}function Ms(){return Rt("PlayStation 5")}function kn(){return Rt("PlayStation 4")}function tc(){return Rt("Hisense")||Rt("VIDAA")}function Vg(){if(!qn()&&(!Po()||qn()))return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function ja(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function no(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="android":Rt("Android")}function ba(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="fuchsia":Rt("Fuchsia")}function gh(){return!!(Wn()||Mu()||Zi()||kn()||Ms()||Wi()||tc()||Rt("VIZIO SmartCast")||Po()&&!qn())}function Rt(e){return(navigator.userAgent||"").includes(e)}function Po(){return(navigator.vendor||"").includes("Apple")}function mh(){return Ds||(Ef||(Ef=new Ke(function(){Ds=null})),(Ds=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Ds=document.createElement("video")),Ef.da(1),Ds)}function vh(){if(nu()||Rt("Tizen 2")||to()||kn()||Ms())return!1;var e=Vg();return!(Po()&&!qn()&&e!=null&&15>e)}function Cs(){var e,t,n,i,r,o,a,l,f,h,p,g,y,T,w,A,E;return L(function(M){switch(M.g){case 1:if(e={width:1/0,height:1/0},Wi()){if(T=F.cast&&cast.__platform__&&cast.__platform__.canDisplayType,e.width=1280,e.height=720,Se(M,14),!(w=T)){M.s(16);break}return C(M,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(Wn()){t=F.devicePixelRatio,e.width=1920<F.screen.width*t?3840:1920,e.height=1080<F.screen.height*t?2160:1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(n=webapis.systeminfo.getMaxVideoResolution(),e.width=n.width,e.height=n.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch(I){ot("Tizen: Error detecting screen size, default screen size 1920x1080.")}M.s(3);break}if(Mu()){try{i=JSON.parse(F.PalmSystem.deviceInfo),e.width=Math.max(1920,i.screenWidth),e.height=Math.max(1080,i.screenHeight)}catch(I){ot("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}M.s(3);break}if(tc()){if(r=null,F.Hisense_Get4KSupportState)try{r=F.Hisense_Get4KSupportState()}catch(I){}r==null&&(r=Rt("UHD")),r?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),M.s(3);break}if(!kn()&&!Ms()){o=void 0;try{o=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows}catch(I){}if(o){e.width=1920,e.height=1080;try{a=new o.Media.Protection.ProtectionCapabilities,l=o.Media.Protection.ProtectionCapabilityResult,f=null;do f=a.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(f===l.maybe);f===l.probably&&(e.width=3840,e.height=2160)}catch(I){ot("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else Zi()&&(e.width=1920,e.height=1080,ot("Xbox: Error detecting screen size, default screen size 1920x1080."));M.s(3);break}return h=!1,Se(M,8),C(M,F.msdk.device.getDisplayInfo(),10);case 10:p=M.h,h=p.resolution==="4K",Pe(M,9);break;case 8:return Te(M),Se(M,11),C(M,F.msdk.device.getDisplayInfoImmediate(),13);case 13:g=M.h,h=g.resolution==="4K",Pe(M,9);break;case 11:y=Te(M),ot("PlayStation: Failed to get the display info:",y);case 9:h?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),M.s(3);break;case 17:w=M.h;case 16:if(w){e.width=3840,e.height=2160,M.s(18);break}if(!(A=T)){M.s(19);break}return C(M,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:A=M.h;case 19:A&&(e.width=1920,e.height=1080);case 18:Pe(M,3);break;case 14:E=Te(M),Jr("Failed to check canDisplayType:",E);case 3:return M.return(e)}})}var Ef=null,Ds=null;function Ur(){}function Xt(e){if(!e)return"";if(e=Ue(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),F.TextDecoder&&!kn())return e=new TextDecoder().decode(e),e.includes("�")&&Jr('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i=65533;if((e[n]&128)==0?i=e[n]:e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(i=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(i=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(i=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3),65535>=i)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+r)}}return t}function io(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new O(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=ii(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return Sh(i)}function iu(e){function t(i){return n.byteLength<=i||9<=n[i]&&126>=n[i]}if(!e)return"";var n=Ue(e);if(n[0]==239&&n[1]==187&&n[2]==191)return Xt(n);if(n[0]==254&&n[1]==255)return io(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return io(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return io(e,!1);if(n[1]==0&&n[3]==0)return io(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Xt(e);throw new O(2,2,2003)}function Ji(e){if(F.TextEncoder&&!kn()){var t=new TextEncoder;return mr(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return mr(t)}function yh(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}function Sh(e){return Af.value()(e)}function Jn(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return r[1]=="#"?(r=r[2]=="x"||r[2]=="X"?parseInt(r.substring(3),16):parseInt(r.substring(2),10),0<=r&&1114111>=r?String.fromCodePoint(r):""):t[r]||"'"}):e||""}me("shaka.util.StringUtils",Ur),Ur.resetFromCharCode=function(){Af.g=void 0},Ur.toUTF16=yh,Ur.toUTF8=Ji,Ur.fromBytesAutoDetect=iu,Ur.fromUTF16=io,Ur.fromUTF8=Xt;var Af=new eo(function(){function e(n){try{var i=new Uint8Array(n);return 0<String.fromCharCode.apply(null,i).length}catch(r){return!1}}for(var t={jc:65536};0<t.jc;t={jc:t.jc},t.jc/=2)if(e(t.jc))return function(n){return function(i){for(var r="",o=0;o<i.length;o+=n.jc)r+=String.fromCharCode.apply(null,i.subarray(o,o+n.jc));return r}}(t);return null});function _n(){}function ro(e){return e=Sh(Ue(e)),btoa(e)}function $i(e,t){return t=t==null?!0:t,e=ro(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function er(e){e=F.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function uo(e){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=F.parseInt(e.substr(2*i,2),16);return n}function Cu(e){var t=Ue(e);e="",t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function Vt(){for(var e=rt.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var i=n=0;i<e.length;++i){var r=e[i];ArrayBuffer.isView(r)&&r.BYTES_PER_ELEMENT===1?t.set(r,n):t.set(Ue(r),n),n+=r.byteLength}return t}me("shaka.util.Uint8ArrayUtils",_n),_n.concat=Vt,_n.toHex=Cu,_n.fromHex=uo,_n.fromBase64=er,_n.toBase64=$i,_n.toStandardBase64=ro;function Qt(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var i=new Jt(e[0]);return t=new Jt(t[0]),t=i.resolve(t),n&&$r(t,n),[t.toString()]}t=t.map(function(l){return new Jt(l)}),i=[],e=x(e);for(var r=e.next();!r.done;r=e.next()){r=new Jt(r.value);for(var o=x(t),a=o.next();!a.done;a=o.next())a=r.resolve(a.value),n&&$r(a,n),i.push(a.toString())}return i}function Du(e,t,n,i){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},i&&(e.keySystemUris=new Set([i])),e}function Pa(e,t){t=t===void 0?"cenc":t;var n=[],i=[],r=[];e.forEach(function(a,l){var f=l;f.length!=22&&(f=$i(uo(l),!1));var h=a;h.length!=22&&(h=$i(uo(a),!1)),a={kty:"oct",kid:f,k:h},n.push(a),i.push(a.kid),r.push(l)}),e=JSON.stringify({keys:n});var o=JSON.stringify({kids:i});return o=[{initData:Ue(Ji(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+F.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(r)}}function vr(e,t){if(t.length==1)return t[0];if(e=ri(e,t),e!=null)return e;throw new O(2,4,4025,t)}function ri(e,t){var n=Th.get(e);n=x(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;for(var r=x(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.test(o.trim()))return o.trim()}return e==Xe?"":null}function Ba(e,t){var n=[];e=Th.get(e),e=x(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=x(t),o=r.next();!o.done;o=r.next())o=o.value,i.test(o.trim())&&n.push(o.trim())}return n}var Xe="text",an={la:"video",V:"audio",za:Xe,$e:"image",Mj:"application"},Mf=1/15,Th=new Map().set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function ui(e,t,n,i){this.g=null,this.l=e,this.i=t,this.m=n,this.o=i,this.j=!1;e:{if(typeof libDPIModule>"u"&&ot("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,ct("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{ot("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(ot("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||ot(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function oo(e,t,n,i){i.type!=="video"||e.o&&!i.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",i.id,-n,!e.o)}function nc(e){e.g&&e.i.classList.add("shaka-hidden")}ui.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Ha(e){return e&&typeof LCEVCdec<"u"?e.codecs=="lvc1":!1}me("shaka.lcevc.Dec",ui),ui.prototype.release=ui.prototype.release;function On(e){if(Is.has(e))return Is.get(e);var t=F.ManagedMediaSource||F.MediaSource;return t?(t=t.isTypeSupported(e),Is.set(e,t),t):!1}function so(){var e=F.ManagedSourceBuffer||F.SourceBuffer;return!!e&&!!e.prototype&&!!e.prototype.changeType}function Cf(){var e=F.ManagedMediaSource||F.MediaSource;return e&&e.prototype?!!e.prototype.setLiveSeekableRange&&!!e.prototype.clearLiveSeekableRange:!1}var Is=new Map;function Bo(){}Bo.prototype.extract=function(){},Bo.prototype.decode=function(){return[]},Bo.prototype.clear=function(){},Bo.prototype.getStreams=function(){return[]};function Df(){}Df.prototype.init=function(){},Df.prototype.parse=function(){return[]};function ic(){}ic.prototype.init=function(){},ic.prototype.i=function(){},ic.prototype.g=function(){},ic.prototype.j=function(){},me("shaka.media.IClosedCaptionParser",ic);function tr(e){this.l=new Df,(e=If(e.toLowerCase()))&&(this.l=e()),this.h=new Bo,(e=Va)&&(this.h=e())}tr.prototype.init=function(e,t){t!==void 0&&t||this.g(),this.l.init(e)},tr.prototype.i=function(e){e=this.l.parse(e),e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Ue(t.packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},tr.prototype.g=function(){this.h.clear()},tr.prototype.j=function(){return this.h.getStreams()};function xh(e,t){wh.set(e,t)}function If(e){return wh.get(e)}me("shaka.media.ClosedCaptionParser",tr),tr.findDecoder=function(){return Va},tr.unregisterDecoder=function(){Va=null},tr.registerDecoder=function(e){Va=e},tr.findParser=If,tr.unregisterParser=function(e){wh.delete(e)},tr.registerParser=xh;var wh=new Map,Va=null;function Rs(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Bi,this.scroll=zg}me("shaka.text.CueRegion",Rs);var Bi=1;Rs.units={PX:0,PERCENTAGE:Bi,LINES:2};var zg="";Rs.scrollMode={NONE:zg,UP:"up"};function Eh(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function _r(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function Ah(e,t,n){if(n||(n=Eh),e.length!=t.length)return!1;t=t.slice(),e=x(e);for(var i=e.next(),r={};!i.done;r={ah:void 0},i=e.next()){if(r.ah=i.value,i=t.findIndex(function(o){return function(a){return n(o.ah,a)}}(r)),i==-1)return!1;t[i]=t[t.length-1],t.pop()}return t.length==0}function za(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=Eh),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Ga(e){this.h=e||"",this.g=0}function Ho(e){ks(e,/[ \t]+/gm)}function ks(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function Ns(e){return e.g==e.h.length?null:(e=ks(e,/[^ \t\n]*/gm))?e[0]:null}function rc(e){if(e=ks(e,vy),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function Ls(e){return e?rc(new Ga(e)):null}var vy=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function ru(e){function t(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||ArrayBuffer.isView(i))return i;if(n.has(i))return null;var r=i.constructor==Array;if(i.constructor!=Object&&!r)return null;n.add(i);var o=r?[]:{},a;for(a in i)o[a]=t(i[a]);return r&&(o.length=i.length),o}}var n=new WeakSet;return t(e)}function Us(e){var t={},n;for(n in e)t[n]=e[n];return t}function Mh(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var i=n.toString(),r=e[n];r!==void 0&&(r=Mh(r))&&t.push(i+":"+r)}e="["+t.join(",")+"]"}else if(typeof e=="function")e="";else if(e instanceof Object){for(n=Object.keys(e),n.sort(),t=[],n=x(n),i=n.next();!i.done;i=n.next())r=i.value,i=JSON.stringify(r),r=e[r],r!==void 0&&(r=Mh(r))&&t.push(i+":"+r);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function uc(e,t){var n=n===void 0?!1:n;return e=iu(e),_s(e,t,n)}function _s(e,t,n){return e=yy(e,n===void 0?!1:n),!t&&e.length?e[0]:(e=e.find(function(i){return t.split(",").includes(i.tagName)}))?e:null}function Ch(e){return Nh.has(e)?Nh.get(e):""}function yy(e,t){function n(o,a){a=a===void 0?!1:a;for(var l=[];e[r];)if(e.charCodeAt(r)==60){if(e.charCodeAt(r+1)===47){a=r+2,r=e.indexOf(">",r),a=e.substring(a,r);var f=a.indexOf(o);if(f==-1){var h=o.indexOf(".");0<h&&(f=a.indexOf(o.substring(0,h)))}if(f==-1)throw o=e.substring(0,r).split("\n"),Error("Unexpected close tag\nLine: "+(o.length-1)+"\nColumn: "+(o[o.length-1].length+1)+"\nChar: "+e[r]);r+1&&(r+=1);break}else if(e.charCodeAt(r+1)===33){if(e.charCodeAt(r+2)==45){for(;r!==-1&&(e.charCodeAt(r)!==62||e.charCodeAt(r-1)!=45||e.charCodeAt(r-2)!=45||r==-1);)r=e.indexOf(">",r+1);r===-1&&(r=e.length)}else if(e.charCodeAt(r+2)===91&&e.charCodeAt(r+8)===91&&e.substr(r+3,5).toLowerCase()==="cdata"){f=e.indexOf("]]>",r),f==-1?(l.push(e.substr(r+9)),r=e.length):(l.push(e.substring(r+9,f)),r=f+3);continue}r++;continue}e:{h=a,r++;var p=i(),g={};for(f=[];e.charCodeAt(r)!==62&&e[r];){var y=e.charCodeAt(r);if(64<y&&91>y||96<y&&123>y){y=i();for(var T=e.charCodeAt(r);T&&T!==39&&T!==34&&!(64<T&&91>T||96<T&&123>T)&&T!==62;)r++,T=e.charCodeAt(r);var w=r+1;if(r=e.indexOf(e[r],w),w=e.slice(w,r),T===39||T===34){if(r===-1){if(h={tagName:p,attributes:g,children:f,parent:null},t)for(p=0;p<f.length;p++)typeof f[p]!="string"&&(f[p].parent=h);f=h;break e}}else w=null,r--;if(y.startsWith("xmlns:")){T=w;var A=y.split(":")[1];Nh.set(T,A),Lh.set(A,T)}p==="tt"&&y==="xml:space"&&w==="preserve"&&(h=!0),g[y]=w}r++}for(e.charCodeAt(r-1)!==47?(r++,f=n(p,h)):r++,h={tagName:p,attributes:g,children:f,parent:null},p=f.length,g=0;g<p;g++)y=f[g],typeof y!="string"?t&&(y.parent=h):g==p-1&&y=="\n"&&f.pop();f=h}if(l.push(f),typeof f=="string")break;f.tagName[0]==="?"&&f.children&&(l.push.apply(l,ce(f.children)),f.children=[])}else f=r,r=e.indexOf("<",r)-1,r===-2&&(r=e.length),f=e.slice(f,r+1),a?0<f.length&&l.push(f):(l.length&&f.length==1&&f[0]=="\n"||0<f.trim().length)&&l.push(f),r++;return l}function i(){for(var o=r;"\r\n	>/= ".indexOf(e[r])===-1&&e[r];)r++;return e.slice(o,r)}var r=0;return n("")}function Rf(e){return typeof e=="string"}function kf(e){var t=[];if(!e.children)return[];e=x(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function dt(e,t){var n=[];if(!e.children)return[];e=x(e.children);for(var i=e.next();!i.done;i=e.next())i=i.value,i.tagName===t&&n.push(i);return n}function gn(e){return typeof e=="string"?Jn(e):(e=e.children.reduce(function(t,n){return typeof n=="string"?t+n:t},""),e===""?null:Jn(e))}function Hi(e){return Array.from(e.children).every(function(t){return typeof t=="string"})?((e=gn(e))&&(e=e.trim()),e):null}function Or(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=x(e.children);for(var i=e.next();!i.done;i=e.next())Or(i.value,t,n)}return n}function ln(e,t){return e=dt(e,t),e.length!=1?null:e[0]}function yr(e,t,n){return e=Gg(e,t,n),e.length!=1?null:e[0]}function Oe(e,t,n,i){i=i===void 0?null:i;var r=null;return e=e.attributes[t],e!=null&&(r=n(e)),r==null?i:r}function nr(e,t,n){return t=Ch(t),e.attributes[t+":"+n]||null}function Gg(e,t,n){var i=Ch(t);if(t=[],e.children)for(n=i?i+":"+n:n,e=x(e.children),i=e.next();!i.done;i=e.next())(i=i.value)&&i.tagName===n&&t.push(i);return t}function Iu(e,t,n){t=x(t);for(var i=t.next();!i.done;i=t.next())if(i=nr(e,i.value,n))return i;return null}function Vo(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function uu(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function oc(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function jn(e){return e=Number(e),e%1===0?e:null}function Sr(e){return e=Number(e),e%1===0&&0<e?e:null}function oi(e){return e=Number(e),e%1===0&&0<=e?e:null}function zo(e){return e=Number(e),isNaN(e)?null:e}function sc(e){return e?e.toLowerCase()==="true":!1}function Xg(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Xa(e){var t=[];e=Jn(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=x(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=n.match(/^([\w]+)/);if(i){var r=n.match(/(@id='(.*?)')/),o=n.match(/(@t='(\d+)')/),a=n.match(/(@n='(\d+)')/),l=n.match(/\[(\d+)\]/);t.push({name:i[0],id:r?r[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:l?Number(l[1])-1:null,ac:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].ac=n.slice(1))}return t}function Nf(e,t){var n=Xa(t.attributes.sel||"");if(n.length){var i=n[n.length-1],r=t.attributes.pos||null;n=i.position,n==null&&(i.t!==null&&(n=Dh(e,"t",i.t)),i.n!==null&&(n=Dh(e,"n",i.n))),n===null?n=r==="prepend"?0:e.length:r==="prepend"?--n:r==="after"&&++n,r=t.tagName,(i=i.ac)&&e[n]?Ih(e[n],r,i,Hi(t)||""):(r!=="remove"&&r!=="replace"||e.splice(n,1),r!=="add"&&r!=="replace"||e.splice.apply(e,[n,0].concat(ce(t.children))))}}function Dh(e,t,n){var i=0;e=x(e);for(var r=e.next();!r.done;r=e.next()){if(Number(r.value.attributes[t])===n)return i;i++}return null}function Ih(e,t,n,i){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=i)}function Rh(e){var t="",n=e.tagName.split(":");0<n.length&&(t=n[0],t=Lh.has(t)?Lh.get(t):""),t=document.createElementNS(t,e.tagName);for(var i in e.attributes)t.setAttribute(i,e.attributes[i]);for(e=x(e.children),i=e.next();!i.done;i=e.next())i=i.value,n=void 0,typeof i=="string"?n=new Text(i):n=Rh(i),t.appendChild(n);return t}function kh(e){if(!e)return null;var t={tagName:e.tagName,attributes:Us(e.attributes),children:[],parent:null};e=x(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=kh(n),n.parent=t),t.children.push(n);return t}var Nh=new Map,Lh=new Map;function Ot(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Rs,this.position=null,this.positionAlign=Fa,this.size=0,this.textAlign=Ru,this.direction=js,this.writingMode=qo,this.lineInterpretation=ou,this.line=null,this.lineHeight="",this.lineAlign=jr,this.displayAlign=Os,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=jh,this.fontStyle=Lf,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={oc:32,rows:15}}function qg(e,t){return e=new Ot(e,t,""),e.lineBreak=!0,e}Ot.prototype.clone=function(){var e=new Ot(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function Ci(e,t){if(e.payload!=t.payload||!(.001>Math.abs(e.startTime-t.startTime)&&.001>Math.abs(e.endTime-t.endTime)))return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!za(e.nestedCues,t.nestedCues,Ci))return!1}else if(n=="region"||n=="cellResolution"){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!za(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function Go(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&Uh(t);var i=n;n=[];for(var r=-1,o=0;o<i.length;o++)i[o]==="<"?r=o+1:i[o]===">"&&0<r&&(r=i.substr(r,o-r),r.match(Yg)&&n.push(r),r=-1);for(n=x(n),o=n.next();!o.done;o=n.next())o=o.value,i=i.replace("<"+o+">",'<div time="'+o+'">'),i+="</div>";e:{o=i,r=[];var a=-1;n="",i=!1;for(var l=0;l<o.length;l++)if(o[l]==="/"){var f=o.indexOf(">",l);if(f===-1){n=o;break e}if((f=o.substring(l+1,f))&&f=="v"){i=!0;var h=null;if(r.length&&(h=r[r.length-1]),h){if(h===f)n+="/"+f+">";else{if(!h.startsWith("v")){n+=o[l];continue}n+="/"+h+">"}l+=f.length+1}else n+=o[l]}else n+=o[l]}else o[l]==="<"?(a=l+1,o[a]!="v"&&(a=-1)):o[l]===">"&&0<a&&(r.push(o.substr(a,l-a)),a=-1),n+=o[l];for(o=x(r),r=o.next();!r.done;r=o.next())r=r.value,a=r.replace(" ",".voice-"),n=n.replace("<"+r+">","<"+a+">"),n=n.replace("</"+r+">","</"+a+">"),i||(n+="</"+a+">")}n=Fg(n),e.payload="";try{var p=_s("<span>"+n+"</span>","span")}catch(g){}if(p)if(p=p.children,p.length!=1||p[0].tagName)for(p=x(p),n=p.next();!n.done;n=p.next())_h(n.value,e,t);else e.payload=Jn(n);else e.payload=Jn(n)}else e.payload=Jn(n)}function Uh(e){for(var t=x(Object.entries(Oh)),n=t.next();!n.done;n=t.next()){var i=x(n.value);n=i.next().value,i=i.next().value;var r=new Ot(0,0,"");r.color=i,e.set("."+n,r)}for(t=x(Object.entries(Fo)),n=t.next();!n.done;n=t.next())i=x(n.value),n=i.next().value,i=i.next().value,r=new Ot(0,0,""),r.backgroundColor=i,e.set("."+n,r)}function Fg(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return t[r]||""}):e||""}function _h(e,t,n){var i=t.clone();if(i.nestedCues=[],i.payload="",i.rubyTag="",i.line=null,i.region=new Rs,i.position=null,i.size=0,i.textAlign=Ru,e.tagName)for(var r=x(e.tagName.split(/(?=[ .])+/g)),o=r.next();!o.done;o=r.next()){var a=o=o.value;if(a.startsWith(".voice-")){var l=a.split("-").pop();a='v[voice="'+l+'"]',n.has(a)||(a="v[voice="+l+"]")}switch(n.has(a)&&(l=i,a=n.get(a))&&(l.backgroundColor=qa(a.backgroundColor,l.backgroundColor),l.color=qa(a.color,l.color),l.fontFamily=qa(a.fontFamily,l.fontFamily),l.fontSize=qa(a.fontSize,l.fontSize),l.textShadow=qa(a.textShadow,l.textShadow),l.fontWeight=a.fontWeight,l.fontStyle=a.fontStyle,l.opacity=a.opacity,l.rubyTag=a.rubyTag,l.textCombineUpright=a.textCombineUpright,l.wrapLine=a.wrapLine),o){case"br":i=qg(i.startTime,i.endTime),t.nestedCues.push(i);return;case"b":i.fontWeight=bs;break;case"i":i.fontStyle=Ya;break;case"u":i.textDecoration.push(ao);break;case"font":(o=e.attributes.color)&&(i.color=o);break;case"div":if(o=e.attributes.time,!o)break;(o=Ls(o))&&(i.startTime=o);break;case"ruby":case"rp":case"rt":i.rubyTag=o}}if(r=e.children,Rf(e)||r.length==1&&Rf(r[0]))for(n=gn(e).split("\n"),e=!0,n=x(n),r=n.next();!r.done;r=n.next())r=r.value,e||(e=qg(i.startTime,i.endTime),t.nestedCues.push(e)),0<r.length&&(e=i.clone(),e.payload=Jn(r),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(i),t=x(r),e=t.next();!e.done;e=t.next())_h(e.value,i,n)}function qa(e,t){return e&&0<e.length?e:t}me("shaka.text.Cue",Ot),Ot.parseCuePayload=Go,Ot.equal=Ci,Ot.prototype.clone=Ot.prototype.clone;var Fa="auto";Ot.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Fa};var Ru="center",Xo={LEFT:"left",RIGHT:"right",CENTER:Ru,START:"start",END:"end"};Ot.textAlign=Xo;var Os="after",Ka={BEFORE:"before",CENTER:"center",AFTER:Os};Ot.displayAlign=Ka;var js="ltr";Ot.direction={HORIZONTAL_LEFT_TO_RIGHT:js,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var qo="horizontal-tb";Ot.writingMode={HORIZONTAL_TOP_TO_BOTTOM:qo,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var ou=0;Ot.lineInterpretation={LINE_NUMBER:ou,PERCENTAGE:1};var jr="start",ac={CENTER:"center",START:jr,END:"end"};Ot.lineAlign=ac;var Oh={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Ot.defaultTextColor=Oh;var Fo={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Ot.defaultTextBackgroundColor=Fo;var jh=400,bs=700;Ot.fontWeight={NORMAL:jh,BOLD:bs};var Lf="normal",Ya="italic",Kg={NORMAL:Lf,ITALIC:Ya,OBLIQUE:"oblique"};Ot.fontStyle=Kg;var ao="underline";Ot.textDecoration={UNDERLINE:ao,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Yg=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function lo(){}lo.prototype.destroy=function(){};function su(e,t,n){Uf.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,se:t})}function si(e,t){for(var n=e.toLowerCase().split(";")[0],i=x([_f,Ko,ir,$n]),r=i.next();!r.done;r=i.next())if(r=Uf.get(n+"-"+r.value)){var o=r.se(),a=o.isSupported(e,t);if(o.destroy(),a)return r.se}return null}me("shaka.transmuxer.TransmuxerEngine",lo),lo.findTransmuxer=si,lo.unregisterTransmuxer=function(e,t){Uf.delete(e.toLowerCase().split(";")[0]+"-"+t)},lo.registerTransmuxer=su,lo.prototype.destroy=lo.prototype.destroy;var Uf=new Map,$n=1,ir=2,Ko=3,_f=4;lo.PluginPriority={FALLBACK:$n,PREFERRED_SECONDARY:ir,PREFERRED:Ko,APPLICATION:_f};function Qa(){}function Zt(e,t){var n=e;return t&&!Vi.includes(e)&&(n+='; codecs="'+t+'"'),n}function Yo(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Qo(e,t,n){var i=Zt(e,t);return t=Yo(e,t),si(t)?(e=si(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?i.replace("video","audio"):i,n}function Qg(e,t,n){var i=[t];return Of.forEach(function(r,o){var a=e[o];o=="codecs"?Vi.includes(e.mimeType)||i.push('codecs="'+n+'"'):a&&i.push(r+'="'+a+'"')}),e.hdr=="PQ"&&i.push('eotf="smpte2084"'),i.join(";")}function Ps(e){return e.split(";")[0].split("/")[1]}function Sn(e){var t=bh(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):case e==="ac3":case e==="ac-3":return"ac-3";case(e==="mp4a"&&t==="a6"):case e==="eac3":case e==="ec-3":return"ec-3";case e==="ac-4":return"ac-4";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="vp09":return"vp9";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc"}return e}function Zo(e){var t=[];e=x(e.split(","));for(var n=e.next();!n.done;n=e.next())n=bh(n.value),t.push(n[0]);return t.sort().join(",")}function cn(e){return e.split(";")[0]}function mi(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function au(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function bh(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}me("shaka.util.MimeUtils",Qa),Qa.getFullTypeWithAllCodecs=Yo,Qa.getFullType=Zt;var Of=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Vi=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function lu(e){this.i=null,this.j=e,this.B=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Nn(e,t){wr.set(e,t)}function co(e){return wr.get(e)}function cu(e){return wr.has(e)?!0:e=="application/cea-608"||e=="application/cea-708"?!!Va:!1}lu.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function jf(e,t,n,i,r){var o,a,l,f,h,p,g;return L(function(y){if(y.g==1)return C(y,Promise.resolve(),2);if(!e.i||!e.j)return y.return();if(n==null||i==null)return e.i.parseInit(Ue(t)),y.return();for(o=e.B?n:e.u,a={periodStart:e.u,segmentStart:n,segmentEnd:i,vttOffset:o},l=e.i.parseMedia(Ue(t),a,r,[]),f=x(l),h=f.next();!h.done;h=f.next())p=h.value,e.A(p,r||null,a);g=l.filter(function(T){return T.startTime>=e.l&&T.startTime<e.m}),e.j.append(g),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(i,e.m),le(y)})}lu.prototype.remove=function(e,t){var n=this;return L(function(i){if(i.g==1)return C(i,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),le(i)})};function bf(e,t,n){e.l=t,e.m=n}function Tr(e,t,n){if(e.C=t,t=e.o.get(t))for(var i=x(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(o){return o.endTime<=n}))&&e.j.append(r)}function xr(e,t,n){t.startTime+=n,t.endTime+=n,t=x(t.nestedCues);for(var i=t.next();!i.done;i=t.next())xr(e,i.value,n)}function Bs(e,t,n,i,r){var o=n+" "+i,a=new Map;t=x(t);for(var l=t.next();!l.done;l=t.next()){var f=l.value;l=f.stream,f=f.cue,a.has(l)||a.set(l,new Map),a.get(l).has(o)||a.get(l).set(o,[]),xr(e,f,r),f.startTime>=e.l&&f.startTime<e.m&&(a.get(l).get(o).push(f),l==e.C&&e.j.append([f]))}for(r=x(a.keys()),o=r.next();!o.done;o=r.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),t=x(a.get(o).keys()),l=t.next();!l.done;l=t.next())l=l.value,f=a.get(o).get(l),e.o.get(o).set(l,f);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(i,e.m))}me("shaka.text.TextEngine",lu),lu.prototype.destroy=lu.prototype.destroy,lu.findParser=co,lu.unregisterParser=function(e){wr.delete(e)},lu.registerParser=Nn;var wr=new Map;function fo(e,t){return e.concat(t)}function Hs(){}function ho(e){return e!=null}function Vs(e,t){return Promise.race([t,new Promise(function(n,i){new Ke(i).da(e)})])}function rr(){}function Fn(e,t){return e=ht(e),t=ht(t),e.split("-")[0]==t.split("-")[0]}function dn(e,t){return e=ht(e),t=ht(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function zt(e,t){return e=ht(e),t=ht(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function ht(e){e=x(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=x(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=Ph.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function Di(e,t){return e=ht(e),t=ht(t),t==e?4:dn(t,e)?3:zt(t,e)?2:dn(e,t)?1:0}function lc(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=Ph.get(e)||e}function po(e){return e.language?ht(e.language):e.audio&&e.audio.language?ht(e.audio.language):e.video&&e.video.language?ht(e.video.language):"und"}function cc(e,t){e=ht(e);var n=new Set;t=x(t);for(var i=t.next();!i.done;i=t.next())n.add(ht(i.value));for(t=x(n),i=t.next();!i.done;i=t.next())if(i=i.value,i==e)return i;for(t=x(n),i=t.next();!i.done;i=t.next())if(i=i.value,dn(i,e))return i;for(t=x(n),i=t.next();!i.done;i=t.next())if(i=i.value,zt(i,e))return i;for(n=x(n),t=n.next();!t.done;t=n.next())if(t=t.value,dn(e,t))return t;return null}me("shaka.util.LanguageUtils",rr),rr.findClosestLocale=cc,rr.getLocaleForVariant=po,rr.getLocaleForText=function(e){return ht(e.language||"und")},rr.getBase=lc,rr.relatedness=Di,rr.areSiblings=function(e,t){var n=lc(e),i=lc(t);return e!=n&&t!=i&&n==i},rr.normalize=ht,rr.isSiblingOf=zt,rr.isParentOf=dn,rr.areLanguageCompatible=Fn,rr.areLocaleCompatible=function(e,t){return e=ht(e),t=ht(t),e==t};var Ph=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Za(){}function Wa(e,t,n,i,r){function o(M){var I=String(M.width||"")+String(M.height||"")+String(Math.round(M.frameRate||0))+(M.hdr||"")+M.fastSwitching;return M.dependencyStream&&(I+=M.dependencyStream.baseOriginalId||""),I}function a(M){var I=M.language+(M.channelsCount||0)+(M.audioSamplingRate||0)+M.roles.join(",")+M.label+M.groupId+M.fastSwitching;return M.dependencyStream&&(I+=M.dependencyStream.baseOriginalId||""),I}if(r.length){var l=e.textStreams;r=x(r);for(var f=r.next(),h={};!f.done;h={sg:void 0},f=r.next())if(h.sg=f.value,f=l.filter(function(M){return function(I){return!!(I.codecs.startsWith(M.sg)||I.mimeType.startsWith(M.sg))}}(h)),f.length){l=f;break}e.textStreams=l}if(l=e.variants,(t.length||n.length)&&(l=Zg(l,t,n)),i.length){for(t=new Uo,n=x(l),l=n.next();!l.done;l=n.next())l=l.value,t.push(String(l.video.width||0),l);var p=[];t.forEach(function(M,I){M=0;var U=[];I=x(I);for(var _=I.next(),b={};!_.done;b={Pe:void 0},_=I.next())b.Pe=_.value,_=i.filter(function(N){return function(k){return N.Pe.decodingInfos[0][k]}}(b)).length,_>M?(M=_,U=[b.Pe]):_==M&&U.push(b.Pe);p.push.apply(p,ce(U))}),l=p}for(n=new Set,t=new Set,l=x(l),r=l.next();!r.done;r=l.next())r=r.value,r.audio&&n.add(r.audio),r.video&&t.add(r.video);l=Array.from(n).sort(function(M,I){return M.bandwidth-I.bandwidth});var g=[];for(n=new Map,l=x(l),r=l.next();!r.done;r=l.next()){if(r=r.value,f=a(r),h=n.get(f)||[],h.length){var y=h[h.length-1],T=Sn(y.codecs),w=Sn(r.codecs);T!=w||r.bandwidth&&y.bandwidth&&!(r.bandwidth>y.bandwidth)||(h.push(r),g.push(r.id))}else h.push(r),g.push(r.id);n.set(f,h)}var A={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};l=Array.from(t).sort(function(M,I){if(!M.bandwidth||!I.bandwidth||M.bandwidth==I.bandwidth){if(M.codecs&&I.codecs&&M.codecs!=I.codecs&&M.width==I.width){var U=Sn(M.codecs),_=Sn(I.codecs);if(U!=_)return(A[U]||1)-(A[_]||1)}return M.width-I.width}return M.bandwidth-I.bandwidth}),t=so();var E=[];for(n=new Map,l=x(l),r=l.next();!r.done;r=l.next()){if(r=r.value,f=o(r),h=n.get(f)||[],h.length){if(y=h[h.length-1],!t&&(T=Sn(y.codecs),w=Sn(r.codecs),T!==w))continue;T=Sn(y.codecs),w=Sn(r.codecs),T!=w||r.bandwidth&&y.bandwidth&&!(r.bandwidth>y.bandwidth)||(h.push(r),E.push(r.id))}else h.push(r),E.push(r.id);n.set(f,h)}e.variants=e.variants.filter(function(M){var I=M.audio;return M=M.video,!(I&&!g.includes(I.id)||M&&!E.includes(M.id))})}function Zg(e,t,n){t=x(t);for(var i=t.next(),r={};!i.done;r={Lh:void 0},i=t.next())if(r.Lh=i.value,i=e.filter(function(o){return function(a){return a.video&&a.video.codecs.startsWith(o.Lh)}}(r)),i.length){e=i;break}for(n=x(n),t=n.next(),i={};!t.done;i={Cg:void 0},t=n.next())if(i.Cg=t.value,t=e.filter(function(o){return function(a){return a.audio&&a.audio.codecs.startsWith(o.Cg)}}(i)),t.length){e=t;break}return e}function fc(e,t,n){e.variants=e.variants.filter(function(i){return Ja(i,t,n)})}function Ja(e,t,n){function i(l,f,h){return l>=f&&l<=h}var r=e.video;if(r&&r.width&&r.height){var o=r.width,a=r.height;if(a>o&&(a=x([a,o]),o=a.next().value,a=a.next().value),!i(o,t.minWidth,Math.min(t.maxWidth,n.width))||!i(a,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!i(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function zs(e,t,n,i){return n=n===void 0?[]:n,i=i===void 0?{}:i,L(function(r){return r.g==1?C(r,ku(e,t,0<t.offlineSessionIds.length,n,i),2):(Bf(t),C(r,Wg(t),0))})}function ku(e,t,n,i,r){var o,a;return L(function(l){if(l.g==1)return Zi()&&Wo(t.variants),C(l,$a(t.variants,n,!1,i),2);o=null,e&&(a=e.h)&&(o=a.keySystem),t.variants=t.variants.filter(function(f){var h=go(f,o,r);if(!h){var p=[];f.audio&&p.push(Vh(f.audio)),f.video&&p.push(Vh(f.video))}return h}),le(l)})}function Wo(e){var t=new Map().set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set;e=x(e);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&n.add(i.video);for(n=x(n),e=n.next();!e.done;e=n.next()){e=e.value,i=x(t);for(var r=i.next();!r.done;r=i.next()){var o=x(r.value);if(r=o.next().value,o=o.next().value,e.codecs.includes(r)){e.codecs=e.codecs.replace(r,o);break}}}}function go(e,t,n){if(!e.decodingInfos.some(function(f){return!(!f.supported||t&&(f=f.keySystemAccess)&&(n[f.keySystem]||f.keySystem)!=t)}))return!1;var i=Zi(),r=Rt("Firefox")&&no(),o=e.video,a=o&&o.width||0,l=o&&o.height||0;return i&&o&&(1920<a||1080<l)&&(o.codecs.includes("avc1.")||o.codecs.includes("avc3."))||(i=o&&o.dependencyStream)&&!Ha(i)?!1:(e=e.audio,!(r&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}function Pf(e,t){var n,i,r,o,a,l,f;return L(function(h){if(h.g==1){for(n=function(p,g){if(p){var y=Us(p);return y.supported=p.supported&&g.supported,y.powerEfficient=p.powerEfficient&&g.powerEfficient,y.smooth=p.smooth&&g.smooth,g.keySystemAccess&&!y.keySystemAccess&&(y.keySystemAccess=g.keySystemAccess),y}return g},i=null,r=[],o=x(t),a=o.next(),l={};!a.done;l={cache:void 0,Rd:void 0},a=o.next())f=a.value,l.Rd=Mh(f),l.cache=nl,l.cache.has(l.Rd)?i=n(i,l.cache.get(l.Rd)):r.push(Bh(f).then(function(p){return function(g){var y=null;g=x(g||[]);for(var T=g.next();!T.done;T=g.next())y=n(y,T.value);y&&(p.cache.set(p.Rd,y),i=n(i,y))}}(l)));return C(h,Promise.all(r),2)}i&&e.decodingInfos.push(i),le(h)})}function Bh(e){var t=[""];e.video&&(t=mi(e.video.contentType).split(","));var n=[""];e.audio&&(n=mi(e.audio.contentType).split(","));var i=[];t=x(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;for(var o=x(n),a=o.next(),l={};!a.done;l={pc:void 0},a=o.next())a=a.value,l.pc=ru(e),e.video&&(l.pc.video.contentType=Zt(cn(l.pc.video.contentType),r)),e.audio&&(l.pc.audio.contentType=Zt(cn(l.pc.audio.contentType),a)),i.push(new Promise(function(f){return function(h,p){(no()?Vs(5,navigator.mediaCapabilities.decodingInfo(f.pc)):navigator.mediaCapabilities.decodingInfo(f.pc)).then(function(g){h(g)}).catch(p)}}(l)))}return Promise.all(i).catch(function(){return JSON.stringify(e),null})}function $a(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b;return L(function(N){switch(N.g){case 1:if(e.some(function(k){return k.decodingInfos.length}))return N.return();r=x(i),o=r.next(),a={};case 2:if(o.done){N.s(4);break}a.mh=o.value,l=!1,f=x(e),h=f.next();case 5:if(h.done){N.s(7);break}p=h.value,g=dc(p,t,n).filter(function(k){return function(P){return P=P[0],(P.keySystemConfiguration&&P.keySystemConfiguration.keySystem)===k.mh}}(a)),y=x(g),T=y.next();case 8:if(T.done){N.s(10);break}return w=T.value,C(N,Pf(p,w),9);case 9:T=y.next(),N.s(8);break;case 10:p.decodingInfos.length&&(l=!0),h=f.next(),N.s(5);break;case 7:if(l)return N.return();a={mh:void 0},o=r.next(),N.s(2);break;case 4:A=x(e),E=A.next();case 12:if(E.done){N.s(0);break}M=E.value,I=dc(M,t,n).filter(function(k){return k=k[0],k=k.keySystemConfiguration&&k.keySystemConfiguration.keySystem,!k||!i.includes(k)}),U=x(I),_=U.next();case 15:if(_.done){E=A.next(),N.s(12);break}return b=_.value,C(N,Pf(M,b),16);case 16:_=U.next(),N.s(15)}})}function dc(e,t,n){var i=e.audio,r=e.video,o=[],a=[];if(r)for(var l=x(r.fullMimeTypes),f=l.next();!f.done;f=l.next()){f=f.value;var h=mi(f);if(h.includes(",")&&!i){var p=h.split(","),g=cn(f);h=vr("video",p),p=vr("audio",p),p=fu(p,g),g=Qo(g,p,"audio"),a.push({contentType:g,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(h=ai(h),f={contentType:Qo(cn(f),h,"video"),width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||1},r.hdr)switch(r.hdr){case"SDR":f.transferFunction="srgb";break;case"PQ":f.transferFunction="pq";break;case"HLG":f.transferFunction="hlg"}r.colorGamut&&(f.colorGamut=r.colorGamut),o.push(f)}if(i)for(l=x(i.fullMimeTypes),f=l.next();!f.done;f=l.next())h=f.value,f=cn(h),h=fu(mi(h),f),f=Qo(f,h,"audio"),a.push({contentType:f,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio});for(l=[],o.length==0&&o.push(null),a.length==0&&a.push(null),o=x(o),f=o.next();!f.done;f=o.next())for(f=f.value,h=x(a),g=h.next();!g.done;g=h.next())g=g.value,p={type:n?"file":"media-source"},f&&(p.video=f),g&&(p.audio=g),l.push(p);if(a=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!a.length)return[l];for(e=[],n=new Map,a=x(a),o=a.next();!o.done;o=a.next())o=o.value,n.get(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o);for(a=t?"required":"optional",t=t?["persistent-license"]:["temporary"],o=x(n.keys()),f=o.next();!f.done;f=o.next()){for(f=f.value,g=n.get(f),h=new Map,g=x(g),p=g.next();!p.done;p=g.next()){p=p.value;var y=p.videoRobustness+","+p.audioRobustness;h.get(y)||h.set(y,[]),h.get(y).push(p)}for(h=x(h.values()),g=h.next();!g.done;g=h.next()){g=g.value,p=[],y=x(l);for(var T=y.next();!T.done;T=y.next()){T=Object.assign({},T.value);for(var w={keySystem:f,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:t},A=x(g),E=A.next();!E.done;E=A.next()){if(E=E.value,E.initData&&E.initData.length){for(var M=new Set,I=x(E.initData),U=I.next();!U.done;U=I.next())M.add(U.value.initDataType);w.initDataType=E.initData[0].initDataType}E.distinctiveIdentifierRequired&&(w.distinctiveIdentifier="required"),E.persistentStateRequired&&(w.persistentState="required"),E.sessionType&&(w.sessionTypes=[E.sessionType]),i&&(w.audio?(E.encryptionScheme&&(w.audio.encryptionScheme=w.audio.encryptionScheme||E.encryptionScheme),w.audio.robustness=w.audio.robustness||E.audioRobustness):(w.audio={robustness:E.audioRobustness},E.encryptionScheme&&(w.audio.encryptionScheme=E.encryptionScheme)),w.audio.robustness==""&&delete w.audio.robustness),r&&(w.video?(E.encryptionScheme&&(w.video.encryptionScheme=w.video.encryptionScheme||E.encryptionScheme),w.video.robustness=w.video.robustness||E.videoRobustness):(w.video={robustness:E.videoRobustness},E.encryptionScheme&&(w.video.encryptionScheme=E.encryptionScheme)),w.video.robustness==""&&delete w.video.robustness)}T.keySystemConfiguration=w,p.push(T)}e.push(p)}}return e}function fu(e,t){return e.toLowerCase()=="flac"?qn()?"fLaC":"flac":e.toLowerCase()==="opus"?qn()&&Ps(t)=="mp4"?"Opus":"opus":e.toLowerCase()=="ac-3"&&nu()?"ec-3":e}function ai(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function Bf(e){e.textStreams=e.textStreams.filter(function(t){return t=Zt(t.mimeType,t.codecs),cu(t)})}function Wg(e){var t,n,i,r,o,a,l;return L(function(f){switch(f.g){case 1:t=[],n=x(e.imageStreams),i=n.next();case 2:if(i.done){f.s(4);break}if(r=i.value,o=r.mimeType,o=="application/mp4"&&r.codecs=="mjpg"&&(o="image/jpg"),gc.has(o)){f.s(5);break}if(a=mc.get(o),!a){gc.set(o,!1),f.s(5);break}return C(f,Sy(a),7);case 7:l=f.h,gc.set(o,l);case 5:gc.get(o)&&t.push(r),i=n.next(),f.s(2);break;case 4:e.imageStreams=t,le(f)}})}function Sy(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function Gs(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,o=t?t.codecs:null,a=n?n.codecs:null,l=t?t.groupId:null,f=[];n&&f.push(n.mimeType),t&&f.push(t.mimeType),f=f[0]||null;var h=[];t&&h.push(t.kind),n&&h.push(n.kind),h=h[0]||null;var p=new Set;if(t)for(var g=x(t.roles),y=g.next();!y.done;y=g.next())p.add(y.value);if(n)for(g=x(n.roles),y=g.next();!y.done;y=g.next())p.add(y.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:h,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:f,audioMimeType:i,videoMimeType:r,codecs:"",audioCodec:o,videoCodec:a,primary:e.primary,roles:Array.from(p),audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:l,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,(i=n.dependencyStream)&&(e.width=i.width||e.width,e.height=i.height||e.height,e.videoCodec=i.codecs||e.videoCodec),a.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=r,n=a.split(",");try{e.videoCodec=vr("video",n),e.audioCodec=vr("audio",n)}catch(T){}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,t=t.dependencyStream)&&(e.audioCodec=t.codecs||e.audioCodec),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function hc(e){return{id:e.id,active:!1,type:Xe,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function bn(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=Mr(e.segmentIndex));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&t!=null&&(t/=Number(r.split("x")[0])),r&&n!=null&&(n/=Number(r.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:r||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function pc(e){return e.__shaka_id||(e.__shaka_id=Vf++),e.__shaka_id}function el(e){var t=Hf(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function Xs(e){var t=Hf(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Hf(e){var t=e.language;return{id:pc(e),active:!1,type:"",bandwidth:0,language:ht(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Nu(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function mo(e){return e.filter(function(t){return Nu(t)})}function tl(e,t,n,i){var r=e,o=e.filter(function(f){return f.primary});o.length&&(r=o);var a=r.length?r[0].language:"";if(r=r.filter(function(f){return f.language==a}),t){var l=cc(ht(t),e.map(function(f){return f.language}));l&&(r=e.filter(function(f){return ht(f.language)==l}))}if(r=r.filter(function(f){return f.forced==i}),n){if(e=Hh(r,n),e.length)return e}else if(e=r.filter(function(f){return f.roles.length==0}),e.length)return e;return e=r.map(function(f){return f.roles}).reduce(fo,[]),e.length?Hh(r,e[0]):r}function Hh(e,t){return e.filter(function(n){return n.roles.includes(t)})}function Jg(e,t){t.length&&(t=t.filter(function(n){return Sn(e.codecs)==Sn(n.codecs)}).sort(function(n,i){return n.bandwidth&&i.bandwidth&&n.bandwidth!=i.bandwidth?n.bandwidth-i.bandwidth:(n.width||0)-(i.width||0)}),e.trickModeVideo=t[0],1<t.length&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function Vh(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function Jo(e,t,n){if(n.autoShowText==0)return!1;if(n.autoShowText==1)return!0;var i=ht(n.preferredTextLanguage);return t=ht(t.language),n.autoShowText==2?Fn(t,i):n.autoShowText==3?e?(e=ht(e.language),Fn(t,i)&&!Fn(e,t)):!1:(ot("Invalid autoShowText setting!"),!1)}me("shaka.util.StreamUtils",Za),Za.meetsRestrictions=Ja;var nl=new Map,Vf=0,gc=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),mc=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function qt(){var e=this;this.G=null,this.o=!1,this.m=new Qi,this.j=new $e,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",function(){if(e.o&&e.g.useNetworkInformation){e.m=new Qi,e.g&&e.m.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.u=null,this.A=new Ke(function(){if(e.o&&(e.g.restrictToElementSize||e.g.restrictToScreenSize)){var t=e.chooseVariant();t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.B=F,"documentPictureInPicture"in F&&this.j.D(F.documentPictureInPicture,"enter",function(){e.B=F.documentPictureInPicture.window,e.A&&e.A.sb(),e.j.ma(e.B,"pagehide",function(){e.B=F,e.A&&e.A.sb()})}),this.C=this.i=null}S=qt.prototype,S.stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},S.release=function(){this.j.release(),this.A=null},S.init=function(e){this.G=e},S.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var i=this.l.clientHeight,r=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(i=this.i.height,r=this.i.width),e=Math.min(e,i*n),t=Math.min(t,r*n)}if(n=this.F.filter(function(h){return h&&!(h.audio&&h.audio.fastSwitching||h.video&&h.video.fastSwitching)}),n.length||(n=this.F),i=n,n.length!=this.F.length&&(i=this.F.filter(function(h){return h&&!!(h.audio&&h.audio.fastSwitching||h.video&&h.video.fastSwitching)})),n=yc(this,this.g.restrictions,i,1/0,1/0),e!=1/0||t!=1/0){for(n=$g(n),n=x(n),r=n.next();!r.done;r=n.next())if(r=r.value,r.height>=e&&r.width>=t){e=r.height,t=r.width;break}n=yc(this,this.g.restrictions,i,e,t)}for(e=this.getBandwidthEstimate(),i.length&&!n.length&&(n=yc(this,null,i,1/0,1/0),n=[n[0]]),t=n[0]||null,i=0;i<n.length;i++){r=n[i];for(var o=isNaN(this.H)?1:Math.abs(this.H),a=o*r.bandwidth/this.g.bandwidthDowngradeTarget,l={bandwidth:1/0},f=i+1;f<n.length;f++)if(r.bandwidth!=n[f].bandwidth){l=n[f];break}o=o*l.bandwidth/this.g.bandwidthUpgradeTarget,e>=a&&e<=o&&(t.bandwidth!=r.bandwidth||t.bandwidth==r.bandwidth&&t.video&&r.video&&(t.video.width<r.video.width||t.video.height<r.video.height))&&(t=r)}return this.u=Date.now(),t},S.enable=function(){this.o=!0},S.disable=function(){this.o=!1},S.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&this.u!=null&&this.o&&vc(this))},S.trySuggestStreams=function(){this.u!=null&&this.o&&vc(this)},S.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},S.setVariants=function(e){this.F=e},S.playbackRateChanged=function(e){this.H=e},S.setMediaElement=function(e){function t(){n.A.da(zf)}var n=this;this.l=e,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in F&&(this.h=new ResizeObserver(t),this.h.observe(this.l)),this.j.D(e,"enterpictureinpicture",function(i){i.pictureInPictureWindow&&(n.i=i.pictureInPictureWindow,n.j.D(n.i,"resize",t))}),this.j.D(e,"leavepictureinpicture",function(){n.i&&n.j.Ja(n.i,"resize",t),n.i=null})},S.setCmsdManager=function(e){this.C=e},S.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)};function vc(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.u-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.u<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function yc(e,t,n,i,r){if(e.C){var o=e.C.Ug();o&&(n=n.filter(function(a){return a.bandwidth&&o?a.bandwidth<=o:!0}))}return t&&(n=n.filter(function(a){return Ja(a,t,{width:r,height:i})})),n.sort(function(a,l){return a.bandwidth-l.bandwidth})}function $g(e){var t=[];e=x(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(i,r){return i.width-r.width})}me("shaka.abr.SimpleAbrManager",qt),qt.prototype.configure=qt.prototype.configure,qt.prototype.setCmsdManager=qt.prototype.setCmsdManager,qt.prototype.setMediaElement=qt.prototype.setMediaElement,qt.prototype.playbackRateChanged=qt.prototype.playbackRateChanged,qt.prototype.setVariants=qt.prototype.setVariants,qt.prototype.getBandwidthEstimate=qt.prototype.getBandwidthEstimate,qt.prototype.trySuggestStreams=qt.prototype.trySuggestStreams,qt.prototype.segmentDownloaded=qt.prototype.segmentDownloaded,qt.prototype.disable=qt.prototype.disable,qt.prototype.enable=qt.prototype.enable,qt.prototype.chooseVariant=qt.prototype.chooseVariant,qt.prototype.init=qt.prototype.init,qt.prototype.release=qt.prototype.release,qt.prototype.stop=qt.prototype.stop;var zf=1;me("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"});function zh(e,t){var n=br();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function il(e){var t,n;return L(function(i){if(i.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new O(2,7,1010);return t=e.g,e.g++,t==0?i.return():(n=e.h*(1+(2*Math.random()-1)*e.o),C(i,new Promise(function(r){new Ke(r).da(n/1e3)}),2))}e.h*=e.m,le(i)})}function br(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function xt(){var e,t,n=new Promise(function(i,r){e=i,t=r});return n.resolve=e,n.reject=t,n}xt.prototype.resolve=function(){},xt.prototype.reject=function(){};function bt(e,t){this.promise=e,this.i=t,this.g=null}function vo(e){return new bt(Promise.reject(e),function(){return Promise.resolve()})}function Sc(){var e=Promise.reject(new O(2,7,7001));return e.catch(function(){}),new bt(e,function(){return Promise.resolve()})}function Er(e){return new bt(Promise.resolve(e),function(){return Promise.resolve()})}function yo(e){return new bt(e,function(){return e.catch(function(){})})}bt.prototype.abort=function(){return this.g||(this.g=this.i()),this.g};function rl(e){return new bt(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}bt.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},bt.prototype.Ha=function(e,t){function n(l){return function(f){if(r.g&&l)o.reject(a);else{var h=l?e:t;h?i=Gh(h,f,o):(l?o.resolve:o.reject)(f)}}}function i(){return o.reject(a),r.abort()}var r=this,o=new xt;o.catch(function(){});var a=new O(2,7,7001);return this.promise.then(n(!0),n(!1)),new bt(o,function(){return i()})};function Gh(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}Bt.Object.defineProperties(bt.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g!==null}}}),me("shaka.util.AbortableOperation",bt),bt.prototype.chain=bt.prototype.Ha,bt.prototype.finally=bt.prototype.finally,bt.all=rl,bt.prototype.abort=bt.prototype.abort,bt.notAbortable=yo,bt.completed=Er,bt.aborted=Sc,bt.failed=vo;function fe(e,t){if(t)if(t instanceof Map)for(var n=x(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=F.performance&&F.performance.now?F.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function ul(e){var t=new fe(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}fe.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},fe.prototype.stopImmediatePropagation=function(){this.g=!0},fe.prototype.stopPropagation=function(){},me("shaka.util.FakeEvent",fe);var $o={Oj:"abrstatuschanged",Pj:"adaptation",Qj:"audiotrackchanged",Rj:"audiotrackschanged",Sj:"boundarycrossed",Tj:"buffering",Uj:"complete",Vj:"downloadcompleted",Wj:"downloadfailed",Xj:"downloadheadersreceived",Yj:"drmsessionupdate",$j:"emsg",uk:"prft",Error:"error",ak:"expirationupdated",bk:"firstquartile",ck:"gapjumped",fk:"keystatuschanged",jk:"loaded",kk:"loading",mk:"manifestparsed",nk:"manifestupdated",pk:"mediaqualitychanged",qk:"mediasourcerecovered",Metadata:"metadata",rk:"midpoint",sk:"nospatialvideoinfo",tk:"onstatechange",vk:"ratechange",xk:"segmentappended",yk:"sessiondata",zk:"spatialvideoinfo",Ak:"stalldetected",Bk:"started",Ck:"statechanged",Dk:"streaming",Ek:"textchanged",Fk:"texttrackvisibility",Gk:"thirdquartile",Hk:"timelineregionadded",Ik:"timelineregionenter",Jk:"timelineregionexit",Kk:"trackschanged",Mk:"unloading",Ok:"variantchanged"};function wt(){this.Ea=new Uo,this.Ge=this}wt.prototype.addEventListener=function(e,t){this.Ea&&this.Ea.push(e,t)},wt.prototype.removeEventListener=function(e,t){this.Ea&&this.Ea.remove(e,t)},wt.prototype.dispatchEvent=function(e){if(!this.Ea)return!0;var t=this.Ea.get(e.type)||[],n=this.Ea.get("All");for(n&&(t=t.concat(n)),t=x(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.Ge,e.currentTarget=this.Ge;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(i){}if(e.g)break}return e.defaultPrevented},wt.prototype.release=function(){this.Ea=null};function qs(){this.g=[]}function Pr(e,t){e.g.push(t.finally(function(){_r(e.g,t)}))}qs.prototype.destroy=function(){for(var e=[],t=x(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function Ct(e,t,n,i,r,o,a){wt.call(this),this.i=!1,this.u=new qs,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=i||null,this.G=r||null,this.I=o||null,this.H=a||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}Yt(Ct,wt),S=Ct.prototype,S.kg=function(e){this.B=e},S.lg=function(e){this.A=e};function Lu(e,t,n,i){i=i===void 0?!1:i,n=n||xc;var r=ts.get(e);(!r||n>=r.priority)&&ts.set(e,{priority:n,se:t,ij:i})}function Gf(e,t){for(var n=x(e.g),i=n.next();!i.done;i=n.next())t.g.add(i.value);for(e=x(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}S.lj=function(e){this.g.add(e)},S.Hj=function(e){this.g.delete(e)},S.$h=function(){this.g.clear()},S.mj=function(e){this.h.add(e)},S.Ij=function(e){this.h.delete(e)},S.ai=function(){this.h.clear()},S.Hg=function(){this.j.clear()};function mn(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}S.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),wt.prototype.release.call(this),this.u.destroy()},S.request=function(e,t,n){var i=this,r=new Tc;if(this.i){var o=Promise.reject(new O(2,7,7001));return o.catch(function(){}),new So(o,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ru(t.retryParameters):br(),t.uris=ru(t.uris),o=es(this,e,t,n);var a=o.Ha(function(){return Et(i,e,t,n,new zh(t.retryParameters,!1),0,null,r)}),l=a.Ha(function(y){return nn(i,e,y,n)}),f=Date.now(),h=0;o.promise.then(function(){h=Date.now()-f},function(){});var p=0;a.promise.then(function(){p=Date.now()},function(){});var g=l.Ha(function(y){var T=Date.now()-p,w=y.response;return w.timeMs+=h,w.timeMs+=T,y.Oi||!i.m||w.fromCache||t.method=="HEAD"||e!=li||i.m(w.timeMs,w.data.byteLength,Pn(n)),i.H&&i.H(e,w,n),w},function(y){throw y&&(y.severity=2),y});return o=new So(g.promise,function(){return g.abort()},r),Pr(this.u,o),o};function es(e,t,n,i){function r(l){o=o.Ha(function(){return n.body&&(n.body=mr(n.body)),l(t,n,i)})}var o=Er(void 0);e.G&&r(e.G),e=x(e.g);for(var a=e.next();!a.done;a=e.next())r(a.value);return o.Ha(void 0,function(l){throw l instanceof O&&l.code==7001?l:new O(2,1,1006,l)})}function Et(e,t,n,i,r,o,a,l){e.B&&(n.uris[o]=n.uris[o].replace("https://","http://")),e.A&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.I&&e.I(t,i,n.uris[o],n.uris[o-1]);var f=new Jt(n.uris[o]),h=f.Kb,p=!1;h||(h=location.protocol,h=h.slice(0,-1),Ql(f,h),n.uris[o]=f.toString()),h=h.toLowerCase();var g=(h=ts.get(h))?h.se:null;if(!g)return vo(new O(2,1,1e3,f));var y=h.ij;(f=e.j.get(f.nb))&&(n.headers["common-access-token"]=f);var T=null,w=null,A=!1,E=!1,M;return yo(il(r)).Ha(function(){if(e.i)return Sc();M=Date.now();var I=0;n.requestStartTime=Date.now();var U=g(n.uris[o],n,t,function(N,k,P){T&&T.stop(),w&&w.da(b/1e3),e.m&&t==li&&(I++,n.packetNumber=I,e.m(N,k,Pn(i),n),p=!0,l.g=P)},function(N){E=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(N,n,t)},{minBytesForProgressEvents:e.o});if(!y)return U;var _=n.retryParameters.connectionTimeout;_&&(T=new Ke(function(){A=!0,U.abort()}),T.da(_/1e3));var b=n.retryParameters.stallTimeout;return b&&(w=new Ke(function(){A=!0,U.abort()})),U}).Ha(function(I){T&&T.stop(),w&&w.stop(),I.timeMs==null&&(I.timeMs=Date.now()-M);var U=I.headers["common-access-token"];if(U){var _=new Jt(I.uri);e.j.set(_.nb,U)}return U={response:I,Oi:p},!E&&e.l&&e.l(I.headers,n,t),e.C&&e.C(n,I),U},function(I){if(T&&T.stop(),w&&w.stop(),e.F){var U=null,_=0;I instanceof O&&(U=I,I.code==1001&&(_=I.data[1])),e.F(n,U,_,A)}if(e.i)return Sc();if(A&&(I=new O(1,1,1003,n.uris[o],t)),I instanceof O){if(I.code==7001)throw I;if(I.code==1010)throw a;if(I.severity==1){if(U=new Map().set("error",I),U=new fe("retry",U),U.cancelable=!0,e.dispatchEvent(U),U.defaultPrevented)throw I;return o=(o+1)%n.uris.length,Et(e,t,n,i,r,o,I,l)}}throw I})}function nn(e,t,n,i){var r=Er(void 0);e=x(e.h);for(var o=e.next(),a={};!o.done;a={ph:void 0},o=e.next())a.ph=o.value,r=r.Ha(function(l){return function(){var f=n.response;return f.data&&(f.data=mr(f.data)),(0,l.ph)(t,f,i)}}(a));return r.Ha(function(){return n},function(l){var f=2;if(l instanceof O){if(l.code==7001)throw l;f=l.severity}throw new O(f,1,1007,l)})}function Pn(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}me("shaka.net.NetworkingEngine",Ct),Ct.prototype.request=Ct.prototype.request,Ct.prototype.destroy=Ct.prototype.destroy,Ct.makeRequest=mn,Ct.defaultRetryParameters=function(){return br()},Ct.prototype.clearCommonAccessTokenMap=Ct.prototype.Hg,Ct.prototype.clearAllResponseFilters=Ct.prototype.ai,Ct.prototype.unregisterResponseFilter=Ct.prototype.Ij,Ct.prototype.registerResponseFilter=Ct.prototype.mj,Ct.prototype.clearAllRequestFilters=Ct.prototype.$h,Ct.prototype.unregisterRequestFilter=Ct.prototype.Hj,Ct.prototype.registerRequestFilter=Ct.prototype.lj,Ct.unregisterScheme=function(e){ts.delete(e)},Ct.registerScheme=Lu,Ct.prototype.setForceHTTPS=Ct.prototype.lg,Ct.prototype.setForceHTTP=Ct.prototype.kg;function Tc(){this.g=0}Ct.NumBytesRemainingClass=Tc;function So(e,t,n){bt.call(this,e,t),this.h=n}Yt(So,bt),Ct.PendingRequest=So;var li=1;Ct.RequestType={MANIFEST:0,SEGMENT:li,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},Ct.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var xc=3;Ct.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:xc};var ts=new Map;function du(e){this.g=!1,this.h=new xt,this.i=e}du.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function kt(e,t){if(e.g)throw t instanceof O&&t.code==7003?t:new O(2,7,7003,t)}function En(e,t){var n=[];e=x(e);for(var i=e.next();!i.done;i=e.next())n.push(t(i.value));return n}function Xh(e,t){e=x(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function To(e){for(var t=new Map,n=x(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function Xf(e){var t={};return e.forEach(function(n,i){t[i]=n}),t}function Ut(e,t){this.h=ii(e),this.i=t==qf,this.g=0}S=Ut.prototype,S.ta=function(){return this.g<this.h.byteLength},S.Ba=function(){return this.g},S.getLength=function(){return this.h.byteLength},S.X=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(t){throw xo()}},S.na=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(t){throw xo()}},S.S=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(t){throw xo()}},S.$f=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(t){throw xo()}},S.bd=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(n){throw xo()}if(2097151<t)throw new O(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},S.Cb=function(e){if(this.g+e>this.h.byteLength)throw xo();var t=Ue(this.h,this.g,e);return this.g+=e,t},S.skip=function(e){if(this.g+e>this.h.byteLength)throw xo();this.g+=e},S.qh=function(e){if(this.g<e)throw xo();this.g-=e},S.seek=function(e){if(0>e||e>this.h.byteLength)throw xo();this.g=e},S.Cc=function(){for(var e=this.g;this.ta()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Ue(this.h,e,this.g-e),this.g+=1,Xt(e)};function xo(){return new O(2,3,3e3)}me("shaka.util.DataViewReader",Ut),Ut.prototype.readTerminatedString=Ut.prototype.Cc,Ut.prototype.seek=Ut.prototype.seek,Ut.prototype.rewind=Ut.prototype.qh,Ut.prototype.skip=Ut.prototype.skip,Ut.prototype.readBytes=Ut.prototype.Cb,Ut.prototype.readUint64=Ut.prototype.bd,Ut.prototype.readInt32=Ut.prototype.$f,Ut.prototype.readUint32=Ut.prototype.S,Ut.prototype.readUint16=Ut.prototype.na,Ut.prototype.readUint8=Ut.prototype.X,Ut.prototype.getLength=Ut.prototype.getLength,Ut.prototype.getPosition=Ut.prototype.Ba,Ut.prototype.hasMoreData=Ut.prototype.ta;var qf=1;Ut.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:qf};function At(){this.i=new Map,this.h=new Map,this.g=!1}S=At.prototype,S.box=function(e,t){return e=Ec(e),this.i.set(e,Ff),this.h.set(e,t),this},S.R=function(e,t){return e=Ec(e),this.i.set(e,Kf),this.h.set(e,t),this},S.stop=function(){this.g=!0},S.parse=function(e,t,n){for(e=new Ut(e,0),this.g=!1;e.ta()&&!this.g;)this.Yc(0,e,t,n)},S.Yc=function(e,t,n,i){var r=t.Ba();if(i&&r+8>t.getLength())this.g=!0;else{var o=t.S(),a=t.S(),l=ol(a),f=!1;switch(o){case 0:o=t.getLength()-r;break;case 1:if(i&&t.Ba()+8>t.getLength()){this.g=!0;return}o=t.bd(),f=!0}var h=this.h.get(a);if(h){var p=null,g=null;if(this.i.get(a)==Kf){if(i&&t.Ba()+4>t.getLength()){this.g=!0;return}g=t.S(),p=g>>>24,g&=16777215}a=r+o,n&&a>t.getLength()&&(a=t.getLength()),i&&a>t.getLength()?this.g=!0:(i=a-t.Ba(),t=0<i?t.Cb(i):new Uint8Array(0),t=new Ut(t,0),h({name:l,parser:this,partialOkay:n||!1,version:p,flags:g,reader:t,size:o,start:r+e,has64BitSize:f}))}else t.skip(Math.min(r+o-t.Ba(),t.getLength()-t.Ba()))}};function Ve(e){for(var t=Ii(e);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Bn(e){for(var t=Ii(e),n=e.reader.S(),i=0;i<n&&(e.parser.Yc(e.start+t,e.reader,e.partialOkay),!e.parser.g);i++);}function Pt(e){var t=Ii(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function wc(e){var t=Ii(e);e.reader.skip(8);var n=e.reader.na();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Uu(e){return function(t){e(t.reader.Cb(t.reader.getLength()-t.reader.Ba()))}}function Ec(e){var t=0;e=x(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function ol(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Ii(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}me("shaka.util.Mp4Parser",At),At.headerSize=Ii,At.typeToString=ol,At.allData=Uu,At.audioSampleEntry=wc,At.visualSampleEntry=Pt,At.sampleDescription=Bn,At.children=Ve,At.prototype.parseNext=At.prototype.Yc,At.prototype.parse=At.prototype.parse,At.prototype.stop=At.prototype.stop,At.prototype.fullBox=At.prototype.R,At.prototype.box=At.prototype.box;var Ff=0,Kf=1;function Ac(e){var t=this;this.g=[],this.h=[],this.data=[],new At().box("moov",Ve).box("moof",Ve).R("pssh",function(n){if(!(1<n.version)){var i=Ue(n.reader.h,-12,n.size);if(t.data.push(i),t.g.push(Cu(n.reader.Cb(16))),0<n.version){i=n.reader.S();for(var r=0;r<i;r++){var o=Cu(n.reader.Cb(16));t.h.push(o)}}}}).parse(e)}function Mc(e,t,n,i){var r=e.length,o=t.length+16+r;0<i&&(o+=4+16*n.size);var a=new Uint8Array(o),l=ii(a),f=0;if(l.setUint32(f,o),f+=4,l.setUint32(f,1886614376),f+=4,1>i?l.setUint32(f,0):l.setUint32(f,16777216),f+=4,a.set(t,f),f+=t.length,0<i)for(l.setUint32(f,n.size),f+=4,t=x(n),n=t.next();!n.done;n=t.next())n=uo(n.value),a.set(n,f),f+=n.length;return l.setUint32(f,r),a.set(e,f+4),a}function Cc(e){var t=this;this.C=e,this.j=this.A=null,this.ka=this.ea=!1,this.H=0,this.h=null,this.o=new $e,this.i=new Map,this.T=[],this.B=new Map,this.K=!1,this.m=new xt,this.g=null,this.u=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.Y=new Map,this.fa=new Map,this.L=new Ke(function(){return Ic(t)}),this.O=!1,this.M=[],this.W=!1,this.I=new Ke(function(){lm(t)}),this.m.catch(function(){}),this.l=new du(function(){return em(t)}),this.Z=!1,this.F=this.G=null,this.P=function(){return!1}}S=Cc.prototype,S.destroy=function(){return this.l.destroy()};function em(e){return L(function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,C(t,al(e),2);case 2:if(!e.j){t.s(3);break}return Se(t,4),C(t,e.j.setMediaKeys(null),6);case 6:Pe(t,5);break;case 4:Te(t);case 5:e.j=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.u=function(){},e.C=null,e.Z=!1,e.G=null,le(t)}})}S.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.ua(this.g.updateExpirationTime)};function tm(e,t,n){return e.ka=!0,e.B=new Map,e.O=n,Yf(e,t,!1)}function qh(e,t,n,i){i=i===void 0?!0:i,e.B=new Map,n=x(n);for(var r=n.next();!r.done;r=n.next())e.B.set(r.value,{initData:null,initDataType:null});for(n=x(e.g.persistentSessionsMetadata),r=n.next();!r.done;r=n.next())r=r.value,e.B.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.O=0<e.B.size,Yf(e,t,i)}function nm(e,t,n,i,r,o){var a=new Map;return r={audioCapabilities:r,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},r.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,serverCertificateUri:"",initData:null,keyIds:null}],a.set(t,r),Qh(e,a,[])}function Yf(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b;return L(function(N){if(N.g==1){for(np(e.g.clearKeys,t),i=t.some(function(k){return!!(k.video&&k.video.drmInfos.length||k.audio&&k.audio.drmInfos.length)}),!i&&n&&(r=To(e.g.servers),cm(t,r)),o=new Set,a=x(t),l=a.next();!l.done;l=a.next())for(f=l.value,h=Jh(f),p=x(h),g=p.next();!g.done;g=p.next())y=g.value,o.add(y);for(T=x(o),w=T.next();!w.done;w=T.next())A=w.value,tp(A,To(e.g.servers),To(e.g.advanced||{}),e.g.keySystemsMapping);for(E=function(k,P){var j=[];k=x(k);for(var V=k.next();!V.done;V=k.next()){V=V.value;var H=V[P]||e.g.advanced&&e.g.advanced[V.keySystem]&&e.g.advanced[V.keySystem][P]||"",z;if((z=H=="")&&(z=(z=V.keySystem)?!!z.match(/^com\.widevine\.alpha/):!1),z&&(P=="audioRobustness"?H=[e.g.defaultAudioRobustnessForWidevine]:P=="videoRobustness"&&(H=[e.g.defaultVideoRobustnessForWidevine])),typeof H=="string")j.push(V);else if(Array.isArray(H))for(H.length===0&&(H=[""]),H=x(H),z=H.next();!z.done;z=H.next()){var K={};j.push(Object.assign({},V,(K[P]=z.value,K)))}}return j},M=x(t),I=M.next();!I.done;I=M.next())U=I.value,U.video&&(U.video.drmInfos=E(U.video.drmInfos,"videoRobustness"),U.video.drmInfos=E(U.video.drmInfos,"audioRobustness")),U.audio&&(U.audio.drmInfos=E(U.audio.drmInfos,"videoRobustness"),U.audio.drmInfos=E(U.audio.drmInfos,"audioRobustness"));return C(N,$a(t,e.O,e.Z,e.g.preferredKeySystems),2)}return kt(e.l),_=i||Object.keys(e.g.servers).length,_?(b=Qh(e,void 0,t),N.return(i?b:b.catch(function(){}))):(e.ea=!0,N.return(Promise.resolve()))})}function Fh(e){var t;return L(function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.G){n.s(2);break}return C(n,e.G,3);case 3:return kt(e.l),n.return();case 2:return Se(n,4),e.G=e.j.setMediaKeys(e.A),C(n,e.G,6);case 6:Pe(n,5);break;case 4:t=Te(n),e.u(new O(2,6,6003,t.message));case 5:kt(e.l),le(n)}})}function Ty(e,t){return L(function(n){if(n.g==1)return C(n,Fh(e),2);Fs(e,t.initDataType,Ue(t.initData)),le(n)})}S.Lb=function(e){var t=this;return L(function(n){if(n.g==1)return t.j===e?n.return():t.A?(t.j=e,t.o.ma(t.j,"play",function(){for(var i=x(t.M),r=i.next();!r.done;r=i.next())Wf(t,r.value);t.W=!0,t.M=[]}),t.j.remote?(t.o.D(t.j.remote,"connect",function(){return al(t)}),t.o.D(t.j.remote,"connecting",function(){return al(t)}),t.o.D(t.j.remote,"disconnect",function(){return al(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.j&&t.o.D(t.j,"webkitcurrentplaybacktargetiswirelesschanged",function(){return al(t)}),t.F=t.h&&t.h.initData.find(function(i){return 0<i.initData.length})||null,t.F||t.h.keySystem!=="com.apple.fps"||t.B.size?C(n,Fh(t),2):n.s(2)):(t.o.ma(e,"encrypted",function(){t.u(new O(2,6,6010))}),n.return());Kh(t).catch(function(){}),t.F||t.B.size||t.g.parseInbandPsshEnabled||t.o.D(t.j,"encrypted",function(i){return Ty(t,i)}),le(n)})};function im(e){var t,n,i,r,o;return L(function(a){switch(a.g){case 1:if(!e.A||!e.h)return a.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){a.s(2);break}return t=mn([e.h.serverCertificateUri],e.g.retryParameters),Se(a,3),n=e.C.Xb.request(5,t,{isPreload:e.P()}),C(a,n.promise,5);case 5:i=a.h,e.h.serverCertificate=Ue(i.data),Pe(a,4);break;case 3:throw r=Te(a),new O(2,6,6017,r);case 4:if(e.l.g)return a.return();case 2:return!e.h.serverCertificate||!e.h.serverCertificate.length?a.return():(Se(a,6),C(a,e.A.setServerCertificate(e.h.serverCertificate),8));case 8:Pe(a,0);break;case 6:throw o=Te(a),new O(2,6,6004,o.message)}})}function rm(e,t){var n,i,r;return L(function(o){if(o.g==1)return C(o,Zh(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(i=[],(r=e.i.get(n))&&(r.ub=new xt,i.push(r.ub)),i.push(n.remove()),C(o,Promise.all(i),3)):o.return();e.i.delete(n),le(o)})}function Kh(e){var t,n,i,r,o;return L(function(a){if(a.g==1)return e.B.size?(e.B.forEach(function(l,f){Zh(e,f,l)}),C(a,e.m,3)):a.s(2);if(a.g!=2){if(t=e.h&&e.h.keyIds||new Set([]),0<t.size&&$h(e))return a.return(e.m);e.K=!1,e.m=new xt,e.m.catch(function(){})}for(n=(e.h?e.h.initData:[])||[],i=x(n),r=i.next();!r.done;r=i.next())o=r.value,Fs(e,o.initDataType,o.initData);return ll(e)&&e.m.resolve(),a.return(e.m)})}function Fs(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){var i=e.i.values();i=x(i);for(var r=i.next();!r.done;r=i.next())if($u(n,r.value.initData))return;var o=!1;if(e.B.forEach(function(a){!o&&$u(n,a.initData)&&(o=!0)}),o)return}e.K=!0,0<e.i.size&&ll(e)&&(e.m.resolve(),e.K=!1,e.m=new xt,e.m.catch(function(){})),sl(e,t,n,e.h.sessionType)}}function Yh(e){return e=e.i.keys(),e=En(e,function(t){return t.sessionId}),Array.from(e)}S.Gf=function(){var e=this,t=this.i.keys();return t=En(t,function(n){var i=e.i.get(n);return{sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType}}),Array.from(t)},S.pd=function(){var e=1/0,t=this.i.keys();t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},S.Yd=function(){return Xf(this.fa)};function Qh(e,t,n){var i,r,o,a,l,f,h,p;return L(function(g){switch(g.g){case 1:if(i=new Map,n.length){r=um(e,n,i),g.s(2);break}return C(g,om(e,t),3);case 3:r=g.h;case 2:if(o=r,!o)throw navigator.requestMediaKeySystemAccess?new O(2,6,6001):new O(2,6,6020);if(kt(e.l),Se(g,4),o.getConfiguration(),a=e.g.keySystemsMapping[o.keySystem]||o.keySystem,n.length){var y=a,T=i.get(a),w=[],A=[],E=[],M=[],I=[],U=new Set,_=new Set;ep(T,w,A,M,E,I,U,_);var b=e.O?"persistent-license":"temporary";for(y={keySystem:y,encryptionScheme:w[0],licenseServerUri:A[0],distinctiveIdentifierRequired:T[0].distinctiveIdentifierRequired,persistentStateRequired:T[0].persistentStateRequired,sessionType:T[0].sessionType||b,audioRobustness:T[0].audioRobustness||"",videoRobustness:T[0].videoRobustness||"",serverCertificate:M[0],serverCertificateUri:E[0],initData:I,keyIds:U},0<_.size&&(y.keySystemUris=_),T=x(T),_=T.next();!_.done;_=T.next())_=_.value,_.distinctiveIdentifierRequired&&(y.distinctiveIdentifierRequired=_.distinctiveIdentifierRequired),_.persistentStateRequired&&(y.persistentStateRequired=_.persistentStateRequired);T=y}else T=a,_=t.get(a),y=[],w=[],A=[],E=[],M=[],I=new Set,ep(_.drmInfos,y,w,E,A,M,I),T={keySystem:T,encryptionScheme:y[0],licenseServerUri:w[0],distinctiveIdentifierRequired:_.distinctiveIdentifier=="required",persistentStateRequired:_.persistentState=="required",sessionType:_.sessionTypes[0]||"temporary",audioRobustness:(_.audioCapabilities?_.audioCapabilities[0].robustness:"")||"",videoRobustness:(_.videoCapabilities?_.videoCapabilities[0].robustness:"")||"",serverCertificate:E[0],serverCertificateUri:A[0],initData:M,keyIds:I};if(e.h=T,!e.h.licenseServerUri)throw new O(2,6,6012,e.h.keySystem);return C(g,o.createMediaKeys(),6);case 6:if(l=g.h,kt(e.l),e.A=l,!(e.g.minHdcpVersion!=""&&"getStatusForPolicy"in e.A)){g.s(7);break}return Se(g,8),C(g,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if(f=g.h,f!="usable")throw new O(2,6,6018);kt(e.l),Pe(g,7,4);break;case 8:throw h=Te(g,4),h instanceof O?h:new O(2,6,6019,h.message);case 7:return e.ea=!0,C(g,im(e),11);case 11:kt(e.l),Pe(g,0);break;case 4:throw p=Te(g),kt(e.l,p),e.h=null,p instanceof O?p:new O(2,6,6002,p.message)}})}function um(e,t,n){for(var i=x(t),r=i.next();!r.done;r=i.next()){r=x(Jh(r.value));for(var o=r.next();!o.done;o=r.next())o=o.value,n.has(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o)}if(n.size==1&&n.has(""))throw new O(2,6,6e3);i=e.g.preferredKeySystems,i.length||(r=To(e.g.servers),r.size==1&&(i=Array.from(r.keys()))),r=x(i);var a=r.next();for(o={};!a.done;o={nh:void 0},a=r.next()){o.nh=a.value,a=x(t);for(var l=a.next();!l.done;l=a.next())if(l=l.value.decodingInfos.find(function(g){return function(y){return y.supported&&y.keySystemAccess!=null&&y.keySystemAccess.keySystem==g.nh}}(o)))return l.keySystemAccess}for(r=x([!0,!1]),o=r.next();!o.done;o=r.next())for(o=o.value,a=x(t),l=a.next();!l.done;l=a.next()){l=x(l.value.decodingInfos);for(var f=l.next();!f.done;f=l.next())if(f=f.value,f.supported&&f.keySystemAccess){var h=f.keySystemAccess.keySystem;if(!i.includes(h)){var p=n.get(h);for(!p&&e.g.keySystemsMapping[h]&&(p=n.get(e.g.keySystemsMapping[h])),h=x(p),p=h.next();!p.done;p=h.next())if(!!p.value.licenseServerUri==o)return f.keySystemAccess}}}return null}function om(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M;return L(function(I){switch(I.g){case 1:if(t.size==1&&t.has(""))throw new O(2,6,6e3);for(i=x(t.values()),r=i.next();!r.done;r=i.next())o=r.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;a=x(e.g.preferredKeySystems),l=a.next();case 2:if(l.done){I.s(4);break}if(f=l.value,!t.has(f)){I.s(3);break}return h=t.get(f),Se(I,6),C(I,navigator.requestMediaKeySystemAccess(f,[h]),8);case 8:return n=I.h,I.return(n);case 6:Te(I);case 7:kt(e.l);case 3:l=a.next(),I.s(2);break;case 4:p=x([!0,!1]),g=p.next();case 9:if(g.done){I.s(11);break}y=g.value,T=x(t.keys()),w=T.next();case 12:if(w.done){g=p.next(),I.s(9);break}if(A=w.value,E=t.get(A),M=E.drmInfos.some(function(U){return!!U.licenseServerUri}),M!=y){I.s(13);break}return Se(I,15),C(I,navigator.requestMediaKeySystemAccess(A,[E]),17);case 17:return n=I.h,I.return(n);case 15:Te(I);case 16:kt(e.l);case 13:w=T.next(),I.s(12);break;case 11:return I.return(n)}})}function Qf(e){ll(e)&&e.m.resolve()}function sm(e,t){new Ke(function(){t.loaded=!0,Qf(e)}).da(xy)}function Zh(e,t,n){var i,r,o,a,l,f,h;return L(function(p){switch(p.g){case 1:try{i=e.A.createSession("persistent-license")}catch(g){return r=new O(2,6,6005,g.message),e.u(r),p.return(Promise.reject(r))}return e.o.D(i,"message",function(g){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(g):Wf(e,g)}),e.o.D(i,"keystatuseschange",function(g){return Dc(e,g)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Vf:1/0,ub:null,type:"persistent-license"},e.i.set(i,o),Se(p,2),C(p,i.load(t),4);case 4:return a=p.h,kt(e.l),a||(e.i.delete(i),l=e.g.persistentSessionOnlinePlayback?1:2,e.u(new O(l,6,6013)),o.loaded=!0),sm(e,o),Qf(e),p.return(i);case 2:f=Te(p),kt(e.l,f),e.i.delete(i),h=e.g.persistentSessionOnlinePlayback?1:2,e.u(new O(h,6,6005,f.message)),o.loaded=!0,Qf(e);case 3:return p.return(Promise.resolve())}})}function sl(e,t,n,i){try{var r=e.A.createSession(i)}catch(o){e.u(new O(2,6,6005,o.message));return}e.o.D(r,"message",function(o){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(o):Wf(e,o)}),e.o.D(r,"keystatuseschange",function(o){return Dc(e,o)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Vf:1/0,ub:null,type:i});try{n=e.g.initDataTransform(n,t,e.h)}catch(o){t=o,o instanceof O||(t=new O(2,6,6016,o)),e.u(t);return}e.g.logLicenseExchange&&$i(n),r.generateRequest(t,n).catch(function(o){if(!e.l.g){e.i.delete(r);var a=o.errorCode;if(a&&a.systemCode){var l=a.systemCode;0>l&&(l+=Math.pow(2,32)),l="0x"+l.toString(16)}e.u(new O(2,6,6006,o.message,o,l))}})}function Zf(e){return L(function(t){return t.g==1?e.K?C(t,e.m,3):t.s(0):C(t,Promise.all(e.T.map(function(n){return n.promise})),0)})}function Wf(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A;L(function(E){switch(E.g){case 1:if(n=t.target,e.g.logLicenseExchange&&$i(t.message),i=e.i.get(n),r=e.h.licenseServerUri,o=e.g.advanced[e.h.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(r=o.individualizationServer),a=mn([r],e.g.retryParameters),a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,a.sessionId=n.sessionId,a.drmInfo=e.h,i&&(a.initData=i.initData,a.initDataType=i.initDataType),o&&o.headers)for(l in o.headers)a.headers[l]=o.headers[l];if(e.h.keySystem==="org.w3.clearkey"){var M=a,I=e.h;try{var U=iu(M.body);if(U){var _=JSON.parse(U);_.type||(_.type=I.sessionType,M.body=Ji(JSON.stringify(_)))}}catch(b){}}if(xf(e.h.keySystem))if(M=io(a.body,!0,!0),M.includes("PlayReadyKeyMessage")){for(M=_s(M,"PlayReadyKeyMessage"),I=Or(M,"HttpHeader"),I=x(I),U=I.next();!U.done;U=I.next())_=U.value,U=Or(_,"name")[0],_=Or(_,"value")[0],a.headers[gn(U)]=gn(_);M=Or(M,"Challenge")[0],a.body=er(gn(M))}else a.headers["Content-Type"]="text/xml; charset=utf-8";return f=Date.now(),Se(E,2),p=e.C.Xb.request(2,a,{isPreload:e.P()}),e.T.push(p),C(E,p.promise,4);case 4:h=E.h,_r(e.T,p),Pe(E,3);break;case 2:return g=Te(E),e.l.g||(y=new O(2,6,6007,g),e.i.size==1?(e.u(y),i&&i.ub&&i.ub.reject(y)):(i&&i.ub&&i.ub.reject(y),e.i.delete(n),ll(e)&&(e.m.resolve(),e.L.da(.1)))),E.return();case 3:return e.l.g?E.return():(e.H+=(Date.now()-f)/1e3,e.g.logLicenseExchange&&$i(h.data),Se(E,5),C(E,n.update(h.data),7));case 7:Pe(E,6);break;case 5:return T=Te(E),w=new O(2,6,6008,T.message),e.u(w),i&&i.ub&&i.ub.reject(w),E.return();case 6:if(e.l.g)return E.return();A=new fe("drmsessionupdate"),e.C.onEvent(A),i&&(i.ub&&i.ub.resolve(),sm(e,i)),le(E)}})}function Dc(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(o,a){if(typeof a=="string"){var l=a;a=o,o=l}if(xf(e.h.keySystem)&&a.byteLength==16&&(bo()||kn())){l=ii(a);var f=l.getUint32(0,!0),h=l.getUint16(4,!0),p=l.getUint16(6,!0);l.setUint32(0,f,!1),l.setUint16(4,h,!1),l.setUint16(6,p,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(i=!0),a=Cu(a).slice(0,32),e.Y.set(a,o)});var r=t.expiration-Date.now();(0>r||i&&1e3>r)&&n&&!n.ub&&(e.i.delete(t),Wh(t)),ll(e)&&(e.m.resolve(),e.L.da(ip))}function Ic(e){var t=e.Y,n=e.fa;n.clear(),t.forEach(function(i,r){return n.set(r,i)}),t=Array.from(n.values()),t.length&&t.every(function(i){return i=="expired"})&&e.u(new O(2,6,6014)),e.C.pe(Xf(n))}function am(){var e,t,n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie;return L(function(se){if(se.g==1){if(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(F.MediaKeys&&F.navigator&&F.navigator.requestMediaKeySystemAccess&&F.MediaKeySystemAccess&&F.MediaKeySystemAccess.prototype.getConfiguration)){for(t={},n=x(e),i=n.next();!i.done;i=n.next())r=i.value,t[r]=null;return se.return(t)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),a=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],l=["150","2000","3000"],f={"com.widevine.alpha":a,"com.widevine.alpha.experiment":a,"com.microsoft.playready.recommendation":l},h=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],p=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],g={videoCapabilities:h,audioCapabilities:p,initDataTypes:["cenc","sinf","skd","keyids"]},y=[null,"cenc","cbcs","cbcs-1-9"],T=new Map,w=function(Le,we){var yt,et,Ge,Ze,pt,Be,it,be,He,_t,Gn,tn,un;return L(function(Rn){switch(Rn.g){case 1:return Se(Rn,2),C(Rn,we.createMediaKeys(),5);case 5:yt=Rn.h;case 4:Pe(Rn,3);break;case 2:return Te(Rn),Rn.return();case 3:if(Ge=(et=we.getConfiguration().sessionTypes)?et.includes("persistent-license"):!1,nu()&&(Ge=!1),Ze=we.getConfiguration().videoCapabilities,pt=we.getConfiguration().audioCapabilities,Be={persistentState:Ge,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},T.has(Le)&&T.get(Le)?Be=T.get(Le):T.set(Le,Be),(it=Ze[0].encryptionScheme)&&!Be.encryptionSchemes.includes(it)&&Be.encryptionSchemes.push(it),(be=Ze[0].robustness)&&!Be.videoRobustnessLevels.includes(be)&&Be.videoRobustnessLevels.push(be),(He=pt[0].robustness)&&!Be.audioRobustnessLevels.includes(He)&&Be.audioRobustnessLevels.push(He),"getStatusForPolicy"in yt){for(_t=[],Gn=x(o),tn=Gn.next(),un={};!tn.done;un={td:void 0},tn=Gn.next())un.td=tn.value,Be.minHdcpVersions.includes(un.td)||_t.push(yt.getStatusForPolicy({minHdcpVersion:un.td}).then(function(Zn){return function(pf){pf!="usable"||Be.minHdcpVersions.includes(Zn.td)||Be.minHdcpVersions.push(Zn.td)}}(un)));return C(Rn,Promise.all(_t),0)}Rn.s(0)}})},A=function(Le,we,yt,et){var Ge,Ze,pt,Be,it,be,He,_t,Gn,tn;return L(function(un){switch(un.g){case 1:for(Se(un,2),Ge=ru(g),Ze=x(Ge.videoCapabilities),pt=Ze.next();!pt.done;pt=Ze.next())Be=pt.value,Be.encryptionScheme=we,Be.robustness=yt;for(it=x(Ge.audioCapabilities),be=it.next();!be.done;be=it.next())He=be.value,He.encryptionScheme=we,He.robustness=et;return _t=ru(Ge),_t.persistentState="required",_t.sessionTypes=["persistent-license"],Gn=[_t,Ge],no()?C(un,Vs(5,navigator.requestMediaKeySystemAccess(Le,Gn)),7):C(un,navigator.requestMediaKeySystemAccess(Le,Gn),6);case 6:tn=un.h,un.s(5);break;case 7:tn=un.h;case 5:return C(un,w(Le,tn),8);case 8:Pe(un,0);break;case 2:Te(un),le(un)}})},E=function(Le,we,yt,et){var Ge,Ze,pt;return L(function(Be){switch(Be.g){case 1:return Se(Be,2),Ge={type:"media-source",video:{contentType:h[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:p[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:Le,video:{encryptionScheme:we,robustness:yt},audio:{encryptionScheme:we,robustness:et}}},no()?C(Be,Vs(5,navigator.mediaCapabilities.decodingInfo(Ge)),7):C(Be,navigator.mediaCapabilities.decodingInfo(Ge),6);case 6:Ze=Be.h,Be.s(5);break;case 7:Ze=Be.h;case 5:return pt=Ze.keySystemAccess,C(Be,w(Le,pt),8);case 8:Pe(Be,0);break;case 2:Te(Be),le(Be)}})},M=x(e),I=M.next();!I.done;I=M.next())U=I.value,T.set(U,null);for(_=function(Le){return!(Le==="org.w3.clearkey"&&qn())},b=[],N=x(y),k=N.next();!k.done;k=N.next())for(P=k.value,j=x(e),V=j.next();!V.done;V=j.next())H=V.value,_(H)&&(b.push(A(H,P,"","")),b.push(E(H,P,"","")));for(z=x(e),K=z.next();!K.done;K=z.next())for(X=K.value,Z=x(f[X]||[]),Y=Z.next();!Y.done;Y=Z.next())ie=Y.value,_(X)&&(b.push(A(X,null,ie,"")),b.push(A(X,null,"",ie)),b.push(E(X,null,ie,"")),b.push(E(X,null,"",ie)));return C(se,Promise.all(b),2)}return se.return(Xf(T))})}function Wh(e){return L(function(t){if(t.g==1)return Se(t,2),C(t,Vs(fm,Promise.all([e.close().catch(function(){}),e.closed])),4);if(t.g!=2)return Pe(t,0);Te(t),le(t)})}function al(e){var t;return L(function(n){return t=Array.from(e.i.entries()),e.i.clear(),C(n,Promise.all(t.map(function(i){i=x(i);var r=i.next().value,o=i.next().value;return L(function(a){if(a.g==1)return Se(a,2),e.ka||e.B.has(r.sessionId)||o.type!=="persistent-license"||e.g.persistentSessionOnlinePlayback?C(a,Wh(r),5):C(a,r.remove(),5);if(a.g!=2)return Pe(a,0);Te(a),le(a)})})),0)})}function Jh(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function lm(e){e.i.forEach(function(t,n){var i=t.Vf,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.C.onExpirationUpdated(n.sessionId,r),t.Vf=r)})}function ll(e){return e=e.i.values(),Xh(e,function(t){return t.loaded})}function $h(e){for(var t=x(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.Y.get(n.value)!=="usable")return!1;return!0}function cm(e,t){var n=[];for(t.forEach(function(i,r){n.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=x(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function ep(e,t,n,i,r,o,a,l){var f=[];e=x(e);for(var h=e.next(),p={};!h.done;p={va:void 0},h=e.next()){if(p.va=h.value,t.includes(p.va.encryptionScheme)||t.push(p.va.encryptionScheme),p.va.keySystem=="org.w3.clearkey"&&p.va.licenseServerUri.startsWith("data:application/json;base64,")?f.includes(p.va.licenseServerUri)||f.push(p.va.licenseServerUri):n.includes(p.va.licenseServerUri)||n.push(p.va.licenseServerUri),r.includes(p.va.serverCertificateUri)||r.push(p.va.serverCertificateUri),p.va.serverCertificate&&(i.some(function(T){return function(w){return $u(w,T.va.serverCertificate)}}(p))||i.push(p.va.serverCertificate)),p.va.initData){h=x(p.va.initData);for(var g=h.next(),y={};!g.done;y={Mf:void 0},g=h.next())y.Mf=g.value,o.some(function(T){return function(w){var A=T.Mf;return w.keyId&&w.keyId==A.keyId?!0:w.initDataType==A.initDataType&&$u(w.initData,A.initData)}}(y))||o.push(y.Mf)}if(p.va.keyIds)for(h=x(p.va.keyIds),g=h.next();!g.done;g=h.next())a.add(g.value);if(p.va.keySystemUris&&l)for(p=x(p.va.keySystemUris),h=p.next();!h.done;h=p.next())l.add(h.value)}if(f.length==1)n.push(f[0]);else if(0<f.length){for(t=[],f=x(f),i=f.next();!i.done;i=f.next())i=F.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),t.push.apply(t,ce(i.keys));f=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+F.btoa(f))}}function tp(e,t,n,i){var r=e.keySystem;r&&(r!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&t.get(r)&&(t=t.get(r),e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(r))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),i[r]&&(e.keySystem=i[r]),F.cast&&F.cast.__platform__&&r=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}function np(e,t){if(e=To(e),e.size!=0){e=Pa(e),t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}var fm=1,xy=5,ip=.5;function Rc(e,t,n){for(n=n===void 0?!0:n,this.h=e,this.g=new Set([e]),t=t||[],e=x(t),t=e.next();!t.done;t=e.next())this.add(t.value,n)}Rc.prototype.add=function(e,t){var n=this.h;t=t===void 0?!0:t;var i;if(!(i=!!n.audio!=!!e.audio||!!n.video!=!!e.video||n.language!=e.language)&&(i=n.audio&&e.audio)){i=n.audio;var r=e.audio;i=!(!((!i.channelsCount||!r.channelsCount||2<i.channelsCount||2<r.channelsCount)&&i.channelsCount!=r.channelsCount||i.spatialAudio!==r.spatialAudio||t&&!rp(i,r))&&Jf(i.roles,r.roles)&&i.groupId===r.groupId)}return!i&&(i=n.video&&e.video)&&(n=n.video,i=e.video,i=!((!t||rp(n,i))&&Jf(n.roles,i.roles))),i?!1:(this.g.add(e),!0)},Rc.prototype.values=function(){return this.g.values()};function rp(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(i){return Zo(i)}),t=t.codecs.split(",").map(function(i){return Zo(i)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Jf(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=x(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}me("shaka.media.AdaptationSet",Rc),me("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function $f(){}$f.prototype.create=function(){},$f.prototype.configure=function(){},me("shaka.media.AdaptationSetCriteria",$f);function dm(){this.g=kc,this.i=new Map().set(kc,2).set(cl,1),this.h=0}var cl=0,kc=1;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function ed(e,t,n){this.g=e,this.i=t,this.h=n}function fl(e,t){return L(function(n){if(n.g==1)return C(n,zs(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||Wa(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(Nu))throw new O(2,4,4032);return n.return(Nc(e,t))})}function td(e,t){var n=e.g.restrictions;e=e.i;var i=!1;t=x(t.variants);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=r.allowedByApplication;r.allowedByApplication=Ja(r,n,e),o!=r.allowedByApplication&&(i=!0)}return i}function Nc(e,t){var n=td(e,t);if(t){var i=e.h?e.h.h:null;if(i&&e.h.A)for(var r=x(t.variants),o=r.next();!o.done;o=r.next())o=o.value,nd(e,i.keySystem,o.video),nd(e,i.keySystem,o.audio);up(e,t)}return n}function nd(e,t,n){if(n){n=x(n.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==t){i=x(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,Fs(e.h,r.initDataType,r.initData)}}}function up(e,t){e=e.h?e.h.Yd():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var i=!1,r=!1,o=new Set,a=new Set;t=x(t.variants);for(var l=t.next();!l.done;l=t.next()){l=l.value;var f=[];l.audio&&f.push(l.audio),l.video&&f.push(l.video),f=x(f);for(var h=f.next();!h.done;h=f.next())if(h=h.value,h.keyIds.size){h=x(h.keyIds);for(var p=h.next();!p.done;p=h.next()){p=p.value;var g=e[n?"00":p];g?dl.includes(g)&&a.add(g):o.add(p)}}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):r=!0}if(!i)throw e={hasAppRestrictions:r,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(a)},new O(2,4,4012,e)}var dl=["output-restricted","internal-error"];function hl(){}function ns(e,t){_u.set(e,t)}function wy(){var e={};if(tu())for(var t=x(_u.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(t=x(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]),n=t.next();!n.done;n=t.next())n=n.value,e[n]=tu()?_u.has(n):ec(n);return e}function Ks(e,t){if(t){var n=_u.get(t.toLowerCase());if(n)return n}throw new O(2,4,4e3,e,t)}me("shaka.media.ManifestParser",hl),hl.unregisterParserByMime=function(e){_u.delete(e)},hl.registerParserByMime=ns,hl.registerParserByExtension=function(){ct("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},hl.AccessibilityPurpose={Nk:"visually impaired",dk:"hard of hearing"};var _u=new Map;function Ys(e,t){var n=null,i=null,r=null,o=null,a=e.S();return t&1&&(r=e.bd()),t&2&&(o=e.S()),t&8&&(n=e.S()),t&16&&(i=e.S()),{trackId:a,ld:n,md:i,Wh:r,rh:o}}function is(e,t){return t==1?(t=e.S(),e=e.S(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.S()}}function Qs(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.S(),e.skip(4),e=e.na(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function Lc(e,t,n){var i=e.S(),r=[],o=null;n&1&&(o=e.$f()),n&4&&e.skip(4);for(var a=0;a<i;a++){var l={gg:null,sampleSize:null,ye:null};n&256&&(l.gg=e.S()),n&512&&(l.sampleSize=e.S()),n&1024&&e.skip(4),n&2048&&(l.ye=t==0?e.S():e.$f()),r.push(l)}return{Sk:i,fg:r,nf:o}}function op(e){e.skip(6),e.skip(2),e.skip(8);var t=e.na();return e.skip(2),e.skip(2),e.skip(2),e=e.na()+e.na()/65536,{channelCount:t,sampleRate:e}}function Zs(e){return e=e.S(),{codec:ol(e)}}function hm(e){var t=null,n=null,i=e.Cb(4),r=String.fromCharCode(i[0]);if(r+=String.fromCharCode(i[1]),r+=String.fromCharCode(i[2]),r+=String.fromCharCode(i[3]),r==="nclx"){switch(e.na()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(i=e.na(),e.na(),i){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Nd:n}}function Ri(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function Tn(e){return(10>e?"0":"")+e}function ur(e){if(!lp){lp=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);Uc=Qe("ftyp",t,i,t,n),t=Qe("dref",ym),rd=Qe("dinf",t)}this.g=e}function Ws(e){for(var t=[],n=x(e.g),i=n.next();!i.done;i=n.next()){var r=t,o=r.push,a=i.value;i=Qe;var l=a.id+1,f=a.stream.width||0,h=a.stream.height||0;a.type=="audio"&&(h=f=0);var p=a.duration*a.timescale,g=Math.floor(p/(Eo+1));switch(p=Math.floor(p%(Eo+1)),l=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ce(Gt(l,4)),[0,0,0,0],ce(Gt(g,4)),ce(Gt(p,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],ce(Gt(f,2)),[0,0],ce(Gt(h,2)),[0,0])),l=Qe("tkhd",l),f=Qe,g=a.duration*a.timescale,h=Math.floor(g/(Eo+1)),g=Math.floor(g%(Eo+1)),p=a.stream.language,p=p.charCodeAt(0)-96<<10|p.charCodeAt(1)-96<<5|p.charCodeAt(2)-96,h=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ce(Gt(a.timescale,4)),ce(Gt(h,4)),ce(Gt(g,4)),ce(Gt(p,2)),[0,0])),h=Qe("mdhd",h),g=a,p=new Uint8Array([]),g.type){case"video":p=id;break;case"audio":p=pm}g=Qe("hdlr",p);e:{switch(a.type){case"video":a=Qe("minf",Qe("vmhd",vm),rd,wo(a));break e;case"audio":a=Qe("minf",Qe("smhd",ci),rd,wo(a));break e}a=new Uint8Array([])}a=f("mdia",h,g,a),i=i("trak",l,a),o.call(r,i)}for(t=Vt.apply(_n,ce(t)),o=e.g[0],n=Qe,i=o.duration*o.timescale,r=Math.floor(i/(Eo+1)),i=Math.floor(i%(Eo+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ce(Gt(o.timescale,4)),ce(Gt(r,4)),ce(Gt(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),r=Qe("mvhd",r),i=[],e=x(e.g),f=e.next();!f.done;f=e.next())a=i,l=a.push,f=new Uint8Array([0,0,0,0].concat(ce(Gt(f.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),f=Qe("trex",f),l.call(a,f);if(e=Vt.apply(_n,ce(i)),e=Qe("mvex",e),i=[],o.encrypted){for(o=x(o.stream.drmInfos),a=o.next();!a.done;a=o.next())if(a=a.value,a.initData)for(a=x(a.initData),l=a.next();!l.done;l=a.next())i.push(l.value.initData);o=Vt.apply(_n,ce(i))}else o=new Uint8Array([]);return e=n("moov",r,t,e,o),t=new Uint8Array(Uc.byteLength+e.byteLength),t.set(Uc),t.set(e,Uc.byteLength),t}function wo(e){var t=Qe,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=nu()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var i=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,i=e.stream.height||0,0<e.Ca.byteLength)var r=Qe("avcC",e.Ca);else{r=Qe;for(var o=7,a=[],l=[],f=0,h=0,p=0,g=0;g<e.lb.length;g++){var y=ap(e.lb[g]);switch(y[0]&31){case 7:a.push(y),o+=y.length+2;break;case 8:l.push(y),o+=y.length+2}}for(0<a.length&&(f=a[0][1],p=a[0][2],h=a[0][3]),o=new Uint8Array(o),g=0,o[g++]=1,o[g++]=f,o[g++]=p,o[g++]=h,o[g++]=255,o[g++]=224|a.length,f=0;f<a.length;f++)o[g++]=(a[f].length&65280)>>8,o[g++]=a[f].length&255,o.set(a[f],g),g+=a[f].length;for(o[g++]=l.length,a=0;a<l.length;a++)o[g++]=(l[a].length&65280)>>8,o[g++]=l[a].length&255,o.set(l[a],g),g+=l[a].length;r=r("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(ce(Gt(n,2)),ce(Gt(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="avc1",l=Ou(e),a=new Uint8Array([]),e.encrypted&&(a=ju(0,e.stream,e.codecs),i="encv"),i=Qe(i,n,r,l,a)}else e.codecs.includes("hvc1")&&(i=e.stream.width||0,r=e.stream.height||0,n=new Uint8Array([]),0<e.Ca.byteLength&&(n=Qe("hvcC",e.Ca)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(ce(Gt(i,2)),ce(Gt(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",l=Ou(e),a=new Uint8Array([]),e.encrypted&&(a=ju(0,e.stream,e.codecs),r="encv"),i=Qe(r,i,n,l,a));break;case"audio":n=="mp3"?e=Qe(".mp3",An(e)):n=="ac-3"?(n=Qe("dac3",e.ra),i="ac-3",r=new Uint8Array([]),e.encrypted&&(r=ju(0,e.stream,e.codecs),i="enca"),e=Qe(i,An(e),n,r)):n=="ec-3"?(n=Qe("dec3",e.ra),i="ec-3",r=new Uint8Array([]),e.encrypted&&(r=ju(0,e.stream,e.codecs),i="enca"),e=Qe(i,An(e),n,r)):n=="opus"?(n=Qe("dOps",e.ra),i="Opus",r=new Uint8Array([]),e.encrypted&&(r=ju(0,e.stream,e.codecs),i="enca"),e=Qe(i,An(e),n,r)):(0<e.ra.byteLength?n=Qe("esds",e.ra):(n=Qe,i=e.id+1,r=e.stream.channelsCount||2,a=e.stream.audioSamplingRate||44100,f=vr("audio",e.codecs.split(",")),h={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},l=h[a],(f==="mp4a.40.5"||f==="mp4a.40.29")&&(l=h[2*a]),a=parseInt(f.split(".").pop(),10),i=new Uint8Array([0,0,0,0,3,25].concat(ce(Gt(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,a<<3|l>>>1,l<<7|r<<3,6,1,2])),n=n("esds",i)),i="mp4a",r=new Uint8Array([]),e.encrypted&&(r=ju(0,e.stream,e.codecs),i="enca"),e=Qe(i,An(e),n,r)),i=e}return e=Qe("stsd",vi,i),t("stbl",e,Qe("stts",fp),Qe("stsc",gm),Qe("stsz",Ey),Qe("stco",mm))}function Ou(e){if(!e.Ia&&!e.Ka)return new Uint8Array([]);var t=e.Ka;return e=new Uint8Array([].concat(ce(Gt(e.Ia,4)),ce(Gt(t,4)))),Qe("pasp",e)}function An(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(ce(Gt(e.stream.audioSamplingRate||44100,2)),[0,0]))}function ju(e,t,n){e=Qe,n=new Uint8Array([].concat(ce(Gt(rs(n.split(".")[0]),4)))),n=Qe("frma",n);var i="cenc",r=t.drmInfos[0];r&&r.encryptionScheme&&(i=r.encryptionScheme),i=new Uint8Array([0,0,0,0].concat(ce(Gt(rs(i),4)),[0,1,0,0])),i=Qe("schm",i),r=Qe;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t=x(t.drmInfos);for(var a=t.next();!a.done;a=t.next())if((a=a.value)&&a.keyIds&&a.keyIds.size){a=x(a.keyIds);for(var l=a.next();!l.done;l=a.next())o=ap(l.value)}return t=new Uint8Array([0,0,0,0,0,0,1,8]),t=Qe("tenc",t,o),e("sinf",n,i,r("schi",t))}function Js(e){var t=[];e=x(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=t.push,r=i.apply,o=Qe,a=new Uint8Array([0,0,0,0].concat(ce(Gt(n.data?n.data.Db:0,4))));a=Qe("mfhd",a);var l,f=n.data?n.data.jb:[],h=new Uint8Array(4+f.length);for(l=0;l<f.length;l++){var p=f[l].flags;h[l+4]=p.Ya<<4|p.$a<<2|p.Za}f=Qe("sdtp",h);var g=f.length+92;h=Qe,l=new Uint8Array([0,0,0,58].concat(ce(Gt(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),l=Qe("tfhd",l),p=n.data?n.data.baseMediaDecodeTime:0;var y=Math.floor(p%(Eo+1));p=new Uint8Array([1,0,0,0].concat(ce(Gt(Math.floor(p/(Eo+1)),4)),ce(Gt(y,4)))),p=Qe("tfdt",p);var T=g;g=n.data?n.data.jb:[],y=g.length;var w=12+16*y,A=new Uint8Array(w);for(T+=8+w,A.set([n.type==="video"?1:0,0,15,1].concat(ce(Gt(y,4)),ce(Gt(T,4))),0),T=0;T<y;T++){var E=g[T];w=Gt(E.duration,4);var M=Gt(E.size,4),I=E.flags;E=Gt(E.eb,4),A.set([].concat(ce(w),ce(M),[I.hb<<2|I.Ya,I.$a<<6|I.Za<<4|I.ib,I.Xa&61440,I.Xa&15],ce(E)),12+16*T)}g=Qe("trun",A),f=h("traf",l,p,g,f),o=o("moof",a,f),r.call(i,t,[o,sp(n)])}return Vt.apply(_n,ce(t))}function sp(e){return e=(e.data?e.data.jb:[]).map(function(t){return t.data}),e=Vt.apply(_n,ce(e)),Qe("mdat",e)}function Gt(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function ap(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function rs(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function Qe(e){var t=rt.apply(1,arguments),n=cp.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],cp.set(e,n));for(var i=8,r=t.length-1;0<=r;r--)i+=t[r].byteLength;for(r=new Uint8Array(i),r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=i&255,r.set(n,4),n=0,i=8;n<t.length;n++)r.set(t[n],i),i+=t[n].byteLength;return r}var lp=!1,Eo=Math.pow(2,32)-1,cp=new Map,id=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),pm=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),fp=new Uint8Array([0,0,0,0,0,0,0,0]),gm=new Uint8Array([0,0,0,0,0,0,0,0]),mm=new Uint8Array([0,0,0,0,0,0,0,0]),Ey=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),vm=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ci=new Uint8Array([0,0,0,0,0,0,0,0]),vi=new Uint8Array([0,0,0,0,0,0,0,1]),Uc=new Uint8Array([]),ym=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),rd=new Uint8Array([]);function Sm(e,t,n){function i(T){g.push({box:T,hh:1701733217})}function r(T){g.push({box:T,hh:1701733238})}function o(T){f=!0,T.parser.stop()}function a(T){p.push(T),Ve(T)}var l=t=Ue(t),f=!1,h,p=[],g=[];if(new At().box("moov",a).box("trak",a).box("mdia",a).box("minf",a).box("stbl",a).R("stsd",function(T){h=T,p.push(T),Bn(T)}).R("encv",o).R("enca",o).R("dvav",r).R("dva1",r).R("dvh1",r).R("dvhe",r).R("dvc1",r).R("dvi1",r).R("hev1",r).R("hvc1",r).R("avc1",r).R("avc3",r).R("ac-3",i).R("ec-3",i).R("ac-4",i).R("Opus",i).R("fLaC",i).R("mp4a",i).parse(t),f)return t;if(g.length==0||!h)throw Cu(t),new O(2,3,3019,n);g.reverse(),n=x(g);for(var y=n.next();!y.done;y=n.next())y=y.value,l=dp(e,l,h,y.box,p,y.hh);return bo()&&ja()&&!Zi()?(e=new Uint8Array(t.byteLength+l.byteLength),e.set(l),e.set(t,l.byteLength),e):l}function Tm(e){e=Ue(e);var t=[];new At().box("mdat",function(a){t.push(a)}).parse(e);for(var n=[],i=0;i<t.length;i++){var r=t[i-1],o=t[i];n.push(ud(e.subarray(r?r.start+r.size:0,o.start+o.size)))}return Vt.apply(_n,ce(n))}function ud(e){function t(g){a.push(g),Ve(g)}var n,i,r,o,a=[];if(new At().box("moof",t).box("traf",t).R("tfhd",function(g){n=g,r=Ys(g.reader,g.flags)}).R("trun",function(g){i=g,o=Lc(g.reader,g.version,g.flags)}).parse(e),r&&r.rh!==2){var l=n.start+Ii(n)+4+(r.Wh!==null?8:0),f=ii(e);if(r.rh!==null)f.setUint32(l,2);else{_c(e,n.start,n.size+4);var h=f.getUint32(n.start+8);f.setUint32(n.start+8,h|2),o&&o.nf!==null&&f.setInt32(i.start+Ii(i)+4,o.nf+4),h=e.subarray(0,l),f=e.subarray(l),e=new Uint8Array(e.byteLength+4),e.set(h),h=[];for(var p=3;0<=p;p--)h.push(2>>8*p&255);for(e.set(new Uint8Array(h),l),e.set(f,l+4),l=x(a),f=l.next();!f.done;f=l.next())f=f.value,_c(e,f.start,f.size+4)}}return e}function dp(e,t,n,i,r,o){var a=ju(new ur([]),e,i.name),l=t.subarray(i.start,i.start+i.size);for(e=new Uint8Array(i.size+a.byteLength),e.set(l,0),ii(e).setUint32(4,o),e.set(a,i.size),_c(e,0,e.byteLength),o=new Uint8Array(t.byteLength+e.byteLength),i=qn()||Zi()||bo()?i.start:i.start+i.size,a=t.subarray(i),o.set(t.subarray(0,i)),o.set(e,i),o.set(a,i+e.byteLength),t=x(r),r=t.next();!r.done;r=t.next())r=r.value,_c(o,r.start,r.size+e.byteLength);return e=ii(o,n.start),n=Ii(n),t=e.getUint32(n),e.setUint32(n,t+1),o}function _c(e,t,n){e=ii(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}function xm(e){function t(r){i.push({start:r.start,size:r.size}),Ve(r)}var n=Ue(e),i=[];return new At().box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",function(r){i.push({start:r.start,size:r.size});for(var o=ii(n,r.start),a=0;a<r.size-3;a++){var l=o.getUint32(a);l==1633889587?o.setUint32(a,1700998451):l==1684103987&&o.setUint32(a,1684366131)}}).parse(n),n}function yi(e,t,n,i,r,o,a,l){this.N=e,this.Sa=t,this.wa=n,this.Wc=i===void 0?null:i,this.timescale=r===void 0?null:r,this.h=o===void 0?null:o,this.aesKey=a===void 0?null:a,this.g=this.mimeType=this.codecs=null,this.encrypted=l===void 0?!1:l}yi.prototype.uc=function(){return this.Sa},yi.prototype.tc=function(){return this.wa},yi.prototype.Kd=function(e){this.h=e},yi.prototype.Ib=function(){return this.h};function pl(e,t){return e===t?!0:e&&t?e.uc()==t.uc()&&e.tc()==t.tc()&&za(e.N().sort(),t.N().sort())&&$u(e.Ib(),t.Ib()):e==t}me("shaka.media.InitSegmentReference",yi),yi.prototype.getEndByte=yi.prototype.tc,yi.prototype.getStartByte=yi.prototype.uc;function Me(e,t,n,i,r,o,a,l,f,h,p,g,y,T,w,A){for(h=h===void 0?[]:h,T=T===void 0?bu:T,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Sa=i,this.wa=r,this.$=o,this.timestampOffset=a,this.appendWindowStart=l,this.appendWindowEnd=f,this.g=h,this.tilesLayout=p===void 0?"":p,this.B=g===void 0?null:g,this.h=y===void 0?null:y,this.status=T,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=w===void 0?null:w,this.thumbnailSprite=null,this.i=-1,this.A=A===void 0?!1:A,this.F=this.o=!1,e=x(this.g),t=e.next();!t.done;t=e.next())t.value.fh();this.A&&this.g.length&&this.g[this.g.length-1].eh(),this.u=this.bandwidth=this.mimeType=this.codecs=null,this.G=!1}S=Me.prototype,S.N=function(){return this.C()},S.getStartTime=function(){return this.startTime},S.mi=function(){return this.endTime},S.uc=function(){return this.Sa},S.tc=function(){return this.wa},S.Ji=function(){return this.tilesLayout},S.Ii=function(){return this.B},S.dc=function(){return this.status},S.aj=function(){this.status=sd},S.Sf=function(){this.preload=!0},S.isPreload=function(){return this.preload},S.Vc=function(){this.l=!1},S.Ti=function(){return this.l},S.fh=function(){this.o=!0},S.Vi=function(){return this.o},S.eh=function(){this.F=!0},S.Ui=function(){return this.F},S.dh=function(){this.m=!0},S.Pi=function(){return this.m},S.De=function(e){this.thumbnailSprite=e},S.Gi=function(){return this.thumbnailSprite},S.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=x(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},S.qg=function(e){this.h==null?Jr("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},S.Kd=function(e,t){this.u=e,this.G=t===void 0?!1:t},S.Ib=function(e){var t=this.u;return(e===void 0||e)&&this.G&&(this.u=null),t};function od(e,t){e.$=t,e=x(e.g);for(var n=e.next();!n.done;n=e.next())od(n.value,t)}me("shaka.media.SegmentReference",Me),Me.prototype.getSegmentData=Me.prototype.Ib,Me.prototype.setSegmentData=Me.prototype.Kd,Me.prototype.syncAgainst=Me.prototype.qg,Me.prototype.offset=Me.prototype.offset,Me.prototype.getThumbnailSprite=Me.prototype.Gi,Me.prototype.setThumbnailSprite=Me.prototype.De,Me.prototype.hasByterangeOptimization=Me.prototype.Pi,Me.prototype.markAsByterangeOptimization=Me.prototype.dh,Me.prototype.isLastPartial=Me.prototype.Ui,Me.prototype.markAsLastPartial=Me.prototype.eh,Me.prototype.isPartial=Me.prototype.Vi,Me.prototype.markAsPartial=Me.prototype.fh,Me.prototype.isIndependent=Me.prototype.Ti,Me.prototype.markAsNonIndependent=Me.prototype.Vc,Me.prototype.isPreload=Me.prototype.isPreload,Me.prototype.markAsPreload=Me.prototype.Sf,Me.prototype.markAsUnavailable=Me.prototype.aj,Me.prototype.getStatus=Me.prototype.dc,Me.prototype.getTileDuration=Me.prototype.Ii,Me.prototype.getTilesLayout=Me.prototype.Ji,Me.prototype.getEndByte=Me.prototype.tc,Me.prototype.getStartByte=Me.prototype.uc,Me.prototype.getEndTime=Me.prototype.mi,Me.prototype.getStartTime=Me.prototype.getStartTime,Me.prototype.getUris=Me.prototype.N;var bu=0,sd=1;Me.Status={Nj:bu,Lk:sd,lk:2};function us(e){return e.length==1&&1e-4>e.end(0)-e.start(0)}function Oc(e){return!e||us(e)?null:e.length?e.end(e.length-1):null}function ad(e,t){return!e||!e.length||us(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function ld(e,t){if(!e||!e.length||us(e))return 0;var n=0;e=x(Si(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.start,r=r.end,r>t&&(n+=r-Math.max(i,t))}return n}function wm(e,t,n){return!e||!e.length||us(e)?null:(e=Si(e).findIndex(function(i,r,o){return i.start>t&&(r==0||o[r-1].end-t<=n)}),0<=e?e:null)}function Si(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function cd(){}function Em(e,t){var n=document.createElement("source");return n.src=e,n.type=t===void 0?"":t,n}function Ao(e){for(;e.firstChild;)e.removeChild(e.firstChild)}me("shaka.util.Dom",cd),cd.removeAllChildren=Ao;/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function hu(){}function hp(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function jc(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function $s(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function Mn(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var i=Xt(Ue(e.data,1,n)),r=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var a=Xt(Ue(e.data,3+n,o)),l;return i==="-->"?l=Xt(Ue(e.data,4+n+o)):l=mr(e.data.subarray(4+n+o)),t.mimeType=i,t.pictureType=r,t.description=a,t.data=l,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=Xt(Ue(e.data,1,i)),e=Xt(Ue(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=Xt(Ue(e.data,1,i)),e=Xt(Ue(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=Xt(Ue(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=mr(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=Xt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=Xt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=mr(e.data),t):null}function ea(e){for(var t=0,n=[];hp(e,t);){var i=$s(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,i=t+i;t+10<i;){var r=e.subarray(t),o=$s(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:o,data:r.subarray(10,10+o)},(o=Mn(r))&&n.push(o),t+=r.size+10}jc(e,t)&&(t+=10)}return n}function gl(e,t){for(var n=t=t===void 0?0:t,i=0;hp(e,t);)e[t+5]>>6&1&&(i+=10),i+=10,i+=$s(e,t+6),jc(e,t+10)&&(i+=10),t+=i;return 0<i?e.subarray(n,n+i):new Uint8Array([])}me("shaka.util.Id3Utils",hu),hu.getID3Data=gl,hu.getID3Frames=ea;function Pu(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,i=0;i<e.byteLength;i++)2<=i&&e[i]==3&&e[i-1]==0&&e[i-2]==0||(t[n]=e[i],n++);this.j=Ue(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function ta(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),i=Math.min(4,e.i);i!==0&&(n.set(e.j.subarray(t,t+i)),e.h=new Ut(n,0).S(),e.g=8*i,e.i-=i)}function Ln(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,ta(e)}e.h<<=t,e.g-=t}function Je(e,t){var n=Math.min(e.g,t),i=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&ta(e),n=t-n,0<n?i<<n|Je(e,n):i}function fd(e){var t;for(t=0;t<e.g;++t)if((e.h&2147483648>>>t)!==0)return e.h<<=t,e.g-=t,t;return ta(e),t+fd(e)}function Kn(e){Ln(e,1+fd(e))}function pe(e){var t=fd(e);return Je(e,t+1)-1}function na(e){return e=pe(e),1&e?1+e>>>1:-1*(e>>>1)}function Ae(e){return Je(e,1)===1}function mt(e){return Je(e,8)}function ml(e,t){for(var n=8,i=8,r=0;r<t;r++)i!==0&&(i=na(e),i=(n+i+256)%256),n=i===0?n:i}function pp(e){return mt(e),pe(e),pe(e)}me("shaka.util.ExpGolomb",Pu);function Nt(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.u=null}S=Nt.prototype,S.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},S.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,vp(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(e[r]==71){var o=!!(e[r+1]&64),a=((e[r+1]&31)<<8)+e[r+2];if(1<(e[r+3]&48)>>4){var l=r+5+e[r+4];if(l==r+188)continue}else l=r+4;switch(a){case 0:o&&(l+=e[l]+1),this.G=(e[l+10]&31)<<8|e[l+11];break;case 17:case 8191:break;case this.G:o&&(l+=e[l]+1),o=e,a={audio:-1,video:-1,ce:-1,audioCodec:"",videoCodec:""};var f=l+3+((o[l+1]&15)<<8|o[l+2])-4;for(l+=12+((o[l+10]&15)<<8|o[l+11]);l<f;){var h=(o[l+1]&31)<<8|o[l+2],p=(o[l+3]&15)<<8|o[l+4];switch(o[l]){case 6:if(0<p)for(var g=l+5,y=p;2<y;){var T=o[g+1]+2;switch(o[g]){case 5:var w=Sh(o.subarray(g+2,g+T));a.audio==-1&&w==="Opus"?(a.audio=h,a.audioCodec="opus"):a.video==-1&&w==="AV01"&&(a.video=h,a.videoCodec="av1");break;case 106:a.audio==-1&&(a.audio=h,a.audioCodec="ac3");break;case 122:a.audio==-1&&(a.audio=h,a.audioCodec="ec3");break;case 124:a.audio==-1&&(a.audio=h,a.audioCodec="aac");break;case 127:a.audioCodec=="opus"&&(w=null,o[g+2]===128&&(w=o[g+3]),w!=null&&(this.F={channelCount:(w&15)===0?2:w&15,Zh:w,sampleRate:48e3}))}g+=T,y-=T}break;case 15:a.audio==-1&&(a.audio=h,a.audioCodec="aac");break;case 17:a.audio==-1&&(a.audio=h,a.audioCodec="aac-loas");break;case 21:a.ce==-1&&(a.ce=h);break;case 27:a.video==-1&&(a.video=h,a.videoCodec="avc");break;case 3:case 4:a.audio==-1&&(a.audio=h,a.audioCodec="mp3");break;case 36:a.video==-1&&(a.video=h,a.videoCodec="hvc");break;case 129:a.audio==-1&&(a.audio=h,a.audioCodec="ac3");break;case 132:case 135:a.audio==-1&&(a.audio=h,a.audioCodec="ec3")}l+=p+5}o=a,o.video!=-1&&(this.I=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.B=o.audio,this.A=o.audioCodec),o.ce!=-1&&(this.C=o.ce),i&&!this.H&&(i=!1,r=t-188),this.H=!0;break;case this.I:l=e.subarray(l,r+188),o?this.j.push([l]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(l);break;case this.B:l=e.subarray(l,r+188),o?this.i.push([l]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(l);break;case this.C:l=e.subarray(l,r+188),o?this.l.push([l]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(l);break;default:i=!0}}return this};function dd(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var i=t[7];if(i&192){var r=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;e.u==null&&(e.u=r),n.pts=mp(r,e.u),e.u=n.pts,n.dts=n.pts,i&64&&(i=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,e.o==null&&(e.o=i),n.dts=mp(i,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}S.hj=function(e){return ct("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Xf(e,{Dd:null,state:null})},S.Xf=function(e,t){var n=e.pts?e.pts/9e4:null;e=e.data;var i=e.byteLength,r=1;this.m=="hvc"&&(r=2);var o=t.state||0,a=o,l=0,f=[],h=-1,p=0;for(o==-1&&(h=0,p=this.m=="hvc"?e[0]>>1&63:e[0]&31,o=0,l=1);l<i;){var g=e[l++];o?o===1?o=g?0:2:g?g==1?(g=l-o-1,0<=h?f.push({data:e.subarray(h+r,g),fullData:e.subarray(h,g),type:p,time:n,state:null}):(o=f.length?f[f.length-1]:t.Dd)&&(a&&l<=4-a&&o.state&&(o.data=o.data.subarray(0,o.data.byteLength-a),o.fullData=o.fullData.subarray(0,o.fullData.byteLength-a)),0<g&&(g=e.subarray(0,g),o.data=Vt(o.data,g),o.fullData=Vt(o.fullData,g),o.state=0)),l<i?(p=this.m=="hvc"?e[l]>>1&63:e[l]&31,h=l,o=0):o=-1):o=0:o=3:o=g?0:1}return 0<=h&&0<=o&&f.push({data:e.subarray(h+r,i),fullData:e.subarray(h,i),type:p,time:n,state:o}),!f.length&&t.Dd&&(n=f.length?f[f.length-1]:t.Dd)&&(n.data=Vt(n.data,e),n.fullData=Vt(n.fullData,e)),t.state=o,f},S.getMetadata=function(){for(var e=[],t=x(this.l),n=t.next();!n.done;n=t.next())n=Vt.apply(_n,ce(n.value)),(n=dd(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:ea(n.data),dts:n.dts,pts:n.pts});return e},S.fb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=x(this.i),n=t.next();!n.done;n=t.next()){var i=Vt.apply(_n,ce(n.value)),r=dd(this,i);n=this.h.length?this.h[this.h.length-1]:null,r&&r.pts!=null&&r.dts!=null&&(!n||n.pts!=r.pts&&n.dts!=r.dts)?(this.h.length&&r.dts<(n.dts||0)&&(e=!0),this.h.push(r)):this.h.length&&(i=r?r.data:i)&&(n=this.h.pop(),n.data=Vt(n.data,i),this.h.push(n))}e&&(this.h=this.h.sort(function(o,a){var l=(o.pts||0)-(a.pts||0);return(o.dts||0)-(a.dts||0)||l}))}return this.h},S.wc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=x(this.j),i=n.next();!i.done;i=n.next()){var r=Vt.apply(_n,ce(i.value)),o=dd(this,r);i=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!i||i.pts!=o.pts&&i.dts!=o.dts)?(this.g.length&&o.dts<(i.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(r=o?o.data:r)&&(i=this.g.pop(),i.data=Vt(i.data,r),this.g.push(i))}if(e){for(n={Dd:null,state:null},i=[],r=x(this.g),o=r.next();!o.done;o=r.next())o=o.value,o.nalus=this.Xf(o,n),o.nalus.length&&(i.push(o),n.Dd=o.nalus[o.nalus.length-1]);this.g=i}t&&(this.g=this.g.sort(function(a,l){var f=(a.pts||0)-(l.pts||0);return(a.dts||0)-(l.dts||0)||f}))}return e?this.g:(e=this.g,this.g=[],e)},S.getStartTime=function(e){if(e=="audio"){e=null;var t=this.fb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.wc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},S.od=function(){return{audio:this.A,video:this.m}},S.be=function(){for(var e=[],t=x(this.wc()),n=t.next();!n.done;n=t.next())e.push.apply(e,ce(n.value.nalus));return e},S.Mi=function(){ct("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Kf();return{height:e.height,width:e.width}},S.Kf=function(){return this.m=="hvc"?gp(this):Hn(this)};function Bu(e){var t=e.wc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function Hn(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length||(n=n.find(function(T){return T.type==7}),!n))return t;n=new Pu(n.data);var i=mt(n),r=mt(n),o=mt(n);if(Kn(n),Am.includes(i)){var a=pe(n);if(a===3&&Ln(n,1),Kn(n),Kn(n),Ln(n,1),Ae(n)){a=a!==3?8:12;for(var l=0;l<a;l++)Ae(n)&&(6>l?ml(n,16):ml(n,64))}}if(Kn(n),a=pe(n),a===0)pe(n);else if(a===1)for(Ln(n,1),Kn(n),Kn(n),a=pe(n),l=0;l<a;l++)Kn(n);Kn(n),Ln(n,1),a=pe(n),l=pe(n);var f=Je(n,1);f===0&&Ln(n,1),Ln(n,1);var h=0,p=0,g=0,y=0;return Ae(n)&&(h=pe(n),p=pe(n),g=pe(n),y=pe(n)),t.height=String((2-f)*(l+1)*16-2*g-2*y),t.width=String(16*(a+1)-2*h-2*p),t.codec="avc1."+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+o.toString(16).toUpperCase()).slice(-2),t.frameRate=Bu(e),t}function gp(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length||(n=n.find(function(b){return b.type==33}),!n))return t;var i=new Pu(n.fullData,!0);mt(i),mt(i),Je(i,4);var r=Je(i,3);Ae(i);var o=Je(i,2),a=Je(i,1),l=Je(i,5),f=Je(i,32);n=mt(i);for(var h=mt(i),p=mt(i),g=mt(i),y=mt(i),T=mt(i),w=mt(i),A=[],E=[],M=0;M<r;M++)A.push(Ae(i)),E.push(Ae(i));if(0<r)for(M=r;8>M;M++)Je(i,2);for(M=0;M<r;M++)A[M]&&Je(i,88),E[M]&&mt(i);pe(i),r=pe(i),r==3&&Je(i,1),A=pe(i),E=pe(i);var I=M=0,U=0,_=0;return Ae(i)&&(M+=pe(i),I+=pe(i),U+=pe(i),_+=pe(i)),t.width=String(A-(M+I)*(r===1||r===2?2:1)),t.height=String(E-(U+_)*(r===1?2:1)),i=function(b){for(var N=0,k=0;32>k;k++)N|=(b>>k&1)<<31-k;return N>>>0}(f),a=a==1?"H":"L",o="hvc1"+("."+["","A","B","C"][o]+l),o+="."+i.toString(16).toUpperCase(),o+="."+a+w,T&&(o+="."+T.toString(16).toUpperCase()),y&&(o+="."+y.toString(16).toUpperCase()),g&&(o+="."+g.toString(16).toUpperCase()),p&&(o+="."+p.toString(16).toUpperCase()),h&&(o+="."+h.toString(16).toUpperCase()),n&&(o+="."+n.toString(16).toUpperCase()),t.codec=o,t.frameRate=Bu(e),t}function mp(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function Cn(e){return!(0>vp(e))}function vp(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}me("shaka.util.TsParser",Nt),Nt.syncOffset=vp,Nt.probe=Cn,Nt.prototype.getVideoInfo=Nt.prototype.Kf,Nt.prototype.getVideoResolution=Nt.prototype.Mi,Nt.prototype.getVideoNalus=Nt.prototype.be,Nt.prototype.getCodecs=Nt.prototype.od,Nt.prototype.getStartTime=Nt.prototype.getStartTime,Nt.prototype.getVideoData=Nt.prototype.wc,Nt.prototype.getAudioData=Nt.prototype.fb,Nt.prototype.getMetadata=Nt.prototype.getMetadata,Nt.prototype.parseNalus=Nt.prototype.Xf,Nt.prototype.parseAvcNalus=Nt.prototype.hj,Nt.prototype.parse=Nt.prototype.parse,Nt.prototype.clearData=Nt.prototype.clearData,Nt.Timescale=9e4;var Am=[100,110,122,244,44,83,86,118,128,138,139,134];function yp(e,t,n,i){var r=this;this.g=e,this.K=n,this.A=null,this.ea=t,this.l=new Map,this.B=new Map,this.Aa=new Map,this.h=null,this.Ea=!1,this.I=i||null,this.u=new Map,this.o=new $e,this.j=new Map,this.L=null,this.G=new xt,this.Ga="",this.Na=!1,this.sa=!0,this.Z=!1,this.C=this.M=null,this.i=hn(this,this.G),this.ya=this.H=!1,this.O=new du(function(){return Cm(r)}),this.F=!1,this.P="UNKNOWN",this.La=this.Ma=!1,this.Fa=new xt,this.m=!1,this.pa=null,this.Y=new Map,this.ka=this.T=this.oa=this.W=null,this.fa=new xt,this.g.remote&&(this.Z=this.g.remote.state!="disconnected",this.o.D(this.g.remote,"connect",function(){r.Z=r.g.remote.state!="disconnected"}),this.o.D(this.g.remote,"connecting",function(){r.Z=r.g.remote.state!="disconnected"}),this.o.D(this.g.remote,"disconnect",function(){r.Z=r.g.remote.state!="disconnected"}))}function hn(e,t){if(e.sa=!0,F.ManagedMediaSource){e.C||(e.g.disableRemotePlayback=!0);var n=new ManagedMediaSource;e.o.D(n,"startstreaming",function(){e.sa=!0}),e.o.D(n,"endstreaming",function(){e.sa=!1})}else n=new MediaSource;return e.o.ma(n,"sourceopen",function(){URL.revokeObjectURL(e.Ga),t.resolve()}),e.o.ma(e.g,"playing",function(){e.Na=!0}),e.Ga=fs(n),e.g.removeAttribute("src"),e.M&&e.g.removeChild(e.M),e.C&&e.g.removeChild(e.C),e.M=Em(e.Ga),e.g.appendChild(e.M),e.C&&e.g.appendChild(e.C),e.g.load(),n}function or(e,t,n){e.g&&F.ManagedMediaSource&&e.i&&(e.C&&e.g.removeChild(e.C),e.C=Em(t,n),e.g.appendChild(e.C),e.g.disableRemotePlayback=!1)}function Mo(e,t){var n,i,r,o,a,l,f,h,p,g,y;return L(function(T){if(T.g==1)return e.createSegmentIndex?C(T,e.createSegmentIndex(),2):T.s(2);if(!e.segmentIndex)return T.return(!1);if(e.segmentIndex.getNumReferences()==0)return T.return(!0);for(n=an,i=new Set,r=x(e.segmentIndex),o=r.next();!o.done;o=r.next())if(a=o.value,l=a.mimeType||e.mimeType||"",f=a.codecs||e.codecs||"",(l!=e.mimeType||f!=e.codecs)&&(h=l+":"+f,!i.has(h))){if(i.add(h),t==n.za){if(p=Zt(l,f),!cu(p))return T.return(!1)}else if(t==n.la?f=ai(f):t==n.V&&(f=fu(f,l)),g=Qg(e,l,f),y=Yo(l,f),!On(g)&&!si(y))return T.return(!1)}return T.return(!0)})}function Mm(){var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(ce(Vi)),t={};e=x(e);for(var n=e.next();!n.done;n=e.next()){n=n.value,cu(n)?t[n]=!0:t[n]=tu()?On(n)||!!si(n):ec(n);var i=n.split(";")[0];t[i]=t[i]||t[n]}return t}S=yp.prototype,S.destroy=function(){return this.O.destroy()};function Cm(e){var t,n,i,r,o,a,l,f,h,p,g,y,T,w,A;return L(function(E){if(E.g==1){for(t=[],n=x(e.u),i=n.next();!i.done;i=n.next())for(r=i.value,o=x(r),a=o.next().value,l=o.next().value,f=l[0],h=a,e.u.set(h,l.slice(0,1)),f&&t.push(f.p.catch(Hs)),p=x(l.slice(1)),g=p.next();!g.done;g=p.next())y=g.value,y.p.reject(new O(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),C(E,Promise.all(t),2)}for(T=x(e.j.values()),w=T.next();!w.done;w=T.next())A=w.value,A.destroy();e.o&&(e.o.release(),e.o=null),e.g&&e.C&&e.g.removeChild(e.C),e.g&&e.M&&(e.g.removeChild(e.M),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.M=null,e.C=null,e.A=null,e.i=null,e.h=null,e.ea=null,e.l.clear(),e.Aa.clear(),e.j.clear(),e.L=null,e.u.clear(),e.I=null,e.Y.clear(),e.K=null,le(E)})}S.init=function(e,t,n,i){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,i=i===void 0?!1:i;var r=this,o,a,l,f,h,p;return L(function(g){switch(g.g){case 1:return o=an,C(g,r.G,2);case 2:if(!Ti(r)&&!ia(r)){g.s(3);break}return Jr("Expected MediaSource to be open during init(); reopening the media source."),r.G=new xt,r.i=hn(r,r.G),C(g,r.G,3);case 3:r.F=t,r.P=n,r.Ma=i,r.La=!r.F&&r.P=="HLS"&&!r.Ma,r.Y.clear(),r.W=null,r.oa=null,r.T=null,r.ka=null,r.fa=new xt,a=x(e.keys()),l=a.next();case 5:if(l.done){g.s(7);break}return f=l.value,h=e.get(f),C(g,hd(r,f,h,h.codecs),8);case 8:r.m?(r.u.set(o.V,[]),r.u.set(o.la,[])):r.u.set(f,[]),l=a.next(),g.s(5);break;case 7:(p=e.get(o.V))&&p.isAudioMuxedInVideo&&(r.m=!0),le(g)}})};function hd(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A;return L(function(E){switch(E.g){case 1:return r=an,o=fh,a=dh,C(E,Mo(n,t),2);case 2:if(a.call(o,E.h,"Type negotiation should happen before MediaSourceEngine.init!"),t==r.V&&i&&(i=fu(i,n.mimeType)),l=Zt(n.mimeType,i),t==r.za){ki(e,l,e.F,n.external),E.s(0);break}if(f=e.A.forceTransmux,(!On(l)||!e.F&&Vi.includes(l))&&(f=!0),h=Yo(n.mimeType,i),!f){E.s(4);break}if(p=ri(r.V,(i||"").split(",")),g=ri(r.la,(i||"").split(",")),!p||!g){E.s(5);break}return e.m=!0,C(E,hd(e,r.V,n,p),6);case 6:return C(E,hd(e,r.la,n,g),7);case 7:return E.return();case 5:(y=si(h))&&(T=y(),e.j.set(t,T),l=T.convertCodecs(t,h));case 4:w=l+e.A.addExtraFeaturesToSourceBuffer(l),kt(e.O);try{A=e.i.addSourceBuffer(w)}catch(M){throw new O(2,3,3015,M,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.F&&(A.mode=wp),e.o.D(A,"error",function(){var M=e.u.get(t)[0];M.p.reject(new O(2,3,3014,e.g.error?e.g.error.code:0,M.uri))}),e.o.D(A,"updateend",function(){return zu(e,t)}),e.l.set(t,A),e.B.set(t,l),e.Aa.set(t,!!n.drmInfos.length),le(E)}})}S.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)};function pd(e){return e.sa&&!e.Z&&!e.H}function ki(e,t,n,i){e.h||(e.h=new lu(e.ea),e.h&&(e.h.A=e.A.modifyCueCallback));var r=e.h;i=i||e.Ea,e=e.P,t=="application/cea-608"||t=="application/cea-708"?r.i=null:(r.i=wr.get(t)(),r.i.setSequenceMode?r.i.setSequenceMode(n):ct("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),r.i.setManifestType?r.i.setManifestType(e):ct("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),r.B=i)}function Ti(e){return e.H?!1:e.i?e.i.readyState=="ended":!0}function ia(e){return e.H?!1:e.i?e.i.readyState=="closed":!0}function zi(e,t){return e.l.size?t==Xe?e=e.h.g:(e=Br(e,t),e=!e||us(e)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null):e=null,e}function os(e,t){return e.l.size?t==Xe?e.h.h:Oc(Br(e,t)):null}function ss(e,t,n){return t==Xe?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=Br(e,t),ld(e,n))}S.Fb=function(){var e={total:this.H?[]:Si(this.g.buffered),audio:Si(Br(this,"audio")),video:Si(Br(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function Br(e,t){if(e.H||e.Z)return null;try{return e.l.get(t).buffered}catch(n){return e.l.has(t),null}}function as(e,t,n,i,r,o){var a=null,l=[],f=Ue(n);if(Vi.includes(o))t=ea(f),t.length&&i&&((n=t.find(function(T){return T.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=Math.round(n.data)/1e3),e.K.onMetadata([{cueTime:i.startTime,data:f,frames:t,dts:i.startTime,pts:i.startTime}],0,i.endTime));else if(o.includes("/mp4")&&i&&i.$&&i.$.timescale){var h=i.$.timescale;if(!isNaN(h)){var p=r.emsgSchemeIdUris!=null&&0<r.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,g=0,y=!1;f=new At,p&&f.R("emsg",function(T){var w=r.emsgSchemeIdUris;if(T.version===0)var A=T.reader.Cc(),E=T.reader.Cc(),M=T.reader.S(),I=T.reader.S(),U=T.reader.S(),_=T.reader.S(),b=i.startTime+I/M;else M=T.reader.S(),b=T.reader.bd()/M+i.timestampOffset,I=b-i.startTime,U=T.reader.S(),_=T.reader.S(),A=T.reader.Cc(),E=T.reader.Cc();T=T.reader.Cb(T.reader.getLength()-T.reader.Ba()),(w&&w.includes(A)||e.A.dispatchAllEmsgBoxes)&&(A=="urn:mpeg:dash:event:2012"?e.K.gj():(w=b+U/M,M={startTime:b,endTime:w,schemeIdUri:A,value:E,timescale:M,presentationTimeDelta:I,eventDuration:U,id:_,messageData:T},_=new Map().set("detail",M),new fe("emsg",_).cancelable=!0,e.K.ej(M),(A=="https://aomedia.org/emsg/ID3"||A=="https://developer.apple.com/streaming/emsg-id3")&&(A=ea(T),A.length&&e.K.onMetadata([{cueTime:b,data:T,frames:A,dts:b,pts:b}],0,w))))}),f.R("prft",function(T){var w=T.reader,A=T.version;w.S(),T=w.S();var E=w.S();T=1e3*T+E/Math.pow(2,32)*1e3,A===0?w=w.S():(A=w.S(),w=w.S(),w=A*Math.pow(2,32)+w),T=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+T).getTime(),w=new Map().set("detail",{wallClockTime:T,programStartDate:new Date(T-w/h*1e3)}),w=new fe("prft",w),e.K.onEvent(w)}).box("moof",Ve).box("traf",Ve).R("tfdt",function(T){y||(g=is(T.reader,T.version).baseMediaDecodeTime/h,y=!0,p||T.parser.stop())}).parse(n,!0),y&&i.timestampOffset==0&&(a=g)}}else o.includes("/mp4")||o.includes("/webm")||!Cn(f)||(e.Y.has(t)?e.Y.get(t).clearData():e.Y.set(t,new Nt),l=e.Y.get(t).parse(f),f=l.getStartTime(t),f!=null&&(a=f),l=l.getMetadata());return{timestamp:a,metadata:l}}function vl(e,t,n,i,r,o,a,l,f,h){a=a===void 0?!1:a,l=l===void 0?!1:l,f=f===void 0?!1:f,h=h===void 0?!1:h;var p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V;return L(function(H){switch(H.g){case 1:if(p=an,t!=p.za){H.s(2);break}if(e.P!="HLS"){H.s(3);break}return C(H,e.Fa,4);case 4:g=H.h,e.h.u=g;case 3:return C(H,jf(e.h,n,i?i.startTime:null,i?i.endTime:null,i?i.N()[0]:null),5);case 5:return H.return();case 2:if(h||!e.m){H.s(6);break}return C(H,vl(e,p.V,n,i,r,o,a,l,f,!0),7);case 7:return C(H,vl(e,p.la,n,i,r,o,a,l,f,!0),8);case 8:return H.return();case 6:if(!e.l.has(t))return H.return();if(y=e.l.get(t).timestampOffset,T=e.B.get(t),e.j.has(t)&&(T=e.j.get(t).getOriginalMimeType()),i&&(w=as(e,t,n,i,r,T),A=w.timestamp,E=w.metadata,A!=null&&(e.W==null&&t==p.la&&(e.W=A,e.oa=i.startTime,e.T!=null&&(M=0,e.oa==e.ka&&(M=e.W-e.T),e.fa.resolve(M))),e.T==null&&t==p.V&&(e.T=A,e.ka=i.startTime,e.W!=null&&(I=0,e.oa==e.ka&&(I=e.W-e.T),e.fa.resolve(I))),U=A,_=Vi,!e.F&&_.includes(e.B.get(t))&&(U=0),b=i.startTime-U,N=Math.abs(y-b),(.001<=N||a||l)&&(!f||0<b||!y)&&(y=b,e.La&&(vn(e,t,function(){return ra(e,t)},null),vn(e,t,function(){return Vu(e,t,y)},null))),(t==p.la||!e.l.has(p.la))&&e.Fa.resolve(y)),E.length)&&e.K.onMetadata(E,y,i?i.endTime:null),o&&t==p.la&&(e.h||ki(e,"application/cea-608",e.F,!1),e.L||(k=T.split(";",1)[0],e.L=new tr(k)),i?(P=e.L.i(n),P.length&&Bs(e.h,P,i.startTime,i.endTime,y)):e.L.init(n,l)),!e.j.has(t)){H.s(9);break}return C(H,e.j.get(t).transmux(n,r,i,e.i.duration,t),10);case 10:n=H.h;case 9:if(n=$t(e,r,n,i,t),!i||!e.F||t==p.za){H.s(11);break}if(!a&&!l){H.s(11);break}if(j=i.startTime,e.P!="HLS"||e.m||t!=p.V||!e.l.has(p.la)){H.s(13);break}return C(H,e.fa,14);case 14:V=H.h,.15<Math.abs(V)&&(j-=V);case 13:vn(e,t,function(){return ra(e,t)},null),vn(e,t,function(){return Vu(e,t,j)},null);case 11:return C(H,vn(e,t,function(){var z=n;e.I&&oo(e.I,z,y,r),e.l.get(t).appendBuffer(z)},i?i.N()[0]:null),15);case 15:le(H)}})}function Sp(e,t){var n=os(e,"video")||0;Tr(e.h,t,n)}function Hu(e){e.h&&Tr(e.h,"",0)}S.remove=function(e,t,n){var i=this,r;return L(function(o){return o.g==1?(r=an,e==r.za?C(o,i.h.remove(t,n),0):n>t?C(o,vn(i,e,function(){return Bc(i,e,t,n)},null),5):o.s(0)):i.m?C(o,vn(i,r.V,function(){return Bc(i,r.V,t,n)},null),0):o.s(0)})};function Tp(e,t){var n;return L(function(i){return i.g==1?(n=an,t==n.za?e.h?C(i,e.h.remove(0,1/0),0):i.return():C(i,vn(e,t,function(){return Bc(e,t,0,e.i.duration)},null),4)):e.m?C(i,vn(e,n.V,function(){return Bc(e,n.V,0,e.i.duration)},null),0):i.s(0)})}S.flush=function(e){var t=this,n;return L(function(i){return i.g==1?(n=an,e==n.za?i.return():C(i,vn(t,e,function(){t.g.currentTime-=.001,zu(t,e)},null),2)):t.m?C(i,vn(t,n.V,function(){var r=n.V;t.g.currentTime-=.001,zu(t,r)},null),0):i.s(0)})};function yl(e,t,n,i,r,o,a,l,f){var h,p,g;return L(function(y){return y.g==1?(h=an,t==h.za?(o||(e.h.u=n),bf(e.h,i,r),y.return()):(p=[],C(y,Ar(e,t,a,l,f),2))):(g=y.h,g||(p.push(vn(e,t,function(){return ra(e,t)},null)),e.m&&p.push(vn(e,h.V,function(){return ra(e,h.V)},null))),o||(p.push(vn(e,t,function(){return Vu(e,t,n)},null)),e.m&&p.push(vn(e,h.V,function(){return Vu(e,h.V,n)},null))),(i!=0||r!=1/0)&&(p.push(vn(e,t,function(){var T=e.l.get(t);T.appendWindowStart=0,T.appendWindowEnd=r,T.appendWindowStart=i,zu(e,t)},null)),e.m&&p.push(vn(e,h.V,function(){var T=h.V,w=e.l.get(T);w.appendWindowStart=0,w.appendWindowEnd=r,w.appendWindowStart=i,zu(e,T)},null))),p.length?C(y,Promise.all(p),0):y.s(0))})}function bc(e,t,n){var i,r;return L(function(o){return o.g==1?(i=an,t==i.za||(t==i.la&&(e.Fa=new xt),!e.F||(r=os(e,t))&&.1>Math.abs(r-n))?o.return():(vn(e,t,function(){return ra(e,t)},null),e.m&&vn(e,i.V,function(){return ra(e,i.V)},null),C(o,vn(e,t,function(){return Vu(e,t,n)},null),2))):e.m?C(o,vn(e,i.V,function(){return Vu(e,i.V,n)},null),0):o.s(0)})}S.endOfStream=function(e){var t=this;return L(function(n){return C(n,Sl(t,function(){Ti(t)||ia(t)||(e?t.i.endOfStream(e):t.i.endOfStream())}),0)})},S.bb=function(e){var t=this;return L(function(n){return C(n,Sl(t,function(){if(e<t.i.duration)for(var i=x(t.l.keys()),r=i.next();!r.done;r=i.next()){r=r.value;var o={start:function(){},p:new xt,uri:null};t.u.get(r).unshift(o)}t.i.duration=e,t.pa=e}),0)})},S.getDuration=function(){return this.i.duration};function Pc(e,t,n){L(function(i){return Ti(e)||ia(e)?i.return():C(i,Sl(e,function(){Ti(e)||ia(e)||e.i.setLiveSeekableRange(t,n)}),0)})}function ls(e){L(function(t){return Ti(e)||ia(e)?t.return():C(t,Sl(e,function(){Ti(e)||ia(e)||e.i.clearLiveSeekableRange()}),0)})}function Bc(e,t,n,i){i<=n?zu(e,t):e.l.get(t).remove(n,i)}function ra(e,t){var n=e.l.get(t),i=n.appendWindowStart,r=n.appendWindowEnd;n.abort(),n.appendWindowStart=i,n.appendWindowEnd=r,zu(e,t)}function Vu(e,t,n){0>n&&(n+=.001);var i=!0;e.P=="HLS"&&(i=os(e,t),i=!i||.15<Math.abs(i-n)),i&&(e.l.get(t).timestampOffset=n),zu(e,t)}function zu(e,t){if(!e.H){var n=e.u.get(t)[0];n&&(n.p.resolve(),xp(e,t))}}function vn(e,t,n,i){return kt(e.O),n={start:n,p:new xt,uri:i},e.u.get(t).push(n),e.u.get(t).length==1&&Dm(e,t),n.p}function Sl(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w;return L(function(A){switch(A.g){case 1:for(kt(e.O),n=[],i=Array.from(e.l.keys()),r=x(i),o=r.next(),a={};!o.done;a={ready:void 0},o=r.next())l=o.value,a.ready=new xt,f={start:function(E){return function(){return E.ready.resolve()}}(a),p:a.ready,uri:null},h=e.u.get(l),h.push(f),n.push(a.ready),h.length==1&&f.start();return Se(A,2),C(A,Promise.all(n),4);case 4:Pe(A,3);break;case 2:throw p=Te(A),p;case 3:return Se(A,5,6),C(A,t(),6);case 6:for(re(A),g=x(i),y=g.next();!y.done;y=g.next())T=y.value,xp(e,T);ye(A,0);break;case 5:throw w=Te(A),new O(2,3,3015,w,e.g.error||"No error in the media element",null)}})}function xp(e,t){e.u.get(t).shift(),Dm(e,t)}function Dm(e,t){var n=e.u.get(t)[0];if(n)try{n.start()}catch(i){i.name=="QuotaExceededError"?n.p.reject(new O(2,3,3017,t)):pd(e)?n.p.reject(new O(2,3,3015,i,e.g.error||"No error in the media element",n.uri)):n.p.reject(new O(2,3,3024,t)),xp(e,t)}}function $t(e,t,n,i,r){if(Ps(e.B.get(r))!="mp4")return n;var o=i===null,a=e.Aa.get(r),l=e.K.si(),f=!1;return i&&i.$&&(f=i.$.encrypted),i=i?i.N()[0]:null,(e=e.A.insertFakeEncryptionInInit&&a)&&(l=xf(l),e=qn()&&r==="audio"||Wn()||Zi()||Rt("SOPOpenBrowser")||bo()&&ja()&&l),e&&(o?n=Sm(t,n,i):((t=!f)&&(t=qn()&&r==="audio"),t&&(n=Tm(n)))),o&&nu()&&(n=xm(n)),n}function pn(e,t,n,i){return vn(e,t,function(){if(t!==Xe){if(e.B.get(t),so()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),i&&e.j.set(t,i);var r=n+e.A.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(r),e.B.set(t,n)}zu(e,t)}},null)}function Lt(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b;return L(function(N){switch(N.g){case 1:if(e.H)return N.return();for(n=an,e.H=!0,e.m=!1,i=e.g.currentTime,r=e.g.autoplay,e.g.paused||(e.ya=!0),e.Na&&(e.g.autoplay=!1),bi(N,2),e.o.Qa(),o=x(e.j.values()),a=o.next();!a.done;a=o.next())l=a.value,l.destroy();for(f=x(e.l.values()),h=f.next();!h.done;h=f.next()){p=h.value;try{e.i.removeSourceBuffer(p)}catch(k){}}return e.j.clear(),e.l.clear(),g=e.i.duration,e.G=new xt,e.i=hn(e,e.G),C(N,e.G,4);case 4:!isNaN(g)&&g?e.i.duration=g:!isNaN(e.pa)&&e.pa&&(e.i.duration=e.pa),y=new xt,T=e.i.sourceBuffers,w=t.size,A=0,E=function(){A++,A===w&&(y.resolve(),e.o.Ja(T,"addsourcebuffer",E))},e.o.D(T,"addsourcebuffer",E),M=x(t.keys()),I=M.next();case 5:return I.done?((b=t.get(n.V))&&b.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.u.has(n.V)&&e.u.set(n.V,[]),e.g.currentTime=i,C(N,y,2)):(U=I.value,_=t.get(U),C(N,hd(e,U,_,_.codecs),6));case 6:I=M.next(),N.s(5);break;case 2:re(N),e.H=!1,kt(e.O),e.o.ma(e.g,"canplaythrough",function(){e.O.g||(e.g.autoplay=r,e.ya&&(e.ya=!1,e.g.play()))}),ye(N,0)}})}function jt(e,t){return Sl(e,function(){return Lt(e,t)})}function Wt(e,t,n,i){var r=!1,o=ri("audio",(i||"").split(",")),a=ri("video",(i||"").split(",")),l=a;t=="audio"&&(l=o),l||(l=i),i=Zt(n,l);var f=e.A.forceTransmux;if((!On(i)||!e.F&&Vi.includes(i))&&(f=!0),f&&(e=Yo(n,l),n=si(e))){var h=n();o&&a&&(r=!0),i=h.convertCodecs(t,e)}return t=Sn(mi(i)),{ug:h,Fj:r,Eg:cn(i),codec:t,mimeType:i}}function Ar(e,t,n,i,r){var o,a,l,f,h,p,g,y,T,w,A,E,M,I;return L(function(U){return U.g==1?(o=an,t==o.za?U.return(!1):(a=Sn(mi(e.B.get(t))),l=cn(e.B.get(t)),f=Wt(e,t,n,i),h=f.ug,p=f.Fj,g=f.Eg,y=f.codec,T=f.mimeType,w=!0,p&&e.B.has(o.V)&&(A=Wt(e,o.V,n,i),E=Sn(mi(e.B.get(o.V))),M=cn(e.B.get(o.V)),w=E==A.codec&&M==A.Eg,A.ug&&A.ug.destroy()),a===y&&l===g&&w?(e.j.has(t)&&!h?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&h?e.j.set(t,h):h&&(e.j.has(t)&&e.j.get(t).transmux!=h.transmux?(e.j.get(t).destroy(),e.j.delete(t),e.j.set(t,h)):h.destroy()),U.return(!1)):(I=!0,(e.m||p&&h&&!e.j.has(t))&&(I=!1),I&&e.A.codecSwitchingStrategy==="smooth"&&so()?C(U,pn(e,t,T,h),3):(h&&h.destroy(),C(U,jt(e,r),3))))):U.return(!0)})}function cs(e,t,n,i){if(t==Xe)var r=!1;else{r=Sn(mi(e.B.get(t)));var o=cn(e.B.get(t)),a=Zt(n,i),l=e.A.forceTransmux;(!On(a)||!e.F&&Vi.includes(a))&&(l=!0),n=Yo(n,i),l&&(l=si(n))&&(l=l(),a=l.convertCodecs(t,n),l.destroy()),t=Sn(mi(a)),a=cn(a),r=r!==t||o!==a}return r?e.A.codecSwitchingStrategy!=="smooth"||!so()||e.m:!1}var fs=F.URL.createObjectURL,wp="sequence";function xe(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=n===void 0?!0:n,this.G=0,this.u=!1,this.m=e}S=xe.prototype,S.getDuration=function(){return this.l},S.vi=function(){return this.h},S.yh=function(e){this.i=e},S.bb=function(e){this.l=e},S.Bi=function(){return this.i},S.wh=function(e){this.A=e},S.Gc=function(e){e&&!this.B&&(this.I=!0),this.B=e},S.Ce=function(e){this.o=e},S.ae=function(){return this.o},S.jg=function(e){this.C=e},S.li=function(){return this.C},S.kh=function(e,t){if(e.length!=0){var n=(Date.now()+this.A)/1e3;if(e=e.filter(function(r){return r.start+t<n}),e.length!=0){var i=e[e.length-1].end+t;this.ne(e[0].start+t),this.h=e.reduce(function(r,o){return Math.max(r,o.end-o.start)},this.h),this.g=Math.max(this.g,i),this.i!=null&&this.F&&!this.u&&(this.i=n-this.g-this.h)}}},S.Ed=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.A)/1e3;e=x(e);for(var r=e.next();!r.done;r=e.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.h=Math.max(this.h,r.endTime-r.startTime));this.ne(t),this.g=Math.max(this.g,n),this.i!=null&&this.F&&!this.u&&(this.i=i-this.g-this.h)}},S.jh=function(e,t){this.ne(e),t==1/0||this.U()||(this.g=Math.max(this.g,t))},S.wi=function(){return this.g},S.ie=function(){this.u=!0},S.Wi=function(){return this.u},S.xh=function(e){this.m=e},S.ri=function(){return this.m},S.ne=function(e){this.j==null?this.j=e:this.I||(this.j=Math.min(this.j,e))},S.Tf=function(e){this.h=Math.max(this.h,e)},S.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},S.U=function(){return this.l==1/0&&!this.B},S.yc=function(){return this.l!=1/0&&!this.B},S.pb=function(){return Math.max(this.H,this.cc()-this.o)},S.Bh=function(e){this.H=e},S.cc=function(){return this.U()||this.yc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},S.qd=function(e){var t=Math.max(this.j,this.H);return this.o==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.cc()-this.o+e,this.ob()))},S.Hb=function(){return this.qd(0)},S.ob=function(){return Math.max(0,this.cc()-(this.U()||this.yc()?this.C:0))},S.Kh=function(){return!(this.i==null||this.g!=null&&this.F)},S.vh=function(e){this.G=e},S.ii=function(){return this.G},me("shaka.media.PresentationTimeline",xe),xe.prototype.getAvailabilityTimeOffset=xe.prototype.ii,xe.prototype.setAvailabilityTimeOffset=xe.prototype.vh,xe.prototype.usingPresentationStartTime=xe.prototype.Kh,xe.prototype.getSeekRangeEnd=xe.prototype.ob,xe.prototype.getSeekRangeStart=xe.prototype.Hb,xe.prototype.getSafeSeekRangeStart=xe.prototype.qd,xe.prototype.getSegmentAvailabilityEnd=xe.prototype.cc,xe.prototype.setUserSeekStart=xe.prototype.Bh,xe.prototype.getSegmentAvailabilityStart=xe.prototype.pb,xe.prototype.isInProgress=xe.prototype.yc,xe.prototype.isLive=xe.prototype.U,xe.prototype.offset=xe.prototype.offset,xe.prototype.notifyMaxSegmentDuration=xe.prototype.Tf,xe.prototype.notifyMinSegmentStartTime=xe.prototype.ne,xe.prototype.getInitialProgramDateTime=xe.prototype.ri,xe.prototype.setInitialProgramDateTime=xe.prototype.xh,xe.prototype.isStartTimeLocked=xe.prototype.Wi,xe.prototype.lockStartTime=xe.prototype.ie,xe.prototype.getMaxSegmentEndTime=xe.prototype.wi,xe.prototype.notifyPeriodDuration=xe.prototype.jh,xe.prototype.notifySegments=xe.prototype.Ed,xe.prototype.notifyTimeRange=xe.prototype.kh,xe.prototype.getDelay=xe.prototype.li,xe.prototype.setDelay=xe.prototype.jg,xe.prototype.getSegmentAvailabilityDuration=xe.prototype.ae,xe.prototype.setSegmentAvailabilityDuration=xe.prototype.Ce,xe.prototype.setStatic=xe.prototype.Gc,xe.prototype.setClockOffset=xe.prototype.wh,xe.prototype.getPresentationStartTime=xe.prototype.Bi,xe.prototype.setDuration=xe.prototype.bb,xe.prototype.setPresentationStartTime=xe.prototype.yh,xe.prototype.getMaxSegmentDuration=xe.prototype.vi,xe.prototype.getDuration=xe.prototype.getDuration;function xn(e,t,n,i){var r=this;this.u=i,this.g=e,this.B=t,this.h=n,this.o=new $e,this.l=!1,this.F=e.readyState,this.G=this.C=this.j=0,this.m=ua(this),this.A=!1,this.o.D(e,"waiting",function(){return Hr(r)}),this.i=new Ke(function(){Hr(r)}).ua(this.h.gapJumpTimerTime)}xn.prototype.release=function(){this.o&&(this.o.release(),this.o=null),this.i!=null&&(this.i.stop(),this.i=null),this.m&&(this.m.release(),this.m=null),this.g=this.B=this.u=null},xn.prototype.qe=function(){this.A=!0,this.i&&this.i.ua(this.h.gapJumpTimerTime),Hr(this)};function Hr(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.j&&(e.g.autoplay||e.g.currentTime!=e.j)){e.g.readyState!=e.F&&(e.F=e.g.readyState);var t;if(!(t=!e.m)){t=e.m;var n=t.j,i=oa(n),r=n.g.currentTime,o=Date.now()/1e3;(t.g!=r||t.m!=i)&&(t.l=o,t.g=r,t.m=i,t.h=!1),r=o-t.l,(i=r>=t.o&&i&&!t.h)&&(t.i&&t.i(t.g,r),t.h=!0,t.g=n.g.currentTime),t=!i}t&&(t=e.g.currentTime,n=e.g.buffered,i=wm(n,t,e.h.gapDetectionThreshold),i==null||i==0&&!e.A||(r=n.start(i),(o=e.h.gapPadding)&&(r=Math.ceil(100*(r+o))/100),r>=e.B.ob()||.001>r-t||(i!=0&&n.end(i-1),e.g.currentTime=r,t==e.j&&(e.j=r),e.C++,e.u(new fe("gapjumped")))))}}}function ua(e){if(!e.h.stallEnabled)return null;var t=e.h.stallSkip;return new gd(new Vr(e.g),e.h.stallThreshold,function(){var n;return L(function(i){if(i.g==1)return n=Si(e.g.buffered),n.length?t?(e.g.currentTime+=t,i.s(2)):C(i,e.g.play(),3):i.return();if(i.g!=2){if(!e.g)return i.return();e.g.pause(),e.g.play()}e.G++,e.u(new fe("stalldetected")),le(i)})})}function gd(e,t,n){this.j=e,this.m=oa(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=t,this.i=n}gd.prototype.release=function(){this.i=this.j=null};function Vr(e){this.g=e}function oa(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=x(Si(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Gu(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=sr.value().get(t),n.ma(e,t,i))}var sr=new eo(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function md(e,t,n,i){var r=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return r.l==null&&(r.l=i()),r.l},this.o=!1,this.h=new $e,this.i=new fi(e),Gu(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){zc(r,r.j())})}md.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function Hc(e){return e.o?e.g.currentTime:e.j()}function Vc(e,t){0<e.g.readyState?Do(e.i,t):Gu(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){zc(e,e.j())})}function zc(e,t){.001>Math.abs(e.g.currentTime-t)?Co(e):(e.h.ma(e.g,"seeking",function(){Co(e)}),Do(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function Co(e){e.o=!0,e.h.D(e.g,"seeking",function(){return e.m()}),e.u(e.g.currentTime)}function fi(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new Ke(function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}fi.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function Do(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.ua(.1)}function sa(e){this.h=e,this.j=!1,this.g=null,this.i=new $e}S=sa.prototype,S.ready=function(){function e(){if(t.g==null||t.g==0&&t.h.duration!=1/0)t.j=!0;else{var n=t.h.currentTime,i=t.g;0>t.g&&(i=Math.max(0,n+t.g)),n!=i?(t.i.ma(t.h,"seeking",function(){t.j=!0}),t.h.currentTime=i):t.j=!0}}var t=this;Gu(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},S.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},S.af=function(e){this.g=this.j?this.g:e},S.Od=function(){return(this.j?this.h.currentTime:this.g)||0},S.Ag=function(){return 0},S.zg=function(){return 0},S.ih=function(){};function aa(e,t,n,i,r,o){var a=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.u=r,this.o=null,this.j=new xn(e,t.presentationTimeline,n,o),this.h=new md(e,function(){e:{var l=a.j;l.l=!0,l.A=!1,l.i&&l.i.ua(l.h.gapJumpTimerTime),Hr(l);var f=Hc(a.h);if(l=yd(a,f),!Cf()&&.001<Math.abs(l-f)){if(f=!1,!Wi()||Wi()&&no())f=!0;else{var h=Date.now()/1e3,p=Wi()&&ba()?3:1;(!a.o||a.o<h-p)&&(a.o=h,f=!0)}if(f){Vc(a.h,l),l=void 0;break e}}a.u(),l=void 0}return l},function(l){var f=a.j;f.g.seeking&&!f.l&&(f.l=!0,f.j=l),f.i&&f.i.ua(f.h.gapJumpTimerTime),Hr(f)},function(){var l=i;return l==null?l=1/0>a.g.getDuration()?a.g.Hb():a.g.ob():0>l&&(l=a.g.ob()+l),vd(a,Ep(a,l))}),this.m=new Ke(function(){if(a.i.readyState!=0&&!a.i.paused){var l=Hc(a.h),f=a.g.Hb(),h=a.g.ob();3>h-f&&(f=h-3),l<f&&(l=yd(a,l),a.i.currentTime=l)}})}S=aa.prototype,S.ready=function(){this.m.ua(.25)},S.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},S.af=function(e){Vc(this.h,e)},S.Od=function(){var e=Hc(this.h);return 0<this.i.readyState&&!this.i.paused?Ep(this,e):e},S.Ag=function(){return this.j.G},S.zg=function(){return this.j.C},S.ih=function(){this.j.qe()};function vd(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function yd(e,t){var n=e.l.rebufferingGoal,i=e.l.safeSeekOffset,r=e.g.Hb(),o=e.g.ob(),a=e.g.getDuration();3>o-r&&(r=o-3);var l=e.g.qd(n),f=e.g.qd(i);return n=e.g.qd(n+i),t>=a?vd(e,t):t>o?o-e.l.safeSeekEndOffset:t<r?ad(e.i.buffered,f)?f:n:t>=l||ad(e.i.buffered,t)?t:n}function Ep(e,t){var n=e.g.Hb();return t<n?n:(e=e.g.ob(),t>e?e:t)}function st(e){this.g=e,this.m=null,this.i=0,this.o=!1}S=st.prototype,S.getNumReferences=function(){return this.g.length},S.getNumEvicted=function(){return this.i},S.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},S.bj=function(){this.o=!0},S.Eb=function(e){for(var t=x(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function Mr(e){return e.g[0]||null}S.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},S.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},S.offset=function(e){if(!this.o)for(var t=x(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},S.ke=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,ce(e))}},S.Bd=function(e,t){var n=this;e=e.filter(function(i){return i.endTime>t&&(n.g.length==0||i.endTime>n.g[0].startTime)}),this.ke(e),this.Oa(t)},S.Oa=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},S.Oc=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new Me(e.startTime,t,e.C,e.Sa,e.wa,e.$,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},S.Ie=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new Ke(function(){var i=t();i?n.g.push.apply(n.g,ce(i)):(n.m.stop(),n.m=null)}),this.m.ua(e))},st.prototype[Symbol.iterator]=function(){return this.Gb(0)},st.prototype.Gb=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var i=this.find(e);if(i==null)return null;var r=this.get(i);n?i++:i--;var o=-1;if(r&&0<r.g.length)for(var a=r.g.length-1;0<=a;--a){var l=r.g[a];if(e>=l.startTime&&e<l.endTime){if(!t){for(;a&&!l.l;)a--,l=r.g[a];if(!l.l)return Jr("No independent partial segment found!"),null}n?i--:i++,o=a-1;break}}return new ar(this,i,o,n)};function Ni(e,t,n){return e=new Me(e,e+t,function(){return n},0,null,null,e,e,e+t),new st([e])}me("shaka.media.SegmentIndex",st),st.forSingleSegment=Ni,st.prototype.getIteratorForTime=st.prototype.Gb,st.prototype.updateEvery=st.prototype.Ie,st.prototype.fit=st.prototype.Oc,st.prototype.evict=st.prototype.Oa,st.prototype.mergeAndEvict=st.prototype.Bd,st.prototype.offset=st.prototype.offset,st.prototype.get=st.prototype.get,st.prototype.find=st.prototype.find,st.prototype.markImmutable=st.prototype.bj,st.prototype.release=st.prototype.release,st.prototype.getNumEvicted=st.prototype.getNumEvicted,st.prototype.getNumReferences=st.prototype.getNumReferences;function ar(e,t,n,i){this.i=e,this.h=t,this.g=n,this.reverse=i}S=ar.prototype,S.ed=function(e){this.reverse=e},S.di=function(){return this.h},S.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.A&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},S.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.A&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},S.dg=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},me("shaka.media.SegmentIterator",ar),ar.prototype.resetToLastIndependent=ar.prototype.dg,ar.prototype.next=ar.prototype.next,ar.prototype.current=ar.prototype.current,ar.prototype.currentPosition=ar.prototype.di,ar.prototype.setReverse=ar.prototype.ed;function vt(){st.call(this,[]),this.h=[]}Yt(vt,st),S=vt.prototype,S.clone=function(){var e=new vt;return e.h=this.h.slice(),e.i=this.i,e},S.release=function(){for(var e=x(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},S.Eb=function(e){for(var t=x(this.h),n=t.next();!n.done;n=t.next())n.value.Eb(e)},S.find=function(e){for(var t=this.i,n=x(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(r!=null)return r+t;t+=i.getNumEvicted()+i.getNumReferences()}return null},S.get=function(e){for(var t=this.i,n=x(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;r=i.getNumReferences(),t+=i.getNumEvicted()+r}return null},S.offset=function(){},S.ke=function(){},S.Oa=function(e){for(var t=x(this.h),n=t.next();!n.done;n=t.next())n.value.Oa(e);for(;1<this.h.length&&this.h[0].getNumReferences()==0;)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},S.Bd=function(){},S.Oc=function(){},S.Ie=function(){},me("shaka.media.MetaSegmentIndex",vt),vt.prototype.updateEvery=vt.prototype.Ie,vt.prototype.fit=vt.prototype.Oc,vt.prototype.mergeAndEvict=vt.prototype.Bd,vt.prototype.evict=vt.prototype.Oa,vt.prototype.merge=vt.prototype.ke,vt.prototype.offset=vt.prototype.offset,vt.prototype.get=vt.prototype.get,vt.prototype.find=vt.prototype.find,vt.prototype.forEachTopLevelReference=vt.prototype.Eb,vt.prototype.release=vt.prototype.release;function Tl(e){var t=this;this.g=e,this.j=!1,this.i=this.g.$d(),this.h=new Ke(function(){t.g.gh(.25*t.i)})}Tl.prototype.release=function(){this.set(this.sc()),this.h&&(this.h.stop(),this.h=null),this.g=null},Tl.prototype.set=function(e){this.i=e,Sd(this)},Tl.prototype.sc=function(){return this.g.sc()};function Sd(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.$d()!=t&&e.g.mg(t);return}catch(n){}e.h.ua(.25),e.g.$d()!=0&&e.g.mg(0)}function Ap(e){var t=this;this.j=e,this.h=new $e,this.g=new Set,this.i=new Ke(function(){Io(t,!1)}).sb(),e.paused||this.i.ua(.25),this.h.D(e,"playing",function(){t.i.sb().ua(.25)}),this.h.D(e,"pause",function(){t.i.stop()})}Ap.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=x(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function Io(e,t){var n=e.j.currentTime;e=x(e.g);for(var i=e.next();!i.done;i=e.next())i.value.j(n,t)}function la(e){wt.call(this),this.g=new Map,this.h=e}Yt(la,wt),la.prototype.release=function(){this.g.clear(),wt.prototype.release.call(this)};function Mp(e,t){var n=e.g.get(t);return n||(n={Jd:[],mf:null,contentType:t},e.g.set(t,n)),n}function xl(e,t,n){var i=Mp(e,t.contentType);Im(e,i),e={Wc:t,position:n},i=i.Jd,t=i.findIndex(function(r){return r.position>=n}),0<=t?i.splice(t,i[t].position==n?1:0,e):i.push(e)}la.prototype.j=function(e){for(var t=x(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var i=n.mf;e:{for(var r=n.Jd,o=r.length-1;0<=o;o--){var a=r[o];if(a.position<=e){r=a.Wc;break e}}r=null}o=r&&!(i===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width),a=r&&i&&r.label&&i.label&&i.label!==r.label;var l=r&&i&&r.language&&i.language&&i.language!==r.language;i=r&&i&&r.roles&&i.roles&&!za(i.roles,r.roles),(a||l||i)&&Cp(this,e,r.contentType)&&(n.mf=r,i=new fe("audiotrackchange",new Map([["quality",r],["position",e]])),this.dispatchEvent(i)),o&&Cp(this,e,r.contentType)&&(n.mf=r,JSON.stringify(r),n=new fe("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}};function Cp(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function Im(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,i=e[e.length-1].end,r=t.Jd;t.Jd=r.filter(function(o,a){return!(o.position<=n&&a+1<r.length&&r[a+1].position<=n||o.position>=i)})}else t.Jd=[]}function Gc(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function ca(e){wt.call(this),this.h=new Map,this.i=e,this.g=null}Yt(ca,wt),ca.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),wt.prototype.release.call(this)};function Xc(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+(t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1));e.h.has(n)||(e.h.set(n,t),t=new fe("regionadd",new Map([["region",t]])),e.dispatchEvent(t),Ay(e))}function Ay(e){e.g||(e.g=new Ke(function(){for(var t=e.i(),n=x(e.h),i=n.next();!i.done;i=n.next()){var r=x(i.value);i=r.next().value,r=r.next().value,r.endTime<t.start&&(e.h.delete(i),i=new fe("regionremove",new Map([["region",r]])),e.dispatchEvent(i))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)}).ua(2))}function Td(e,t,n,i){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=i}function My(e,t){e.l=t,e=x(e.h.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function wl(e,t,n){if(n=n===void 0?!1:n,!e.i.segmentIndex||(e.g||(e.g=e.i.segmentIndex.Gb(t,!0,e.o)),!e.g))return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value,!!n);){var i=!0;n.isPreload()&&n.wa!=null&&(i=!1),n.dc()==2&&(i=!1),n.Ib(!1)&&(i=!1),i&&n.$&&t.push(Dp(e,n.$)),i&&!e.h.has(n)&&(i=new wd(e.l),t.push(Rp(i,n,e.i)),e.h.set(n,i))}return xd(e),Promise.all(t)}function Dp(e,t){if(!e.i.segmentIndex||t.Ib()||Array.from(e.j.keys()).some(function(r){return pl(r,t)}))return Promise.resolve();var n=new wd(e.l),i=Rp(n,t,e.i);return e.j.set(t,n),i}function fa(e,t){t=x(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&El(e,n)}function lr(e){fa(e,e.h),fa(e,e.j),e.g=null}Td.prototype.Oa=function(e,t){t=t===void 0?!1:t;for(var n=x(this.h.keys()),i=n.next();!i.done;i=n.next())i=i.value,e>i.endTime&&El(this,i);t&&xd(this)},Td.prototype.ed=function(e){this.o=e,this.g&&this.g.ed(e)};function xd(e){for(var t=Array.from(e.h.keys()),n=x(e.j.keys()),i=n.next(),r={};!i.done;r={Nf:void 0},i=n.next())r.Nf=i.value,t.some(function(o){return function(a){return pl(a.$,o.Nf)}}(r))||El(e,r.Nf)}function Ip(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var i=n.pop();i&&El(e,i)}xd(e)}function Rm(e,t){t&&t!==e.i&&(lr(e),e.i=t)}function El(e,t){var n=e.h;t instanceof yi&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function wd(e){this.g=e,this.Gd=this.pg=null}function Rp(e,t,n){var i=new Uint8Array(0);return e.Gd=e.g(t,n,function(r){return L(function(o){if(o.g==1)return 0<i.byteLength?i=Vt(i,r):i=r,e.pg?C(o,e.pg(i),3):o.s(0);i=new Uint8Array(0),le(o)})}),e.Gd.promise.catch(function(r){return r instanceof O&&r.code==7001?Promise.resolve():Promise.reject(r)})}wd.prototype.abort=function(){this.Gd&&this.Gd.abort()};function da(e){var t=cn(e),n=t.split("/")[0];return e=mi(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Nd:null,colorGamut:null,frameRate:null}}function km(e,t,n){function i(k){M=k.name;var P=k.reader;P.skip(24);var j=P.na(),V=P.na();P.skip(50),y=String(j),g=String(V),k.reader.ta()&&Ve(k)}function r(k){var P=op(k.reader);T=P.channelCount,w=P.sampleRate,o(k.name)}function o(k){switch(k=k.toLowerCase(),k){case"avc1":case"avc3":l.push(k+".42E01E"),h=!0;break;case"hev1":case"hvc1":l.push(k+".1.6.L93.90"),h=!0;break;case"dvh1":case"dvhe":l.push(k+".05.04"),h=!0;break;case"vp09":l.push(k+".00.10.08"),h=!0;break;case"av01":l.push(k+".0.01M.08"),h=!0;break;case"mp4a":a.push("mp4a.40.2"),f=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":a.push(k),f=!0}}var a=[],l=[],f=!1,h=!1,p=null,g=null,y=null,T=null,w=null,A=null,E=null,M;if(new At().box("moov",Ve).box("trak",Ve).box("mdia",Ve).R("mdhd",function(k){p=Qs(k.reader,k.version).language}).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("mp4a",function(k){var P=op(k.reader);T=P.channelCount,w=P.sampleRate,k.reader.ta()?Ve(k):o(k.name)}).box("esds",function(k){k=k.reader;for(var P="mp4a",j,V;k.ta();){j=k.X();for(var H=k.X();H&128;)H=k.X();if(j==3)k.na(),H=k.X(),H&128&&k.na(),H&64&&k.skip(k.X()),H&32&&k.na();else if(j==4)V=k.X(),k.skip(12);else if(j==5)break}V&&(P+="."+Ri(V),j==5&&k.ta()&&(j=k.X(),V=(j&248)>>3,V===31&&k.ta()&&(V=32+((j&7)<<3)+((k.X()&224)>>5)),P+="."+V)),a.push(P),f=!0}).box("ac-3",r).box("ec-3",r).box("ac-4",r).box("Opus",r).box("fLaC",r).box("avc1",i).box("avc3",i).box("hev1",i).box("hvc1",i).box("dva1",i).box("dvav",i).box("dvh1",i).box("dvhe",i).box("vp09",i).box("av01",i).box("avcC",function(k){var P=M||"";switch(M){case"dvav":P="avc3";break;case"dva1":P="avc1"}k=k.reader,k.skip(1),k=P+"."+Ri(k.X())+Ri(k.X())+Ri(k.X()),l.push(k),h=!0}).box("hvcC",function(k){var P=M||"";switch(M){case"dvh1":P="hvc1";break;case"dvhe":P="hev1"}var j=k.reader;j.skip(1),k=j.X();var V=["","A","B","C"][k>>6],H=k&31,z=j.S(),K=(k&32)>>5?"H":"L";k=[j.X(),j.X(),j.X(),j.X(),j.X(),j.X()],j=j.X();for(var X=0,Z=0;32>Z&&(X|=z&1,Z!=31);Z++)X<<=1,z>>=1;for(P=P+("."+V+H)+("."+Ri(X,!0)),P+="."+K+j,V="",H=k.length;H--;)((K=k[H])||V)&&(V="."+K.toString(16).toUpperCase()+V);P+=V,l.push(P),h=!0}).box("dvcC",function(k){var P=M||"";switch(M){case"hvc1":P="dvh1";break;case"hev1":P="dvhe";break;case"avc1":P="dva1";break;case"avc3":P="dvav";break;case"av01":P="dav1"}var j=k.reader;j.skip(2),k=j.X(),j=j.X(),l.push(P+"."+Tn(k>>1&127)+"."+Tn(k<<5&32|j>>3&31)),h=!0}).box("dvvC",function(k){var P=M||"";switch(M){case"hvc1":P="dvh1";break;case"hev1":P="dvhe";break;case"avc1":P="dva1";break;case"avc3":P="dvav";break;case"av01":P="dav1"}var j=k.reader;j.skip(2),k=j.X(),j=j.X(),l.push(P+"."+Tn(k>>1&127)+"."+Tn(k<<5&32|j>>3&31)),h=!0}).R("vpcC",function(k){var P=M||"",j=k.reader;k=j.X();var V=j.X();j=j.X()>>4&15,l.push(P+"."+Tn(k)+"."+Tn(V)+"."+Tn(j)),h=!0}).box("av1C",function(k){var P=M||"";switch(M){case"dav1":P="av01"}var j=k.reader;j.skip(1),k=j.X(),j=j.X();var V=k>>>5,H=(j&64)>>6;l.push(P+"."+V+"."+Tn(k&31)+(j>>>7?"H":"M")+"."+Tn(V===2&&H?(j&32)>>5?12:10:H?10:8)+"."+((j&16)>>4)+"."+((j&8)>>3)+((j&4)>>2)+(j&3)+"."+Tn(1)+"."+Tn(1)+"."+Tn(1)+".0"),h=!0}).box("enca",wc).box("encv",Pt).box("sinf",Ve).box("frma",function(k){k=Zs(k.reader).codec,o(k)}).box("colr",function(k){l=l.map(function(V){if(V.startsWith("av01.")){var H=k.reader,z=H.Ba(),K=H.Cb(4),X=String.fromCharCode(K[0]);if(X+=String.fromCharCode(K[1]),X+=String.fromCharCode(K[2]),X+=String.fromCharCode(K[3]),X==="nclx"){K=H.na(),X=H.na();var Z=H.na(),Y=H.X()>>7,ie=V.split(".");ie.length==10&&(ie[6]=Tn(K),ie[7]=Tn(X),ie[8]=Tn(Z),ie[9]=String(Y),V=ie.join("."))}H.seek(z)}return V});var P=hm(k.reader),j=P.colorGamut;A=P.Nd,E=j}).parse(e||t,!0),!a.length&&!l.length)return null;var I=f&&!h,U=new Map;if(h&&!n){n=new tr("video/mp4"),e&&n.init(e);try{n.i(t);for(var _=x(n.j()),b=_.next();!b.done;b=_.next()){var N=b.value;U.set(N,N)}}catch(k){}n.g()}return{type:I?"audio":"video",mimeType:I?"audio/mp4":"video/mp4",codecs:Ed(a.concat(l)).join(", "),language:p,height:g,width:y,channelCount:T,sampleRate:w,closedCaptions:U,Nd:A,colorGamut:E,frameRate:null}}function Ed(e){var t=new Set,n=[];e=x(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=Zo(i);t.has(r)||(n.push(i),t.add(r))}return t=Ba("audio",n),i=Ba("video",n),e=Ba(Xe,n),i=fn(i),t=t.concat(i).concat(e),n.length&&!t.length?n:t}function fn(e){if(1>=e.length)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?On('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function kp(e){var t=null;return new At().box("moov",Ve).box("trak",Ve).box("mdia",Ve).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("encv",Pt).box("enca",wc).box("sinf",Ve).box("schi",Ve).R("tenc",function(n){n=n.reader,n.X(),n.X(),n.X(),n.X(),t=Cu(n.Cb(16))}).parse(e,!0),t}function Np(e,t,n){var i,r,o,a,l;return L(function(f){if(f.g==1)return i=t,i.cryptoKey?f.s(2):C(f,i.fetchKey(),3);if(r=i.iv,!r)for(r=Ue(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+n,a=r.byteLength-1;0<=a;a--)r[a]=o&255,o>>=8;return t.blockCipherMode=="CBC"?l={name:"AES-CBC",iv:r}:l={name:"AES-CTR",counter:r,length:64},f.return(F.crypto.subtle.decrypt(l,i.cryptoKey,e))})}function Al(e,t,n,i,r){return e=mn(e,i,r),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Nm(e,t){var n=this;this.g=t,this.j=e,this.h=null,this.K=new Map,this.C=1,this.u=this.l=null,this.O=0,this.i=new Map,this.I=!1,this.P=null,this.B=!1,this.m=new du(function(){return Cy(n)}),this.L=Date.now()/1e3,this.o=new Map,this.M={projection:null,hfov:null},this.W=0,this.T=1/0,this.F=null,this.A=new Ke(function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var i=n.j.presentationTimeline.Hb(),r=n.j.presentationTimeline.ob();1<r-i?Pc(n.g.aa,i,r):ls(n.g.aa)}else ls(n.g.aa),n.A&&n.A.stop()}),this.G=null,this.H=new Ke(function(){var i=n.g.video;!i.ended&&n.G&&(i.currentTime=n.G,n.G=null)})}S=Nm.prototype,S.destroy=function(){return this.m.destroy()};function Cy(e){var t,n,i,r,o,a,l;return L(function(f){if(f.g==1){for(t=[],n=x(e.i.values()),i=n.next();!i.done;i=n.next())r=i.value,ga(r),t.push(ma(r)),r.ba&&(lr(r.ba),r.ba=null);for(o=x(e.o.values()),a=o.next();!a.done;a=o.next())l=a.value,lr(l);return C(f,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.j=null,e.h=null,e.A&&e.A.stop(),e.A=null,e.H&&e.H.stop(),e.H=null,e.G=null,le(f)})}S.configure=function(e){if(this.h=e,this.P=new zh({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(lr(t.ba),t.ba=null),t=x(this.o.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,lr(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(Xe))&&t.ba&&(lr(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(lr(t.ba),t.ba=null),t=x(this.i.keys()),n=t.next();!n.done;n=t.next())n=this.i.get(n.value),n.ba?(Ip(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(lr(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=Cd(this,n.stream));e.disableAudioPrefetch||Um(this)};function Dy(e,t,n){e.j.presentationTimeline.U()||(e.W=t,e.T=n)}S.start=function(e){var t=this;return L(function(n){if(n.g==1)return C(n,Lm(t,e||new Map),2);kt(t.m),t.I=!0,le(n)})};function Ad(e,t){var n,i,r,o,a,l;L(function(f){switch(f.g){case 1:return n=an,e.O++,i=e.O,Se(f,2),C(f,Tp(e.g.aa,n.za),4);case 4:Pe(f,3);break;case 2:r=Te(f),e.g&&e.g.onError(r);case 3:o=Zt(t.mimeType,t.codecs),ki(e.g.aa,o,e.j.sequenceMode,t.external),a=e.g.aa.ea,(a.isTextVisible()||e.h.alwaysStreamText)&&e.O==i&&(l=Yc(e,t),e.i.set(n.za,l),ei(e,l,0)),le(f)}})}function Ml(e){var t=e.i.get(Xe);t&&(ga(t),ma(t).catch(function(){}),e.F=e.i.get(Xe),e.i.delete(Xe)),e.u=null}function qc(e,t){for(var n=0>e.g.gb(),i=x(e.i.values()),r=i.next();!r.done;r=i.next())r=r.value,r.ja&&r.ja.ed(n),r.ba&&r.ba.ed(n);for(i=x(e.o.values()),r=i.next();!r.done;r=i.next())r.value.ed(n);(n=e.i.get("video"))&&(i=n.stream)&&(t?(t=i.trickModeVideo)&&!n.fc&&(Gi(e,t,!1,0,!1),n.fc=i):(t=n.fc)&&(n.fc=null,Gi(e,t,!0,0,!1)))}function Fc(e,t,n,i,r,o){n=n===void 0?!1:n,i=i===void 0?0:i,r=r===void 0?!1:r,o=o===void 0?!1:o,e.l=t,e.I&&(t.video&&Gi(e,t.video,n,i,r,o),t.audio&&Gi(e,t.audio,n,i,r,o))}function Cl(e,t){L(function(n){if(n.g==1)return e.F=null,e.u=t,e.I?t.segmentIndex?n.s(2):C(n,t.createSegmentIndex(),2):n.return();Gi(e,t,!0,0,!1),le(n)})}function ha(e,t){for(var n=x(e.K.entries()),i=n.next();!i.done;i=n.next()){var r=x(i.value);i=r.next().value,r=r.next().value,i.includes(t.type)&&(r(),e.K.delete(i))}}function Gi(e,t,n,i,r,o){var a=e.i.get(t.type);a||t.type!=Xe?a&&(a.fc&&(t.trickModeVideo?(a.fc=t,t=t.trickModeVideo):a.fc=null),a.stream!=t||r)&&(e.o.has(t)?a.ba=e.o.get(t):a.ba&&Rm(a.ba,t),t.type==Xe&&(r=Zt(t.mimeType,t.codecs),ki(e.g.aa,r,e.j.sequenceMode,t.external)),!e.o.has(a.stream)&&a.stream.closeSegmentIndex&&(a.Da?(r="("+a.type+":"+a.stream.id+")",e.K.has(r)||e.K.set(r,a.stream.closeSegmentIndex)):a.stream.closeSegmentIndex()),r=a.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,a.stream=t,a.ja=null,a.bf=!!o,t.dependencyStream?a.nd=Yc(e,t.dependencyStream):a.nd=null,r?ya(e,!0,!1):(n?a.nc?a.Re=!0:a.Da?(a.lc=!0,a.Vd=i,a.Re=!0):(ga(a),Il(e,a,!0,i).catch(function(l){e.g&&e.g.onError(l)})):a.Da||a.kb||ei(e,a,0),Kc(e,a).catch(function(l){e.g&&e.g.onError(l)}))):Ad(e,t)}function Kc(e,t){var n,i;return L(function(r){if(r.g==1)return t.rb?(n=t.stream,i=t.rb,n.segmentIndex?r.s(2):C(r,n.createSegmentIndex(),2)):r.return();if(t.rb!=i||t.stream!=n)return r.return();var o=e.g.Rc(),a=os(e.g.aa,t.type),l=t.stream.segmentIndex.find(t.xa?t.xa.endTime:o),f=l==null?null:t.stream.segmentIndex.get(l);l=f&&f.wa?f.wa-f.Sa:null,f&&!l&&(l=(f.endTime-f.getStartTime())*(t.stream.bandwidth||0)/8),l?((f=f.$)&&(l+=(f.wa?f.wa-f.Sa:null)||0),f=e.g.getBandwidthEstimate(),o=8*l/f<(a||0)-o-e.h.rebufferingGoal||t.rb.h.g>l):o=!1,o&&t.rb.abort(),le(r)})}S.Fc=function(){if(this.g){for(var e=this.g.Rc(),t=x(this.i.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=this.i.get(i);var r=this.g.aa;if(i==Xe?(r=r.h,r=r.g==null||r.h==null?!1:e>=r.g&&e<r.h):(r=Br(r,i),r=ad(r,e)),!r){if(this.L=0,n.ba&&(n.ba.g=null),n.type==="audio"){r=x(this.o.values());for(var o=r.next();!o.done;o=r.next())o.value.g=null}n.ja=null,(os(this.g.aa,i)!=null||n.Da)&&Md(this,n),n.rb&&(n.rb.abort(),n.rb=null),i===Xe&&(i=this.g.aa,i.L&&i.L.g()),n.Fc=!0}}this.h.crossBoundaryStrategy!=="keep"&&Id(this)}};function Md(e,t){t.nc||t.lc||(t.Da?(t.lc=!0,t.Vd=0):zi(e.g.aa,t.type)==null?t.kb==null&&ei(e,t,0):(ga(t),Il(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function Lm(e,t){var n,i,r,o,a,l,f,h,p,g;return L(function(y){if(y.g==1){if(n=an,!e.l)throw new O(2,5,5006);return i=new Map,r=new Set,e.l.audio&&(i.set(n.V,e.l.audio),r.add(e.l.audio)),e.l.video&&(i.set(n.la,e.l.video),r.add(e.l.video)),e.u&&(i.set(n.za,e.u),r.add(e.u)),o=e.g.aa,C(y,o.init(i,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(kt(e.m),e.updateDuration(),a=x(i.keys()),l=a.next();!l.done;l=a.next())f=l.value,h=i.get(f),e.i.has(f)||(p=Yc(e,h),t.has(h.id)&&(g=t.get(h.id),My(g,function(T,w,A){return Dl(T,w,A||null,e.h.retryParameters,e.g.Xb)}),p.ba=g),e.i.set(f,p),ei(e,p,0));le(y)})}function Yc(e,t){var n={stream:t,type:t.type,ja:null,ba:Cd(e,t),xa:null,yb:null,he:null,Ac:null,zc:null,fe:null,ge:null,fc:null,endOfStream:!1,Da:!1,kb:null,lc:!1,Vd:0,Re:!1,nc:!1,Fc:!0,bf:!1,bg:!1,sd:!1,rb:null,nd:null};return t.dependencyStream&&(n.nd=Yc(e,t.dependencyStream)),n}function Cd(e,t){if(t.type==="video"&&e.h.disableVideoPrefetch||t.type==="audio"&&e.h.disableAudioPrefetch||t.type===Xe&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===Xe&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new Td(e.h.segmentPrefetchLimit,t,function(i,r,o){return Dl(i,r,o||null,e.h.retryParameters,e.g.Xb)},0>e.g.gb()):null}function Um(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,i=x(e.j.variants),r=i.next(),o={};!r.done;o={wb:void 0},r=i.next())if(o.wb=r.value,o.wb.audio)if(e.o.has(o.wb.audio)){if(r=e.o.get(o.wb.audio),Ip(r,t),!(0<t&&n.some(function(l){return function(f){return Fn(l.wb.audio.language,f)}}(o)))){var a=e.i.get(o.wb.audio.type);r!==(a&&a.ba)&&lr(r),e.o.delete(o.wb.audio)}}else 0>=t||!n.some(function(l){return function(f){return Fn(l.wb.audio.language,f)}}(o))||!(r=Cd(e,o.wb.audio))||(o.wb.audio.segmentIndex||o.wb.audio.createSegmentIndex(),e.o.set(o.wb.audio,r))}S.updateDuration=function(){var e=Cf(),t=this.j.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),ls(this.g.aa)),this.g.aa.bb(t)):e?(this.A&&this.A.ua(.5),this.g.aa.bb(1/0)):this.g.aa.bb(Math.pow(2,32))};function Iy(e,t){var n,i,r,o,a,l;return L(function(f){switch(f.g){case 1:if(kt(e.m),t.Da||t.kb==null||t.nc)return f.return();if(t.kb=null,!t.lc){f.s(2);break}return C(f,Il(e,t,t.Re,t.Vd),3);case 3:return f.return();case 2:if(ha(e,t),t.stream.segmentIndex){f.s(4);break}return n=t.stream,Se(f,5),C(f,t.stream.createSegmentIndex(),7);case 7:Pe(f,6);break;case 5:return i=Te(f),C(f,va(e,t,i),8);case 8:return f.return();case 6:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Da||t.kb||ei(e,t,0),f.return();case 4:Se(f,9),r=Lp(e,t),r!=null&&(ei(e,t,r),t.sd=!1),Pe(f,10);break;case 9:return o=Te(f),C(f,va(e,t,o),11);case 11:return f.return();case 10:if(a=Array.from(e.i.values()),!e.I||!a.every(function(h){return h.endOfStream})){f.s(0);break}return C(f,e.g.aa.endOfStream(),13);case 13:kt(e.m),l=e.g.aa.getDuration(),l!=0&&l<e.j.presentationTimeline.getDuration()&&e.j.presentationTimeline.bb(l),le(f)}})}function Lp(e,t){if(Dd(t))return Sp(e.g.aa,t.stream.originalId||""),null;if(t.type==Xe&&Hu(e.g.aa),t.stream.isAudioMuxedInVideo)return null;var n=e.h.updateIntervalSeconds/Math.max(1,Math.abs(e.g.gb()));if(!pd(e.g.aa)&&t.type!=Xe)return n/2;var i=e.g.Rc();if(t.type==="audio")for(var r=x(e.o.keys()),o=r.next();!o.done;o=r.next())o=e.o.get(o.value),o.Oa(i,!0),wl(o,i);r=t.xa?t.xa.endTime:i;var a=ss(e.g.aa,t.type,i),l=Math.max(1,Math.max(e.h.rebufferingGoal,e.h.bufferingGoal)*e.C),f=e.j.presentationTimeline.getDuration()-r;if(o=os(e.g.aa,t.type),1e-6>f&&o)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(Xe))&&Dd(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,a>=l)return n/2;if(l=!t.ja,o=_m(e,t,i,o),!o)return n;a=!1,l&&t.bf&&(a=!0,t.bf=!1),l=1/0,f=Array.from(e.i.values()),f=x(f);for(var h=f.next();!h.done;h=f.next())h=h.value,Dd(h)||h.ja&&!h.ja.current()||(l=Math.min(l,h.xa?h.xa.endTime:i));return r>=l+e.j.presentationTimeline.h?n:(e.h.crossBoundaryStrategy!=="keep"&&Ny(e,t,o)||(t.ba&&t.ja&&!e.o.has(t.stream)&&(t.ba.Oa(o.startTime),wl(t.ba,o.startTime).catch(function(){})),Om(e,t,i,o,a).catch(function(){}),t.nd&&Ry(e,t.nd,i)),null)}function _m(e,t,n,i){if(t.ja)return(n=t.ja.current())&&t.xa&&.001>Math.abs(t.xa.startTime-n.startTime)&&(n=t.ja.next().value),n;if(t.xa||i)return n=t.xa?t.xa.endTime:i,e=0>e.g.gb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),t.ja&&t.ja.next().value;i=e.j.sequenceMode?0:e.h.inaccurateManifestTolerance;var r=Math.max(n-i,0);e=0>e.g.gb();var o=null;return i&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(r,!1,e)),o=t.ja&&t.ja.next().value),o||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),o=t.ja&&t.ja.next().value),o}function Om(e,t,n,i,r){var o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b;return L(function(N){switch(N.g){case 1:if(o=an,a=t.stream,l=t.ja,t.Da=!0,Se(N,2),i.dc()==2)throw new O(1,1,1011);return C(N,ky(e,t,i,r),4);case 4:return kt(e.m),e.B?N.return():(f=a.mimeType=="video/mp4"||a.mimeType=="audio/mp4",h=F.ReadableStream,e.h.lowLatencyMode&&e.j.isLowLatency&&h&&f&&(e.j.type!="HLS"||i.m)?(y=new Uint8Array(0),w=T=!1,E=function(k){var P,j,V;return L(function(H){switch(H.g){case 1:if(T||(w=!0,kt(e.m),e.B))return H.return();if(Se(H,2),y=Up(y,k),P=!1,j=0,new At().box("mdat",function(z){j=z.size+z.start,P=!0}).parse(y,!1,!0),!P){H.s(4);break}return V=y.subarray(0,j),y=y.subarray(j),C(H,pa(e,t,n,a,i,V,!0,r),5);case 5:t.ba&&t.ja&&wl(t.ba,i.startTime,!0);case 4:Pe(H,0);break;case 2:A=Te(H),le(H)}})},C(N,Tt(e,t,i,E),9)):(p=Tt(e,t,i),C(N,p,7)));case 7:return g=N.h,kt(e.m),e.B?N.return():(kt(e.m),t.lc?(t.Da=!1,ei(e,t,0),N.return()):C(N,pa(e,t,n,a,i,g,!1,r),6));case 9:if(M=N.h,A)throw A;if(w){N.s(10);break}return T=!0,kt(e.m),e.B?N.return():t.lc?(t.Da=!1,ei(e,t,0),N.return()):C(N,pa(e,t,n,a,i,M,!1,r),10);case 10:t.ba&&t.ja&&wl(t.ba,i.startTime,!0);case 6:if(kt(e.m),e.B)return N.return();t.xa=i,l.next(),t.Da=!1,t.bg=!1,I=e.g.aa.Fb(),U=I[t.type],JSON.stringify(U),t.lc||(_=null,t.type===o.la?_=e.i.get(o.V):t.type===o.V&&(_=e.i.get(o.la)),_&&_.type==o.V?e.g.qe(i,t.stream,_.stream.isAudioMuxedInVideo):e.g.qe(i,t.stream,t.stream.codecs.includes(","))),ei(e,t,0),Pe(N,0);break;case 2:if(b=Te(N),kt(e.m,b),e.B)return N.return();if(t.Da=!1,b.code==7001)t.Da=!1,ga(t),ei(e,t,0),N.s(0);else if(t.type==o.za&&e.h.ignoreTextStreamFailures)e.i.delete(o.za),N.s(0);else return b.code==3017?C(N,_p(e,t,b),0):(t.sd=!0,b.category==1&&t.ba&&El(t.ba,i),b.severity=2,C(N,va(e,t,b),0))}})}function Ry(e,t,n){var i,r,o,a,l,f,h,p;L(function(g){switch(g.g){case 1:if(i=t.stream,o=(r=i.segmentIndex.Gb(n))&&r.next().value,!o){g.s(0);break}if(a=o.$,!a||pl(a,t.yb)){g.s(3);break}return t.yb=a,Se(g,4),C(g,Tt(e,t,a),6);case 6:l=g.h;var y=e.g.aa;y.I&&oo(y.I,l,0,i),Pe(g,3);break;case 4:throw f=Te(g),t.yb=null,f;case 3:if(t.xa&&t.xa==o){g.s(0);break}return t.xa=o,Se(g,8),C(g,Tt(e,t,o),10);case 10:h=g.h,y=e.g.aa,y.I&&oo(y.I,h,0,i),Pe(g,0);break;case 8:throw p=Te(g),t.xa=null,p}})}function Up(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function _p(e,t,n){var i,r,o,a;return L(function(l){if(l.g==1){if(i=Array.from(e.i.values()),i.some(function(f){return f!=t&&f.bg}))return l.s(2);if(r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,r))return l.return();if(e.h.avoidEvictionOnQuotaExceededError)return ei(e,t,4),l.return();if(o=Math.round(100*e.C),20<o)e.C-=.2;else if(4<o)e.C-=.04;else return t.sd=!0,e.B=!0,e.g.onError(n),l.return();return t.bg=!0,a=e.g.Rc(),C(l,Op(e,t,a),2)}ei(e,t,4),le(l)})}function ky(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U;return L(function(_){switch(_.g){case 1:if(r=an,o=t.xa==null,a=[],l=Math.max(0,Math.max(n.appendWindowStart,e.W)-.1),f=Math.min(n.appendWindowEnd,e.T)+.01,h=n.codecs||t.stream.codecs,p=Zo(h),g=cn(n.mimeType||t.stream.mimeType),y=n.timestampOffset,y==t.he&&l==t.Ac&&f==t.zc&&p==t.fe&&g==t.ge){_.s(2);break}if(T=t.fe&&t.ge&&cs(e.g.aa,t.type,g,h),!T){_.s(3);break}if(w=null,t.type===r.la?w=e.i.get(r.V):t.type===r.V&&(w=e.i.get(r.la)),!w){_.s(3);break}return C(_,ma(w).catch(function(){}),5);case 5:w.yb=null,w.Ac=null,w.zc=null,Md(e,w);case 3:return C(_,jm(e,t,y,l,f,n,p,g),2);case 2:return pl(n.$,t.yb)||(t.yb=n.$,n.l&&n.$&&(A=Tt(e,t,n.$),E=function(){var b,N,k,P,j,V,H;return L(function(z){switch(z.g){case 1:return Se(z,2),C(z,A,4);case 4:return b=z.h,kt(e.m),N=null,k=new Map,P={projection:null,hfov:null},j=new At,j.box("moov",Ve).box("trak",Ve).box("mdia",Ve).R("mdhd",function(K){N=Qs(K.reader,K.version).timescale}).box("hdlr",function(K){switch(K=K.reader,K.skip(8),K.Cc()){case"soun":k.set(r.V,N);break;case"vide":k.set(r.la,N)}N=null}).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("encv",Pt).box("avc1",Pt).box("avc3",Pt).box("hev1",Pt).box("hvc1",Pt).box("dvav",Pt).box("dva1",Pt).box("dvh1",Pt).box("dvhe",Pt).box("dvc1",Pt).box("dvi1",Pt).box("vexu",Ve).box("proj",Ve).R("prji",function(K){K=K.reader.Cc(),P.projection=K}).box("hfov",function(K){K=K.reader.S()/1e3,P.hfov=K}).parse(b),t.type===r.la&&Rl(e,P),k.has(t.type)?n.$.timescale=k.get(t.type):N!=null&&(n.$.timescale=N),V=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,C(z,e.g.Fg(t.type,b),5);case 5:return C(z,vl(e.g.aa,t.type,b,null,t.stream,V,t.Fc,i),6);case 6:Pe(z,0);break;case 2:throw H=Te(z),t.yb=null,H}})},M=n.startTime,o&&(I=os(e.g.aa,t.type),I!=null&&(M=I)),e.g.fj(M,n.$),a.push(E()))),U=t.xa?t.xa.i:null,n.i!=U&&a.push(bc(e.g.aa,t.type,n.startTime)),C(_,Promise.all(a),0)}})}function jm(e,t,n,i,r,o,a,l){var f,h,p,g;return L(function(y){if(y.g==1)return f=an,h=new Map,e.l.audio&&h.set(f.V,e.l.audio),e.l.video&&h.set(f.la,e.l.video),Se(y,2),t.Ac=i,t.zc=r,a&&(t.fe=a),l&&(t.ge=l),t.he=n,p=e.j.sequenceMode||e.j.type=="HLS",C(y,yl(e.g.aa,t.type,n,i,r,p,o.mimeType||t.stream.mimeType,o.codecs||t.stream.codecs,h),4);if(y.g!=2)return Pe(y,0);throw g=Te(y),t.Ac=null,t.zc=null,t.fe=null,t.ge=null,t.he=null,g})}function pa(e,t,n,i,r,o,a,l){a=a===void 0?!1:a,l=l===void 0?!1:l;var f,h,p,g,y,T;return L(function(w){switch(w.g){case 1:return f=i.closedCaptions&&0<i.closedCaptions.size,e.h.shouldFixTimestampOffset&&(p=i.mimeType=="video/mp4"||i.mimeType=="audio/mp4",g=null,r.$&&(g=r.$.timescale),(y=p&&g&&i.type==="video"&&e.j.type=="DASH")&&(h=new At),y&&h.box("moof",Ve).box("traf",Ve).R("tfdt",function(A){var E,M,I,U,_,b;return L(function(N){return E=is(A.reader,A.version),M=E.baseMediaDecodeTime,M?(I=-M/g,U=Number(t.he)||0,U<I?(_=t.Ac,b=t.zc,C(N,jm(e,t,I,_,b,r),0)):N.s(0)):N.return()})}),y&&h.parse(o,!1,a)),C(w,Op(e,t,n),2);case 2:return kt(e.m),T=t.Fc,t.Fc=!1,C(w,e.g.Fg(t.type,o),3);case 3:return C(w,vl(e.g.aa,t.type,o,r,i,f,T,l,a),4);case 4:kt(e.m),le(w)}})}function Op(e,t,n){var i,r,o,a,l,f,h,p;return L(function(g){if(g.g==1)return i=t.stream.segmentIndex,i instanceof vt&&i.Oa(e.j.presentationTimeline.pb()),r=Math.max(e.h.bufferBehind*e.C,e.j.presentationTimeline.h),o=zi(e.g.aa,t.type),o==null?(e.F==t&&(e.F=null),g.return()):(a=n-o,l=e.h.evictionGoal,f=e.j.presentationTimeline.Hb(),h=e.j.presentationTimeline.ob(),p=a-r,h-f>l&&(p=Math.max(a-r,f-l-o)),p<=l?g.return():C(g,e.g.aa.remove(t.type,o,o+p),2));if(g.g!=4)return kt(e.m),e.F?C(g,Op(e,e.F,n),4):g.s(0);kt(e.m),le(g)})}function Dd(e){return e&&e.type==Xe&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function Tt(e,t,n,i){var r,o,a,l,f;return L(function(h){switch(h.g){case 1:if(r=n.Ib())return h.return(r);if(o=null,t.ba){var p=t.ba,g=p.h;n instanceof yi&&(g=p.j),g.has(n)?(p=g.get(n),i&&(p.pg=i),o=p.Gd):o=null}return o||(o=Dl(n,t.stream,i||null,e.h.retryParameters,e.g.Xb)),a=0,t.ja&&(a=t.ja.h),t.rb=o,C(h,o.promise,2);case 2:if(l=h.h,t.rb=null,f=l.data,!n.aesKey){h.s(3);break}return C(h,Np(f,n.aesKey,a),4);case 4:f=h.h;case 3:return h.return(f)}})}function Dl(e,t,n,i,r,o){o=o===void 0?!1:o;var a=e instanceof Me?e:void 0,l=a?1:0;return e=Al(e.N(),e.Sa,e.wa,i,n),e.contentType=t.type,r.request(li,e,{type:l,stream:t,segment:a,isPreload:o})}function Il(e,t,n,i){var r,o;return L(function(a){if(a.g==1)return t.lc=!1,t.Re=!1,t.Vd=0,t.nc=!0,t.xa=null,t.ja=null,t.ba&&!e.o.has(t.stream)&&lr(t.ba),i?(r=e.g.Rc(),o=e.g.aa.getDuration(),C(a,e.g.aa.remove(t.type,r+i,o),3)):C(a,Tp(e.g.aa,t.type),4);if(a.g!=3)return kt(e.m),n?C(a,e.g.aa.flush(t.type),3):a.s(3);kt(e.m),t.nc=!1,t.endOfStream=!1,t.Da||t.kb||ei(e,t,0),le(a)})}function ei(e,t,n){var i=t.type;(i!=Xe||e.i.has(i))&&(t.kb=new $l(function(){var r;return L(function(o){if(o.g==1)return Se(o,2),C(o,Iy(e,t),4);if(o.g!=2)return Pe(o,0);r=Te(o),e.g&&e.g.onError(r),le(o)})}).da(n))}function ga(e){e.kb!=null&&(e.kb.stop(),e.kb=null)}function ma(e){return L(function(t){return e.rb?C(t,e.rb.abort(),0):t.s(0)})}function va(e,t,n){var i;return L(function(r){if(r.g==1)return n.code==3024?(t.Da=!1,ga(t),ei(e,t,0),r.return()):C(r,il(e.P),2);if(kt(e.m),n.category===1&&n.code!=1003){if(t.fc)return qc(e,!1),r.return();i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,i),n.handled&&(n.severity=1)}(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.h.failureCallback(n),le(r)})}function ya(e,t,n){t=t===void 0?!1:t,n=n===void 0?!0:n;var i,r,o,a,l,f;return L(function(h){if(h.g==1){if(i=Date.now()/1e3,r=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||i-e.L<r)return h.return(!1);e.L=i}return o=an,(a=e.i.get(o.V))&&(a.yb=null,a.Ac=null,a.zc=null,n&&Md(e,a),ma(a).catch(function(){}),a.ja&&a.ja.dg()),(l=e.i.get(o.la))&&(l.yb=null,l.Ac=null,l.zc=null,n&&Md(e,l),ma(l).catch(function(){}),l.ja&&l.ja.dg()),f=new Map,e.l.audio&&f.set(o.V,e.l.audio),e.l.video&&f.set(o.la,e.l.video),C(h,jt(e.g.aa,f),2)}return!l||l.nc||l.Da||l.kb||ei(e,l,0),!a||a.nc||a.Da||a.kb||ei(e,a,0),h.return(!0)})}function Rl(e,t){if(e.M.projection!=t.projection||e.M.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new fe("spatialvideoinfo",n)}else n=new fe("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.M=t}}function Id(e){if(e.h.crossBoundaryStrategy!=="keep"){e.H.stop();var t=e.g.Rc(),n=e.i.get("video")||e.i.get("audio");n&&(n=n.yb)&&n.g!==null&&(t=n.g-t,0>t||1<t||(e.G=n.g+.01,e.H.da(t)))}}function Ny(e,t,n){if(t.type===Xe)return!1;var i=t.yb;if(!i)return!1;n=n.$;var r=i.g!==n.g;if(e.h.crossBoundaryStrategy==="reset_to_encrypted"&&(i.encrypted||n.encrypted||(r=!1),i.encrypted&&(e.h.crossBoundaryStrategy="keep")),e.h.crossBoundaryStrategy==="RESET_ON_ENCRYPTION_CHANGE"&&i.encrypted==n.encrypted&&(r=!1),r&&t.Fc){var o=e.g.video,a=o.paused;ya(e,!0).then(function(){e.g.onEvent(new fe("boundarycrossed")),a||o.play()})}return r}function Rd(){}function kd(e,t,n,i,r){var o=r in i,a=o?n.constructor==Object&&Object.keys(i).length==0:n.constructor==Object&&Object.keys(n).length==0,l=o||a,f=!0,h;for(h in t){var p=r+"."+h,g=o?i[r]:n[h];l||h in n?t[h]===void 0?g===void 0||l?delete e[h]:e[h]=ru(g):a?e[h]=t[h]:g.constructor==Object&&t[h]&&t[h].constructor==Object?(e[h]||(e[h]=ru(g)),p=kd(e[h],t[h],g,i,p),f=f&&p):typeof t[h]!=typeof g||t[h]==null||typeof t[h]!="function"&&t[h].constructor!=g.constructor?(Jr("Invalid config, wrong type for "+p),f=!1):(typeof n[h]=="function"&&n[h].length!=t[h].length&&ot("Unexpected number of arguments for "+p),e[h]=t[h]):(Jr("Invalid config, unrecognized key "+p),f=!1)}return f}function Qc(e,t){for(var n={},i=n,r=0,o=0;r=e.indexOf(".",r),!(0>r);)(r==0||e[r-1]!="\\")&&(o=e.substring(o,r).replace(/\\\./g,"."),i[o]={},i=i[o],o=r+1),r+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function Ro(e,t){return e&&t}function en(e,t){function n(o){for(var a=x(Object.keys(o)),l=a.next();!l.done;l=a.next())if(l=l.value,!(o[l]instanceof HTMLElement))if(r(o[l])&&Object.keys(o[l]).length===0)delete o[l];else{var f=o[l];Array.isArray(f)&&f.length===0||typeof o[l]=="function"?delete o[l]:r(o[l])&&(n(o[l]),Object.keys(o[l]).length===0&&delete o[l])}}function i(o,a){return Object.keys(o).reduce(function(l,f){var h=o[f];return a.hasOwnProperty(f)?h instanceof HTMLElement&&a[f]instanceof HTMLElement?h.isEqualNode(a[f])||(l[f]=h):r(h)&&r(a[f])?(h=i(h,a[f]),(0<Object.keys(h).length||!r(h))&&(l[f]=h)):Array.isArray(h)&&Array.isArray(a[f])?Ah(h,a[f])||(l[f]=h):Number.isNaN(h)&&Number.isNaN(a[f])||h!==a[f]&&(l[f]=h):l[f]=h,l},{})}function r(o){return o&&typeof o=="object"&&!Array.isArray(o)}return e=i(e,t),n(e),e}me("shaka.util.ConfigUtils",Rd),Rd.getDifferenceFromConfigObjects=en,Rd.convertToConfigObject=Qc,Rd.mergeConfigObjects=kd;function di(){}function hi(e){return e=iu(e),new Jt(e).nb}function Zc(e,t,n){function i(l){ii(o).setUint32(a,l.byteLength,!0),a+=4,o.set(Ue(l),a),a+=l.byteLength}if(!n||!n.byteLength)throw new O(2,6,6015);var r;typeof t=="string"?r=yh(t,!0):r=t,e=iu(e),e=yh(e,!0);var o=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),a=0;return i(e),i(r),i(n),o}function Wc(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=iu(e).split("skd://").pop(),Zc(e,n,t))}function kl(e,t){e===2&&(e=t.drmInfo)&&Jl(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}me("shaka.drm.FairPlay",di),di.commonFairPlayResponse=function(e,t){if(e===2&&(e=t.originalRequest.drmInfo)&&Jl(e.keySystem)){try{var n=Xt(t.data)}catch(r){return}if(e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0),!e)try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch(r){}e&&(t.data=mr(er(n)))}},di.muxFairPlayRequest=function(e,t){kl(e,t)},di.expressplayFairPlayRequest=function(e,t){if(e===2){var n=t.drmInfo;n&&Jl(n.keySystem)&&kl(e,t)}},di.conaxFairPlayRequest=function(e,t){kl(e,t)},di.ezdrmFairPlayRequest=function(e,t){kl(e,t)},di.verimatrixFairPlayRequest=function(e,t){e===2&&(e=t.drmInfo)&&Jl(e.keySystem)&&(e=Ue(t.body),e=$i(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Ji("spc="+e))},di.muxInitDataTransform=function(e,t,n){return Wc(e,t,n)},di.expressplayInitDataTransform=function(e,t,n){return Wc(e,t,n)},di.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=iu(e).split("skd://").pop().split("?").shift(),n=F.atob(n);var i=new ArrayBuffer(2*n.length);i=Oa(i);for(var r=0,o=n.length;r<o;r++)i[r]=n.charCodeAt(r);return Zc(e,i,t)},di.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=iu(e).split(";").pop(),Zc(e,n,t))},di.verimatrixInitDataTransform=function(e,t,n){return Wc(e,t,n)},di.initDataTransform=Zc,di.defaultGetContentId=hi,di.isFairPlaySupported=function(){var e;return L(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},Se(t,2),C(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(Te(t),t.return(!1))})};function Nl(){this.g=null}Nl.prototype.configure=function(e){this.g=e},Nl.prototype.create=function(e){var t;if(this.g.language){var n=bm(e,this.g.language);n.length&&(t=n)}return t||(t=e.filter(function(i){return i.primary}),t=t.length?t:e),e=Pm(t,this.g.role),e.length&&(t=e),this.g.videoLayout&&(e=Uy(t,this.g.videoLayout),e.length&&(t=e)),this.g.Sc&&(e=Bm(t,this.g.Sc),e.length&&(t=e)),this.g.channelCount&&(e=Ly(t,this.g.channelCount),e.length&&(t=e)),this.g.Kc&&(e=jp(t,this.g.Kc),e.length&&(t=e)),this.g.fd&&(e=bp(t,this.g.fd),e.length&&(t=e)),e=Hm(t,this.g.spatialAudio),e.length&&(t=e),this.g.audioCodec&&(e=_y(t,this.g.audioCodec),e.length&&(t=e)),new Rc(t[0],t,!(this.g.codecSwitchingStrategy=="smooth"&&so()))};function bm(e,t){t=ht(t);var n=cc(t,e.map(function(i){return po(i)}));return n?e.filter(function(i){return n==po(i)}):[]}function Pm(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function jp(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function bp(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function Ly(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount>t)}).sort(function(n,i){return n.audio||i.audio?n.audio?i.audio?(i.audio.channelsCount||0)-(n.audio.channelsCount||0):1:-1:0})}function Bm(e,t){return t=="AUTO"&&(t=F.matchMedia!==void 0&&F.matchMedia("(color-gamut: p3)").matches?e.some(function(n){return!!(n.video&&n.video.hdr&&n.video.hdr=="HLG")})?"HLG":"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function Uy(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function Hm(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function _y(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function Nd(){}function Cr(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:br(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(p,g,y){return F.shakaMediaKeysPolyfill==="apple"&&g=="skd"&&(g=y.serverCertificate,y=hi(p),p=Zc(p,y,g)),p},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Zi(),minHdcpVersion:"",ignoreDuplicateInitData:!Rt("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(Zi()||kn())&&t.preferredKeySystems.push("com.microsoft.playready");var n="reload",i=!1;!so()||Wn()||kn()||Ms()||Mu()&&wf()===79||Wi()&&!no()&&!ba()||ja()&&bo()||(n="smooth",i=!0),i={retryParameters:br(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:Ld,manifestPreprocessorTXml:Ll,sequenceMode:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:vh(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:Ld,manifestPreprocessorTXml:Ll,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var r={retryParameters:br(),failureCallback:function(p){return Ro([p])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:kn()||Ms(),dontChooseCodecs:!1,shouldFixTimestampOffset:Mu()||Wn(),avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep"};(Mu()||Wn()||Wi()||tc())&&(r.stallSkip=0),(navigator.userAgent.match(/Edge\//)||Zi())&&(r.gapPadding=.01),Wn()&&(r.gapPadding=2),to()&&(r.crossBoundaryStrategy="reset"),nu()&&(r.crossBoundaryStrategy="reset_to_encrypted");var o={trackSelectionCallback:function(p){return L(function(g){return g.return(p)})},downloadSizeCallback:function(p){var g;return L(function(y){return y.g==1?navigator.storage&&navigator.storage.estimate?C(y,navigator.storage.estimate(),3):y.return(!0):(g=y.h,y.return(g.usage+p<.95*g.quota))})},progressCallback:function(p,g){return Ro([p,g])},usePersistentLicense:!0,numberOfParallelDownloads:5};e={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:qn()?.5:0,preferNetworkInformationBandwidth:!1},n={codecSwitchingStrategy:n,addExtraFeaturesToSourceBuffer:function(p){return Ro([p],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(p,g){return Ro([p,g])},dispatchAllEmsgBoxes:!1};var a=!1,l=!1,f=!0;gh()&&(l=a=!0,f=!1);var h={drm:t,manifest:i,streaming:r,mediaSource:n,offline:o,abrFactory:function(){return new qt},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(Nl,[null].concat(ce(rt.apply(0,arguments)))))},abr:e,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:a,skipPlayDetection:l,supportsMultipleMediaElements:f,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(p){return L(function(g){return g.return(Oy(p,h.preferredAudioLanguage,h.preferredVideoHdrLevel))})},h}function Pp(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function Xu(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return kd(e,t,n||Cr(),i,"")}function Oy(e,t,n){var i=n;i=="AUTO"&&(i=F.matchMedia("(color-gamut: p3)").matches?e.some(function(l){return!!(l.hdr&&l.hdr=="HLG")})?"HLG":"PQ":"SDR");var r=e.filter(function(l){return!(l.type!="variant"||l.hdr&&l.hdr!=i)});n=[];var o=cc(t,r.map(function(l){return l.language}));o&&(n=r.filter(function(l){return ht(l.language)==o})),n.length==0&&(n=r.filter(function(l){return l.primary})),n.length==0&&(r.map(function(l){return l.language}),n=r);var a=n.filter(function(l){return l.height&&480>=l.height});for(a.length&&(a.sort(function(l,f){return f.height-l.height}),n=a.filter(function(l){return l.height==a[0].height})),t=[],n.length&&(r=Math.floor(n.length/2),n.sort(function(l,f){return l.bandwidth-f.bandwidth}),t.push(n[r])),e=x(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=Xe&&n.type!="image"||t.push(n);return t}function Ld(e){return Ro([e],e)}function Ll(e){return Ro([e],e)}me("shaka.util.PlayerConfiguration",Nd),Nd.mergeConfigObjects=Xu,Nd.createDefaultForLL=Pp,Nd.createDefault=Cr;function jy(){this.g=null,this.h=[]}function Dr(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=x(e.h);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=i.state==t?i.duration:0;return n}function Bp(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],i=x(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}function Vm(){this.i=this.h=null,this.g=[]}function Ud(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function ds(){this.mc=this.bh=this.u=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.T=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new jy,this.h=new Vm}function wn(e,t,n,i){wt.call(this),this.O=e,this.Y=t,this.Fa=i.networkingEngine,this.B=n,this.o=null,this.ya=0,this.Ma=i.Lc,this.F=i.Zi,this.Na=i.$i,this.g=i.config,this.l=this.G=this.h=null,this.pa=!1,this.H=i.kj,this.sa=!1,this.i=null,this.ka=!1,this.j=this.C=null,this.ea=!1,this.M=new Map,this.Aa=!1,this.Ga=i.jj,this.Z=new ds,this.oa=new xt,this.m=new xt,this.P=null,this.u=!1,this.fa=i.Uh,this.W=this.K=null,this.La=i.Th,this.T=!1,this.L=[],this.I=[],this.A=!0}Yt(wn,wt);function Ul(e,t,n){(e=t?e.I:e.L)?e.push(n):n()}function _d(e){if(e.I)for(var t=x(e.I),n=t.next();!n.done;n=t.next())n=n.value,n();e.I=null}function qu(e,t){if(e.P=t,e.T=!0,e.L){t=x(e.L);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.L=null}S=wn.prototype,S.getStartTime=function(){return this.B},S.Qc=function(){return this.O},S.Hf=function(){return this.h};function by(e){return e.ea=!0,e.j}function Py(e){return e.sa=!0,e.H}S.getStats=function(){return this.Z};function _l(e){return e.ka=!0,e.i}S.Ai=function(){return this.K?Gs(this.K):null},S.zi=function(){return this.W?hc(this.W):null};function zm(e){return e.Aa=!0,e.M}S.start=function(){var e=this;(function(){var t;return L(function(n){switch(n.g){case 1:return C(n,Promise.resolve(),2);case 2:return Se(n,3),C(n,By(e),5);case 5:if(Sa(e),F.shakaMediaKeysPolyfill==="webkit"){n.s(6);break}return C(n,Gm(e),7);case 7:Sa(e);case 6:return C(n,Hy(e),8);case 8:if(Sa(e),!e.fa||!e.i){n.s(9);break}return C(n,Zf(e.i),10);case 10:Sa(e);case 9:e.m.resolve(),Pe(n,0);break;case 3:t=Te(n),t instanceof O&&(t.code==7001||t.code==7003)||e.m.reject(t),le(n)}})})()},S.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):wt.prototype.dispatchEvent.call(this,e)},S.onError=function(e){e.severity===2&&(this.m.reject(e),this.destroy());var t=new Map().set("detail",e);t=new fe("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function Sa(e){if(e.u)throw new O(2,7,7003)}function Hp(e,t){e.dispatchEvent(new fe("onstatechange",new Map().set("state",t)))}function By(e){var t,n,i,r,o,a,l,f,h;return L(function(p){switch(p.g){case 1:if(Hp(e,"manifest-parser"),e.l||(e.G=Ks(e.O,e.Y),e.l=e.G(),e.l.configure(e.g.manifest,function(){return e.A})),t=Date.now()/1e3,Hp(e,"manifest"),e.h){p.s(2);break}return C(p,e.l.start(e.O,e.Na),3);case 3:if(e.h=p.h,e.h.variants.length!=1){p.s(2);break}for(n=[],i=e.h.variants[0],r=x([i.video,i.audio]),o=r.next();!o.done;o=r.next())(a=o.value)&&!a.segmentIndex&&n.push(a.createSegmentIndex());if(!(0<n.length)){p.s(2);break}return C(p,Promise.all(n),2);case 2:return e.oa.resolve(),l=new fe("manifestparsed",void 0),C(p,Promise.resolve(),7);case 7:if(e.dispatchEvent(l),e.h.variants.length==0)throw new O(2,4,4036);Vy(e.h),f=Date.now()/1e3,h=f-t,e.Z.H=h,le(p)}})}function Gm(e,t){var n,i,r,o,a,l;return L(function(f){switch(f.g){case 1:if(!e.h||e.i)return f.return();if(Hp(e,"drm-engine"),e.ya=Date.now()/1e3,e.i=e.Ma(),e.F.h=e.i,e.i.configure(e.g.drm,function(){return e.A}),n=td(e.F,e.h),!n){f.s(2);break}return i=new fe("trackschanged",void 0),C(f,Promise.resolve(),3);case 3:Sa(e),e.dispatchEvent(i);case 2:return r=mo(e.h.variants),o=!0,e.h&&e.h.presentationTimeline&&e.h.type!="HLS"&&(o=e.h.presentationTimeline.U()),C(f,qh(e.i,r,e.h.offlineSessionIds,o),4);case 4:if(Sa(e),!t){f.s(5);break}return C(f,e.i.Lb(t),6);case 6:Sa(e);case 5:return C(f,fl(e.F,e.h),7);case 7:if(a=f.h,!a){f.s(0);break}return l=new fe("trackschanged",void 0),C(f,Promise.resolve(),9);case 9:e.dispatchEvent(l),le(f)}})}S.configure=function(e,t){e=Qc(e,t),Xu(this.g,e)},S.getConfiguration=function(){return ru(this.g)};function Hy(e){var t,n,i,r,o,a,l;return L(function(f){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Sc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Kc:e.g.preferredAudioLabel,fd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.La&&(t=e.g.abrFactory,e.C=t,e.j=t(),e.j.configure(e.g.abr)),!e.fa||(n=e.h.presentationTimeline.U(),i=mo(e.h.variants),r=e.o.create(i),e.j.configure(e.g.abr),e.j.setVariants(Array.from(r.values())),o=e.j.chooseVariant(),!o)?f.s(0):(a=[],e.K=o,o.video&&a.push(Vp(e,o.video,n)),o.audio&&a.push(Vp(e,o.audio,n)),(l=tl(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&Jo(o.audio,l,e.g)&&(a.push(Vp(e,l,n)),e.W=l),C(f,Promise.all(a),0))})}function Vp(e,t,n){var i,r,o,a,l;return L(function(f){return f.g==1?(i=e.g.streaming.segmentPrefetchLimit||2,r=new Td(i,t,function(h,p,g){return Dl(h,p,g||null,e.g.streaming.retryParameters,e.Fa,e.A)},!1),e.M.set(t.id,r),t.segmentIndex?f.s(2):C(f,t.createSegmentIndex(),2)):(o=e.B||0,(l=(a=t.segmentIndex.Gb(o))?a.current():null)||(l=Mr(t.segmentIndex)),l?n?l.$?C(f,Dp(r,l.$),0):f.s(0):C(f,wl(r,l.startTime),0):f.s(0))})}S.Lj=function(){return this.m},S.destroy=function(){var e=this,t,n,i;return L(function(r){switch(r.g){case 1:if(e.u=!0,!e.l||e.pa){r.s(2);break}return C(r,e.l.stop(),2);case 2:if(!e.j||e.ea){r.s(4);break}return C(r,e.j.stop(),4);case 4:if(e.H&&!e.sa&&e.H.release(),!e.i||e.ka){r.s(6);break}return C(r,e.i.destroy(),6);case 6:if(0<e.M.size&&!e.Aa)for(t=x(e.M.values()),n=t.next();!n.done;n=t.next())i=n.value,lr(i);le(r)}})};function Vy(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}me("shaka.media.PreloadManager",wn),wn.prototype.destroy=wn.prototype.destroy,wn.prototype.waitForFinish=wn.prototype.Lj,wn.prototype.getPrefetchedTextTrack=wn.prototype.zi,wn.prototype.getPrefetchedVariantTrack=wn.prototype.Ai;function hs(e,t){wt.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Jc:null,Ic:Ta,xc:function(i,r){return cr(n,"enter",i,r)}},{Jc:ko,Ic:Ta,xc:function(i,r){return cr(n,"enter",i,r)}},{Jc,Ic:Ta,xc:function(i,r){return cr(n,"enter",i,r)}},{Jc:Ta,Ic:ko,xc:function(i,r){return cr(n,"exit",i,r)}},{Jc:Ta,Ic:Jc,xc:function(i,r){return cr(n,"exit",i,r)}},{Jc:ko,Ic:Jc,xc:function(i,r){r?cr(n,"skip",i,r):(cr(n,"enter",i,r),cr(n,"exit",i,r))}},{Jc,Ic:ko,xc:function(i,r){return cr(n,"skip",i,r)}}],this.h=new $e,this.h.D(this.i,"regionremove",function(i){n.g.delete(i.region)})}Yt(hs,wt),hs.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,wt.prototype.release.call(this)},hs.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=x(this.i.h.values()),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),o=e<i.startTime?ko:e>i.endTime?Jc:Ta;this.g.set(i,o);for(var a=x(this.m),l=a.next();!l.done;l=a.next())l=l.value,l.Jc==r&&l.Ic==o&&l.xc(i,t)}}};function cr(e,t,n,i){t=new fe(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}var ko=1,Ta=2,Jc=3;function zr(e,t,n){var i,r,o,a,l,f,h;return L(function(p){switch(p.g){case 1:var g=new Jt(e).ab.split("/").pop().split(".");return i=g.length==1?"":g.pop().toLowerCase(),(r=$c.get(i))?p.return(r):(o=0,a=mn([e],n),Se(p,2),a.method="HEAD",C(p,t.request(o,a).promise,4));case 4:l=p.h,r=l.headers["content-type"],Pe(p,3);break;case 2:if(f=Te(p),!f||f.code!=1002&&f.code!=1001){p.s(3);break}return a.method="GET",C(p,t.request(o,a).promise,6);case 6:h=p.h,r=h.headers["content-type"];case 3:return p.return(r?r.toLowerCase().split(";").shift():"")}})}var $c=new Map().set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function zp(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map(function(a){return zp(a,e)}).join("");if(!e.payload)return e.payload;var n=[],i=e.fontWeight>=bs,r=e.fontStyle==Ya,o=e.textDecoration.includes(ao);return i&&n.push(["b"]),r&&n.push(["i"]),o&&n.push(["u"]),r=e.color,r==""&&t&&(r=t.color),i="",(r=ef(r))&&(i+="."+r),r=e.backgroundColor,r==""&&t&&(r=t.backgroundColor),(t=ef(r))&&(i+=".bg_"+t),i&&n.push(["c",i]),n.reduceRight(function(a,l){var f=x(l);return l=f.next().value,f=f.next().value,"<"+l+(f===void 0?"":f)+">"+a+"</"+l+">"},e.payload)}function ef(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function tf(e,t){var n=[];e=x(Od(e));for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.isContainer)n.push.apply(n,ce(tf(i.nestedCues,i)));else{var r=i.clone();r.nestedCues=[],r.payload=zp(i,t),n.push(r)}return n}function Od(e){var t=[];e=x(e);for(var n=e.next(),i={};!n.done;i={jf:void 0},n=e.next())i.jf=n.value,t.some(function(r){return function(o){return Ci(r.jf,o)}}(i))||t.push(i.jf);return t}function jd(e){function t(i){for(var r=5381,o=i.length;o;)r=33*r^i.charCodeAt(--o);return(r>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(i){}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function Yn(e,t){for(this.h=e,this.i=t,this.g=null,e=x(Array.from(this.h.textTracks)),t=e.next();!t.done;t=e.next())t=t.value,t.kind!=="metadata"&&t.kind!=="chapters"&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}S=Yn.prototype,S.configure=function(){},S.remove=function(e,t){return this.g?(Xm(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},S.append=function(e){if(this.g){var t=tf(e),n=[];e=this.g.cues?Array.from(this.g.cues):[],t=x(t);for(var i=t.next(),r={};!i.done;r={Tc:void 0},i=t.next())r.Tc=i.value,!e.some(function(o){return function(a){return a.startTime==o.Tc.startTime&&a.endTime==o.Tc.endTime&&a.text==o.Tc.payload}}(r))&&r.Tc.payload&&(i=jd(r.Tc))&&n.push(i);for(e=n.slice().sort(function(o,a){return o.startTime!=a.startTime?o.startTime-a.startTime:o.endTime!=a.endTime?o.endTime-a.startTime:"line"in VTTCue.prototype?n.indexOf(a)-n.indexOf(o):n.indexOf(o)-n.indexOf(a)}),e=x(e),t=e.next();!t.done;t=e.next())this.g.addCue(t.value)}},S.destroy=function(){return this.g&&(Xm(this.g,function(){return!0}),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},S.isTextVisible=function(){return this.g?this.g.mode=="showing":!1},S.setTextVisibility=function(e){e&&!this.g&&Gp(this),this.g&&(this.g.mode=e?"showing":"hidden")},S.setTextLanguage=function(){},S.enableTextDisplayer=function(){Gp(this)};function Gp(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function Xm(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var i=x(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}me("shaka.text.SimpleTextDisplayer",Yn),Yn.prototype.enableTextDisplayer=Yn.prototype.enableTextDisplayer,Yn.prototype.setTextLanguage=Yn.prototype.setTextLanguage,Yn.prototype.setTextVisibility=Yn.prototype.setTextVisibility,Yn.prototype.isTextVisible=Yn.prototype.isTextVisible,Yn.prototype.destroy=Yn.prototype.destroy,Yn.prototype.append=Yn.prototype.append,Yn.prototype.remove=Yn.prototype.remove,Yn.prototype.configure=Yn.prototype.configure;function Qn(){}S=Qn.prototype,S.configure=function(){},S.remove=function(){},S.append=function(){},S.destroy=function(){},S.isTextVisible=function(){return!1},S.setTextVisibility=function(){},S.setTextLanguage=function(){},S.enableTextDisplayer=function(){},me("shaka.text.StubTextDisplayer",Qn),Qn.prototype.enableTextDisplayer=Qn.prototype.enableTextDisplayer,Qn.prototype.setTextLanguage=Qn.prototype.setTextLanguage,Qn.prototype.setTextVisibility=Qn.prototype.setTextVisibility,Qn.prototype.isTextVisible=Qn.prototype.isTextVisible,Qn.prototype.destroy=Qn.prototype.destroy,Qn.prototype.append=Qn.prototype.append,Qn.prototype.remove=Qn.prototype.remove,Qn.prototype.configure=Qn.prototype.configure;function Dn(e,t){var n=this;document.fullscreenEnabled||ot("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.A=!1,this.h=[],this.j=e,this.C=t,this.u=this.m=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C.appendChild(this.g),this.o=new Ke(function(){n.j.paused||pu(n)}),nf(this),this.l=new Map,this.i=new $e,this.i.D(document,"fullscreenchange",function(){pu(n,!0)}),this.i.D(this.j,"seeking",function(){pu(n,!0)}),this.i.D(this.j,"ratechange",function(){nf(n)}),this.i.D(this.j,"resize",function(){var i=n.j,r=i.videoWidth;i=i.videoHeight,r&&i?n.m=r/i:n.m=null}),this.B=null,"ResizeObserver"in F&&(this.B=new ResizeObserver(function(){pu(n,!0)}),this.B.observe(this.g)),this.F=new Map}S=Dn.prototype,S.configure=function(e){this.u=e,nf(this),pu(this,!0)},S.append=function(e){var t=[].concat(ce(this.h));e=x(Od(e));for(var n=e.next(),i={};!n.done;i={kf:void 0},n=e.next())i.kf=n.value,t.some(function(r){return function(o){return Ci(o,r.kf)}}(i))||this.h.push(i.kf);this.h.length&&nf(this),pu(this)},S.destroy=function(){return this.g&&(this.C.removeChild(this.g),this.g=null,this.A=!1,this.h=[],this.o&&(this.o.stop(),this.o=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.B&&(this.B.disconnect(),this.B=null)),Promise.resolve()},S.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(i){return i.startTime<e||i.endTime>=t}),pu(this,n>this.h.length),this.h.length||nf(this),!0},S.isTextVisible=function(){return this.A},S.setTextVisibility=function(e){this.A=e,pu(this,!0)},S.setTextLanguage=function(e){e&&e!="und"?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},S.enableTextDisplayer=function(){};function nf(e){e.o&&(e.h.length?e.o.ua((e.u?e.u.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.o.stop())}function zy(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function qm(e,t,n,i,r){var o=!1,a=[],l=[];t=x(t);for(var f=t.next();!f.done;f=t.next()){f=f.value,r.push(f);var h=e.l.get(f),p=f.startTime<=i&&f.endTime>i,g=h?h.Nh:null;h&&(a.push(h.lf),h.Ec&&a.push(h.Ec),p||(o=!0,e.l.delete(f),h=null)),p&&(l.push(f),h?zy(e,g)||(o=!0):(bd(e,f,r),h=e.l.get(f),g=h.Nh,o=!0)),0<f.nestedCues.length&&g&&qm(e,f.nestedCues,g,i,r),r.pop()}if(o){for(i=x(a),r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);for(l.sort(function(y,T){return y.startTime!=T.startTime?y.startTime-T.startTime:y.endTime-T.endTime}),l=x(l),i=l.next();!i.done;i=l.next())i=e.l.get(i.value),i.Ec?(i.Ec.contains(n)&&i.Ec.removeChild(n),n.appendChild(i.Ec),i.Ec.appendChild(i.lf)):n.appendChild(i.lf)}}function pu(e,t){if(e.g){var n=e.j.currentTime;if(!e.A||t!==void 0&&t){t=x(e.F.values());for(var i=t.next();!i.done;i=t.next())Ao(i.value);Ao(e.g),e.l.clear(),e.F.clear()}e.A&&qm(e,e.h,e.g,n,[])}}function bd(e,t,n){var i=1<n.length,r=i?"span":"div";t.lineBreak&&(r="br"),t.rubyTag&&(r=t.rubyTag),i=!i&&0<t.nestedCues.length;var o=document.createElement(r);if(r!="br"&&Gy(e,o,t,n,i),n=null,t.region&&t.region.id){var a=t.region,l=e.m===4/3?2.5:1.9;if(n=a.id+"_"+a.width+"x"+a.height+(a.heightUnits==Bi?"%":"px")+"-"+a.viewportAnchorX+"x"+a.viewportAnchorY+(a.viewportAnchorUnits==Bi?"%":"px"),e.F.has(n))n=e.F.get(n);else{r=document.createElement("span");var f=a.heightUnits==Bi?"%":"px",h=a.widthUnits==Bi?"%":"px",p=a.viewportAnchorUnits==Bi?"%":"px";r.id="shaka-text-region---"+n,r.classList.add("shaka-text-region"),r.style.position="absolute";var g=a.height,y=a.width;a.heightUnits===2&&(g=5.33*a.height,f="%"),a.widthUnits===2&&(y=a.width*l,h="%"),r.style.height=g+f,r.style.width=y+h,a.viewportAnchorUnits===2?(l=a.viewportAnchorY/75*100,f=a.viewportAnchorX/(e.m===4/3?160:210)*100,l-=a.regionAnchorY*g/100,f-=a.regionAnchorX*y/100,r.style.top=l+"%",r.style.left=f+"%"):(r.style.top=a.viewportAnchorY-a.regionAnchorY*g/100+p,r.style.left=a.viewportAnchorX-a.regionAnchorX*y/100+p),a.heightUnits!==0&&a.widthUnits!==0&&a.viewportAnchorUnits!==0&&(a=Math.max(0,Math.min(100-(parseInt(r.style.width.slice(0,-1),10)||0),parseInt(r.style.left.slice(0,-1),10)||0)),r.style.top=Math.max(0,Math.min(100-(parseInt(r.style.height.slice(0,-1),10)||0),parseInt(r.style.top.slice(0,-1),10)||0))+"%",r.style.left=a+"%"),r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.F.set(n,r),n=r}}r=o,i&&(r=document.createElement("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",o.appendChild(r)),e.l.set(t,{lf:o,Nh:r,Ec:n})}function Xp(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==Fa?n:e==="left"||e==="start"&&t===js||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===js?"line-right":"center"}function Gy(e,t,n,i,r){var o=t.style,a=n.nestedCues.length==0,l=1<i.length;o.whiteSpace="pre-wrap";var f=n.payload.replace(/\s+$/g,function(p){return" ".repeat(p.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=xa(n.linePadding,n,e.C),o.paddingRight=xa(n.linePadding,n,e.C),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",n.backgroundColor&&(o.backgroundColor=n.backgroundColor),o.width="100%",o.height="100%";else{if(n.nestedCues.length)var h=t;else h=document.createElement("span"),t.appendChild(h);n.border&&(h.style.border=n.border),r||((t=Xy(i,function(p){return p.backgroundColor}))?h.style.backgroundColor=t:f&&(h.style.backgroundColor="rgba(0, 0, 0, 0.8)")),f&&(h.textContent=f)}l&&!i[i.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(o.width="100%",o.alignItems="start"):(n.textAlign=="right"||n.textAlign=="end")&&(o.width="100%",o.alignItems="end"),o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=xa(n.fontSize,n,e.C,e.u?e.u.fontScaleFactor:1),i=n.line,i!=null&&(a=n.lineInterpretation,a==ou&&(a=1,l=16,e.m&&1>e.m&&(l=32),i=0>i?100+i/l*100:i/l*100),a==1&&(o.position="absolute",n.writingMode==qo?(o.width="100%",n.lineAlign==jr?o.top=i+"%":n.lineAlign=="end"&&(o.bottom=100-i+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==jr?o.left=i+"%":n.lineAlign=="end"&&(o.right=100-i+"%")):(o.height="100%",n.lineAlign==jr?o.right=i+"%":n.lineAlign=="end"&&(o.left=100-i+"%")))),o.lineHeight=n.lineHeight,e=Xp(n),e=="line-left"?(o.cssFloat="left",n.position!==null&&(o.position="absolute",n.writingMode==qo?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%")):e=="line-right"?(o.cssFloat="right",n.position!==null&&(o.position="absolute",n.writingMode==qo?(o.right=100-n.position+"%",o.width="auto"):o.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(o.position="absolute",n.writingMode==qo?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==qo?o.width=n.size+"%":o.height=n.size+"%")}function xa(e,t,n,i){i=i===void 0?1:i;var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;switch(e=r.unit,i*=r.value,e){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return i+e}}function Xy(e,t){for(var n=e.length-1;0<=n;n--){var i=t(e[n]);if(i||i===0)return i}return null}me("shaka.text.UITextDisplayer",Dn),Dn.prototype.enableTextDisplayer=Dn.prototype.enableTextDisplayer,Dn.prototype.setTextLanguage=Dn.prototype.setTextLanguage,Dn.prototype.setTextVisibility=Dn.prototype.setTextVisibility,Dn.prototype.isTextVisible=Dn.prototype.isTextVisible,Dn.prototype.remove=Dn.prototype.remove,Dn.prototype.destroy=Dn.prototype.destroy,Dn.prototype.append=Dn.prototype.append,Dn.prototype.configure=Dn.prototype.configure;function Fm(e,t){function n(o){for(var a=o,l=x(t),f=l.next();!f.done;f=l.next())f=f.value,f.end&&f.start<o&&(a+=f.end-f.start);return o=Math.floor(a/3600),l=Math.floor(a/60%60),f=Math.floor(a%60),a=Math.floor(1e3*a%1e3),(10>o?"0":"")+o+":"+(10>l?"0":"")+l+":"+(10>f?"0":"")+f+"."+(100>a?10>a?"00":"0":"")+a}var i=tf(e);e="WEBVTT\n\n",i=x(i);for(var r=i.next();!r.done;r=i.next())r=r.value,e+=n(r.startTime)+" --> "+n(r.endTime)+function(o){var a=[];switch(o.textAlign){case"left":a.push("align:left");break;case"right":a.push("align:right");break;case Ru:a.push("align:middle");break;case"start":a.push("align:start");break;case"end":a.push("align:end")}switch(o.writingMode){case"vertical-lr":a.push("vertical:lr");break;case"vertical-rl":a.push("vertical:rl")}return a.length?" "+a.join(" "):""}(r)+"\n",e+=r.payload+"\n\n";return e}me("shaka.text.WebVttGenerator",function(){});function Pd(e,t){this.h=e,this.g=t,this.i=void 0,this.u=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new $e,this.j=null}Pd.prototype.setMediaElement=function(e){this.j=e,Bd(this)},Pd.prototype.configure=function(e){this.g=e};function Km(e){e.u=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.Qa()}function Ym(e,t){e.l=t,e.l?e.i==rf?e.i=wa:e.i==uf&&(e.i=Gd):e.i==wa?e.i=rf:e.i==Gd&&(e.i=uf)}function qp(e,t){if(e.g&&e.g.enabled&&e.g.version==Wm&&e.j&&e.j.autoplay){var n=e.j.play();n&&n.then(function(){e.A=t}).catch(function(){e.A=0})}}function Qm(e,t,n){try{if(!e.g.enabled)return t;var i=Fp(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=gs;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=gu;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=No;break e}r=void 0}i.ot=r,i.su=!0;var o=jl(i);return Fu(t,o)}catch(a){return Eu("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),t}}function Bd(e){e.C.ma(e.j,"play",function(){e.m||(e.m=Date.now())}),e.C.ma(e.j,"playing",function(){e.o||(e.o=Date.now())})}function Fp(e){return e.g.sessionId||(e.g.sessionId=F.crypto.randomUUID()),{v:e.g.version,sf:e.i,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Ol(e,t,n){n=n===void 0?{}:n;var i=i===void 0?e.g.useHeaders:i;if(e.g.enabled){Object.assign(n,Fp(e)),n.pr=e.h.gb();var r=n.ot===ms||n.ot===gu;if(e.B&&r&&(n.bs=!0,n.su=!0,e.B=!1),n.su==null&&(n.su=e.F),n.v===Wm&&(e.h.U()&&(n.ltc=e.h.Zd()),r=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0,r!=null&&(n.msd=r,e.G=!0)),e=Kp(e,n),i)i=ps(e),Object.keys(i).length&&Object.assign(t.headers,i);else{var o=jl(e);o&&(t.uris=t.uris.map(function(a){return Fu(a,o)}))}}}function Kp(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce(function(i,r){return n.includes(r)&&(i[r]=t[r]),i},{}):t}function Yp(e){if(e.type===0)return qy;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?gu:ms;if(t=="audio")return gs;if(t=="text")return e.mimeType==="application/mp4"?vs:zd}}function Hd(e,t){if(t=e.h.Fb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):NaN}function Vd(e,t){if(t=e.h.Fb()[t],!t.length)return 0;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):0}function Zm(e,t){var n=e.h.Rb();if(!n.length)return NaN;e=n[0],n=x(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.type==="variant"&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case ms:return e.videoBandwidth||NaN;case gs:return e.audioBandwidth||NaN;default:return e.bandwidth}}function jl(e){function t(g){return 100*n(g/100)}function n(g){return Math.round(g)}function i(g){return!Number.isNaN(g)&&g!=null&&g!==""&&g!==!1}var r=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(g){return encodeURIComponent(g)},rtp:t,tb:n},a=Object.keys(e||{}).sort();a=x(a);for(var l=a.next();!l.done;l=a.next()){l=l.value;var f=e[l];if(i(f)&&(l!=="v"||f!==1)&&(l!="pr"||f!==1)){var h=o[l];h&&(f=h(f)),h=typeof f;var p=void 0;p=h==="string"&&l!=="ot"&&l!=="sf"&&l!=="st"?l+"="+JSON.stringify(f):h==="boolean"?l:h==="symbol"?l+"="+f.description:l+"="+f,r.push(p)}}return r.join(",")}function ps(e){var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3};t=x(t);for(var a=t.next();!a.done;a=t.next())a=a.value,r[o[a]!=null?o[a]:1][a]=e[a];for(e=0;e<r.length;e++)(o=jl(r[e]))&&(n["CMCD-"+i[e]]=o);return n}function Fu(e,t){return!t||e.includes("offline:")?e:(e=new Jt(e),e.g.set("CMCD",t),e.toString())}var No="m",gs="a",ms="v",gu="av",qy="i",zd="c",vs="tt",Wm=2,rf="d",wa="ld",uf="h",Gd="lh";me("shaka.util.CmcdManager.StreamingFormat",{DASH:rf,hk:wa,HLS:uf,ik:Gd,wk:"s",OTHER:"o"});function Li(e){this.h=e,this.g=null}S=Li.prototype,S.configure=function(e){this.h=e},S.Ug=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(bl)?1e3*this.g.get(bl):null},S.Sg=function(){return this.h.enabled&&this.g&&this.g.has(Qp)?1e3*this.g.get(Qp):null},S.Ci=function(){return this.h.enabled&&this.g&&this.g.has(Xd)?this.g.get(Xd):null},S.Di=function(){return this.h.enabled&&this.g&&this.g.has(sf)?this.g.get(sf):null},S.getBandwidthEstimate=function(e){var t=this.Sg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function of(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}me("shaka.util.CmsdManager",Li),Li.prototype.getBandwidthEstimate=Li.prototype.getBandwidthEstimate,Li.prototype.getRoundTripTime=Li.prototype.Di,Li.prototype.getResponseDelay=Li.prototype.Ci,Li.prototype.getEstimatedThroughput=Li.prototype.Sg,Li.prototype.getMaxBitrate=Li.prototype.Ug;var Qp="etp",bl="mb",Xd="rd",sf="rtt";function Zp(){this.g=null,this.h=[]}function Wp(e,t){return L(function(n){if(n.g==1)return e.g?C(n,new Promise(function(i){return e.h.push(i)}),2):n.s(2);e.g=t,le(n)})}Zp.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function W(e,t,n){t=t===void 0?null:t,wt.call(this);var i=this;this.m=tv,this.h=null,this.ue=t,this.oa=!1,this.Qe=new $e,this.zd=new $e,this.l=new $e,this.Na=new $e,this.Sb=new $e,this.G=this.I=this.C=this.F=null,this.Te=0,this.Z=new Zp,this.Y=this.Pb=this.T=this.i=this.Qb=this.H=this.j=this.xd=this.O=this.yg=this.fa=this.L=this.Ga=this.Aa=this.yd=this.M=this.pa=this.K=this.La=null,this.sa=!1,this.Fa=this.o=null,this.We=1e9,this.Oe=[],this.Ve=-1,this.g=Ea(this),this.Xe=Pp(),this.P=null,this.Ue=-1,this.Ma=null,this.ka={width:1/0,height:1/0},this.te=new ed(this.g,this.ka,null),this.Ee=[],this.A=null,this.W=this.g.adaptationSetCriteriaFactory(),this.W.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Sc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Kc:this.g.preferredAudioLabel,fd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Tb=this.g.preferredTextLanguage,this.Hd=this.g.preferredTextRole,this.Fd=this.g.preferForcedSubs,this.Cd=[],n&&n(this),this.L=sE(this),this.fa=new Li(this.g.cmsd),this.F=nt(this),this.F.kg(this.g.streaming.forceHTTP),this.F.lg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Ub=this.ea=this.u=null,this.Ze=!1,this.Ye=new Ke(function(){return L(function(r){if(r.g==1)return i.ea?C(r,i.Lb(i.Ub,!0),3):r.s(0);if(r.g!=4)return C(r,i.load(i.ea),4);i.Ze?i.Ub.pause():i.Ub.play(),i.ea=null,i.Ze=!1,le(r)})}),nv&&(this.u=nv(),this.u.configure(this.g.ads),this.Sb.D(this.u,"ad-content-pause-requested",function(r){var o;return L(function(a){if(a.g==1)return i.Ye.stop(),i.ea?a.s(0):(i.Ub=i.h,i.Ze=i.Uc(),o=r.saveLivePosition||!1,C(a,i.Lg(!0,o),3));i.ea=a.h,le(a)})}),this.Sb.D(this.u,"ad-content-resume-requested",function(r){if(r=r.offset||0,i.ea){var o=i.ea;o.B&&r&&(o.B+=r)}i.Ye.da(.1)}),this.Sb.D(this.u,"ad-content-attach-requested",function(){return L(function(r){return i.h||!i.Ub?r.s(0):C(r,i.Lb(i.Ub,!0),0)})})),this.Qe.D(F,"online",function(){Zy(i),i.eg()}),this.xe=new Ke(function(){for(var r=Date.now()/1e3,o=!1,a=!0,l=x(i.i.variants),f=l.next();!f.done;f=l.next())f=f.value,0<f.disabledUntilTime&&f.disabledUntilTime<=r&&(f.disabledUntilTime=0,o=!0),0<f.disabledUntilTime&&(a=!1);a&&i.xe.stop(),o&&qd(i,!1,void 0,!1,!1)}),this.ya=null,e&&(ct("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Lb(e,!0)),this.B=null}Yt(W,wt);function u(e){e.O!=null&&(nc(e.O),e.O.release(),e.O=null)}function s(e,t,n){n||t.lcevc.enabled?(u(e),e.O==null&&(e.O=new ui(e.h,e.yg,t.lcevc,n),e.I&&(e.I.I=e.O))):u(e)}function c(e,t){return new fe(e,t)}S=W.prototype,S.destroy=function(){var e=this,t;return L(function(n){switch(n.g){case 1:return e.m==Ku?n.return():(u(e),t=e.detach(),e.m=Ku,C(n,t,2));case 2:return C(n,e.pf(),3);case 3:if(e.Qe&&(e.Qe.release(),e.Qe=null),e.zd&&(e.zd.release(),e.zd=null),e.l&&(e.l.release(),e.l=null),e.Na&&(e.Na.release(),e.Na=null),e.Sb&&(e.Sb.release(),e.Sb=null),e.Fa=null,e.g=null,e.A=null,e.ue=null,e.L=null,e.fa=null,!e.F){n.s(4);break}return C(n,e.F.destroy(),5);case 5:e.F=null;case 4:e.o&&(e.o.release(),e.o=null),wt.prototype.release.call(e),le(n)}})};function d(e,t){xS.set(e,t)}function m(e,t){e.dispatchEvent(c("onstatechange",new Map().set("state",t)))}S.Lb=function(e,t){t=t===void 0?!0:t;var n=this,i,r,o;return L(function(a){switch(a.g){case 1:if(n.m==Ku)throw new O(2,7,7e3);if(i=n.h&&n.h==e,!n.h||n.h==e){a.s(2);break}return C(a,n.detach(),2);case 2:return C(a,v(n,"attach"),4);case 4:if(a.h)return a.return();if(Se(a,5,6),i||(m(n,"attach"),r=function(){var l=Wy(n,!1);l&&Fd(n,l)},n.zd.D(e,"error",r),n.h=e,n.L&&n.L.setMediaElement(e)),!t||!tu()||n.I){a.s(6);break}return C(a,ne(n),6);case 6:re(a),n.Z.release(),ye(a,0);break;case 5:return o=Te(a),C(a,n.detach(),10);case 10:throw o}})},S.Vh=function(e){this.yg=e},S.detach=function(e){e=e===void 0?!1:e;var t=this;return L(function(n){if(n.g==1){if(t.m==Ku)throw new O(2,7,7e3);return C(n,t.kc(!1,e),2)}if(n.g!=3)return C(n,v(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.zd.Qa(),t.h=null),m(t,"detach"),t.u&&!e&&t.u.release()}finally{t.Z.release()}le(n)})};function v(e,t){var n;return L(function(i){return i.g==1?(n=++e.Te,C(i,Wp(e.Z,t),2)):n!=e.Te?(e.Z.release(),i.return(!0)):i.return(!1)})}S.kc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i,r,o,a,l,f,h,p,g,y;return L(function(T){switch(T.g){case 1:return n.m!=Ku&&(n.m=tv),C(T,v(n,"unload"),2);case 2:return T.h?T.return():(bi(T,3),n.sa=!1,m(n,"unload"),u(n),i=n.Cd.map(function(w){return w()}),n.Cd=[],C(T,Promise.all(i),5));case 5:if(n.dispatchEvent(c("unloading")),n.yd&&(n.yd.release(),n.yd=null),n.Aa&&(n.Aa.release(),n.Aa=null),n.Ga&&(n.Ga.release(),n.Ga=null),n.h&&(n.l.Qa(),n.Na.Qa()),n.xe.stop(),n.La&&(n.La.release(),n.La=null),n.pa&&(n.pa.stop(),n.pa=null),!n.H){T.s(6);break}return C(T,n.H.stop(),7);case 7:n.H=null,n.Qb=null;case 6:if(!n.o){T.s(8);break}return C(T,n.o.stop(),8);case 8:if(!n.j){T.s(10);break}return C(T,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.K&&(n.K.release(),n.K=null),n.G&&(n.G.release(),n.G=null),F.shakaMediaKeysPolyfill!=="webkit"||!n.C){T.s(12);break}return C(T,n.C.destroy(),13);case 13:n.C=null;case 12:if(!n.I){T.s(14);break}return C(T,n.I.destroy(),15);case 15:n.I=null;case 14:if(n.u&&!t&&n.u.onAssetUnload(),n.ea&&!t&&(n.ea.destroy(),n.ea=null),t||n.Ye.stop(),n.L&&Km(n.L),n.fa&&(n.fa.g=null),!n.B){T.s(16);break}return C(T,n.B.destroy(),17);case 17:n.B=null;case 16:if(n.h&&(Ao(n.h),n.h.src&&(n.h.removeAttribute("src"),n.h.load())),!n.C){T.s(18);break}return C(T,n.C.destroy(),19);case 19:n.C=null;case 18:if(n.ya&&n.T!=n.ya.Qc()&&(n.ya.u||n.ya.destroy(),n.ya=null),n.T=null,n.Pb=null,n.M=null,n.i){for(r=x(n.i.variants),o=r.next();!o.done;o=r.next())for(a=o.value,l=x([a.audio,a.video]),f=l.next();!f.done;f=l.next())(h=f.value)&&h.segmentIndex&&h.segmentIndex.release();for(p=x(n.i.textStreams),g=p.next();!g.done;g=p.next())y=g.value,y.segmentIndex&&y.segmentIndex.release()}n.g&&n.g.streaming.clearDecodingCache&&(nl.clear(),eu.clear()),n.i=null,n.A=new ds,n.Se=null,n.Ma=null,n.P=null,n.Ue=-1,n.Oe=[],n.Ve=-1,n.F&&n.F.Hg(),Yy(n);case 3:re(T),n.Z.release(),ye(T,4);break;case 4:if(e&&tu()&&!n.I&&n.h)return C(T,ne(n),0);T.s(0)}})},S.Kj=function(e){this.Y=e},S.load=function(e,t,n){t=t===void 0?null:t;var i=this,r,o,a,l,f,h,p,g,y,T,w,A,E;return L(function(M){switch(M.g){case 1:if(i.m==Ku)throw new O(2,7,7e3);if(r=null,o="",e instanceof wn){if(e.u)throw new O(2,7,7006);r=e,o=r.Qc()||""}else o=e||"";return C(M,Wp(i.Z,"load"),2);case 2:if(i.Z.release(),!i.h)throw new O(2,7,7002);if(!i.T){M.s(3);break}return i.T=o,C(M,i.kc(!1),3);case 3:if(a=++i.Te,l=function(){return L(function(I){if(I.g==1)return i.Te==a?I.s(0):r?C(I,r.destroy(),3):I.s(3);throw new O(2,7,7e3)})},f=function(I,U){return L(function(_){switch(_.g){case 1:return bi(_,2),C(_,Wp(i.Z,U),4);case 4:return C(_,l(),5);case 5:return C(_,I(),6);case 6:return C(_,l(),7);case 7:r&&i.g&&(r.g=i.g);case 2:re(_),i.Z.release(),ye(_,0)}})},Se(M,5,6),t==null&&r&&(t=r.getStartTime()),i.Y=t,i.sa=!1,i.dispatchEvent(c("loading")),r){n=r.Y,M.s(8);break}if(n){M.s(8);break}return C(M,f(function(){return L(function(I){if(I.g==1)return C(I,ue(i,o),2);n=I.h,le(I)})},"guessMimeType_"),8);case 8:if(h=!!r,r){qu(r,i),i.A=r.getStats(),M.s(11);break}return C(M,B(i,o,t,n,!0),12);case 12:(r=M.h)?(r.A=!1,qu(r,i),i.A=r.getStats(),r.start(),r.m.catch(function(){})):i.A=new ds;case 11:return p=!r,g=Date.now()/1e3,i.A=r?r.getStats():new ds,i.T=o,i.Pb=n||null,i.Aa=new ca(function(){return i.Ra()}),p?C(M,f(function(){return L(function(I){return C(I,rn(i,n),0)})},"initializeSrcEqualsDrmInner_"),23):(i.Ga=new ca(function(){return i.Ra()}),C(M,f(function(){return L(function(I){if(I.g==1)return C(I,Promise.race([r.oa,r.m]),2);i.Qb=r.G;var U=r;U.pa=!0,i.H=U.l,i.i=r.Hf(),le(I)})},"waitForFinish"),15));case 15:if(i.I){M.s(16);break}return C(M,f(function(){return L(function(I){return C(I,ne(i),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return i.i&&i.i.textStreams.length&&(i.B.enableTextDisplayer?i.B.enableTextDisplayer():ct("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),C(M,f(function(){return L(function(I){return C(I,r.m,0)})},"waitForFinish"),18);case 18:if(i.g=r.getConfiguration(),i.te=r.F,i.H&&i.H.setMediaElement&&i.h&&i.H.setMediaElement(i.h),i.yd=Py(r),i.xd=r.Ga,(y=r.o)&&(i.W=y),h&&i.h&&i.h.nodeName==="AUDIO"&&(D(i),i.configure("manifest.disableVideo",!0)),r.i){M.s(19);break}return C(M,f(function(){return L(function(I){return C(I,Gm(r,i.h),0)})},"drmEngine_.init"),19);case 19:return i.C=_l(r),C(M,f(function(){return L(function(I){return C(I,i.C.Lb(i.h),0)})},"drmEngine_.attach"),21);case 21:return!(T=r.C)||i.Fa&&i.Fa==T||(i.o=by(r),i.Fa=r.C,typeof i.o.setMediaElement!="function"&&(ct("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),i.o.setMediaElement=function(){}),typeof i.o.setCmsdManager!="function"&&(ct("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),i.o.setCmsdManager=function(){}),typeof i.o.trySuggestStreams!="function"&&(ct("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),i.o.trySuggestStreams=function(){})),w=zm(r),A=r.K,C(M,f(function(){return L(function(I){return C(I,tt(i,g,A,w),0)})},"loadInner_"),22);case 22:_d(r),i.Pb&&qn()&&au(i.Pb)&&or(i.I,i.T,i.Pb),M.s(14);break;case 23:return C(M,f(function(){return L(function(I){return C(I,Q(i,g,n),0)})},"srcEqualsInner_"),14);case 14:i.dispatchEvent(c("loaded"));case 6:if(re(M),!r){M.s(25);break}return C(M,r.destroy(),25);case 25:i.ya=null,ye(M,0);break;case 5:if(E=Te(M),!E||E.code==7e3){M.s(27);break}return C(M,i.kc(!1),27);case 27:throw E}})};function D(e){for(var t=x(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(i){return i.audio})}S.Gj=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i;return L(function(r){return r.g==1?C(r,R(n),2):r.g!=3?(i=r.h,C(r,n.kc(e,t),3)):r.return(i)})},S.Lg=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,i;return L(function(r){return r.g==1?C(r,R(n,t),2):r.g!=3?(i=r.h,C(r,n.detach(e),3)):r.return(i)})};function R(e,t){t=t===void 0?!1:t;var n,i;return L(function(r){if(r.g==1)return n=null,e.i&&e.H&&e.Qb&&e.T?(i=e.h.currentTime,e.U()&&!t&&(i=null),C(r,$(e,e.T,i,e.Pb,!0,!1,!1),3)):r.s(2);if(r.g!=2){n=r.h,e.Ee.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var o=n,a=e.H,l=e.Qb;o.h=e.i,o.l=a,o.G=l,o=n,a=e.Fa,o.j=e.o,o.C=a,n.o=e.W,n.start(),e.i=null,e.H=null,e.Qb=null,e.o=null,e.Fa=null}return r.return(n)})}S.preload=function(e,t,n){t=t===void 0?null:t;var i=this,r;return L(function(o){return o.g==1?C(o,B(i,e,t,n),2):((r=o.h)?r.start():Fd(i,new O(2,7,7005)),o.return(r))})},S.pf=function(){var e=this,t,n,i,r;return L(function(o){for(t=[],n=x(e.Ee),i=n.next();!i.done;i=n.next())r=i.value,r.u||t.push(r.destroy());return e.Ee=[],C(o,Promise.all(t),0)})};function B(e,t,n,i,r){r=r===void 0?!1:r;var o,a,l;return L(function(f){return f.g==1?i?f.s(2):C(f,ue(e,t),3):(f.g!=2&&(i=f.h),ae(e,i)?f.return(null):(o=!1,a=!0,r&&(e.o&&e.Fa==e.g.abrFactory&&(a=!1),e.h&&e.h.nodeName==="AUDIO"&&(o=!0)),l=$(e,t,n,i||null,!r,o,a),l=r?l.then(function(h){return h.A=!1,h}):l.then(function(h){return e.Ee.push(h),h}),f.return(l)))})}function $(e,t,n,i,r,o,a){r=r===void 0?!0:r,o=o===void 0?!1:o,a=a===void 0?!0:a;var l,f,h,p,g,y,T,w,A,E,M,I,U,_;return L(function(b){return b.g==1?(l=null,f=ru(e.g),o&&(f.manifest.disableVideo=!0),h=function(){return l.T&&l.u?null:l},p=function(){return h()?h().getConfiguration():e.g},e.ka.width!=1/0||e.ka.height!=1/0||e.g.ignoreHardwareResolution?b.s(2):C(b,Cs(),3)):(b.g!=2&&(g=b.h,e.ka.width=g.width,e.ka.height=g.height),y=new ed(f,e.ka,null),T={networkingEngine:e.F,filter:function(N){var k,P;return L(function(j){if(j.g==1)return C(j,fl(y,N),2);if(j.g!=4)return k=j.h,k?(P=c("trackschanged"),C(j,Promise.resolve(),4)):j.s(0);l.dispatchEvent(P),le(j)})},makeTextStreamsForClosedCaptions:function(N){return cE(e,N)},onTimelineRegionAdded:function(N){Xc(l.H,N)},onEvent:function(N){return l.dispatchEvent(N)},onError:function(N){return l.onError(N)},isLowLatencyMode:function(){return p().streaming.lowLatencyMode},updateDuration:function(){e.j&&l.T&&e.j.updateDuration()},newDrmInfo:function(N){var k=l.i,P=k?k.h:null;P&&k.A&&nd(y,P.keySystem,N)},onManifestUpdated:function(){var N=new Map().set("isLive",e.U());l.dispatchEvent(c("manifestupdated",N)),Ul(l,!1,function(){e.u&&e.u.onManifestUpdated(e.U())})},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(N,k,P,j){var V=N;N=="com.apple.hls.interstitial"&&(V="com.apple.quicktime.HLS",N={startTime:k,endTime:P,values:j},e.u)&&e.u.onHLSInterstitialMetadata(e,e.h,N),j=x(j),N=j.next();for(var H={};!N.done;H={Zf:void 0},N=j.next())H.Zf=N.value,H.Zf.name!="ID"&&Ul(l,!1,function(z){return function(){Mt(e,k,P,V,z.Zf)}}(H))},disableStream:function(N){return e.disableStream(N,e.g.streaming.maxDisabledTime)},addFont:function(N,k){return e.addFont(N,k)}},w=new ca(function(){return e.Ra()}),w.addEventListener("regionadd",function(N){var k=N.region;tg(e,"timelineregionadded",k,l),Ul(l,!1,function(){e.u&&(e.u.onDashTimedMetadata(k),e.u.onDASHInterstitialMetadata(e,e.h,k))})}),A=null,f.streaming.observeQualityChanges&&(A=new la(function(){return e.Fb()}),A.addEventListener("qualitychange",function(N){vS(e,N.quality,N.position)}),A.addEventListener("audiotrackchange",function(N){vS(e,N.quality,N.position,!0)})),E=!0,M={Xb:e.F,onError:function(N){return l.onError(N)},pe:function(N){Ul(l,!0,function(){e:{var k=N,P=c("keystatuschanged");e.dispatchEvent(P);var j=Object.keys(k);j.length==1&&j[0]==""&&(j=["00"],k={"00":k[""]}),P=j.length==1&&j[0]=="00";var V=!1;if(j.length){j=e.keySystem();for(var H=To(e.g.drm.clearKeys),z=x(e.i.variants),K=z.next();!K.done;K=z.next()){K=K.value;var X=[];K.audio&&X.push(K.audio),K.video&&X.push(K.video),X=x(X);for(var Z=X.next();!Z.done;Z=X.next()){var Y=Z.value;if(Z=K.allowedByKeySystem,Y.keyIds.size)if(Y.drmInfos.length&&!H.size){Y=x(Y.drmInfos);for(var ie=Y.next();!ie.done;ie=Y.next())if(ie=ie.value,ie.keyIds.size&&ie.keySystem==j){K.allowedByKeySystem=!0,ie=x(ie.keyIds);for(var se=ie.next();!se.done;se=ie.next())se=se.value,((se=k[P?"00":se])||e.C.F)&&(K.allowedByKeySystem=K.allowedByKeySystem&&!!se&&!dl.includes(se))}}else for(K.allowedByKeySystem=!0,Y=x(Y.keyIds),ie=Y.next();!ie.done;ie=Y.next())ie=ie.value,((ie=k[P?"00":ie])||e.C.F)&&(K.allowedByKeySystem=K.allowedByKeySystem&&!!ie&&!dl.includes(ie));Z!=K.allowedByKeySystem&&(V=!0)}}}if(V&&(fr(e),!af(e)))break e;(k=e.j.l)&&!k.allowedByKeySystem&&qd(e)}})},onExpirationUpdated:function(N,k){var P=c("expirationupdated");l.dispatchEvent(P),(P=l.l)&&P.onExpirationUpdated&&P.onExpirationUpdated(N,k)},onEvent:function(N){l.dispatchEvent(N),N.type=="drmsessionupdate"&&E&&(E=!1,N=Date.now()/1e3-l.ya,(e.A||l.getStats()).j=N,e.O&&nc(e.O))}},I=nt(e,h),Gf(e.F,I),U=function(){return e.Lc(M)},_={config:f,$i:T,kj:w,jj:A,Lc:U,Zi:y,networkingEngine:I,Uh:r,Th:a},l=new wn(t,i,n,_),b.return(l))})}function ue(e,t){var n,i;return L(function(r){return r.g==1?(n=e.g.manifest.retryParameters,C(r,zr(t,e.F,n),2)):(i=r.h,i=="application/x-mpegurl"&&qn()&&(i="application/vnd.apple.mpegurl"),r.return(i))})}function ae(e,t){if(!tu())return!0;if(t){if((e.h||mh()).canPlayType(t)=="")return!1;if(!tu()||!_u.has(t))return!0;if(au(t))return qn()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if(t==="application/dash+xml"||t==="video/vnd.mpeg.dash.mpd")return e.g.streaming.preferNativeDash}return!1}function te(e){var t=e.g.textDisplayFactory;t!==e.Se&&(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ct("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Se=t,e.B.setTextVisibility(e.oa))}function ne(e){var t,n,i;return L(function(r){if(r.g==1)return m(e,"media-source"),e.h.removeAttribute("src"),Ao(e.h),te(e),t=oE(e.h,e.B,{si:function(){return e.keySystem()},onMetadata:function(o,a,l){o=x(o);for(var f=o.next();!f.done;f=o.next())if(f=f.value,f.data&&typeof f.cueTime=="number"&&f.frames){var h=f.cueTime+a,p=l;p&&h>p&&(p=h);for(var g=x(f.frames),y=g.next();!y.done;y=g.next())Mt(e,h,p,"org.id3",y.value);e.u&&e.u.onHlsTimedMetadata(f,h)}},ej:function(o){e.Ga&&Xc(e.Ga,{schemeIdUri:o.schemeIdUri,startTime:o.startTime,endTime:o.endTime,id:String(o.id),emsg:o})},onEvent:function(o){return e.dispatchEvent(o)},gj:function(){e.H&&e.H.update&&e.H.update()}},e.O),t.configure(e.g.mediaSource),n=e.g.manifest,i=n.segmentRelativeVttTiming,t.Ea=i,C(r,t.G,2);e.I=t,le(r)})}function at(e,t,n){function i(){return Qy(e)}e.l.D(t,"playing",i),e.l.D(t,"pause",i),e.l.D(t,"ended",i),e.l.D(t,"ratechange",function(){var r=e.h.playbackRate;r!=0&&(e.K&&(e.K.set(r),e.m==Ui&&e.o.playbackRateChanged(r),lS(e,r)),r=c("ratechange"),e.dispatchEvent(r))}),t.remote&&(e.l.D(t.remote,"connect",function(){return fr(e)}),e.l.D(t.remote,"connecting",function(){return fr(e)}),e.l.D(t.remote,"disconnect",function(){return L(function(r){if(r.g==1)return e.j&&t.remote.state=="disconnected"?C(r,ya(e.j),2):r.s(2);fr(e),le(r)})})),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",function(){return fr(e)}),e.l.D(t.audioTracks,"removetrack",function(){return fr(e)}),e.l.D(t.audioTracks,"change",function(){return fr(e)})),t.textTracks&&(e.l.D(t.textTracks,"addtrack",function(r){if(r.track)switch(r=r.track,r.kind){case"metadata":oe(e,r);break;case"chapters":ze(e,r);break;default:fr(e)}}),e.l.D(t.textTracks,"removetrack",function(){return fr(e)}),e.l.D(t.textTracks,"change",function(){return fr(e)}),e.g.streaming.crossBoundaryStrategy!=="keep"&&(e.l.D(t,"waiting",function(){e.j&&Id(e.j)}),e.l.D(t,"timeupdate",function(){e.j&&Id(e.j)}))),t.preload!="none"&&e.l.ma(t,"loadedmetadata",function(){e.A.C=Date.now()/1e3-n})}function tt(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K;return L(function(X){switch(X.g){case 1:for(m(e,"load"),r=e.h,e.K=new Tl({$d:function(){return r.playbackRate},sc:function(){return r.defaultPlaybackRate},mg:function(Z){r.playbackRate=Z},gh:function(Z){r.currentTime+=Z}}),at(e,r,t),o=!1,a=x(e.i.variants),l=a.next();!l.done;l=a.next())f=l.value,(h=f.video&&f.video.dependencyStream)&&(o=Ha(h));s(e,e.g,o),e.Tb=e.g.preferredTextLanguage,e.Hd=e.g.preferredTextRole,e.Fd=e.g.preferForcedSubs,Jy(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init(function(Z,Y,ie){e.i&&e.j&&Z!=e.j.l&&$p(e,Z,!0,Y===void 0?!1:Y,ie===void 0?0:ie)}),e.o.setMediaElement(r),e.o.setCmsdManager(e.fa),e.j=aE(e),e.j.configure(e.g.streaming),e.m=Ui,e.dispatchEvent(c("streaming")),p=n;case 2:for((y=e.j.l)||p||(p=af(e)?e.o.chooseVariant():null),T=[],g=y||p,w=x([g.video,g.audio]),A=w.next();!A.done;A=w.next())(E=A.value)&&!E.segmentIndex&&(T.push(E.createSegmentIndex()),E.dependencyStream&&T.push(E.dependencyStream.createSegmentIndex()));if(!(0<T.length)){X.s(4);break}return C(X,Promise.all(T),4);case 4:if(!g||g.disabledUntilTime!=0){X.s(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(g),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Xe):ot("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(Ym(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),qp(e.L,1e3*t)),Jy(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),Dy(e.j,e.g.playRangeStart,e.g.playRangeEnd),M=function(Z){e.G=pi(e,Z),e.La=Ft(e,Z),Jm(e,r,!1)},e.g.streaming.startAtSegmentBoundary||(I=e.Y,I==null&&e.i.startTime&&(I=e.i.startTime),M(I)),y){X.s(7);break}if(!e.g.streaming.startAtSegmentBoundary){X.s(8);break}return U=e.i.presentationTimeline,_=e.Y||e.h.currentTime,e.Y==null&&e.i.startTime&&(_=e.i.startTime),b=U.Hb(),N=U.ob(),_<b?_=b:_>N&&(_=N),C(X,fE(p,_),9);case 9:k=X.h,M(k);case 8:$p(e,p,!0,!1,0);case 7:return e.G.ready(),P=e.vc().find(function(Z){return Z.active}),P||((j=tl(e.i.textStreams,e.Tb,e.Hd,e.Fd)[0]||null)&&Ud(e.A.h,j,!0),p&&(j?(Jo(p.audio,j,e.g)&&(e.oa=!0),e.oa&&e.B.setTextVisibility(!0),gS(e)):e.oa=!1),j&&(e.g.streaming.alwaysStreamText||e.Pf())&&(Cl(e.j,j),eg(e))),C(X,e.j.start(i),10);case 10:e.g.abr.enabled&&(e.o.enable(),mS(e)),fr(e),af(e),e.i.variants.some(function(Z){return Z.primary}),((V=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(H=function(){return cS(e)},e.l.D(r,"timeupdate",H)),V||(z=function(){return $m(e)},e.l.D(r,"timeupdate",z),$m(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(K=function(){var Z;return L(function(Y){if(Y.g==1)return Z=e.Ra().end-e.h.currentTime,isNaN(Z)||!(Z<=e.g.streaming.preloadNextUrlWindow)?Y.s(0):(e.l.Ja(r,"timeupdate",K),C(Y,e.preload(e.i.nextUrl),4));e.ya=Y.h,le(Y)})},e.l.D(r,"timeupdate",K)),e.l.D(r,"ended",function(){e.load(e.ya||e.i.nextUrl)}))),e.u&&e.u.onManifestUpdated(V),e.sa=!0,le(X)}})}function rn(e,t){var n,i,r,o,a;return L(function(l){return l.g==1?(n=an,i=Date.now()/1e3,r=!0,e.C=e.Lc({Xb:e.F,onError:function(f){Fd(e,f)},pe:function(){},onExpirationUpdated:function(){var f=c("expirationupdated");e.dispatchEvent(f)},onEvent:function(f){e.dispatchEvent(f),f.type=="drmsessionupdate"&&r&&(r=!1,e.A.j=Date.now()/1e3-i)}}),e.C.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},a={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?cn(t):"",codecs:t?mi(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null},a.fullMimeTypes.add(Zt(a.mimeType,a.codecs)),t.startsWith("audio/")?(a.type=n.V,o.audio=a):o.video=a,e.C.Z=!0,C(l,qh(e.C,[o],[]),2)):C(l,e.C.Lb(e.h),0)})}function Q(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w;return L(function(A){switch(A.g){case 1:if(m(e,"src-equals"),i=e.h,e.G=new sa(i),r=!1,e.Cd.push(function(){r=!0}),e.Y!=null&&e.G.af(e.Y),e.La=ys(e,e.Y||0),e.K=new Tl({$d:function(){return i.playbackRate},sc:function(){return i.defaultPlaybackRate},mg:function(E){i.playbackRate=E},gh:function(E){i.currentTime+=E}}),Jm(e,i,!0),i.textTracks&&(te(e),o=function(){var E=Jp(e).find(function(M){return M.mode!=="disabled"});E&&(E.mode="showing")},a=function(){var E=Jp(e).find(function(M){return M.mode!=="disabled"});E&&(E.mode="hidden")},e.l.D(i,"enterpictureinpicture",function(){return o()}),e.l.D(i,"leavepictureinpicture",function(){return a()}),i.remote?(e.l.D(i.remote,"connect",function(){return a()}),e.l.D(i.remote,"connecting",function(){return a()}),e.l.D(i.remote,"disconnect",function(){return a()})):"webkitCurrentPlaybackTargetIsWireless"in i&&e.l.D(i,"webkitcurrentplaybacktargetiswirelesschanged",function(){return a()}),l=i,l.webkitSupportsFullscreen&&e.l.D(l,"webkitpresentationmodechanged",function(){l.webkitPresentationMode!="inline"?o():a()})),at(e,i,t),f=Qm(e.L,e.T,n),!f.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(f+="#t=",0<e.g.playRangeStart&&(f+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(f+=","+e.g.playRangeEnd)),!e.I){A.s(2);break}return C(A,e.I.destroy(),3);case 3:e.I=null;case 2:return Ao(i),i.src=f,(Wn()||Mu())&&i.load(),i.preload!="none"&&!i.autoplay&&au(n)&&qn()&&i.load(),e.m=Gr,e.dispatchEvent(c("streaming")),h=new xt,Gu(i,HTMLMediaElement.HAVE_METADATA,e.l,function(){e.G.ready(),h.resolve()}),p=function(){return new Promise(function(E){var M=new Ke(E);e.l.D(i.textTracks,"change",function(){return M.da(.5)}),M.da(.5)})},Gu(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,function(){var E,M,I,U,_;return L(function(b){if(b.g==1)return C(b,p(),2);if(r)return b.return();for(q(e),E=Jp(e),E.some(function(N){return N.mode==="showing"})&&(e.oa=!0,e.B.setTextVisibility(!0)),E.length&&(e.B.enableTextDisplayer?e.B.enableTextDisplayer():ct("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),M=!1,I=x(E),U=I.next();!U.done;U=I.next())_=U.value,_.mode!=="disabled"&&(M?(_.mode="disabled",ot("Found more than one enabled text track, disabling it",_)):(uS(e,_),M=!0));J(e),le(b)})}),i.error?h.reject(Wy(e)):i.preload=="none"&&(ot('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),h.resolve()),e.l.ma(i,"error",function(){h.reject(Wy(e))}),C(A,Vs(e.g.streaming.loadTimeout,h),4);case 4:((g=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(y=function(){return cS(e)},e.l.D(i,"timeupdate",y)),g||(T=function(){return $m(e)},e.l.D(i,"timeupdate",T),$m(e)),e.u&&(e.u.onManifestUpdated(g),g&&(w=e.Ra().end,e.l.D(i,"progress",function(){var E=e.Ra().end;w!=E&&(e.u.onManifestUpdated(e.U()),w=E)}))),e.sa=!0,le(A)}})}function q(e){var t=e.g.preferredAudioLanguage;t!=""&&e.sh(t,e.g.preferredVariantRole)}function J(e){var t=e.g.preferredTextLanguage;t!=""&&e.hg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function oe(e,t){if(t.kind=="metadata"){t.mode="hidden",e.l.D(t,"cuechange",function(){if(t.activeCues)for(var i=x(t.activeCues),r=i.next();!r.done;r=i.next())r=r.value,Mt(e,r.startTime,r.endTime,r.type,r.value),e.u&&e.u.onCueMetadataChange(r.value);if(t.cues){i=[],r=x(t.cues);for(var o=r.next(),a={};!o.done;a={bc:void 0},o=r.next())a.bc=o.value,a.bc.type=="com.apple.quicktime.HLS"&&a.bc.startTime!=null&&(o=i.find(function(l){return function(f){return f.startTime==l.bc.startTime&&f.endTime==l.bc.endTime}}(a)),o||(o={startTime:a.bc.startTime,endTime:a.bc.endTime,values:[]},i.push(o)),o.values.push(a.bc.value));for(i=x(i),r=i.next();!r.done;r=i.next())r=r.value,r.values.some(function(l){return l.key=="X-ASSET-URI"||l.key=="X-ASSET-LIST"})&&e.u&&(r.values.push({key:"CUE",description:"",data:r.startTime!=0||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.u.onHLSInterstitialMetadata(e,e.h,r))}});var n=new Ke(function(){var i=lE(e);i=x(i);for(var r=i.next();!r.done;r=i.next())r.value.mode="hidden"}).sb().da(.5);e.Cd.push(function(){n.stop()})}}function je(e,t){t=new Map().set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(c("metadata",t))}function Mt(e,t,n,i,r){e.Aa&&(t={schemeIdUri:i,startTime:t,endTime:n||1/0,id:"",payload:r},t.id=JSON.stringify(t),Xc(e.Aa,t))}function ze(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new Ke(function(){t.mode="hidden"}).sb().da(.5);e.Cd.push(function(){n.stop()})}}S.oj=function(){for(var e=this.Z;e.g;)e.release()},S.Lc=function(e){return new Cc(e)};function nt(e,t){function n(r){t()?t().dispatchEvent(r):e.dispatchEvent(r)}function i(r){t()?Ul(t(),!0,r):r()}return t||(t=function(){return null}),new Ct(function(r,o,a,l){var f=t()?t().j:e.o;f&&f.segmentDownloaded(r,o,a,l)},function(r,o,a){o=new Map().set("headers",r).set("request",o).set("requestType",a),n(c("downloadheadersreceived",o)),i(function(){if(e.fa){var l=e.fa;if(l.h.enabled){var f=r["cmsd-static"];if(f)try{var h=new Map,p=f.split(",");for(f=0;f<p.length;f++){var g=p[f].split("=");h.set(g[0],of(g[1]))}}catch(E){}if(h=r["cmsd-dynamic"]){try{var y=new Map,T=h.split(";");for(h=1;h<T.length;h++){var w=T[h].split("=");y.set(w[0],of(w[1]))}var A=y}catch(E){A=null}A&&(l.g=A)}}}})},function(r,o){r=new Map().set("request",r).set("response",o),n(c("downloadcompleted",r))},function(r,o,a,l){r=new Map().set("request",r).set("error",o).set("httpResponseCode",a).set("aborted",l),n(c("downloadfailed",r))},function(r,o,a){i(function(){var l=e.L,f=a;if(f=f===void 0?{}:f,l.g.enabled)if(o.method==="HEAD")Ol(l,o);else switch(r){case 0:try{if(l.g.enabled){if(f.type){e:{switch(f.type){case 4:var h=l.l?wa:rf;break e;case 3:case 2:h=l.l?Gd:uf;break e;case 5:h="s";break e}h=void 0}l.i=h}Ol(l,o,{ot:No,su:!l.u})}}catch(X){Eu("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",X)}break;case li:try{if(l.g.enabled){var p=f.segment;h=0,p&&(h=p.endTime-p.startTime);var g={d:1e3*h,st:l.h.U()?"l":"v"};g.ot=Yp(f);var y=g.ot===ms||g.ot===gs||g.ot===gu||g.ot===vs,T=f.stream;if(T){var w=l.h.gb();if(y&&(g.bl=Hd(l,T.type),g.ot!==vs)){var A=Vd(l,T.type);g.dl=w?A/Math.abs(w):A}if(T.bandwidth&&(g.br=T.bandwidth/1e3),T.segmentIndex&&p){var E=T.segmentIndex.Gb(p.endTime,!0,0>w);if(E){var M=E.next().value;if(M&&M!=p){if(!za(p.N(),M.N())){var I=M.N()[0],U=o.uris[0],_=new URL(I),b=new URL(U);if(_.origin!==b.origin)var N=I;else{for(var k=_.pathname.split("/").slice(1),P=b.pathname.split("/").slice(1,-1);k[0]===P[0];)k.shift(),P.shift();for(;P.length;)P.shift(),k.unshift("..");N=k.join("/")}g.nor=N}if((M.Sa||M.wa)&&(p.Sa!=M.Sa||p.wa!=M.wa)){var j=M.Sa+"-";M.wa&&(j+=M.wa),g.nrr=j}}}var V=l.h.gb()||1,H=Vd(l,T.type)||500,z=T.bandwidth,K=z?z*(p.endTime-p.startTime)/1e3/(H/V/1e3)*l.g.rtpSafetyFactor:NaN;isNaN(K)||(g.rtp=K)}}y&&g.ot!==vs&&(g.tb=Zm(l,g.ot)/1e3),Ol(l,o,g)}}catch(X){Eu("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",X)}break;case 2:case 5:case 6:Ol(l,o,{ot:"k"});break;case 4:Ol(l,o,{ot:"o"})}})},function(r,o,a,l){(r=t()?t().l:e.H)&&r.banLocation&&r.banLocation(l)},function(r,o){if(o.data){o=o.data.byteLength;var a=t()?t().getStats():e.A;a&&(a.mc=isNaN(a.mc)?o:a.mc+o,r===0&&(a.bh=o))}})}function pi(e,t){return new aa(e.h,e.i,e.g.streaming,t,function(){e.La&&Io(e.La,!0),e.j&&e.j.Fc(),e.M&&Ss(e)},function(n){return e.dispatchEvent(n)})}function Ft(e,t){var n=e.U()||0<t;t=new hs(e.yd,n),t.addEventListener("enter",function(o){tg(e,"timelineregionenter",o.region)}),t.addEventListener("exit",function(o){tg(e,"timelineregionexit",o.region)}),t.addEventListener("skip",function(o){var a=o.region;o.seeking||(tg(e,"timelineregionenter",a),tg(e,"timelineregionexit",a))});var i=new hs(e.Aa,n);i.addEventListener("enter",function(o){je(e,o.region)}),n=new hs(e.Ga,n),n.addEventListener("enter",function(o){o=new Map().set("detail",o.region.emsg),e.dispatchEvent(c("emsg",o))});var r=new Ap(e.h);return r.g.add(t),r.g.add(i),r.g.add(n),e.xd&&r.g.add(e.xd),r}function ys(e,t){t=new hs(e.Aa,0<t),t.addEventListener("enter",function(i){je(e,i.region)});var n=new Ap(e.h);return n.g.add(t),n}function Jm(e,t,n){e.M=new dm,e.M.g=cl,eS(e),Yy(e),e.pa=new Ke(function(){Ss(e)}),e.g.streaming.rebufferingGoal&&e.pa.ua(.25),e.l.D(t,"waiting",function(){return Ss(e)}),e.l.D(t,"canplaythrough",function(){return Ss(e)}),e.l.D(t,"playing",function(){return Ss(e)}),e.l.D(t,"seeked",function(){return Ss(e)}),n&&(e.l.D(t,"stalled",function(){return Ss(e)}),e.l.D(t,"progress",function(){return Ss(e)}),e.l.D(t,"timeupdate",function(){return Ss(e)}))}function eS(e){var t=e.g.streaming.rebufferingGoal;e.M.i.set(kc,Math.min(.5,t/2)).set(cl,t)}function Ss(e){switch(e.m){case Gr:if(e.Uc())var t=!0;else{var n=Oc(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case Ui:e:if(e.Uc()||Ti(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.cc();var i=Oc(e.h.buffered);if(i!=null&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=ld(e.h.buffered,e.h.currentTime),n=e.M;var r=t,o=n.i.get(n.g);t=n.g,i=r||i>=o&&0<i?kc:cl,n.g=i,(t=t!=i)&&i===kc&&(n.h=Date.now()),t&&Yy(e)}function oE(e,t,n,i){return new yp(e,t,n,i)}function sE(e){return new Pd({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Fb:function(){return e.Fb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},gb:function(){return e.gb()},xb:function(){return e.xb()},Rb:function(){return e.Rb()},U:function(){return e.U()},Zd:function(){return e.Zd()}},e.g.cmcd)}function aE(e){return new Nm(e.i,{Rc:function(){return e.G?e.G.Od():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},gb:function(){return e.gb()},video:e.h,aa:e.I,Xb:e.F,onError:function(t){return Fd(e,t)},onEvent:function(t){return e.dispatchEvent(t)},qe:function(t,n,i){var r=t.startTime;if(t=t.endTime,n=n.type,n!=Xe){if(e.G){e.G.ih();var o=zi(e.I,n);!e.U()&&e.h.paused&&!e.h.seeking&&o!=null&&0<o&&e.G.Od()<o&&e.G.af(o)}Ss(e)}i=new Map().set("start",r).set("end",t).set("contentType",n).set("isMuxed",i),e.dispatchEvent(c("segmentappended",i))},fj:function(t,n){(n=n.Wc)&&e.xd&&xl(e.xd,n,t)},Fg:function(t,n){var i=e.C;if(i.g.parseInbandPsshEnabled&&!i.F&&["audio","video"].includes(t)){t=new Ac(Ue(n)),n=0;for(var r=x(t.data),o=r.next();!o.done;o=r.next())n+=o.value.length;if(n==0)i=Promise.resolve();else{for(n=new Uint8Array(n),r=0,t=x(t.data),o=t.next();!o.done;o=t.next())o=o.value,n.set(o,r),r+=o.length;Fs(i,"cenc",n),i=i.m}}else i=Promise.resolve();return i},disableStream:function(t,n){return e.disableStream(t,n)}})}S.configure=function(e,t){if(arguments.length==2&&typeof e=="string"&&(e=Qc(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ct("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ct("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(ct("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&qn(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&typeof e.streaming.liveSync=="boolean"){ct("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var i=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+i,e.streaming.liveSync.targetLatencyTolerance=i}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(ct("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(ct("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(ct("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(ct("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(ct("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(ct("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(ct("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(ct("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){ct("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var r=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return r},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(ct("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(ct("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(ct("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(ct("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(ct("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(ct("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(ct("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(ct("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(ct("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(ct("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){n=!1;for(var o in e.drm.advanced){var a=e.drm.advanced[o];i=a.videoRobustness,a=a.audioRobustness,"videoRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].videoRobustness)&&(e.drm.advanced[o].videoRobustness=[i],n=!0),"audioRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].audioRobustness)&&(e.drm.advanced[o].audioRobustness=[a],n=!0)}n&&ct("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"crossBoundaryStrategy"in e.streaming&&e.streaming.crossBoundaryStrategy!="keep"&&(e.streaming.inaccurateManifestTolerance=0),o=Xu(this.g,e,Ea(this)),tS(this),o},S.ci=function(e){this.Xe=e};function tS(e){if(e.te=new ed(e.g,e.ka,e.C),e.H){var t=ru(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=Ku&&Nc(e.te,e.i)&&fr(e)}catch(r){Fd(e,r)}e.o&&af(e),t=e.j.l,!t||t.allowedByApplication&&t.allowedByKeySystem||qd(e)}if(e.F&&(e.F.kg(e.g.streaming.forceHTTP),e.F.lg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Ea=e.g.manifest.segmentRelativeVttTiming),e.B)if(t=e.g.textDisplayFactory,e.Se!=t){var n=e.B;if(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ct("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.B.setTextLanguage||ct("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.B.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var i=e.B;n.ea=i,n.h&&(n.h.j=i)}e.Se=t,e.j&&(t=e.j,(n=t.i.get(Xe))&&Gi(t,n.stream,!0,0,!0))}else e.B.configure&&e.B.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),mS(e)),e.M&&eS(e),e.pa&&(e.g.streaming.rebufferingGoal?e.pa.ua(.25):e.pa.stop()),e.i&&Jy(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u&&e.u.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}S.getConfiguration=function(){var e=Ea(this);return Xu(e,this.g,Ea(this)),e},S.ki=function(){return this.Xe},S.Vg=function(){var e=Ea(this);return Xu(e,this.g,Ea(this)),en(this.g,Ea(this))},S.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Ra().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},S.sj=function(){for(var e in this.g)delete this.g[e];Xu(this.g,Ea(this),Ea(this)),tS(this)},S.ti=function(){return this.m},S.Tg=function(){return this.i?this.i.type:null},S.xi=function(){return this.h},S.xb=function(){return this.F},S.Qc=function(){return this.T},S.Pg=function(){return this.u?this.u:null},S.U=function(){return this.i&&!this.Pa()?this.i.presentationTimeline.U():this.h&&this.h.src?this.h.duration==1/0:!1},S.yc=function(){return this.i?this.i.presentationTimeline.yc():!1},S.Qi=function(){if(this.i&&!this.Pa()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},S.Ra=function(){if(this.i&&!this.Pa()){if(!this.sa&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Hb(),end:e.ob()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return e=Math.min(e.end(e.length-1),n),{start:t,end:e}}return{start:0,end:0}},S.Ni=function(){this.U()&&(this.h.currentTime=this.Ra().end)},S.Ri=function(){return this.sa},S.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},S.drmInfo=function(){return this.C?this.C.h:null},S.pd=function(){return this.C?this.C.pd():1/0},S.Gf=function(){return this.C?this.C.Gf():[]},S.Yd=function(){return this.C?this.C.Yd():{}},S.Of=function(){return this.M?this.M.g==cl:!1},S.gb=function(){return this.h?this.K?this.K.i:1:0},S.Md=function(e,t){t=t===void 0?!0:t,e==0?ot("A trick play rate of 0 is unsupported!"):(this.K.set(e),this.m==Ui&&(this.o.playbackRateChanged(e),qc(this.j,t&&1<Math.abs(e))),lS(this,e))},S.gd=function(){var e=this.K.sc();this.m==Gr&&this.K.set(e),this.m==Ui&&(this.K.set(e),this.o.playbackRateChanged(e),qc(this.j,!1)),this.Na.Qa()},S.Rb=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.l:null,t=[],n=0,i=x(this.i.variants),r=i.next();!r.done;r=i.next())if(r=r.value,Nu(r)){var o=Gs(r);o.active=r==e,o.active||n==1||e==null||r.video!=e.video||r.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(a){return Xs(a)}):[]},S.vc=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.u:null,t=[],n=x(this.i.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=hc(i);r.active=i==e,t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?Jp(this).map(function(o){return el(o)}):[]},S.pi=function(){var e=this.Oe;return this.i&&(e=this.i.imageStreams),e.map(function(t){return bn(t)})},S.fi=function(e){var t=this,n,i;return L(function(r){return r.g==1?C(r,iS(t,e),2):(n=r.h,n?(i=[],n.segmentIndex.Eb(function(o){var a=nS(o.tilesLayout||n.tilesLayout);if(a){a=a.rows*a.oc;for(var l=o.j-o.startTime,f=0;f<a;f++){var h=rS(n,o.startTime+l*f/a);h&&i.push(h)}}}),n.closeSegmentIndex&&n.closeSegmentIndex(),r.return(i)):r.return(null))})};function nS(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}S.Hi=function(e,t){var n=this,i;return L(function(r){return r.g==1?C(r,iS(n,e),2):(i=r.h)?r.return(rS(i,t)):r.return(null)})};function iS(e,t){var n,i;return L(function(r){return r.g==1?e.m!=Ui&&e.m!=Gr||(n=e.Oe,e.i&&(n=e.i.imageStreams),i=n[0],!i)?r.return(null):(t!=null&&(i=n.find(function(o){return o.id==t})),i?i.segmentIndex?r.s(2):C(r,i.createSegmentIndex(),2):r.return(null)):r.return(i)})}function rS(e,t){var n=e.segmentIndex.find(t);if(n==null)return null;n=e.segmentIndex.get(n);var i=nS(n.tilesLayout||e.tilesLayout);if(!i)return null;var r=e.width||0,o=e.height||0,a=r/i.oc,l=o/i.rows,f=i.oc*i.rows,h=n.j-n.startTime;h=n.B||h/f;var p=n.startTime,g=0,y=0;return 1<f&&(t=Math.floor((t-n.startTime)/h),p=n.startTime+t*h,g=t%i.oc*a,y=Math.floor(t/i.oc)*l),t=!1,(i=n.thumbnailSprite)&&(t=!0,l=i.height,g=i.positionX,y=i.positionY,a=i.width),{segment:n,imageHeight:o,imageWidth:r,height:l,positionX:g,positionY:y,startTime:p,duration:h,uris:n.N(),width:a,sprite:t,mimeType:n.mimeType||e.mimeType,codecs:n.codecs||e.codecs}}S.th=function(e){function t(){var i=n.i.textStreams.find(function(r){return r.id==e.id});i&&i!=n.j.u&&(Ud(n.A.h,i,!1),Cl(n.j,i),ev(n),eg(n),n.Tb=i.language)}var n=this;this.i&&this.G&&(t(),!this.Pa())||function(){if(n.h&&n.h.textTracks){var i=Jp(n),r=i.find(function(o){return o.mode!=="disabled"});(i=i.find(function(o){return pc(o)===e.id}))&&(r!==i&&(r&&(r.mode="disabled",n.l.Ja(r,"cuechange"),n.B.remove(0,1/0)),i&&uS(n,i)),ev(n),eg(n))}}()};function uS(e,t){e.l.D(t,"cuechange",function(){e.B.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},i=[],r=Array.from(t.activeCues||[]);r=x(r);for(var o=r.next();!o.done;o=r.next()){if(o=o.value,o.endTime===1/0||o.endTime<o.startTime)o=null;else{var a=new Ot(o.startTime,o.endTime,o.text);a.line=typeof o.line=="number"?o.line:null,o.lineAlign&&(a.lineAlign=o.lineAlign),a.lineInterpretation=o.snapToLines?ou:1,a.position=typeof o.position=="number"?o.position:null,o.positionAlign&&(a.positionAlign=o.positionAlign),a.size=o.size,a.textAlign=o.align,o.vertical==="lr"?a.writingMode="vertical-lr":o.vertical==="rl"&&(a.writingMode="vertical-rl"),o.region&&(a.region.id=o.region.id,a.region.height=o.region.lines,a.region.heightUnits=2,a.region.regionAnchorX=o.region.regionAnchorX,a.region.regionAnchorY=o.region.regionAnchorY,a.region.scroll=o.region.scroll,a.region.viewportAnchorX=o.region.viewportAnchorX,a.region.viewportAnchorY=o.region.viewportAnchorY,a.region.viewportAnchorUnits=Bi,a.region.width=o.region.width,a.region.widthUnits=Bi),Go(a),o=a}o&&((a=e.g.mediaSource.modifyCueCallback)&&a(o,null,n),i.push(o))}e.B.append(i)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}S.Be=function(e,t,n){function i(){var o=r.i.variants.find(function(l){return l.id==e.id});if(o&&Nu(o)){var a=r.j.l;r.g.abr.enabled&&(a.video!=o.video||a.audio&&o.audio&&a.audio.language==o.audio.language&&a.audio.channelsCount==o.audio.channelsCount&&a.audio.label==o.audio.label)&&ot("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Pa()?$p(r,o,!1,!1,0):$p(r,o,!1,t||!1,n||0),r.W.configure({language:o.language,role:o.audio&&o.audio.roles&&o.audio.roles[0]||"",channelCount:o.audio&&o.audio.channelsCount?o.audio.channelsCount:0,Sc:o.video&&o.video.hdr?o.video.hdr:"",spatialAudio:o.audio&&o.audio.spatialAudio?o.audio.spatialAudio:!1,videoLayout:o.video&&o.video.videoLayout?o.video.videoLayout:"",Kc:o.audio&&o.audio.label?o.audio.label:"",fd:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:o.audio&&o.audio.codecs?o.audio.codecs:""}),af(r)}}var r=this;t=t===void 0?!1:t,n=n===void 0?0:n,!(this.i&&this.G&&(i(),!this.Pa()))&&function(){if(r.h&&r.h.audioTracks){var o=Array.from(r.h.audioTracks);o=x(o);for(var a=o.next();!a.done;a=o.next())if(a=a.value,pc(a)==e.id){fS(r,a);break}}}()},S.xj=function(e,t){t=t===void 0?0:t;var n=this.Rb();if(n.length){var i=n.find(function(r){return r.active});i&&(n=n.find(function(r){return r.videoId===i.videoId&&r.language==e.language&&r.label==e.label&&r.audioMimeType==e.mimeType&&r.audioCodec==e.codecs&&r.primary==e.primary&&za(r.audioRoles,e.roles)&&r.accessibilityPurpose==e.accessibilityPurpose&&r.channelsCount==e.channelsCount&&r.audioSamplingRate==e.audioSamplingRate&&r.spatialAudio==e.spatialAudio}))&&!n.active&&this.Be(n,!0,t)}},S.getAudioTracks=function(){var e=this.Rb();if(!e.length)return[];var t=e.find(function(r){return r.active});if(!t)return[];var n=e;if(this.m==Ui&&(n=e.filter(function(r){return r.originalVideoId===t.originalVideoId&&r.audioCodec})),!n.length)return[];e=new Set,n=x(n);for(var i=n.next();!i.done;i=n.next())i=i.value,e.add({active:i.active,language:i.language,label:i.label,mimeType:i.audioMimeType,codecs:i.audioCodec,primary:i.primary,roles:i.audioRoles||[],accessibilityPurpose:i.accessibilityPurpose,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,originalLanguage:i.originalLanguage});return e.size?Array.from(e):[]},S.hi=function(){return SS(this.Rb())},S.Fi=function(){return SS(this.vc())},S.gi=function(){return Array.from(yS(this.Rb()))},S.Ei=function(){return Array.from(yS(this.vc()))},S.sh=function(e,t,n,i,r,o,a){function l(){function h(w,A){return w.video||A.video?w.video&&A.video?Math.abs((w.video.height||0)-(A.video.height||0))+Math.abs((w.video.width||0)-(A.video.width||0)):1/0:0}f.W=f.g.adaptationSetCriteriaFactory(),f.W.configure({language:e,role:t||"",channelCount:n||0,Sc:"",spatialAudio:o||!1,videoLayout:"",Kc:a||"",fd:"",codecSwitchingStrategy:f.g.mediaSource.codecSwitchingStrategy,audioCodec:r||""});var p=f.j.l,g=f.W.create(f.i.variants),y=null;g=x(g.values());for(var T=g.next();!T.done;T=g.next())T=T.value,Nu(T)&&(!y||h(y,p)>h(T,p))&&(y=T);y!=p&&(y?(p=Gs(y),f.Be(p,!0,i||0)):qd(f))}var f=this;n=n===void 0?0:n,i=i===void 0?0:i,r=r===void 0?"":r,o=o===void 0?!1:o,a=a===void 0?"":a,!(this.i&&this.G&&(l(),!this.Pa()))&&function(){if(f.h&&f.h.audioTracks){var h=tl(f.Rb(),e,t||"",!1)[0];h&&f.Be(h)}}()},S.hg=function(e,t,n){function i(){r.Tb=e,r.Hd=t||"",r.Fd=n||!1;var o=tl(r.i.textStreams,r.Tb,r.Hd,r.Fd)[0]||null;o&&o!=r.j.u&&(Ud(r.A.h,o,!1),r.g.streaming.alwaysStreamText||r.Pf())&&(Cl(r.j,o),ev(r),eg(r))}var r=this;n=n===void 0?!1:n,!(this.i&&this.G&&(i(),!this.Pa()))&&function(){var o=tl(r.vc(),e,t||"",n||!1)[0];o&&r.th(o)}()},S.yj=function(e,t,n){function i(){for(var o=null,a=x(r.i.variants),l=a.next();!l.done;l=a.next())if(l=l.value,l.audio.label==e){o=l;break}o!=null&&(r.W=r.g.adaptationSetCriteriaFactory(),r.W.configure({language:o.language,role:"",channelCount:0,Sc:"",spatialAudio:!1,videoLayout:"",fd:"",Kc:e,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),qd(r,t,n))}var r=this;t=t===void 0?!0:t,n=n===void 0?0:n,!(this.i&&this.G&&(i(),!this.Pa()))&&function(){if(r.h&&r.h.audioTracks){var o=Array.from(r.h.audioTracks),a=null;o=x(o);for(var l=o.next();!l.done;l=o.next())l=l.value,l.label==e&&(a=l);a&&fS(r,a)}}()},S.Pf=function(){var e=this.oa;return this.B?this.B.isTextVisible():e},S.Rg=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?oS(this).map(function(e){return el(e)}):[]},S.ji=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=ht(e),n=oS(this).filter(function(l){return ht(l.language)==t});if(!n||!n.length)return[];e=[];var i=new Set;n=x(n);for(var r=n.next();!r.done;r=n.next())if((r=r.value)&&r.cues){r=x(r.cues);for(var o=r.next();!o.done;o=r.next()){var a=o.value;(o=a.id)&&o!=""||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},i.has(o)||(e.push(a),i.add(o))}}return e};function Jp(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function lE(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function oS(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}S.zh=function(e){e=!!e,this.oa!=e&&(this.oa=e,this.m==Ui?(this.B.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||(e=tl(this.i.textStreams,this.Tb,this.Hd,this.Fd),0<e.length&&(Cl(this.j,e[0]),ev(this),eg(this))):Ml(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.B.setTextVisibility(e),gS(this))},S.yi=function(){if(this.G)var e=this.G.Od();else{if(this.Y==null)return new Date;e=this.Y}if(this.i&&!this.Pa()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},S.Wg=function(){if(this.i&&!this.Pa()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},S.ae=function(){return this.U()&&this.i?this.i.presentationTimeline.ae():null},S.Fb=function(){if(this.m==Ui)return this.I.Fb();var e={total:[],audio:[],video:[],text:[]};return this.m==Gr&&(e.total=Si(this.h.buffered)),e},S.Zd=function(){if(!this.h||!this.h.currentTime)return null;var e=this.Wg().getTime()+1e3*this.h.currentTime;return Math.floor(Date.now()-e)},S.getStats=function(){if(this.m!=Ui&&this.m!=Gr)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Qy(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.P=this.G.zg(),this.A.T=this.G.Ag()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var i=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=i,this.A.L=Number(n.corruptedVideoFrames)}if(this.C?(n=this.C,n=n.H?n.H:NaN):n=NaN,this.A.o=n,this.m==Ui){if(n=this.j.l,t=this.j.u,n){i=this.K?this.K.i:1;var r=i*n.bandwidth;t&&t.bandwidth&&(r+=i*t.bandwidth),this.A.A=r}n&&n.video&&(t=this.A,i=n.video.height||NaN,t.m=n.video.width||NaN,t.l=i),this.U()&&(n=this.Zd()||0,this.A.B=n/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.u=n}this.m==Gr&&(n=this.A,n.mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var o=this.A;e=o.m,n=o.l,t=o.A,i=o.M,r=o.O;var a=o.L,l=o.T,f=o.P,h=o.u,p=o.i,g=o.C,y=o.H,T=o.j,w=Dr(o.g,"playing"),A=Dr(o.g,"paused"),E=Dr(o.g,"buffering"),M=o.o,I=o.B,U=o.I,_=o.bh,b=o.mc,N=o.K,k=o.G,P=o.F,j=Bp(o.g),V=[];o=x(o.h.g);for(var H=o.next();!H.done;H=o.next())H=H.value,V.push({timestamp:H.timestamp,id:H.id,type:H.type,fromAdaptation:H.fromAdaptation,bandwidth:H.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:i,droppedFrames:r,corruptedFrames:a,stallsDetected:l,gapsJumped:f,estimatedBandwidth:h,completionPercent:p,loadLatency:g,manifestTimeSeconds:y,drmTimeSeconds:T,playTime:w,pauseTime:A,bufferingTime:E,licenseTime:M,liveLatency:I,maxSegmentDuration:U,manifestSizeBytes:_,bytesDownloaded:b,nonFatalErrorCount:N,manifestPeriodCount:k,manifestGapCount:P,stateHistory:j,switchHistory:V}},S.Rh=function(e,t,n,i,r,o,a){a=a===void 0?!1:a;var l=this,f,h,p,g,y,T,w,A,E,M,I,U,_;return L(function(b){switch(b.g){case 1:if(l.m!=Ui&&l.m!=Gr)throw new O(1,7,7004);if(n!="subtitles"&&n!="captions"&&ot("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),i){b.s(2);break}return C(b,Fy(l,e),3);case 3:i=b.h;case 2:if(f=[],l.u&&(f=l.u.getCuePoints()),l.m!=Gr){b.s(4);break}return a&&(n="forced"),C(b,sS(l,e,t,n,i,o||"",f),5);case 5:if(h=ht(t),p=l.vc(),g=p.find(function(N){return ht(N.language)==h&&N.label==(o||"")&&N.kind==n}))return fr(l),b.return(g);throw new O(1,2,2012);case 4:if(y=an,T=l.Ra(),w=T.end-T.start,l.i&&(w=l.i.presentationTimeline.getDuration()),w==1/0)throw new O(1,4,4033);if(!f.length){b.s(6);break}return C(b,Ky(l,e,l.F,l.g.streaming.retryParameters),7);case 7:A=b.h,E=aS(l,A,i,f),M=new Blob([E],{type:"text/vtt"}),e=fs(M),i="text/vtt";case 6:if(I={id:l.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ni(0,w,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:y.za,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Zt(i||"",r||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},U=Zt(I.mimeType,I.codecs),_=cu(U),!_)throw new O(2,2,2014,i);return l.i.textStreams.push(I),fr(l),b.return(hc(I))}})},S.Sh=function(e,t){var n=this,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_;return L(function(b){switch(b.g){case 1:if(n.m!=Ui&&n.m!=Gr)throw new O(1,7,7004);if(t){b.s(2);break}return C(b,Fy(n,e),3);case 3:t=b.h;case 2:if(t!="text/vtt")throw new O(1,2,2017,e);if(i=an,r=n.Ra(),o=r.end-r.start,n.i&&(o=n.i.presentationTimeline.getDuration()),o==1/0)throw new O(1,4,4045);return C(b,Ky(n,e,n.F,n.g.streaming.retryParameters),4);case 4:if(a=b.h,l=co(t),!l)throw new O(2,2,2014,t);for(f=l(),h={periodStart:0,segmentStart:0,segmentEnd:o,vttOffset:0},p=Ue(a),g=f.parseMedia(p,h,e,[]),y=[],T=x(g),w=T.next(),A={};!w.done;A={Ne:void 0,Mc:void 0},w=T.next())A.Mc=w.value,A.Ne=null,E=function(N){return function(){return N.Ne==null&&(N.Ne=Qt([e],[N.Mc.payload])),N.Ne||[]}}(A),M=new Me(A.Mc.startTime,A.Mc.endTime,E,0,null,null,0,0,1/0),A.Mc.payload.includes("#xywh")&&(I=A.Mc.payload.split("#xywh=")[1].split(","),I.length===4&&M.De({height:parseInt(I[3],10),positionX:parseInt(I[0],10),positionY:parseInt(I[1],10),width:parseInt(I[2],10)})),y.push(M);if(U=t,!y.length){b.s(5);break}return C(b,zr(y[0].N()[0],n.F,n.g.manifest.retryParameters),6);case 6:U=b.h;case 5:return _={id:n.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new st(y),mimeType:U||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:i.$e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Zt(U||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},n.m==Gr?n.Oe.push(_):n.i.imageStreams.push(_),fr(n),b.return(bn(_))}})},S.Qh=function(e,t,n){var i=this,r,o,a,l;return L(function(f){switch(f.g){case 1:if(i.m!=Ui&&i.m!=Gr)throw new O(1,7,7004);if(n){f.s(2);break}return C(f,Fy(i,e),3);case 3:n=f.h;case 2:return r=[],i.u&&(r=i.u.getCuePoints()),C(f,sS(i,e,t,"chapters",n,"",r),4);case 4:if(o=f.h,a=i.Rg(),l=a.find(function(h){return h.language==t}),!l){f.s(5);break}return C(f,new Promise(function(h,p){i.l.ma(o,"load",h),i.l.ma(o,"error",function(){p(new O(1,2,2015))})}),6);case 6:return fr(i),f.return(l);case 5:throw new O(1,2,2012)}})};function Fy(e,t){var n;return L(function(i){switch(i.g){case 1:return Se(i,2),C(i,zr(t,e.F,e.g.streaming.retryParameters),4);case 4:n=i.h,Pe(i,3);break;case 2:Te(i);case 3:if(n)return i.return(n);throw new O(1,2,2011,t)}})}function sS(e,t,n,i,r,o,a){var l,f,h,p;return L(function(g){if(g.g==1)return r!="text/vtt"||a.length?C(g,Ky(e,t,e.F,e.g.streaming.retryParameters),3):g.s(2);g.g!=2&&(l=g.h,f=aS(e,l,r,a),h=new Blob([f],{type:"text/vtt"}),t=fs(h),r="text/vtt"),p=document.createElement("track");var y=e.L,T=t;try{if(y.g.enabled){var w=Fp(y);w.ot=zd,w.su=!0;var A=jl(w),E=Fu(T,A)}else E=T}catch(M){Eu("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",M),E=T}return p.src=E,p.label=o,p.kind=i,p.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(p),g.return(p)})}function Ky(e,t,n,i){var r,o,a;return L(function(l){if(l.g==1){r=li,o=mn([t],i),o.method="GET";var f=e.L;try{f.g.enabled&&Ol(f,o,{ot:zd,su:!0})}catch(h){Eu("CMCD_TEXT_ERROR","Could not generate text CMCD data.",h)}return C(l,n.request(r,o).promise,2)}return a=l.h,l.return(a.data)})}function aS(e,t,n,i){var r=co(n);if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ue(t),t=n.parseMedia(t,e,null,[]),Fm(t,i);throw new O(2,2,2014,n)}S.Dj=function(e,t){this.ka.width=e,this.ka.height=t},S.eg=function(e){if(this.m==Ui){var t=this.j;if(e=e===void 0?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=x(t.i.values()),i=n.next();!i.done;i=n.next())i=i.value,!i.sd||i.Da||i.kb||(i.sd=!1,ei(t,i,e));t=!0}}else t=!1;return t},S.Hf=function(){return ot("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},S.ui=function(){return this.Qb},S.ni=function(){var e={video:null,audio:null,text:null};if(this.m!=Ui)return e;var t=this.j.l,n=this.h.currentTime;t=x([t.video,t.audio,this.j.u]);for(var i=t.next();!i.done;i=t.next())if((i=i.value)&&i.segmentIndex){var r=i.segmentIndex.find(n);r=i.segmentIndex.get(r),r={codecs:r.codecs||i.codecs,mimeType:r.mimeType||i.mimeType,bandwidth:r.bandwidth||i.bandwidth},i.type=="video"?(r.width=i.width,r.height=i.height,e.video=r):i.type=="audio"?e.audio=r:i.type==Xe&&(e.text=r)}return e};function Ea(e){var t=Cr();return t.streaming.failureCallback=function(n){if(e.U()){var i=null;n.code==1001||n.code==1002?(i=1,e.g.streaming.lowLatencyMode&&(i=.1)):n.code==1003&&(i=.1),i!=null&&(n.severity=1,e.eg(i))}},t.textDisplayFactory=function(){return!e.ue||qn()&&!document.fullscreenEnabled?"addTextTrack"in e.h?new Yn(e.h,"Shaka Player TextTrack"):new Qn:new Dn(e.h,e.ue)},t}S.Ch=function(e){this.ue=e};function cE(e,t){for(var n=new Set,i=x(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,r.mimeType!="application/cea-608"&&r.mimeType!="application/cea-708"||n.add(r.originalId);for(i=x(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions){for(var o=x(r.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var l=a.startsWith("CC")?"application/cea-608":"application/cea-708",f=new vt,h=r.closedCaptions.get(a);l={id:e.We++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:f,mimeType:l,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:h,originalLanguage:h,label:null,type:Xe,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Zt(l,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(l),n.add(a)}}}function fE(e,t){var n,i,r,o,a;return L(function(l){return l.g==1?(n=e.audio,i=e.video,r=function(f,h){var p,g,y;return L(function(T){return T.g==1?f?f.segmentIndex?T.s(2):C(T,f.createSegmentIndex(),2):T.return(null):(g=(p=f.segmentIndex.Gb(h))?p.next().value:null,g?(y=g.startTime,T.return(y)):T.return(null))})},C(l,r(n,t),2)):l.g!=3?(o=l.h,C(l,r(i,t),3)):(a=l.h,a!=null&&o!=null?l.return(Math.max(a,o)):a!=null?l.return(a):o!=null?l.return(o):l.return(t))})}function Yy(e){var t=e.Of();if(e.A&&e.M&&e.G){if(e.g.streaming.rebufferingGoal==0){var n=e.K;n.j=!1,Sd(n)}else n=e.K,n.j=t,Sd(n);if(e.L&&(n=e.L,t||n.u||(n.u=!0),n.u&&t&&(n.B=!0),n.F=t),Qy(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Ue<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Ue*r,n-i))}}t=new Map().set("buffering",t),e.dispatchEvent(c("buffering",t))}function lS(e,t){e.Na.Qa(),e.U()&&e.Na.D(e.h,"timeupdate",function(){var n=e.h.currentTime,i=e.Ra(),r=e.g.streaming.safeSeekOffset;0<t?Math.floor(n)>=Math.floor(i.end)&&e.gd():Math.floor(n)<=Math.floor(i.start+r)&&e.gd()})}function Qy(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==cl?n="buffering":e.Uc()?n="ended":e.h.paused&&(n="paused");var i=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.g.duration=r-t.g.timestamp,t.g.state==i?t=!1:(t.h.push(t.g),t.g={timestamp:r,state:i,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(c("statechanged",n)))}}function cS(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var i=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,r=e.Qg();r<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=i&&e.Md(i,!1):r==1&&t!==e.K.sc()&&e.gd()}if(n&&(n=e.Ra(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var o=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var a=e.g.streaming.liveSync.targetLatency,l=a+i,f=Math.max(0,a-i),h=e.g.streaming.liveSync.maxPlaybackRate,p=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(a=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?l=e.i.serviceDescription.targetLatency+i:e.i.serviceDescription.maxLatency!=null&&(l=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?f=Math.max(0,e.i.serviceDescription.targetLatency-i):e.i.serviceDescription.minLatency!=null&&(f=e.i.serviceDescription.minLatency),h=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,p=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||typeof a!="number"||(e.P=a);var g=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;r&&e.Ma&&e.P!==null&&typeof a=="number"&&e.Ue<g&&Date.now()-e.Ma>1e3*o&&(o=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(a-o)/2,o+i),e.Ma=Date.now()),r&&e.P!==null&&(l=e.P+i,f=e.P-i),a=n.end-e.h.currentTime,i=0,e.m==Gr&&(r=e.h.buffered,0<r.length&&(i=r.end(r.length-1),i=Math.max(h,i-n.end))),n=e.g.streaming.liveSync.panicMode,r=1e3*e.g.streaming.liveSync.panicThreshold,o=Date.now()-e.M.h,n&&!p&&(p=e.g.streaming.liveSync.minPlaybackRate),n&&p&&o<=r?t!=p&&e.Md(p,!1):l!=null&&h&&a-i>l?(t!=h&&e.Md(h,!1),e.Ma=null):f!=null&&p&&a-i<f?(t!=p&&e.Md(p,!1),e.Ma=null):t!==e.K.sc()&&(e.gd(),e.Ma=Date.now())}}function $m(e){if(e.h){var t=function(r,o){var a=a===void 0?Number.EPSILON:a;if(r===o)a=!0;else{var l=Math.abs(r-o);a=l<=a?!0:a!==Number.EPSILON?Math.abs(l-a)<=Number.EPSILON:!1}return(a||o>r)&&e.Ve<r?(e.Ve=r,!0):!1},n=e.Ra();if(n=n.end-n.start,n=0<n?e.h.currentTime/n:0,!isNaN(n)){if(n*=100,t(0,n))var i=c("started");else t(25,n)?i=c("firstquartile"):t(50,n)?i=c("midpoint"):t(75,n)?i=c("thirdquartile"):(t(100,n)&&(i=c("complete")),e.g&&e.g.playRangeEnd!=1/0&&e.Uc()&&e.h.pause());i&&e.dispatchEvent(i)}}}function af(e){try{up(e.te,e.i)}catch(n){return Fd(e,n),!1}var t=mo(e.i.variants);return t=e.W.create(t),e.o.setVariants(Array.from(t.values())),!0}function qd(e,t,n,i,r){t=t===void 0?!0:t,n=n===void 0?0:n,i=i===void 0?!1:i,r=r===void 0?!0:r;var o;(o=af(e)?e.o.chooseVariant():null)&&$p(e,o,r,t,n,i)}function $p(e,t,n,i,r,o){o=o===void 0?!1:o;var a=e.j.l;if(t==a)i&&Fc(e.j,t,i,r,!0);else{var l=e.A.h;if(l.h!=t&&(l.h=t,l.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Fc(e.j,t,i,r,o,n),i=null,a&&(i=Gs(a)),a=Gs(t),a.active=!0,e.O&&(r=e.O,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),o=0,l=-1,t.mimeType){case"video/webm":o=1;break;case"video/mp4":o=2}switch(e.Tg()){case"DASH":l=1;break;case"HLS":l=0}r.g&&(r.g.setLevelSwitching(t.id,!0),r.g.setContainerFormat(o),r.j||r.g.setStreamingFormat(l))}n?(n=new Map().set("oldTrack",i).set("newTrack",a),n=c("adaptation",n),lf(e,n)):dS(e,i,a),hS(e,i,a)}}function fS(e,t){var n=Array.from(e.h.audioTracks).find(function(i){return i.enabled});t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),n=Xs(n),t=Xs(t),dS(e,n,t),hS(e,n,t))}function fr(e){var t=c("trackschanged");lf(e,t),pS(e)}function dS(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),t=c("variantchanged",t),lf(e,t)}function hS(e,t,n){var i=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(i=!0),i&&pS(e)}function pS(e){var t=c("audiotrackschanged");lf(e,t)}function ev(e){var t=c("textchanged");lf(e,t)}function gS(e){var t=c("texttrackvisibility");lf(e,t)}function mS(e){e.g.abr.enabled||Zy(e);var t=new Map().set("newStatus",e.g.abr.enabled);lf(e,c("abrstatuschanged",t))}function eg(e){var t=e.vc().find(function(n){return n.active});t&&e.B&&e.B.setTextLanguage&&e.B.setTextLanguage(t.language)}function Zy(e,t){if(t=t===void 0?!0:t,e.m==Ui){e.xe.stop();for(var n=x(e.i.variants),i=n.next();!i.done;i=n.next())i.value.disabledUntilTime=0;t&&af(e)}}S.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===Ku||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(l){var f=l[e.type];return f&&f.id!==e.id&&!l.disabledUntilTime?e.type=="audio"?e.language===f.language:!0:!1})){for(var n=!1,i=!1,r=x(this.i.variants),o=r.next();!o.done;o=r.next()){o=o.value;var a=o[e.type];a&&(a.id===e.id?(o.disabledUntilTime=Date.now()/1e3+t,n=!0):a.trickModeVideo&&a.trickModeVideo.id==e.id&&(i=!0))}return!n&&i?!1:(this.xe.ua(1),t=this.Fb().video.reduce(function(l,f){return l+f.end-f.start},0),qd(this,!1,t,!0,!1),!0)}return!1};function Fd(e,t){var n,i,r,o;return L(function(a){switch(a.g){case 1:if(e.m==Ku)return a.return();if(t.severity===1&&e.A.K++,n=!0,!(e.sa&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){a.s(2);break}return qn()&&t.code==3016?a.return():(Se(a,3),C(a,ya(e.j),5));case 5:i=a.h,n=!i,i&&(r=c("mediasourcerecovered"),e.dispatchEvent(r)),Pe(a,2);break;case 3:Te(a),n=!0;case 2:if(!n)return a.return();t.severity===2&&Zy(e,!1),o=c("error",new Map().set("detail",t)),e.dispatchEvent(o),o.defaultPrevented&&(t.handled=!0),le(a)}})}S.addFont=function(e,t){var n,i,r,o,a;return L(function(l){if(l.g==1)return"fonts"in document&&"FontFace"in F?C(l,document.fonts.ready,3):l.s(0);if(!("entries"in document.fonts))return l.return();for(n=function(f){f=f.entries();for(var h=[],p=f.next();p.done===!1;)h.push(p.value),p=f.next();return h},i=x(n(document.fonts)),r=i.next();!r.done;r=i.next())if(o=r.value,o.family==e&&o.display=="swap")return l.return();a=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(a),le(l)})};function tg(e,t,n,i){i=i===void 0?e:i,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),i.dispatchEvent(c(t,e))}function vS(e,t,n,i){i=i===void 0?!1:i,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(c(i?"audiotrackchanged":"mediaqualitychanged",t))}function Wy(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new O(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new O(2,3,3016,n,t,e.h.error.message))}function Jy(e,t,n){0<t&&(e.U()||e.Bh(t)),t=e.getDuration(),n<t&&(e.U()||e.bb(n))}function lf(e,t){L(function(n){if(n.g==1)return C(n,Promise.resolve(),2);e.m!=Ku&&e.dispatchEvent(t),le(n)})}function yS(e){var t=new Set;e=x(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(ht(n.language)):t.add("und");return t}function SS(e){var t=new Map,n=new Map;e=x(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r="und",o=[];i.language&&(r=ht(i.language)),i.type=="variant"?o=i.audioRoles:o=i.roles,o&&o.length||(o=[""]),t.has(r)||t.set(r,new Set),o=x(o);for(var a=o.next();!a.done;a=o.next())a=a.value,t.get(r).add(a),i.label&&(n.has(r)||n.set(r,new Map),n.get(r).set(a,i.label))}var l=[];return t.forEach(function(f,h){f=x(f);for(var p=f.next();!p.done;p=f.next()){p=p.value;var g=null;n.has(h)&&n.get(h).has(p)&&(g=n.get(h).get(p)),l.push({language:h,role:p,label:g})}}),l}S.Pa=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},S.Uc=function(){return!this.h||this.h.ended?!0:this.sa&&!this.U()&&this.h.currentTime>=this.Ra().end},me("shaka.Player",W),W.prototype.isEnded=W.prototype.Uc,W.prototype.isRemotePlayback=W.prototype.Pa,W.prototype.addFont=W.prototype.addFont,W.prototype.setVideoContainer=W.prototype.Ch,W.prototype.getFetchedPlaybackInfo=W.prototype.ni,W.prototype.getManifestParserFactory=W.prototype.ui,W.prototype.getManifest=W.prototype.Hf,W.prototype.retryStreaming=W.prototype.eg,W.prototype.setMaxHardwareResolution=W.prototype.Dj,W.prototype.addChaptersTrack=W.prototype.Qh,W.prototype.addThumbnailsTrack=W.prototype.Sh,W.prototype.addTextTrackAsync=W.prototype.Rh,W.prototype.getStats=W.prototype.getStats,W.prototype.getBufferedInfo=W.prototype.Fb,W.prototype.getSegmentAvailabilityDuration=W.prototype.ae,W.prototype.getPresentationStartTimeAsDate=W.prototype.Wg,W.prototype.getPlayheadTimeAsDate=W.prototype.yi,W.prototype.setTextTrackVisibility=W.prototype.zh,W.prototype.getChapters=W.prototype.ji,W.prototype.getChaptersTracks=W.prototype.Rg,W.prototype.isTextTrackVisible=W.prototype.Pf,W.prototype.selectVariantsByLabel=W.prototype.yj,W.prototype.selectTextLanguage=W.prototype.hg,W.prototype.selectAudioLanguage=W.prototype.sh,W.prototype.getTextLanguages=W.prototype.Ei,W.prototype.getAudioLanguages=W.prototype.gi,W.prototype.getTextLanguagesAndRoles=W.prototype.Fi,W.prototype.getAudioLanguagesAndRoles=W.prototype.hi,W.prototype.getAudioTracks=W.prototype.getAudioTracks,W.prototype.selectAudioTrack=W.prototype.xj,W.prototype.selectVariantTrack=W.prototype.Be,W.prototype.selectTextTrack=W.prototype.th,W.prototype.getThumbnails=W.prototype.Hi,W.prototype.getAllThumbnails=W.prototype.fi,W.prototype.getImageTracks=W.prototype.pi,W.prototype.getTextTracks=W.prototype.vc,W.prototype.getVariantTracks=W.prototype.Rb,W.prototype.cancelTrickPlay=W.prototype.gd,W.prototype.trickPlay=W.prototype.Md,W.prototype.getPlaybackRate=W.prototype.gb,W.prototype.isBuffering=W.prototype.Of,W.prototype.getKeyStatuses=W.prototype.Yd,W.prototype.getActiveSessionsMetadata=W.prototype.Gf,W.prototype.getExpiration=W.prototype.pd,W.prototype.drmInfo=W.prototype.drmInfo,W.prototype.keySystem=W.prototype.keySystem,W.prototype.isFullyLoaded=W.prototype.Ri,W.prototype.goToLive=W.prototype.Ni,W.prototype.seekRange=W.prototype.Ra,W.prototype.isAudioOnly=W.prototype.Qi,W.prototype.isInProgress=W.prototype.yc,W.prototype.isLive=W.prototype.U,W.prototype.getAdManager=W.prototype.Pg,W.prototype.getAssetUri=W.prototype.Qc,W.prototype.getNetworkingEngine=W.prototype.xb,W.prototype.getMediaElement=W.prototype.xi,W.prototype.getManifestType=W.prototype.Tg,W.prototype.getLoadMode=W.prototype.ti,W.prototype.resetConfiguration=W.prototype.sj,W.prototype.getBufferFullness=W.prototype.Qg,W.prototype.getNonDefaultConfiguration=W.prototype.Vg,W.prototype.getConfigurationForLowLatency=W.prototype.ki,W.prototype.getConfiguration=W.prototype.getConfiguration,W.prototype.configurationForLowLatency=W.prototype.ci,W.prototype.configure=W.prototype.configure,W.prototype.releaseAllMutexes=W.prototype.oj,W.prototype.destroyAllPreloads=W.prototype.pf,W.prototype.preload=W.prototype.preload,W.prototype.detachAndSavePreload=W.prototype.Lg,W.prototype.unloadAndSavePreload=W.prototype.Gj,W.prototype.load=W.prototype.load,W.prototype.updateStartTime=W.prototype.Kj,W.prototype.unload=W.prototype.kc,W.prototype.detach=W.prototype.detach,W.prototype.attachCanvas=W.prototype.Vh,W.prototype.attach=W.prototype.Lb,W.probeSupport=function(e){e=e===void 0?!0:e;var t,n,i,r,o,a;return L(function(l){switch(l.g){case 1:if(t={},!e){l.s(2);break}return C(l,am(),3);case 3:t=l.h;case 2:return n=wy(),i=Mm(),C(l,Cs(),4);case 4:return r=l.h,o={manifest:n,media:i,drm:t,hardwareResolution:r},a=xS,a.forEach(function(f,h){o[h]=f()}),l.return(o)}})},W.isBrowserSupported=function(){return F.Promise||ot("A Promise implementation or polyfill is required"),F.Promise&&F.Uint8Array&&Array.prototype.forEach&&!Rt("Trident/")?tu()?!0:ec("application/x-mpegurl"):!1},W.setAdManagerFactory=function(e){nv=e},W.registerSupportPlugin=d,W.prototype.destroy=W.prototype.destroy;var Ku=0,tv=1,Ui=2,Gr=3;W.LoadMode={DESTROYED:Ku,NOT_LOADED:tv,MEDIA_SOURCE:Ui,SRC_EQUALS:Gr},W.version="v4.14.6";var TS=["4","14"];Kl=new function(e){this.g=e,this.i=Sf,this.h=ws}(new hh(Number(TS[0]),Number(TS[1])));var xS=new Map,nv=null;function wS(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function dE(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function Ie(e,t,n){var i=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new $e,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}S=Ie.prototype,S.needsSkipUI=function(){return!1},S.isClientRendering=function(){return!0},S.hasCustomClick=function(){return!0},S.isUsingAnotherMediaElement=function(){return!0},S.getDuration=function(){return this.g.getDuration()},S.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},S.getRemainingTime=function(){return this.h.getRemainingTime()},S.isPaused=function(){return this.i},S.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},S.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},S.canSkipNow=function(){return this.h.getAdSkippableState()},S.skip=function(){return this.h.skip()},S.pause=function(){return this.h.pause()},S.play=function(){return this.h.resume()},S.getVolume=function(){return this.h.getVolume()},S.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},S.isMuted=function(){return this.h.getVolume()==0},S.isLinear=function(){return this.g.isLinear()},S.resize=function(e,t){var n=!1,i=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:i.webkitSupportsFullscreen&&(n=i.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},S.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},S.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},S.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},S.getTitle=function(){return this.g.getTitle()},S.getDescription=function(){return this.g.getDescription()},S.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},S.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},S.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},S.getAdId=function(){return this.g.getAdId()},S.getCreativeAdId=function(){return this.g.getCreativeAdId()},S.getAdvertiserName=function(){return this.g.getAdvertiserName()},S.getMediaUrl=function(){return this.g.getMediaUrl()},S.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},S.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},S.release=function(){this.h=this.g=null},me("shaka.ads.ClientSideAd",Ie),Ie.prototype.release=Ie.prototype.release,Ie.prototype.getPodIndex=Ie.prototype.getPodIndex,Ie.prototype.getTimeOffset=Ie.prototype.getTimeOffset,Ie.prototype.getMediaUrl=Ie.prototype.getMediaUrl,Ie.prototype.getAdvertiserName=Ie.prototype.getAdvertiserName,Ie.prototype.getCreativeAdId=Ie.prototype.getCreativeAdId,Ie.prototype.getAdId=Ie.prototype.getAdId,Ie.prototype.getVastMediaWidth=Ie.prototype.getVastMediaWidth,Ie.prototype.getVastMediaHeight=Ie.prototype.getVastMediaHeight,Ie.prototype.getVastMediaBitrate=Ie.prototype.getVastMediaBitrate,Ie.prototype.getDescription=Ie.prototype.getDescription,Ie.prototype.getTitle=Ie.prototype.getTitle,Ie.prototype.getPositionInSequence=Ie.prototype.getPositionInSequence,Ie.prototype.getSequenceLength=Ie.prototype.getSequenceLength,Ie.prototype.setMuted=Ie.prototype.setMuted,Ie.prototype.resize=Ie.prototype.resize,Ie.prototype.isLinear=Ie.prototype.isLinear,Ie.prototype.isMuted=Ie.prototype.isMuted,Ie.prototype.setVolume=Ie.prototype.setVolume,Ie.prototype.getVolume=Ie.prototype.getVolume,Ie.prototype.play=Ie.prototype.play,Ie.prototype.pause=Ie.prototype.pause,Ie.prototype.skip=Ie.prototype.skip,Ie.prototype.canSkipNow=Ie.prototype.canSkipNow,Ie.prototype.getTimeUntilSkippable=Ie.prototype.getTimeUntilSkippable,Ie.prototype.isSkippable=Ie.prototype.isSkippable,Ie.prototype.isPaused=Ie.prototype.isPaused,Ie.prototype.getRemainingTime=Ie.prototype.getRemainingTime,Ie.prototype.getMinSuggestedDuration=Ie.prototype.getMinSuggestedDuration,Ie.prototype.getDuration=Ie.prototype.getDuration,Ie.prototype.isUsingAnotherMediaElement=Ie.prototype.isUsingAnotherMediaElement,Ie.prototype.hasCustomClick=Ie.prototype.hasCustomClick,Ie.prototype.isClientRendering=Ie.prototype.isClientRendering,Ie.prototype.needsSkipUI=Ie.prototype.needsSkipUI;function Kt(){}function ES(e,t){var n=[];e=x(dt(e,"Ad"));for(var i=e.next();!i.done;i=e.next())if((i=ln(i.value,"InLine"))&&(i=ln(i,"Creatives"))){i=x(dt(i,"Creative"));for(var r=i.next();!r.done;r=i.next()){r=r.value;var o=ln(r,"Linear");if(o&&hE(n,t,o),r=ln(r,"NonLinearAds")){r=dt(r,"NonLinear"),r=x(r);for(var a=r.next();!a.done;a=r.next())e:{o=n;var l=t,f=a.value,h=ln(f,"StaticResource");if(h)a=h.attributes.creativeType;else{if(h=ln(f,"HTMLResource"),!h)break e;a="text/html"}if(h=Hi(h)){a==="text/html"&&(h="data:text/html;charset=UTF-8,"+encodeURIComponent(h));var p=Oe(f,"width",jn)||Oe(f,"expandedWidth",jn),g=Oe(f,"height",jn)||Oe(f,"expandedHeight",jn);if(p||g){var y=null;(f=f.attributes.minSuggestedDuration)&&(y=Ls(f)),f=0,l!=null&&(f=l),o.push({id:null,groupId:null,startTime:f,endTime:null,uri:h,mimeType:a,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:y,once:!0,pre:l==null,post:l==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:p||0,y:g||0}},displayOnBackground:!1,currentVideo:null,background:null})}}}}}}return n}function hE(e,t,n){var i=0;t!=null&&(i=t);var r=null;if(n.attributes.skipoffset&&(r=Ls(n.attributes.skipoffset),isNaN(r)&&(r=null)),n=ln(n,"MediaFiles")){var o=dt(n,"MediaFile");for(n=o,o=o.filter(function(l){return l.attributes.delivery=="streaming"}),o.length&&(n=o),n=n.sort(function(l,f){return(parseInt(f.attributes.height,10)||0)-(parseInt(l.attributes.height,10)||0)}),n=x(n),o=n.next();!o.done;o=n.next())if(o=o.value,!o.attributes.apiFramework){var a=Hi(o);if(a){e.push({id:null,groupId:null,startTime:i,endTime:null,uri:a,mimeType:o.attributes.type||null,isSkippable:r!=null,skipOffset:r,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});break}}}}me("shaka.ads.Utils",Kt),Kt.ADS_LOADED="ads-loaded",Kt.AD_STARTED="ad-started",Kt.AD_FIRST_QUARTILE="ad-first-quartile",Kt.AD_MIDPOINT="ad-midpoint",Kt.AD_THIRD_QUARTILE="ad-third-quartile",Kt.AD_COMPLETE="ad-complete",Kt.AD_STOPPED="ad-stopped",Kt.AD_SKIPPED="ad-skipped",Kt.AD_VOLUME_CHANGED="ad-volume-changed",Kt.AD_MUTED="ad-muted",Kt.AD_PAUSED="ad-paused",Kt.AD_RESUMED="ad-resumed",Kt.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Kt.CUEPOINTS_CHANGED="ad-cue-points-changed",Kt.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Kt.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Kt.AD_CLICKED="ad-clicked",Kt.AD_PROGRESS="ad-progress",Kt.AD_BUFFERING="ad-buffering",Kt.AD_IMPRESSION="ad-impression",Kt.AD_DURATION_CHANGED="ad-duration-changed",Kt.AD_CLOSED="ad-closed",Kt.AD_LOADED="ad-loaded",Kt.ALL_ADS_COMPLETED="all-ads-completed",Kt.AD_LINEAR_CHANGED="ad-linear-changed",Kt.AD_METADATA="ad-metadata",Kt.AD_RECOVERABLE_ERROR="ad-recoverable-error",Kt.AD_ERROR="ad-error",Kt.AD_BREAK_READY="ad-break-ready",Kt.AD_INTERACTION="ad-interaction",Kt.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Kt.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Kt.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function iv(e,t,n,i,r){var o=this;this.u=e,this.i=t,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=r,this.j=null,this.h=new $e,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.u,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.14.6"),this.g=null,this.B=i||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(a){pE(o,a)}),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(a){AS(o,a)}),this.h.D(this.i,"ended",function(){o.m.contentComplete()}),this.h.ma(this.i,"play",function(){o.F=!0})}iv.prototype.configure=function(e){this.o=e},iv.prototype.stop=function(){this.g&&this.g.stop(),this.u&&Ao(this.u)},iv.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()};function AS(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new fe("ad-error",t)),uv(e,null),e.l(new fe("ad-cue-points-changed",new Map().set("cuepoints",[])))}function pE(e,t){if(e.l(new fe("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),e.o.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.B),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.D(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.D(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.B);e.l(new fe("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var i=e.g.getCuePoints();if(i.length){t=[],i=x(i);for(var r=i.next();!r.done;r=i.next())t.push({start:r.value,end:null});e.l(new fe("ad-cue-points-changed",new Map().set("cuepoints",t)))}gE(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.D(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in F?(e.A=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A.observe(e.i)):e.h.D(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.F||e.o.skipPlayDetection?e.g.start():e.h.ma(e.i,"play",function(){e.F=!0,e.g.start()})}catch(o){uv(e,null)}}function rv(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function gE(e){function t(n,i){n=new Map().set("originalEvent",n),e.l(new fe(i,n))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){AS(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){MS(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,function(n){MS(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){uv(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){uv(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.D(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function MS(e,t){var n=t.getAd();n?(e.j=new Ie(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new fe("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new fe("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):ot("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function uv(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new fe("ad-content-resume-requested")),e.l(new fe("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Re(e,t,n,i,r,o){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=i,this.m=r,this.u=o,this.B=t.overlay}S=Re.prototype,S.needsSkipUI=function(){return!0},S.isClientRendering=function(){return!0},S.hasCustomClick=function(){return!1},S.isUsingAnotherMediaElement=function(){return this.u},S.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},S.getMinSuggestedDuration=function(){return this.getDuration()},S.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},S.isPaused=function(){return this.g.paused},S.isSkippable=function(){return this.h&&this.l!=null?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},S.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},S.canSkipNow=function(){return this.h&&this.getTimeUntilSkippable()==0},S.skip=function(){this.canSkipNow()&&this.A()},S.pause=function(){return this.g.pause()},S.play=function(){return this.g.play()},S.getVolume=function(){return this.g.volume},S.setVolume=function(e){this.g.volume=e},S.isMuted=function(){return this.g.muted},S.isLinear=function(){return this.B==null},S.resize=function(){},S.setMuted=function(e){this.g.muted=e},S.getSequenceLength=function(){return this.o},S.getPositionInSequence=function(){return this.m},S.getTitle=function(){return""},S.getDescription=function(){return""},S.getVastMediaBitrate=function(){return 0},S.getVastMediaHeight=function(){return 0},S.getVastMediaWidth=function(){return 0},S.getAdId=function(){return this.i.id||""},S.getCreativeAdId=function(){return""},S.getAdvertiserName=function(){return""},S.getMediaUrl=function(){return this.i.uri},S.getTimeOffset=function(){return 0},S.getPodIndex=function(){return 0},S.release=function(){this.g=null},me("shaka.ads.InterstitialAd",Re),Re.prototype.release=Re.prototype.release,Re.prototype.getPodIndex=Re.prototype.getPodIndex,Re.prototype.getTimeOffset=Re.prototype.getTimeOffset,Re.prototype.getMediaUrl=Re.prototype.getMediaUrl,Re.prototype.getAdvertiserName=Re.prototype.getAdvertiserName,Re.prototype.getCreativeAdId=Re.prototype.getCreativeAdId,Re.prototype.getAdId=Re.prototype.getAdId,Re.prototype.getVastMediaWidth=Re.prototype.getVastMediaWidth,Re.prototype.getVastMediaHeight=Re.prototype.getVastMediaHeight,Re.prototype.getVastMediaBitrate=Re.prototype.getVastMediaBitrate,Re.prototype.getDescription=Re.prototype.getDescription,Re.prototype.getTitle=Re.prototype.getTitle,Re.prototype.getPositionInSequence=Re.prototype.getPositionInSequence,Re.prototype.getSequenceLength=Re.prototype.getSequenceLength,Re.prototype.setMuted=Re.prototype.setMuted,Re.prototype.resize=Re.prototype.resize,Re.prototype.isLinear=Re.prototype.isLinear,Re.prototype.isMuted=Re.prototype.isMuted,Re.prototype.setVolume=Re.prototype.setVolume,Re.prototype.getVolume=Re.prototype.getVolume,Re.prototype.play=Re.prototype.play,Re.prototype.pause=Re.prototype.pause,Re.prototype.skip=Re.prototype.skip,Re.prototype.canSkipNow=Re.prototype.canSkipNow,Re.prototype.getTimeUntilSkippable=Re.prototype.getTimeUntilSkippable,Re.prototype.isSkippable=Re.prototype.isSkippable,Re.prototype.isPaused=Re.prototype.isPaused,Re.prototype.getRemainingTime=Re.prototype.getRemainingTime,Re.prototype.getMinSuggestedDuration=Re.prototype.getMinSuggestedDuration,Re.prototype.getDuration=Re.prototype.getDuration,Re.prototype.isUsingAnotherMediaElement=Re.prototype.isUsingAnotherMediaElement,Re.prototype.hasCustomClick=Re.prototype.hasCustomClick,Re.prototype.isClientRendering=Re.prototype.isClientRendering,Re.prototype.needsSkipUI=Re.prototype.needsSkipUI;function ke(e,t,n){this.g=e,this.j=t,this.h=n,this.i=e.overlay==null}S=ke.prototype,S.needsSkipUI=function(){return!0},S.isClientRendering=function(){return!0},S.hasCustomClick=function(){return!1},S.isUsingAnotherMediaElement=function(){return!1},S.getDuration=function(){return-1},S.getMinSuggestedDuration=function(){return this.getDuration()},S.getRemainingTime=function(){return-1},S.isPaused=function(){return!1},S.isSkippable=function(){return!1},S.getTimeUntilSkippable=function(){return 0},S.canSkipNow=function(){return!1},S.skip=function(){},S.pause=function(){},S.play=function(){},S.getVolume=function(){return 1},S.setVolume=function(){},S.isMuted=function(){return!1},S.isLinear=function(){return this.i},S.resize=function(){},S.setMuted=function(){},S.getSequenceLength=function(){return this.j},S.getPositionInSequence=function(){return this.h},S.getTitle=function(){return""},S.getDescription=function(){return""},S.getVastMediaBitrate=function(){return 0},S.getVastMediaHeight=function(){return 0},S.getVastMediaWidth=function(){return 0},S.getAdId=function(){return this.g.id||""},S.getCreativeAdId=function(){return""},S.getAdvertiserName=function(){return""},S.getMediaUrl=function(){return this.g.uri},S.getTimeOffset=function(){return 0},S.getPodIndex=function(){return 0},S.release=function(){},me("shaka.ads.InterstitialStaticAd",ke),ke.prototype.release=ke.prototype.release,ke.prototype.getPodIndex=ke.prototype.getPodIndex,ke.prototype.getTimeOffset=ke.prototype.getTimeOffset,ke.prototype.getMediaUrl=ke.prototype.getMediaUrl,ke.prototype.getAdvertiserName=ke.prototype.getAdvertiserName,ke.prototype.getCreativeAdId=ke.prototype.getCreativeAdId,ke.prototype.getAdId=ke.prototype.getAdId,ke.prototype.getVastMediaWidth=ke.prototype.getVastMediaWidth,ke.prototype.getVastMediaHeight=ke.prototype.getVastMediaHeight,ke.prototype.getVastMediaBitrate=ke.prototype.getVastMediaBitrate,ke.prototype.getDescription=ke.prototype.getDescription,ke.prototype.getTitle=ke.prototype.getTitle,ke.prototype.getPositionInSequence=ke.prototype.getPositionInSequence,ke.prototype.getSequenceLength=ke.prototype.getSequenceLength,ke.prototype.setMuted=ke.prototype.setMuted,ke.prototype.resize=ke.prototype.resize,ke.prototype.isLinear=ke.prototype.isLinear,ke.prototype.isMuted=ke.prototype.isMuted,ke.prototype.setVolume=ke.prototype.setVolume,ke.prototype.getVolume=ke.prototype.getVolume,ke.prototype.play=ke.prototype.play,ke.prototype.pause=ke.prototype.pause,ke.prototype.skip=ke.prototype.skip,ke.prototype.canSkipNow=ke.prototype.canSkipNow,ke.prototype.getTimeUntilSkippable=ke.prototype.getTimeUntilSkippable,ke.prototype.isSkippable=ke.prototype.isSkippable,ke.prototype.isPaused=ke.prototype.isPaused,ke.prototype.getRemainingTime=ke.prototype.getRemainingTime,ke.prototype.getMinSuggestedDuration=ke.prototype.getMinSuggestedDuration,ke.prototype.getDuration=ke.prototype.getDuration,ke.prototype.isUsingAnotherMediaElement=ke.prototype.isUsingAnotherMediaElement,ke.prototype.hasCustomClick=ke.prototype.hasCustomClick,ke.prototype.isClientRendering=ke.prototype.isClientRendering,ke.prototype.needsSkipUI=ke.prototype.needsSkipUI;function CS(e,t,n,i){var r=this;this.T=null,this.A=e,this.H=t,this.g=n,this.F=null,this.B=!0,this.h=this.g,this.i=i,this.W=new Set,this.G=new Set,this.C=new Map,this.L=new Map,this.j=new W,n0(this),this.I=new $e,this.l=new $e,this.K=!1,this.ea=this.m=this.u=this.o=null,this.fa=!1,this.O=-1,this.Z=function(){if(!r.K&&r.o&&!r.H.Pa()){r.o=r.g.currentTime,r.u&&!r.u.pre&&!r.u.post&&r.o<r.u.startTime&&(r.u=null);var o=ig(r);o&&ov(r,o,1,1,Date.now())}},this.Y=function(){if(!(r.K||r.o||r.H.Pa())){r.o=r.g.currentTime;var o=ig(r,!0);o&&ov(r,o,1,1,Date.now())}},this.P=new Ke(this.Z),this.M=new Ke(function(){var o,a,l,f,h,p,g,y,T,w,A;return L(function(E){switch(E.g){case 1:if(!r.G.size||r.o==null){E.s(0);break}if(o=r.H.m,o==Ku||o==tv)return E.return();a=!1,l=Array.from(r.G),f=r.H.Ra(),h=x(l),p=h.next();case 3:if(p.done){E.s(5);break}if(g=p.value,g==r.u){E.s(4);break}if(y=g.endTime||g.startTime,!(1<=f.start-y)){T=g.startTime-r.o,0<T&&10>=T&&(!r.C.has(g)&&IS(g)&&r.C.set(g,r.j.preload(g.uri,null,g.mimeType||void 0)),RS(r,g)),E.s(4);break}if(!r.C.has(g)){E.s(7);break}return C(E,r.C.get(g),8);case 8:(w=E.h)&&w.destroy(),r.C.delete(g);case 7:kS(r,g),A=JSON.stringify(g),r.W.has(A)&&r.W.delete(A),r.G.delete(g),$y(r),g.overlay||(a=!0);case 4:p=h.next(),E.s(3);break;case 5:a&&sv(r),le(E)}})})}S=CS.prototype,S.configure=function(e){this.T=e,e0(this)};function mE(e){if(!e.fa&&e.G.size){if(e.I.D(e.g,"playing",e.Y),e.I.D(e.g,"timeupdate",e.Y),e.I.D(e.g,"ended",e.Z),"requestVideoFrameCallback"in e.g&&!gh()){var t=e.g,n=function(){e.O!=-1&&(e.Z(),e.O!=-1&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.ua(.025);e.M&&e.M.ua(1),e.fa=!0}}function $y(e){e.fa&&!e.G.size&&(e.I.Ja(e.g,"playing",e.Y),e.I.Ja(e.g,"timeupdate",e.Y),e.I.Ja(e.g,"ended",e.Z),e.O!=-1&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.fa=!1)}function e0(e){if(e.A&&e.T&&!e.K){var t=e.T.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.B==t&&(e.B=!t,e.B?(e.h=e.g,e.F&&(e.F.parentElement&&e.A.removeChild(e.F),e.F=null)):(e.F||(t=document.createElement(e.g.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.F=t),e.h=e.F))}}S.stop=function(){if(this.l&&this.l.Qa(),this.W.clear(),this.G.clear(),this.j.pf(),this.C.size){var e=Array.from(this.C.values());e=x(e);for(var t=e.next();!t.done;t=e.next())(t=t.value)&&t.then(function(n){n&&n.destroy()})}if(this.C.clear(),this.L.size)for(e=Array.from(this.L.keys()),e=x(e),t=e.next();!t.done;t=e.next())kS(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.u=this.o=null,this.B=!0,this.h=this.g,this.F=null,t0(this),$y(this),this.A&&Ao(this.A),this.m&&(this.m.stop(),this.m=null)},S.release=function(){this.stop(),this.I&&this.I.release(),this.l&&this.l.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.j.destroy()},S.If=function(){return this.j};function vE(e,t){var n;L(function(i){if(i.g==1)return n0(e),C(i,xE(e,t),2);n=i.h,n.length?ng(e,n):ot("Unsupported HLS interstitial",t),le(i)})}function yE(e,t){var n=ln(t.eventNode,"OverlayEvent"),i=n.attributes.uri,r=n.attributes.mimeType,o=n.attributes.loop=="true",a=Oe(n,"z",jn);if(i&&a!=0){var l={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},f=ln(n,"Viewport"),h=ln(n,"TopLeft"),p=ln(n,"Size");if(f&&h&&p){if(l=Oe(f,"x",jn),l==null||(f=Oe(f,"y",jn),f==null))return;var g=Oe(h,"x",jn);if(g==null||(h=Oe(h,"y",jn),h==null))return;var y=Oe(p,"x",jn);if(y==null||(p=Oe(p,"y",jn),p==null))return;l={viewport:{x:l,y:f},topLeft:{x:g,y:h},size:{x:y,y:p}}}p=ln(n,"SqueezeCurrent"),n=null,p&&(p=Oe(p,"percentage",zo))&&(n={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*p,y:1080*p}}),ng(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:i,mimeType:r,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:o,overlay:l,displayOnBackground:a==-1,currentVideo:n,background:null}])}}S.addAdUrlInterstitial=function(e){var t=this,n,i,r,o,a,l,f,h,p;return L(function(g){switch(g.g){case 1:return n={type:12},C(g,i0(t,e,n),2);case 2:if(i=g.h,r=uc(i,"VAST,vmap:VMAP"),!r)throw new O(2,10,10007);if(o=[],r.tagName=="VAST"){o=ES(r,t.o),g.s(3);break}if(r.tagName!="vmap:VMAP"){g.s(3);break}for(var y=[],T=x(dt(r,"vmap:AdBreak")),w=T.next();!w.done;w=T.next()){var A=w.value,E=A.attributes.timeOffset;E&&(w=null,E=="start"?w=0:E=="end"?w=1/0:w=Ls(E),(A=ln(A,"vmap:AdSource"))&&(A=ln(A,"vmap:AdTagURI"))&&(A=gn(A))&&y.push({time:w,uri:A}))}a=x(y),l=a.next();case 5:if(l.done){g.s(3);break}return f=l.value,C(g,i0(t,f.uri,n),8);case 8:if(h=g.h,p=uc(h,"VAST"),!p)throw new O(2,10,10007);o.push.apply(o,ce(ES(p,f.time))),l=a.next(),g.s(5);break;case 3:ng(t,o),le(g)}})};function ng(e,t){var n,i,r,o,a,l,f,h;L(function(p){switch(p.g){case 1:n=!1,i=x(t),r=i.next();case 2:if(r.done){p.s(4);break}if(o=r.value,!o.uri){ot("Missing URL in interstitial",o),p.s(3);break}if(o.mimeType){p.s(5);break}return Se(p,6),a=e.j.xb(),C(p,zr(o.uri,a,e.H.getConfiguration().streaming.retryParameters),8);case 8:o.mimeType=p.h,Pe(p,5);break;case 6:Te(p);case 5:if(l=o.id||JSON.stringify(o),e.W.has(l)){p.s(3);break}o.loop&&!o.overlay&&ot("Loop is only supported in overlay interstitials",o),o.overlay||(n=!0),e.W.add(l),e.G.add(o),f=!1,o.pre&&e.o==null?f=!0:o.startTime!=0||o.canJump?e.o!=null&&(h=o.startTime-e.o,0<h&&10>=h&&(f=!0)):f=!0,f&&(!e.C.has(o)&&IS(o)&&e.C.set(o,e.j.preload(o.uri,null,o.mimeType||void 0)),RS(e,o));case 3:r=i.next(),p.s(2);break;case 4:n&&sv(e),mE(e),le(p)}})}function ig(e,t,n){t=t===void 0?!1:t,n=n===void 0?null:n;var i=0,r=null;if(e.G.size&&e.o!=null){var o=e.g.ended,a=Array.from(e.G).sort(function(p,g){return g.startTime-p.startTime}),l=a;for(l=t?a.filter(function(p){return p.pre}):o?a.filter(function(p){return p.post}):a.filter(function(p){return!p.pre&&!p.post}),a=x(l),l=a.next();!l.done;l=a.next()){l=l.value;var f=!1;if(t)f=l.pre;else if(o)f=l.post;else if(!l.pre&&!l.post){var h=e.o-Math.round(1e3*l.startTime)/1e3;0<h&&(1>=h||!l.canJump)&&(f=!(n==null&&e.u&&!e.u.pre&&!e.u.post&&e.u.startTime>=l.startTime))}f&&(!e.u||l.startTime>=e.u.startTime)&&(i==(n||0)?r=l:r&&!l.canJump&&.001<Math.round(1e3*l.startTime)/1e3-Math.round(1e3*r.startTime)/1e3&&(r=l,i=0),i++)}}return r}function ov(e,t,n,i,r,o){o=o===void 0?0:o,e.u=t,e0(e),!e.h.parentElement&&e.A&&e.A.appendChild(e.h),i==1&&n==1&&(n=Array.from(e.G).filter(function(a){return t.pre?a.pre==t.pre:t.post?a.post==t.post:.001>Math.abs(a.startTime-t.startTime)}).length),t.once&&(o++,e.G.delete(t),$y(e),t.overlay||sv(e)),t.mimeType&&(t.mimeType.startsWith("image/")||t.mimeType==="text/html")?t.overlay?SE(e,t,n,i,o):ot("Unsupported interstitial",t):e.B&&t.overlay?ot("Unsupported interstitial",t):TE(e,t,n,i,r,o)}function SE(e,t,n,i,r){function o(){e.m&&(e.m.stop(),e.m=null),e.A.removeChild(f),t0(e,t),e.i(new fe("ad-stopped"));var y=ig(e,t.pre,i-r);y?(e.l.Qa(),ov(e,y,n,++i,Date.now(),r)):e.K=!1}var a=t.overlay,l=t.mimeType=="text/html"?"iframe":"img",f=document.createElement(l);f.style.objectFit="contain",f.style.position="absolute",f.style.border="none",DS(e,t),e.i(new fe("ad-started",new Map().set("ad",new ke(t,n,i)))),l=="iframe"?f.src=t.uri:(f.src=t.uri,f.onerror=function(y){e.i(new fe("ad-error",new Map().set("originalEvent",y))),o()});var h=a.viewport,p=a.topLeft;a=a.size,h.x==0&&h.y==0?(f.width=t.overlay.size.x,f.height=t.overlay.size.y,f.style.bottom="10%",f.style.left="0",f.style.right="0",f.style.width="100%",t.overlay.size.y||l!="iframe"||(f.style.height="auto")):(f.style.height=a.y/h.y*100+"%",f.style.left=p.x/h.x*100+"%",f.style.top=p.y/h.y*100+"%",f.style.width=a.x/h.x*100+"%"),e.A.appendChild(f);var g=Date.now();e.m&&e.m.stop(),e.m=new Ke(function(){t.playoutLimit&&(Date.now()-g)/1e3>t.playoutLimit?(e.i(new fe("ad-complete")),o()):t.endTime&&e.g.currentTime>t.endTime?(e.i(new fe("ad-complete")),o()):e.g.currentTime<t.startTime&&(e.i(new fe("ad-skipped")),o())}),t.playoutLimit&&!t.endTime?e.m.da(t.playoutLimit):t.endTime&&e.m.ua(.025),e.l.D(e.g,"seeked",function(){var y=e.g.currentTime;(y<t.startTime||t.endTime&&y>t.endTime)&&(e.m&&e.m.stop(),e.i(new fe("ad-skipped")),o())})}function TE(e,t,n,i,r,o){var a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N;L(function(k){switch(k.g){case 1:if(a=Date.now(),e.K=!0,!e.B||i!=1){k.s(2);break}return e.i(new fe("ad-content-pause-requested",new Map().set("saveLivePosition",!0))),l=new xt,f=function(P){return L(function(j){if(j.g==1)return P.state!="detach"?j.s(0):gh()?C(j,new Promise(function(V){return new Ke(V).da(.1)}),3):j.s(3);l.resolve(),e.l.Ja(e.H,"onstatechange",f),le(j)})},e.l.D(e.H,"onstatechange",f),C(k,l,2);case 2:return DS(e,t),e.B||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,h=t.overlay.viewport,p=t.overlay.topLeft,g=t.overlay.size,e.h.style.height=g.y/h.y*100+"%",e.h.style.left=p.x/h.x*100+"%",e.h.style.top=p.y/h.y*100+"%",e.h.style.width=g.x/h.x*100+"%"):(e.g.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),y=!1,T=function(){if(!e.B&&!t.overlay&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var P=Date.now();e.g.currentTime+=(P-r)/1e3,r=P}},w=function(P){var j,V;return L(function(H){if(H.g==1){if(T(),j=ig(e,t.pre,i-o),P&&t.groupId)for(;j&&j.groupId==t.groupId;)i++,j=ig(e,t.pre,i-o);return e.m&&(!t.groupId||j&&j.groupId!=t.groupId)&&(e.m.stop(),e.m=null),t0(e,t),j&&!j.overlay?H.s(2):(t.post&&(e.o=null,e.u=null),e.B?C(H,e.j.detach(),4):C(H,e.j.kc(),4))}H.g!=2&&(e.B&&(V=t.resumeOffset,V==null&&(V=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.o||0):(Date.now()-r)/1e3),e.i(new fe("ad-content-resume-requested",new Map().set("offset",V)))),e.i(new fe("ad-stopped")),e.l.Qa(),e.K=!1,e.B?sv(e):(e.h.style.display="none",T(),e.g.ended||e.g.play())),e0(e),j&&(e.i(new fe("ad-stopped")),e.l.Qa(),ov(e,j,n,++i,r,o)),le(H)})},A=function(P){return L(function(j){return y?j.return():(y=!0,e.i(new fe("ad-error",new Map().set("originalEvent",P))),C(j,w(!1),0))})},E=function(){return L(function(P){if(P.g==1)return y?P.return():(y=!0,C(P,w(!1),2));e.i(new fe("ad-complete")),le(P)})},e.ea=function(){return L(function(P){return y?P.return():(y=!0,e.i(new fe("ad-skipped")),C(P,w(!0),0))})},M=new Re(e.h,t,e.ea,n,i,!e.B),e.B||(M.setMuted(e.g.muted),M.setVolume(e.g.volume)),e.i(new fe("ad-started",new Map().set("ad",M))),(I=M.canSkipNow())&&e.i(new fe("ad-skip-state-changed")),e.l.ma(e.j,"error",A),e.l.D(e.h,"timeupdate",function(){if(e.h.duration){var P=M.canSkipNow();I!=P&&0<M.getRemainingTime()&&0<M.getDuration()&&e.i(new fe("ad-skip-state-changed")),I=P}}),e.l.ma(e.j,"firstquartile",function(){T(),e.i(new fe("ad-first-quartile"))}),e.l.ma(e.j,"midpoint",function(){T(),e.i(new fe("ad-midpoint"))}),e.l.ma(e.j,"thirdquartile",function(){T(),e.i(new fe("ad-third-quartile"))}),e.l.ma(e.j,"complete",E),e.l.D(e.h,"play",function(){e.i(new fe("ad-resumed"))}),e.l.D(e.h,"pause",function(){var P=e.j.getConfiguration();e.h.currentTime>=P.playRangeEnd?E():e.i(new fe("ad-paused"))}),e.l.D(e.h,"volumechange",function(){e.h.muted?e.i(new fe("ad-muted")):e.i(new fe("ad-volume-changed"))}),Se(k,4),n0(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(U=t.endTime-t.startTime,0<U&&e.j.configure("playRangeEnd",U)),t.playoutLimit&&!e.m&&(e.m=new Ke(function(){e.ea()}).da(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),C(k,e.j.Lb(e.h),6);case 6:return e.C.has(t)?C(k,e.C.get(t),10):C(k,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return _=k.h,e.C.delete(t),_?C(k,e.j.load(_),8):C(k,e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:e.h.play(),b=(Date.now()-a)/1e3,e.i(new fe("ads-loaded",new Map().set("loadTime",b))),e.B&&e.g.play(),t.overlay&&(e.l.D(e.g,"seeking",function(){var P=e.g.currentTime-t.startTime;.1<Math.abs(P-e.h.currentTime)&&(e.h.currentTime=P)}),e.l.D(e.g,"seeked",function(){var P=e.g.currentTime;(P<t.startTime||t.endTime&&P>t.endTime)&&e.ea()})),Pe(k,0);break;case 4:if(N=Te(k),!e.K)return k.return();A(N),le(k)}})}function DS(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),t.currentVideo!=null){var n=t.currentVideo;e.g.style.transformOrigin="top left";var i=!0,r=[],o=n.topLeft.x/n.viewport.x*100;0<o&&100>=o&&(r.push("translateX("+o+"%)"),i=!1),o=n.topLeft.y/n.viewport.y*100,0<o&&100>=o&&(r.push("translateY("+o+"%)"),i=!1),o=n.size.x/n.viewport.x,1>o&&r.push("scaleX("+o+")"),n=n.size.y/n.viewport.y,1>o&&r.push("scaleY("+n+")"),r.length&&(e.g.style.transform=r.join(" ")),i&&(e.g.style.transition="transform 250ms")}e.A&&(e.A.style.pointerEvents="none",t.background&&(e.A.style.background=t.background)),e.F&&(e.F.style.background=t.overlay?"":"rgb(0, 0, 0)")}function t0(e,t){(!t||t.displayOnBackground)&&(e.g.style.zIndex=""),t&&t.currentVideo==null||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.A&&(e.A.style.pointerEvents="",!t||t.background)&&(e.A.style.background=""),e.F&&(e.F.style.background="")}function xE(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be,it;return L(function(be){switch(be.g){case 1:if(n=[],!t||(i=t.values.find(function(He){return He.key=="X-ASSET-URI"}),r=t.values.find(function(He){return He.key=="X-ASSET-LIST"}),!i&&!r))return be.return(n);if(o=null,(a=t.values.find(function(He){return He.key=="ID"}))&&(o=a.data),l=o==null?Math.floor(10*t.startTime)/10:t.startTime,(f=t.endTime)&&t.endTime!=1/0&&typeof t.endTime=="number"&&(f=o==null?Math.floor(10*t.endTime)/10:t.endTime),h=t.values.find(function(He){return He.key=="X-RESTRICT"}),g=p=!0,h&&h.data&&(y=h.data,p=!y.includes("SKIP"),g=!y.includes("JUMP")),T=p?0:null,(w=t.values.find(function(He){return He.key=="X-ENABLE-SKIP-AFTER"}))&&(A=w.data,T=parseFloat(A),isNaN(T)&&(T=p?0:null)),E=null,(M=t.values.find(function(He){return He.key=="X-ENABLE-SKIP-FOR"}))&&(I=M.data,E=parseFloat(I),isNaN(T)&&(E=null)),U=null,(_=t.values.find(function(He){return He.key=="X-RESUME-OFFSET"}))&&(b=_.data,U=parseFloat(b),isNaN(U)&&(U=null)),N=null,(k=t.values.find(function(He){return He.key=="X-PLAYOUT-LIMIT"}))&&(P=k.data,N=parseFloat(P),isNaN(N)&&(N=null)),H=V=j=!1,(z=t.values.find(function(He){return He.key=="CUE"}))&&(K=z.data,j=K.includes("ONCE"),V=K.includes("PRE"),H=K.includes("POST")),X=!1,(Z=t.values.find(function(He){return He.key=="X-TIMELINE-OCCUPIES"}))?(Y=Z.data,X=Y.includes("RANGE")):!_&&e.H.U()&&(X=!V&&!H),i){if(ie=i.data,!ie)return be.return(n);n.push({id:o,groupId:null,startTime:l,endTime:f,uri:ie,mimeType:null,isSkippable:p,skipOffset:T,skipFor:E,canJump:g,resumeOffset:U,playoutLimit:N,once:j,pre:V,post:H,timelineRange:X,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}),be.s(2);break}if(!r){be.s(2);break}return se=r.data,se?(Se(be,4),Le={type:11},C(be,i0(e,se,Le),6)):be.return(n);case 6:for(we=be.h,yt=Xt(we),et=JSON.parse(yt),(Ge=et["SKIP-CONTROL"])&&(Ze=Ge["ENABLE-SKIP-AFTER"],typeof Ze=="number"&&(T=parseFloat(Ze),isNaN(Ze)&&(T=p?0:null)),pt=Ge["ENABLE-SKIP-FOR"],typeof pt=="number"&&(E=parseFloat(pt),isNaN(pt)&&(E=null))),Be=0;Be<et.ASSETS.length;Be++)it=et.ASSETS[Be],it.URI&&n.push({id:o+"_shaka_asset_"+Be,groupId:o,startTime:l,endTime:f,uri:it.URI,mimeType:null,isSkippable:p,skipOffset:T,skipFor:E,canJump:g,resumeOffset:U,playoutLimit:N,once:j,pre:V,post:H,timelineRange:X,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});Pe(be,2);break;case 4:Te(be);case 2:return be.return(n)}})}function sv(e){for(var t=[],n=x(e.G),i=n.next(),r={};!i.done;r={$b:void 0},i=n.next())i=i.value,i.overlay||(r.$b={start:i.startTime,end:null},i.pre?(r.$b.start=0,r.$b.end=null):i.post?(r.$b.start=-1,r.$b.end=null):i.timelineRange&&(r.$b.end=i.endTime),t.find(function(o){return function(a){return o.$b.start==a.start&&o.$b.end==a.end}}(r))||t.push(r.$b));e.i(new fe("ad-cue-points-changed",new Map().set("cuepoints",t)))}function n0(e){e.j.configure(e.H.Vg()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),Gf(e.H.xb(),e.j.xb())}function i0(e,t,n){var i,r,o;return L(function(a){return a.g==1?(i=mn([t],br()),r=e.H.xb().request(7,i,n),C(a,r.promise,2)):(o=a.h,a.return(o.data))})}function IS(e){return(e=e.mimeType)?!e.startsWith("image/")&&e!=="text/html":!0}function RS(e,t){if(!(e.L.has(t)||e.T&&!e.T.allowPreloadOnDomElements)){var n=function(o){var a=document.createElement("link");return a.rel="preload",a.href=o,a.as="image",document.head.appendChild(a),a},i=[];if(t.background){var r=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);r&&i.push(n(r[2]))}t.mimeType.startsWith("image/")&&i.push(n(t.uri)),e.L.set(t,i)}}function kS(e,t){if(e.L.has(t)){var n=e.L.get(t);n=x(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.parentNode.removeChild(i);e.L.delete(t)}}function De(e,t,n,i,r){this.h=e,this.j=Ls(this.h.skipOffset),this.g=r,this.i=t,this.l=n,this.o=i,this.m=!1}S=De.prototype,S.needsSkipUI=function(){return!0},S.isClientRendering=function(){return!1},S.hasCustomClick=function(){return!1},S.isUsingAnotherMediaElement=function(){return!1},S.getDuration=function(){return this.h.durationInSeconds},S.getMinSuggestedDuration=function(){return this.getDuration()},S.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},S.isPaused=function(){return this.g.paused},S.isSkippable=function(){return typeof this.j=="number"},S.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},S.canSkipNow=function(){return this.getTimeUntilSkippable()==0},S.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},S.pause=function(){return this.g.pause()},S.play=function(){return this.g.play()},S.getVolume=function(){return this.g.volume},S.setVolume=function(e){this.g.volume=e},S.isMuted=function(){return this.g.muted},S.isLinear=function(){return this.o},S.resize=function(){},S.setMuted=function(e){this.g.muted=e},S.getSequenceLength=function(){return this.l?this.l:1},S.getPositionInSequence=function(){return this.i?this.i:1},S.getTitle=function(){return this.h.adTitle},S.getDescription=function(){return""},S.getVastMediaBitrate=function(){return 0},S.getVastMediaHeight=function(){return 0},S.getVastMediaWidth=function(){return 0},S.getAdId=function(){return this.h.adId},S.getCreativeAdId=function(){return this.h.creativeId},S.getAdvertiserName=function(){return""},S.getMediaUrl=function(){return null},S.getTimeOffset=function(){return 0},S.getPodIndex=function(){return 0},S.release=function(){this.l=this.i=this.g=this.h=null},me("shaka.ads.MediaTailorAd",De),De.prototype.release=De.prototype.release,De.prototype.getPodIndex=De.prototype.getPodIndex,De.prototype.getTimeOffset=De.prototype.getTimeOffset,De.prototype.getMediaUrl=De.prototype.getMediaUrl,De.prototype.getAdvertiserName=De.prototype.getAdvertiserName,De.prototype.getCreativeAdId=De.prototype.getCreativeAdId,De.prototype.getAdId=De.prototype.getAdId,De.prototype.getVastMediaWidth=De.prototype.getVastMediaWidth,De.prototype.getVastMediaHeight=De.prototype.getVastMediaHeight,De.prototype.getVastMediaBitrate=De.prototype.getVastMediaBitrate,De.prototype.getDescription=De.prototype.getDescription,De.prototype.getTitle=De.prototype.getTitle,De.prototype.getPositionInSequence=De.prototype.getPositionInSequence,De.prototype.getSequenceLength=De.prototype.getSequenceLength,De.prototype.setMuted=De.prototype.setMuted,De.prototype.resize=De.prototype.resize,De.prototype.isLinear=De.prototype.isLinear,De.prototype.isMuted=De.prototype.isMuted,De.prototype.setVolume=De.prototype.setVolume,De.prototype.getVolume=De.prototype.getVolume,De.prototype.play=De.prototype.play,De.prototype.pause=De.prototype.pause,De.prototype.skip=De.prototype.skip,De.prototype.canSkipNow=De.prototype.canSkipNow,De.prototype.getTimeUntilSkippable=De.prototype.getTimeUntilSkippable,De.prototype.isSkippable=De.prototype.isSkippable,De.prototype.isPaused=De.prototype.isPaused,De.prototype.getRemainingTime=De.prototype.getRemainingTime,De.prototype.getMinSuggestedDuration=De.prototype.getMinSuggestedDuration,De.prototype.getDuration=De.prototype.getDuration,De.prototype.isUsingAnotherMediaElement=De.prototype.isUsingAnotherMediaElement,De.prototype.hasCustomClick=De.prototype.hasCustomClick,De.prototype.isClientRendering=De.prototype.isClientRendering,De.prototype.needsSkipUI=De.prototype.needsSkipUI;function rg(e,t,n,i){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=i,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.o=new $e}rg.prototype.stop=function(){for(var e=x(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ja(t.target,t.type,t.listener);Kd(this),this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},rg.prototype.release=function(){this.stop(),this.o&&this.o.release()},rg.prototype.onManifestUpdated=function(e){this.I=e,this.G!=""&&(EE(this,this.G,this.O),this.O=!1)},rg.prototype.getCuePoints=function(){for(var e=[],t=x(this.j),n=t.next();!n.done;n=t.next()){n=x(n.value.ads);for(var i=n.next();!i.done;i=n.next())i=i.value,e.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds})}return e};function wE(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w;L(function(A){if(A.g==1)return i={type:7},r=mn([t],br()),r.method="POST",n&&(o=JSON.stringify(n),r.body=Ji(o)),a=e.K.request(7,r,i),Se(A,2),C(A,a.promise,4);if(A.g!=2){if(l=A.h,f=Xt(l.data),h=JSON.parse(f),h.manifestUrl&&h.trackingUrl)p=new Jt(t),g=new Jt(h.trackingUrl),e.G=p.resolve(g).toString(),y=Date.now()/1e3,T=y-e.P,e.i(new fe("ads-loaded",new Map().set("loadTime",T))),w=new Jt(h.manifestUrl),e.l.resolve(p.resolve(w).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return Pe(A,0)}if(Te(A),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,A.return();e.l.resolve(e.H),e.l=null,le(A)})}function EE(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I;L(function(U){if(U.g==1)return i={type:8},r=mn([t],br()),o=e.K.request(7,r,i),Se(U,2),C(U,o.promise,4);if(U.g!=2){if(a=U.h,l=[],f=Xt(a.data),h=JSON.parse(f),0<h.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(h.avails)){for(e.j=h.avails,p=x(e.j),g=p.next();!g.done;g=p.next())for(y=g.value,T=x(y.nonLinearAdsList),w=T.next();!w.done;w=T.next())for(A=w.value,E=x(A.nonLinearAdList),M=E.next();!M.done;M=E.next())I=M.value,AE(e,I);l=e.getCuePoints(),e.i(new fe("ad-cue-points-changed",new Map().set("cuepoints",l)))}}else e.j.length&&e.i(new fe("ad-cue-points-changed",new Map().set("cuepoints",l))),Kd(e),e.j=[];return n&&(e.I||0<l.length)&&ME(e),Pe(U,0)}Te(U),le(U)})}function AE(e,t){var n,i,r,o,a,l,f,h;L(function(p){if(p.g==1)return!t.staticResource||(n=NS(t),e.F.get(n))?p.return():(i={type:9},r=mn([t.staticResource],br()),o=e.K.request(7,r,i),Se(p,2),e.F.set(n,[]),C(p,o.promise,4));if(p.g!=2)return a=p.h,l=Xt(a.data),f=JSON.parse(l),h=f.apps,e.F.set(n,h),Pe(p,0);Te(p),e.F.delete(n),le(p)})}function NS(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function ME(e){US(e),e.I||(LS(e),e.o.D(e.h,"seeked",function(){LS(e)}),e.o.D(e.h,"ended",function(){Kd(e)})),e.o.D(e.h,"timeupdate",function(){US(e)})}function LS(e){var t=e.h.currentTime;if(t!=0&&e.A==null){for(var n,i,r=x(e.j),o=r.next();!o.done;o=r.next()){o=o.value;for(var a=x(o.ads),l=a.next();!l.done;l=a.next())if(l=l.value,!i)l.startTimeInSeconds<t&&(i=l,n=o);else if(l.startTimeInSeconds<t&&l.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=l,n=o;break}}n&&i&&!e.M.includes(i.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function US(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var i=e.C,r=i.startTimeInSeconds+.5*i.durationInSeconds,o=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),Xi(e,"firstQuartile")):t>=r&&!e.u.includes("midpoint")?(e.u.push("midpoint"),Xi(e,"midpoint")):t>=o&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),Xi(e,"thirdQuartile")),i=e.g.getRemainingTime(),r=e.g.getDuration(),e.g.canSkipNow()&&0<i&&0<r&&Xi(e,"skipStateChanged"),0<r&&(0>=i||i>r)&&Kd(e)}if(!e.g||!e.g.isLinear()){e:for(i=x(e.j),r=i.next();!r.done&&(r=r.value,!(e.g&&e.g.isLinear()));r=i.next())for(o=0;o<r.ads.length;o++){var a=r.ads[o],l=a.startTimeInSeconds+a.durationInSeconds;if(a.startTimeInSeconds<=t&&l>t){if(e.M.includes(a.adId)){if(e.h.ended)continue;e.h.currentTime=l;break e}Kd(e),e.L=r,e.g=new De(a,o+1,r.ads.length,!0,e.h),e.C=a,o===0&&Xi(e,"breakStart"),_S(e);break}}if(!e.g){for(i=x(e.j),r=i.next();!r.done&&(r=r.value,!e.g);r=i.next())for(o=0;o<r.nonLinearAdsList.length;o++)if(a=r.nonLinearAdsList[o],a.nonLinearAdList.length){l=r.startTimeInSeconds;var f=e.F.get(NS(a.nonLinearAdList[0]));if(l<=t&&f&&f.length){Kd(e),l=e,f=x(f);for(var h=f.next();!h.done;h=f.next())if(h=h.value,h.data.source.length){var p=document.createElement("img");p.src=h.data.source[0].url,p.style.top=(h.placeholder.top||0)+"%",p.style.height=100-(h.placeholder.top||0)+"%",p.style.left=(h.placeholder.left||0)+"%",p.style.maxWidth=100-(h.placeholder.left||0)+"%",p.style.objectFit="contain",p.style.position="absolute",l.B.appendChild(p)}e.L=r,e.g=new De(a,o+1,r.ads.length,!1,e.h),e.C=a,o===0&&Xi(e,"breakStart"),_S(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function Kd(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;t!==void 0&&t?Xi(e,"skip"):Xi(e,"complete"),t=x(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.o.Ja(n.target,n.type,n.listener);e.m=[],e.u=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&Xi(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function _S(e){var t=!1;e.h.paused?t=!0:(Xi(e,"impression"),Xi(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&Xi(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||Xi(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(Xi(e,"impression"),Xi(e,"start"),t=!1):Xi(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){Xi(e,"pause")}});for(var n=x(e.m),i=n.next();!i.done;i=n.next())i=i.value,e.o.D(i.target,i.type,i.listener)}function Xi(e,t){var n=e.C.trackingEvents.find(function(o){return o.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(o){return o.eventType==t})),n){var i={type:10};n=x(n.beaconUrls);for(var r=n.next();!r.done;r=n.next())(r=r.value)&&r!=""&&(r=mn([r],br()),r.method="POST",e.K.request(7,r,i))}switch(t){case"impression":e.i(new fe("ad-impression"));break;case"start":e.i(new fe("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new fe("ad-muted"));break;case"unmute":e.i(new fe("ad-volume-changed"));break;case"resume":e.i(new fe("ad-resumed"));break;case"pause":e.i(new fe("ad-paused"));break;case"firstQuartile":e.i(new fe("ad-first-quartile"));break;case"midpoint":e.i(new fe("ad-midpoint"));break;case"thirdQuartile":e.i(new fe("ad-third-quartile"));break;case"complete":e.i(new fe("ad-complete")),e.i(new fe("ad-stopped"));break;case"skip":e.i(new fe("ad-skipped")),e.i(new fe("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new fe("ad-skip-state-changed"))}}function Ne(e,t){this.g=e,this.i=null,this.h=t}S=Ne.prototype,S.needsSkipUI=function(){return!0},S.isClientRendering=function(){return!1},S.hasCustomClick=function(){return!0},S.isUsingAnotherMediaElement=function(){return!1},S.getDuration=function(){return this.i?this.i.duration:-1},S.getMinSuggestedDuration=function(){return this.getDuration()},S.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},S.isPaused=function(){return this.h.paused},S.isSkippable=function(){return this.g.isSkippable()},S.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},S.canSkipNow=function(){return this.getTimeUntilSkippable()==0},S.skip=function(){this.h.currentTime+=this.getRemainingTime()},S.pause=function(){return this.h.pause()},S.play=function(){return this.h.play()},S.getVolume=function(){return this.h.volume},S.setVolume=function(e){this.h.volume=e},S.isMuted=function(){return this.h.muted},S.isLinear=function(){return!0},S.resize=function(){},S.setMuted=function(e){this.h.muted=e},S.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},S.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},S.getTitle=function(){return this.g.getTitle()},S.getDescription=function(){return this.g.getDescription()},S.getVastMediaBitrate=function(){return 0},S.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},S.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},S.getAdId=function(){return this.g.getAdId()},S.getCreativeAdId=function(){return this.g.getCreativeAdId()},S.getAdvertiserName=function(){return this.g.getAdvertiserName()},S.getMediaUrl=function(){return null},S.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},S.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},S.release=function(){this.h=this.i=this.g=null},me("shaka.ads.ServerSideAd",Ne),Ne.prototype.release=Ne.prototype.release,Ne.prototype.getPodIndex=Ne.prototype.getPodIndex,Ne.prototype.getTimeOffset=Ne.prototype.getTimeOffset,Ne.prototype.getMediaUrl=Ne.prototype.getMediaUrl,Ne.prototype.getAdvertiserName=Ne.prototype.getAdvertiserName,Ne.prototype.getCreativeAdId=Ne.prototype.getCreativeAdId,Ne.prototype.getAdId=Ne.prototype.getAdId,Ne.prototype.getVastMediaWidth=Ne.prototype.getVastMediaWidth,Ne.prototype.getVastMediaHeight=Ne.prototype.getVastMediaHeight,Ne.prototype.getVastMediaBitrate=Ne.prototype.getVastMediaBitrate,Ne.prototype.getDescription=Ne.prototype.getDescription,Ne.prototype.getTitle=Ne.prototype.getTitle,Ne.prototype.getPositionInSequence=Ne.prototype.getPositionInSequence,Ne.prototype.getSequenceLength=Ne.prototype.getSequenceLength,Ne.prototype.setMuted=Ne.prototype.setMuted,Ne.prototype.resize=Ne.prototype.resize,Ne.prototype.isLinear=Ne.prototype.isLinear,Ne.prototype.isMuted=Ne.prototype.isMuted,Ne.prototype.setVolume=Ne.prototype.setVolume,Ne.prototype.getVolume=Ne.prototype.getVolume,Ne.prototype.play=Ne.prototype.play,Ne.prototype.pause=Ne.prototype.pause,Ne.prototype.skip=Ne.prototype.skip,Ne.prototype.canSkipNow=Ne.prototype.canSkipNow,Ne.prototype.getTimeUntilSkippable=Ne.prototype.getTimeUntilSkippable,Ne.prototype.isSkippable=Ne.prototype.isSkippable,Ne.prototype.isPaused=Ne.prototype.isPaused,Ne.prototype.getRemainingTime=Ne.prototype.getRemainingTime,Ne.prototype.getMinSuggestedDuration=Ne.prototype.getMinSuggestedDuration,Ne.prototype.getDuration=Ne.prototype.getDuration,Ne.prototype.isUsingAnotherMediaElement=Ne.prototype.isUsingAnotherMediaElement,Ne.prototype.hasCustomClick=Ne.prototype.hasCustomClick,Ne.prototype.isClientRendering=Ne.prototype.isClientRendering,Ne.prototype.needsSkipUI=Ne.prototype.needsSkipUI;function OS(e,t,n,i){var r=this;this.u=e,this.l=t,this.j=null,this.F=NaN,this.i=i,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new $e,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new fe("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){CE(r,o)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.B.length?r.j.resolve(r.B):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),r.m=new Ne(o,r.l),r.A&&(r.m.i=r.A),r.i(new fe("ad-started",new Map().set("ad",r.m))),r.u.setAttribute("ad-active","true")}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.u.removeAttribute("ad-active");var o=r.l.currentTime;r.o&&r.o>o&&(r.l.currentTime=r.o,r.o=null)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){r.A=o.getStreamData().adProgressData,r.m&&(r.m.i=r.A)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new fe("ad-first-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new fe("ad-midpoint"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new fe("ad-third-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new fe("ad-complete")),r.i(new fe("ad-stopped")),r.u.removeAttribute("ad-active"),r.m=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new fe("ad-skipped")),r.i(new fe("ad-stopped"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var a=o.getStreamData();o=[],a=x(a.cuepoints);for(var l=a.next();!l.done;l=a.next())l=l.value,o.push({start:l.start,end:l.end});r.C=o,r.i(new fe("ad-cue-points-changed",new Map().set("cuepoints",o)))})}S=OS.prototype,S.configure=function(){},S.stop=function(){this.B="",this.o=null,this.C=[]},S.release=function(){this.stop(),this.h&&this.h.release()},S.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},S.getCuePoints=function(){return this.C};function CE(e,t){e.i(new fe("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var i=e.g.previousCuePointForStreamTime(n);i&&!i.played&&(e.o=n,e.l.currentTime=i.start)}})}function ve(){wt.call(this),this.h=this.i=this.j=this.g=null,this.m=new wS,this.o=navigator.language,this.l=null}Yt(ve,wt),S=ve.prototype,S.setLocale=function(e){this.o=e},S.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},S.initInterstitial=function(e,t,n){var i=this;this.g&&this.g.release(),this.g=new CS(e,t,n,function(r){return av(i,r)}),this.g.configure(this.l)},S.initClientSide=function(e,t,n){var i=this;if(!F.google||!google.ima||!google.ima.AdsLoader)throw new O(2,10,1e4);this.j&&this.j.release(),this.j=new iv(e,t,this.o,n,function(r){return av(i,r)}),this.j.configure(this.l)},S.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),wt.prototype.release.call(this)},S.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new fe("ad-stopped")),this.dispatchEvent(new fe("ad-content-attach-requested")),this.m=new wS},S.requestClientSideAds=function(e){if(!this.j)throw new O(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},S.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new O(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},S.initMediaTailor=function(e,t,n){var i=this;this.i&&this.i.release(),this.i=new rg(e,t,n,function(r){return av(i,r)})},S.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new O(1,10,10005);var i=this.i;return n=n===void 0?"":n,i.l?e=Promise.reject(new O(1,10,10004)):(i.l=new xt,wE(i,e,t),i.H=n||"",i.P=Date.now()/1e3,e=i.l),e},S.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new O(1,10,10005);var t=this.i;t.G=e,t.i(new fe("ads-loaded",new Map().set("loadTime",0)))},S.initServerSide=function(e,t){var n=this;if(!F.google||!google.ima||!google.ima.dai)throw new O(2,10,10002);this.h&&this.h.release(),this.h=new OS(e,t,this.o,function(i){return av(n,i)}),this.h.configure(this.l)},S.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.h)throw new O(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&ot('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.14.6",n=this.h,n.j?e=Promise.reject(new O(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new xt,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},S.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new O(1,10,10003);(e.mpt||e.mpv)&&ot('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.14.6",this.h.g.replaceAdTagParameters(e)},S.getServerSideCuePoints=function(){return ct("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},S.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},S.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:dE(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},S.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},S.onDashTimedMetadata=function(e){this.h&&e.schemeIdUri=="urn:google:dai:2018"&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},S.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},S.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},S.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&vE(this.g,n))},S.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var i=n.schemeIdUri;if(i=="urn:mpeg:dash:event:alternativeMPD:insert:2025"||i=="urn:mpeg:dash:event:alternativeMPD:replace:2025"){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:replace:2025",i=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:insert:2025",t||i)){for(var r=n.startTime,o=n.endTime,a=null,l=0,f,h=x(n.eventNode.children),p=h.next();!p.done;p=h.next())if(p=p.value,p.tagName=="AlternativeMPD"){if(p=p.attributes.uri){f=p;break}}else if(p.tagName=="InsertPresentation"||p.tagName=="ReplacePresentation"){var g=p.attributes.url;if(g){f=g,(h=Oe(p,"maxDuration",jn))&&(a=h/n.timescale),(h=Oe(p,"returnOffset",jn))&&(l=h/n.timescale),t&&l&&(o=r+l);break}}f&&ng(e,[{id:n.id,groupId:null,startTime:r,endTime:o,uri:f,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:i?l:null,playoutLimit:a,once:!1,pre:!1,post:!1,timelineRange:t&&!i,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}])}}else(i=="urn:mpeg:dash:event:2012"||i=="urn:scte:dash:scte214-events")&&n.eventNode&&ln(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&yE(this.g,n))}},S.addCustomInterstitial=function(e){if(!this.g)throw new O(1,10,10006);ng(this.g,[e])},S.addAdUrlInterstitial=function(e){if(!this.g)throw new O(1,10,10006);return this.g.addAdUrlInterstitial(e)},S.getInterstitialPlayer=function(){if(!this.g)throw new O(1,10,10006);return this.g.If()};function av(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}me("shaka.ads.AdManager",ve),ve.prototype.getInterstitialPlayer=ve.prototype.getInterstitialPlayer,ve.prototype.addAdUrlInterstitial=ve.prototype.addAdUrlInterstitial,ve.prototype.addCustomInterstitial=ve.prototype.addCustomInterstitial,ve.prototype.onDASHInterstitialMetadata=ve.prototype.onDASHInterstitialMetadata,ve.prototype.onHLSInterstitialMetadata=ve.prototype.onHLSInterstitialMetadata,ve.prototype.onCueMetadataChange=ve.prototype.onCueMetadataChange,ve.prototype.onHlsTimedMetadata=ve.prototype.onHlsTimedMetadata,ve.prototype.onDashTimedMetadata=ve.prototype.onDashTimedMetadata,ve.prototype.onManifestUpdated=ve.prototype.onManifestUpdated,ve.prototype.getStats=ve.prototype.getStats,ve.prototype.getCuePoints=ve.prototype.getCuePoints,ve.prototype.getServerSideCuePoints=ve.prototype.getServerSideCuePoints,ve.prototype.replaceServerSideAdTagParameters=ve.prototype.replaceServerSideAdTagParameters,ve.prototype.requestServerSideStream=ve.prototype.requestServerSideStream,ve.prototype.initServerSide=ve.prototype.initServerSide,ve.prototype.addMediaTailorTrackingUrl=ve.prototype.addMediaTailorTrackingUrl,ve.prototype.requestMediaTailorStream=ve.prototype.requestMediaTailorStream,ve.prototype.initMediaTailor=ve.prototype.initMediaTailor,ve.prototype.updateClientSideAdsRenderingSettings=ve.prototype.updateClientSideAdsRenderingSettings,ve.prototype.requestClientSideAds=ve.prototype.requestClientSideAds,ve.prototype.onAssetUnload=ve.prototype.onAssetUnload,ve.prototype.release=ve.prototype.release,ve.prototype.initClientSide=ve.prototype.initClientSide,ve.prototype.initInterstitial=ve.prototype.initInterstitial,ve.prototype.configure=ve.prototype.configure,ve.prototype.setLocale=ve.prototype.setLocale,ve.ADS_LOADED="ads-loaded",ve.AD_STARTED="ad-started",ve.AD_FIRST_QUARTILE="ad-first-quartile",ve.AD_MIDPOINT="ad-midpoint",ve.AD_THIRD_QUARTILE="ad-third-quartile",ve.AD_COMPLETE="ad-complete",ve.AD_STOPPED="ad-stopped",ve.AD_SKIPPED="ad-skipped",ve.AD_VOLUME_CHANGED="ad-volume-changed",ve.AD_MUTED="ad-muted",ve.AD_PAUSED="ad-paused",ve.AD_RESUMED="ad-resumed",ve.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",ve.CUEPOINTS_CHANGED="ad-cue-points-changed",ve.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",ve.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",ve.AD_CLICKED="ad-clicked",ve.AD_PROGRESS="ad-progress",ve.AD_BUFFERING="ad-buffering",ve.AD_IMPRESSION="ad-impression",ve.AD_DURATION_CHANGED="ad-duration-changed",ve.AD_CLOSED="ad-closed",ve.AD_LOADED="ad-loaded",ve.ALL_ADS_COMPLETED="all-ads-completed",ve.AD_LINEAR_CHANGED="ad-linear-changed",ve.AD_METADATA="ad-metadata",ve.AD_RECOVERABLE_ERROR="ad-recoverable-error",ve.AD_ERROR="ad-error",ve.AD_BREAK_READY="ad-break-ready",ve.AD_INTERACTION="ad-interaction",ve.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",ve.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",ve.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",nv=function(){return new ve};function jS(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof fe){var i={};for(r in n)(t=n[r])&&typeof t=="object"?r=="detail"&&(i[r]=t):r in Event||(i[r]=t);return i}if(n instanceof Error){var r=new Set(["name","message","stack"]);for(i in n)r.add(i);for(i=x(Object.getOwnPropertyNames(n)),t=i.next();!t.done;t=i.next())r.add(t.value);for(i={},r=x(r),t=r.next();!t.done;t=r.next())t=t.value,i[t]=n[t];n={__type__:"Error",contents:i}}else if(n instanceof TimeRanges){for(r={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=x(Si(n)),i=n.next();!i.done;i=n.next())i=i.value,t=i.end,r.start.push(i.start),r.end.push(t);n=r}else n=ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT===1?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function r0(e){return JSON.parse(e,function(t,n){if(n=="NaN")var i=NaN;else if(n=="-Infinity")i=-1/0;else if(n=="Infinity")i=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")i=DE(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")i=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(i in t)n[i]=t[i];i=n}else i=n;return i})}function DE(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var bS="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),IE="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),u0=["loop","playbackRate"],RE=["pause","play"],o0=new Map().set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("getImageTracks",2).set("getThumbnails",2).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1),s0=new Map().set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getTextTracks",2).set("getVariantTracks",2),PS=new Map().set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),BS=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],HS=[["isTextTrackVisible","setTextTrackVisibility"]],kE="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),NE=["attach","attachCanvas","detach","load","unload"];function a0(e,t,n,i,r,o,a){var l=this;this.G=e,this.K=a,this.l=new Ke(t),this.L=n,this.u=!1,this.A=i,this.F=r,this.M=o,this.i=this.m=!1,this.I="",this.o=null,this.B=function(){return l0(l)},this.C=function(f,h){switch(f=r0(h),f.type){case"event":var p=f.targetName,g=ul(f.event);l.A(p,g);break;case"update":p=f.update;for(g in p){f=l.g[g]||{};for(var y in p[g])f[y]=p[g][y]}l.u&&(l.L(),l.u=!1);break;case"asyncComplete":if(g=f.id,y=f.error,f=l.h.get(g),l.h.delete(g),f)if(y){g=new O(y.severity,y.category,y.code);for(p in y)g[p]=y[p];f.reject(g)}else f.resolve()}},this.g={video:{},player:{}},this.H=0,this.h=new Map,this.j=null,og.add(this)}S=a0.prototype,S.destroy=function(){return og.delete(this),c0(this),Yu&&zS(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.i=this.m=!1,this.C=this.B=this.j=this.h=this.g=this.o=null,Promise.resolve()},S.qb=function(){return this.i},S.ag=function(){return this.I},S.init=function(){if(this.G.length)if(F.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.sb();var e=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=x(og),i=n.next();!i.done;i=n.next()){i=i.value;var r=t;i.j=new xt,i.u=!0,lv(i,r)}},function(t){for(var n=x(og),i=n.next();!i.done;i=n.next())i=i.value,cv=t=="available",i.l.sb()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),cv&&this.l.da(UE),(e=Yu)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new xt,this.u=!0,lv(this,e)):Yu=null}else F.__onGCastApiAvailable!==GS&&(fv=F.__onGCastApiAvailable||null,F.__onGCastApiAvailable=GS)},S.ig=function(e){this.o=e,this.i&&ug(this,{type:"appData",appData:this.o})},S.cast=function(){var e=this;return L(function(t){if(!e.m)throw new O(1,8,8e3);if(!cv)throw new O(1,8,8001);if(e.i)throw new O(1,8,8002);return e.j=new xt,chrome.cast.requestSession(function(n){return lv(e,n)},function(n){return VS(e,n)}),C(t,e.j,0)})};function LE(e){e.i&&chrome.cast.requestSession(function(t){return lv(e,t)},function(t){return VS(e,t)})}S.Pc=function(){if(this.i){if(c0(this),Yu){zS(this);try{Yu.stop(function(){},function(){})}catch(e){}Yu=null}l0(this)}},S.get=function(e,t){var n=this;if(e=="video"){if(RE.includes(t))return function(){return n.oh.apply(n,[e,t].concat(ce(rt.apply(0,arguments))))}}else if(e=="player"){if(PS.has(t)&&!this.get("player","isLive")())return function(){};if(kE.includes(t))return function(){return n.oh.apply(n,[e,t].concat(ce(rt.apply(0,arguments))))};if(NE.includes(t))return function(){return n.pj.apply(n,[e,t].concat(ce(rt.apply(0,arguments))))};if(o0.has(t)||s0.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},S.set=function(e,t,n){this.g[e][t]=n,ug(this,{type:"set",targetName:e,property:t,value:n})};function lv(e,t){var n=e.M();Yu=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),l0(e),ug(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function VS(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new O(2,8,n,t))}S.oh=function(e,t){ug(this,{type:"call",targetName:e,methodName:t,args:rt.apply(2,arguments)})},S.pj=function(e,t){var n=rt.apply(2,arguments),i=new xt,r=this.H.toString();this.H++,this.h.set(r,i);try{ug(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(o){i.reject(o)}return i};function zS(e){var t=Yu;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function l0(e){var t=Yu?Yu.status=="connected":!1;if(e.i&&!t){e.F();for(var n in e.g)e.g[n]={};c0(e)}e.i=t,e.I=t?Yu.receiver.friendlyName:"",e.l.sb()}function c0(e){if(e.h)for(var t=x(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var i=e.h.get(n);e.h.delete(n),i.reject(new O(1,7,7e3))}}function ug(e,t){t=jS(t);var n=Yu;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},hy)}catch(i){throw t=new O(2,8,8005,i),n=new fe("error",new Map().set("detail",t)),e.A("player",n),e.Pc(),t}}var UE=.02,cv=!1,Yu=null,fv=null,og=new Set;function GS(e){if(fv?F.__onGCastApiAvailable=fv:delete F.__onGCastApiAvailable,fv=null,e)for(var t=x(og),n=t.next();!n.done;n=t.next())n.value.init();typeof F.__onGCastApiAvailable=="function"&&F.__onGCastApiAvailable(e)}function In(e,t,n,i){i=i===void 0?!1:i,wt.call(this);var r=this;this.i=e,this.h=t,this.m=this.o=this.l=this.u=this.j=null,this.C=n,this.B=i,this.A=new Map,this.g=null,F.chrome?(this.g=new a0(n,function(){return FS(r)},function(){return KS(r)},function(o,a){return QS(r,o,a)},function(){return YS(r)},function(){return qS(r)},i),_E(this)):(this.j=this.i,this.u=this.h)}Yt(In,wt),S=In.prototype,S.destroy=function(e){return this.g&&e&&this.g.Pc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.j=this.i=null,wt.prototype.release.call(this),Promise.all(e)},S.Li=function(){return this.j},S.If=function(){return this.u},S.Xh=function(){return this.g?this.g.m&&cv:!1},S.qb=function(){return this.g?this.g.qb():!1},S.ag=function(){return this.g?this.g.ag():""},S.cast=function(){var e=this;return L(function(t){return t.g==1?e.g?C(t,e.g.cast(),2):t.return():e.h?C(t,e.h.kc(),0):t.return()})},S.ig=function(e){this.g&&this.g.ig(e)},S.Ej=function(){this.g&&LE(this.g)},S.Pc=function(){this.g&&this.g.Pc()},S.Yh=function(e,t){t=t===void 0?!1:t;var n=this;return L(function(i){if(i.g==1)return e==n.C&&t==n.B||(n.C=e,n.B=t,!n.g)?i.return():(n.g.Pc(),C(i,n.g.destroy(),2));n.g=null,n.g=new a0(e,function(){return FS(n)},function(){return KS(n)},function(r,o){return QS(n,r,o)},function(){return YS(n)},function(){return qS(n)},t),n.g.init(),le(i)})};function _E(e){e.g.init(),e.m=new $e;for(var t=x(bS),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,function(o){e.g.qb()||(o=ul(o),e.l.dispatchEvent(o))});for(var i in $o)e.m.D(e.h,$o[i],function(o){e.g.qb()||e.o.dispatchEvent(o)});e.j={},t={};for(var r in e.i)t={wd:t.wd},t.wd=r,Object.defineProperty(e.j,t.wd,{configurable:!1,enumerable:!0,get:function(o){return function(){return jE(e,o.wd)}}(t),set:function(o){return function(a){var l=o.wd;e.g.qb()?e.g.set("video",l,a):e.i[l]=a}}(t)});e.u={},XS(e,function(o){Object.defineProperty(e.u,o,{configurable:!1,enumerable:!0,get:function(){return bE(e,o)}})}),OE(e),e.l=new wt,e.l.Ge=e.j,e.o=new wt,e.o.Ge=e.u}function OE(e){var t=new Map;XS(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.A.set(n,i):e.A.set(i,n)):t.set(i,n)})}function XS(e,t){function n(f){return f=="constructor"||typeof i[f]!="function"?!1:!r.has(f)}var i=e.h,r=new Set,o;for(o in i)n(o)&&(r.add(o),t(o,i[o]));for(e=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});e&&e!=o;){for(var a=x(Object.getOwnPropertyNames(e)),l=a.next();!l.done;l=a.next())l=l.value,n(l)&&(r.add(l),t(l,i[l]));e=Object.getPrototypeOf(e)}}function qS(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Qc(),startTime:null};e.i.pause();for(var n=x(u0),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),n=x(BS),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(n=x(HS),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function FS(e){var t=new fe("caststatuschanged");e.dispatchEvent(t)}function KS(e){var t=new fe(e.j.paused?"pause":"play");e.l.dispatchEvent(t)}function YS(e){for(var t=x(BS),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.g.get("player","getAssetUri")();i=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,i||(n=e.g.get("video","currentTime"));var a;(i=e.g.get("player","getTextTracks")())&&i.length&&(a=i.find(function(h){return h.active}));var l=e.g.get("player","isTextTrackVisible")();r&&(e.i.autoplay=!1,t=e.h.load(r,n));var f={};for(n=x(u0),i=n.next();!i.done;i=n.next())i=i.value,f[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var h=x(u0),p=h.next();!p.done;p=h.next())p=p.value,e.i[p]=f[p];for(h=x(HS),p=h.next();!p.done;p=h.next()){var g=p.value;p=g[1],g=e.g.get("player",g[0])(),e.h[p](g)}e.h.zh(l),a&&e.h.hg(a.language,a.roles,a.forced),e.i.autoplay=o,r&&e.i.play()}},function(h){h=new Map().set("detail",h),h=new fe("error",h),e.h.dispatchEvent(h)})}function jE(e,t){if(t=="addEventListener")return function(i,r,o){return e.l.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.l.removeEventListener(i,r,o)};if(e.g.qb()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.qb()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function bE(e,t){if(e.A.has(t)&&(t=e.A.get(t)),t=="addEventListener")return function(n,i,r){return e.o.addEventListener(n,i,r)};if(t=="removeEventListener")return function(n,i,r){return e.o.removeEventListener(n,i,r)};if(t=="getMediaElement")return function(){return e.j};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.xb()};if(t=="getDrmEngine")return function(){return e.h.C};if(t=="getAdManager")return function(){return e.h.Pg()};if(t=="setVideoContainer")return function(n){return e.h.Ch(n)};if(e.g.qb()){if(t=="getManifest"||t=="drmInfo")return function(){return ot(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return ot(t+"() does not work while casting!"),Promise.resolve()}}return e.g.qb()&&Object.keys(e.g.g.video).length==0&&(o0.has(t)||s0.has(t))||!e.g.qb()?e.h[t].bind(e.h):e.g.get("player",t)}function QS(e,t,n){e.g.qb()&&(t=="video"?e.l.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}me("shaka.cast.CastProxy",In),In.prototype.changeReceiverId=In.prototype.Yh,In.prototype.forceDisconnect=In.prototype.Pc,In.prototype.suggestDisconnect=In.prototype.Ej,In.prototype.setAppData=In.prototype.ig,In.prototype.cast=In.prototype.cast,In.prototype.receiverName=In.prototype.ag,In.prototype.isCasting=In.prototype.qb,In.prototype.canCast=In.prototype.Xh,In.prototype.getPlayer=In.prototype.If,In.prototype.getVideo=In.prototype.Li,In.prototype.destroy=In.prototype.destroy;function xi(e,t,n,i){wt.call(this);var r=this;this.g=e,this.h=t,this.j=new $e,this.H={video:e,player:t},this.F=n||function(){},this.I=i||function(o){return o},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.u=this.l=null,this.C=new Ke(function(){f0(r)}),PE(this)}Yt(xi,wt),S=xi.prototype,S.isConnected=function(){return this.G},S.Si=function(){return this.o},S.Bj=function(e){this.i=e},S.bi=function(){this.i=null},S.Cj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},S.Aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},S.zj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},S.destroy=function(){var e=this,t,n;return L(function(i){if(i.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.C&&(e.C.stop(),e.C=null),e.g=null,e.H=null,e.F=null,e.G=!1,e.o=!0,e.l=null,e.u=null,wt.prototype.release.call(e),C(i,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),le(i)})};function PE(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return ZS(e)},t.onSenderDisconnected=function(){return ZS(e)},t.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&Aa(e,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},e.l),Aa(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(r){return VE(e,r)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(r){return HE(e,r)},t.start(),t=x(bS);for(var n=t.next();!n.done;n=t.next())e.j.D(e.g,n.value,function(r){return WS(e,"video",r)});for(var i in $o)e.j.D(e.h,$o[i],function(r){return WS(e,"player",r)});e.j.D(e.g,"loadeddata",function(){e.B=!0}),e.j.D(e.h,"loading",function(){e.o=!1,Yd(e)}),e.j.D(e.g,"playing",function(){e.o=!1,Yd(e)}),e.j.D(e.g,"pause",function(){Yd(e)}),e.j.D(e.h,"unloading",function(){e.o=!0,Yd(e)}),e.j.D(e.g,"ended",function(){new Ke(function(){e.g&&e.g.ended&&(e.o=!0,Yd(e))}).da(GE)})}function ZS(e){e.m=0,e.A=!0,e.G=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Yd(e)}function Yd(e){var t;L(function(n){if(n.g==1)return C(n,Promise.resolve(),2);if(!e.h)return n.return();t=new fe("caststatuschanged"),e.dispatchEvent(t),JS(e)||Ma(e),le(n)})}function BE(e,t,n){var i,r,o,a,l,f,h,p,g,y;L(function(T){switch(T.g){case 1:for(i in t.player)r=t.player[i],e.h[i](r);return e.F(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,Se(T,5),C(T,e.h.load(t.manifest,t.startTime),7)):C(T,Promise.resolve(),3);case 7:Pe(T,3);break;case 5:return a=Te(T),l=new Map().set("detail",a),f=new fe("error",l),e.h&&e.h.dispatchEvent(f),T.return();case 3:if(!e.h)return T.return();for(h in t.video)p=t.video[h],e.g[h]=p;for(g in t.playerAfterLoad)y=t.playerAfterLoad[g],e.h[g](y);e.g.autoplay=o,t.manifest&&(e.g.play(),Ma(e)),le(T)}})}function WS(e,t,n){e.h&&(f0(e),Aa(e,{type:"event",targetName:t,event:n},e.l))}function f0(e){e.C.da(zE);for(var t={video:{},player:{}},n=x(IE),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.g[i];e.h.U()&&PS.forEach(function(r,o){e.m%r==0&&(t.player[o]=e.h[o]())}),o0.forEach(function(r,o){e.m%r==0&&(t.player[o]=e.h[o]())}),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Aa(e,{type:"update",update:t},e.l),s0.forEach(function(r,o){e.m%r==0&&(r={player:{}},r.player[o]=e.h[o](),Aa(e,{type:"update",update:r},e.l))}),e.B&&(e.m+=1),JS(e)}function JS(e){return e.A&&(e.g.duration||e.h.U())?(d0(e),e.A=!1,!0):!1}function d0(e,t){var n={contentId:e.h.Qc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Ma(e,t===void 0?0:t,n)}function HE(e,t){var n=r0(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,BE(e,n.initState,n.appData),f0(e);break;case"appData":e.F(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,i=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),r=="volume"){t.setSystemVolumeLevel(n);break}else if(r=="muted"){t.setSystemVolumeMuted(n);break}}e.H[i][r]=n;break;case"call":i=e.H[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,i=="player"&&r=="load"&&(e.m=0,e.B=!1);var o=n.id,a=t.senderId;t=e.H[i],n=t[r].apply(t,n.args),i=="player"&&r=="load"&&(n=n.then(function(){e.A=!0})),n.then(function(){return $S(e,a,o,null)},function(l){return $S(e,a,o,l)})}}function VE(e,t){var n=r0(t.data);switch(n.type){case"PLAY":e.g.play(),Ma(e);break;case"PAUSE":e.g.pause(),Ma(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),i&&i=="PLAYBACK_START"?(e.g.play(),Ma(e)):i&&i=="PLAYBACK_PAUSE"&&(e.g.pause(),Ma(e));break;case"STOP":e.h.kc().then(function(){e.h&&Ma(e)});break;case"GET_STATUS":d0(e,Number(n.requestId));break;case"VOLUME":i=n.volume,t=i.level,i=i.muted;var r=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),i!=null&&(e.g.muted=i),r==e.g.volume&&o==e.g.muted||Ma(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,i=n.currentTime,r=e.I(t.contentId),o=n.autoplay||!0,e.F(t.customData),o&&(e.g.autoplay=!0),e.h.load(r,i).then(function(){e.h&&d0(e)}).catch(function(a){var l="LOAD_FAILED";a.category==7&&a.code==7e3&&(l="LOAD_CANCELLED"),Aa(e,{requestId:Number(n.requestId),type:l},e.u)});break;default:Aa(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}function $S(e,t,n,i){e.h&&Aa(e,{type:"asyncComplete",id:n,error:i},e.l,t)}function Aa(e,t,n,i){e.G&&(e=jS(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function Ma(e,t,n){n=n===void 0?null:n;var i={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?XE:e.h.Of()?FE:e.g.paused?KE:qE,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(i.media=n),Aa(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[i]},e.u)}me("shaka.cast.CastReceiver",xi),xi.prototype.destroy=xi.prototype.destroy,xi.prototype.setContentArtist=xi.prototype.zj,xi.prototype.setContentImage=xi.prototype.Aj,xi.prototype.setContentTitle=xi.prototype.Cj,xi.prototype.clearContentMetadata=xi.prototype.bi,xi.prototype.setContentMetadata=xi.prototype.Bj,xi.prototype.isIdle=xi.prototype.Si,xi.prototype.isConnected=xi.prototype.isConnected;var zE=.5,GE=5,XE="IDLE",qE="PLAYING",FE="BUFFERING",KE="PAUSED";function eT(e,t,n,i,r){if(i>=r)return null;for(var o=-1,a=-1,l=0;l<n.length;l++)if(n[l].some(function(_){return _!=null&&_.g.trim()!=""})){o=l;break}for(l=n.length-1;0<=l;l--)if(n[l].some(function(_){return _!=null&&_.g.trim()!=""})){a=l;break}if(o===-1||a===-1)return null;for(var f=l=!1,h="white",p="black",g=h0(i,r,l,f,h,p);o<=a;o++){for(var y=n[o],T=-1,w=-1,A=0;A<y.length;A++)if(y[A]!=null&&y[A].g.trim()!==""){T=A;break}for(A=y.length-1;0<=A;A--)if(y[A]!=null&&y[A].g.trim()!==""){w=A;break}if(T===-1||w===-1)y=tT(i,r),e.nestedCues.push(y);else{for(;T<=w;T++)if(A=y[T]){var E=A.l,M=A.i,I=A.j,U=A.h;(E!=l||M!=f||I!=h||U!=p)&&(g.payload&&e.nestedCues.push(g),g=h0(i,r,E,M,I,U),l=E,f=M,h=I,p=U),g.payload+=A.g}else g.payload+=" ";g.payload&&e.nestedCues.push(g),o!==a&&(g=tT(i,r),e.nestedCues.push(g)),g=h0(i,r,l,f,h,p)}}return e.nestedCues.length?{cue:e,stream:t}:null}function h0(e,t,n,i,r,o){return e=new Ot(e,t,""),n&&e.textDecoration.push(ao),i&&(e.fontStyle=Ya),e.color=r,e.backgroundColor=o,e}function tT(e,t){return e=new Ot(e,t,""),e.lineBreak=!0,e}function nT(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function p0(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,sg(this)}function dv(e,t,n){var i="CC"+((e.C<<1|e.B)+1),r=new Ot(t,n,"");r.lineInterpretation=1;var o=uT.get(e.g);return o&&(r.line=o),e.u!=null&&e.A!=null&&(r.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=eT(r,i,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(o=uT.get(e.g+3-t.cue.nestedCues.length))&&(r.line=o),t}function sg(e){Ca(e,0,15),e.g=1}function Qd(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case 0:i=rT.has(n)?rT.get(n):String.fromCharCode(n);break;case 1:i=YE.get(n);break;case 2:e.i[e.g].pop(),i=QE.get(n);break;case 3:e.i[e.g].pop(),i=ZE.get(n)}i&&e.i[e.g].push(new nT(i,e.m,e.j,e.o,e.l))}}function iT(e,t,n,i){if(!(0>n||0>t))if(t>=n)for(--i;0<=i;i--)e.i[t+i]=e.i[n+i].map(function(o){return o});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(o){return o})}function Ca(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var rT=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),YE=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),QE=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),ZE=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),uT=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function hv(e,t){this.h=0,this.o=new p0(e,t),this.i=new p0(e,t),this.g=this.j=new p0(e,t),this.l=0,this.m=null}function g0(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==3&&e.h!==4&&(r=dv(i,e.l,n),n=e.i,n.g=0<n.h?n.h:0,Ca(n,0,15),n=e.j,n.g=0<n.h?n.h:0,Ca(n,0,15),i.g=15),e.h=3,i.h=t,r}function oT(e){e.h=1,e.g=e.j,e.g.h=0}function sT(e){Eu("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var WE="black green blue cyan red yellow magenta black".split(" "),aT="white green blue cyan red yellow magenta white_italics".split(" ");function m0(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.u="black",v0(this)}function v0(e){e.i=[];for(var t=0;16>t;t++)e.i.push(y0())}function y0(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Pl(e,t){lT(e)&&(e.i[e.h][e.g]=new nT(t,e.C,e.A,e.u,e.B),e.g++)}function lT(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}m0.prototype.isVisible=function(){return this.l};function JE(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=y0()}function cf(e,t,n){var i=new Ot(e.j,t,"");i.textAlign=e.F===0?"left":e.F===1?"right":Ru;var r=i.region;switch(e.I&&(r.id+="svc"+e.I),r.id+="win"+e.M,r.height=e.o,r.width=e.m,r.heightUnits=2,r.widthUnits=2,r.viewportAnchorX=e.H,r.viewportAnchorY=e.L,r.viewportAnchorUnits=e.K?Bi:2,e.G){case 0:r.regionAnchorX=0,r.regionAnchorY=0;break;case 1:r.regionAnchorX=50,r.regionAnchorY=0;break;case 2:r.regionAnchorX=100,r.regionAnchorY=0;break;case 3:r.regionAnchorX=0,r.regionAnchorY=50;break;case 4:r.regionAnchorX=50,r.regionAnchorY=50;break;case 5:r.regionAnchorX=100,r.regionAnchorY=50;break;case 6:r.regionAnchorX=0,r.regionAnchorY=100;break;case 7:r.regionAnchorX=50,r.regionAnchorY=100;break;case 8:r.regionAnchorX=100,r.regionAnchorY=100}return(n=eT(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}m0.prototype.display=function(){this.l=!0};function $E(){this.i=[],this.h=null,this.g=0}function eA(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new ag(e.h)),e.h=null,e.g=0))}function ag(e){this.g=0,this.h=e}ag.prototype.ta=function(){return this.g<this.h.length},ag.prototype.Ba=function(){return this.g};function Vn(e){if(!e.ta())throw new O(2,2,3e3);return e.h[e.g++]}ag.prototype.skip=function(e){if(this.g+e>this.h.length)throw new O(2,2,3e3);this.g+=e},ag.prototype.qh=function(e){if(0>this.g-e)throw new O(2,2,3e3);this.g-=e};function tA(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function nA(e,t,n,i){if(!e.g)return[];if(n==24)return n=Vn(t).value,i=Vn(t).value,n=function(o){return o.map(function(a){return("0"+(a&255).toString(16)).slice(-2)}).join("")}([n,i]),Pl(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var r=null;switch(n){case 8:!lT(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(r=cf(t,i,e.i)),t.h+1>=t.o?JE(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(r=cf(t,i,e.i)),t.i[t.h]=y0(),t.g=0;break;case 12:t.isVisible()&&(r=cf(t,i,e.i)),v0(t),t.h=0,t.g=0}return r?[r]:[]}function iA(e,t,n,i){if(128<=n&&135>=n)i=n&7,e.h[i]&&(e.g=e.h[i]);else{if(n===136){n=Vn(t).value,t=[],n=x(lg(e,n));for(var r=n.next();!r.done;r=n.next()){if(r=e.h[r.value],r.isVisible()){var o=cf(r,i,e.i);o&&t.push(o)}v0(r)}return t}if(n===137)for(t=Vn(t).value,t=x(lg(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=i),n.display();else{if(n===138){for(n=Vn(t).value,t=null,n=x(lg(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=cf(r,i,e.i)),r.l=!1;return t?[t]:[]}if(n===139){for(n=Vn(t).value,t=null,n=x(lg(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()?t=cf(r,i,e.i):r.j=i,r.l=!r.l;return t?[t]:[]}if(n===140)return t=Vn(t).value,cT(e,t,i);if(n===143)return i=cT(e,255,i),fT(e),i;if(n===144)t.skip(1),i=Vn(t).value,e.g&&(e.g.A=0<(i&128),e.g.C=0<(i&64));else if(n===145)i=Vn(t).value,n=Vn(t).value,t.skip(1),e.g&&(t=dT((n&48)>>4,(n&12)>>2,n&3),e.g.B=dT((i&48)>>4,(i&12)>>2,i&3),e.g.u=t);else if(n===146)i=Vn(t).value,t=Vn(t).value,e.g&&(e=e.g,e.h=i&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),i=Vn(t).value,t.skip(1),e.g&&(e.g.F=i&3);else if(152<=n&&159>=n){n=(n&15)-8,r=e.h[n]!==null,r||(o=new m0(n,e.i),o.j=i,e.h[n]=o),i=Vn(t).value,o=Vn(t).value;var a=Vn(t).value,l=Vn(t).value,f=Vn(t).value;t=Vn(t).value,r&&(t&7)===0||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.u="black"),t=e.h[n],t.l=0<(i&32),t.L=o&127,t.H=a,t.G=(l&240)>>4,t.K=0<(o&128),t.o=(l&15)+1,t.m=(f&63)+1,e.g=e.h[n]}}}return[]}function lg(e,t){for(var n=[],i=0;8>i;i++)(t&1)===1&&e.h[i]&&n.push(i),t>>=1;return n}function cT(e,t,n){var i=[];t=x(lg(e,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=e.h[r];o.isVisible()&&(o=cf(o,n,e.i))&&i.push(o),e.h[r]=null}return i}function fT(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function dT(e,t,n){var i={0:0,1:0,2:1,3:1};return e=i[e],t=i[t],n=i[n],rA[e<<2|t<<1|n]}var hT=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),rA="black blue green cyan red magenta yellow white".split(" ");function Zd(){this.h=[],this.g=[],this.i=new $E,this.l=0,this.m=new Map([["CC1",new hv(0,0)],["CC2",new hv(0,1)],["CC3",new hv(1,0)],["CC4",new hv(1,1)]]),this.u=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,S0(this)}Zd.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,S0(this),e=x(this.j.values());for(var t=e.next();!t.done;t=e.next())fT(t.value)};function S0(e){e.o=0,e.u=0;for(var t=x(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,sg(n.i),sg(n.j),sg(n.o);e.B=!0}Zd.prototype.extract=function(e,t){if(this.B){for(var n=x(this.m.values()),i=n.next();!i.done;i=n.next())i.value.l=t;this.B=!1}if(e=new Ut(e,0),!(8>e.getLength())&&e.X()===181&&e.na()===49&&e.S()===1195456820&&e.X()===3&&(n=e.X(),(n&64)!==0))for(n&=31,e.skip(1),i=0;i<n;i++){var r=e.X(),o=(r&4)>>2,a=e.X(),l=e.X();o&&(r&=3,r===0||r===1?this.h.push({pts:t,type:r,mb:a,Mb:l,order:this.h.length}):(this.g.push({pts:t,type:r,value:a,order:this.g.length}),this.g.push({pts:t,type:2,value:l,order:this.g.length})))}},Zd.prototype.decode=function(){function e(r,o){return r.pts-o.pts||r.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=x(this.h),i=n.next();!i.done;i=n.next())(i=uA(this,i.value))&&t.push(i);for(n=x(this.g),i=n.next();!i.done;i=n.next())eA(this.i,i.value);for(n=x(this.i.i),i=n.next();!i.done;i=n.next())i=oA(this,i.value),t.push.apply(t,ce(i));return this.i.i=[],this.h=[],this.g=[],t};function uA(e,t){var n=t.type;if((t.mb&112)===16){var i=t.mb>>3&1;n===0?e.o=i:e.u=i}if(i="CC"+((n<<1|(n?e.u:e.o))+1),n=e.m.get(i),t.mb===255&&t.Mb===255||!t.mb&&!t.Mb||!pT(t.mb)||!pT(t.Mb))return 45<=++e.l&&S0(e),null;e.l=0,t.mb&=127,t.Mb&=127;var r=t.mb;if(1<=r&&15>=r||!t.mb&&!t.Mb)return null;if(r=null,(t.mb&112)===16)e:{if(e.A.add(i),i=t.mb,e=t.Mb,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,(i&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|e>>5&1],i="white",r=!1;var o=null,a=95<e?e-96:e-64;13>=a?i=aT[Math.floor(a/2)]:15>=a?r=!0:o=Math.floor((a-16)/2),e=(e&1)===1,n.h!==4&&(a=n.g,n.h===3&&t!==a.g&&(n=1+t-a.h,iT(a,n,1+a.g-a.h,a.h),Ca(a,0,n-1),Ca(a,t+1,15-t)),a.g=t,a.m=e,a.j=r,a.l=i,a.u=o,a.o="black")}else if((i&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",Qd(n.g,0,32),i=!1,t=aT[(e&14)>>1],t==="white_italics"&&(t="white",i=!0),n.g.m=(e&1)===1,n.g.j=i,n.g.l=t;else if((i&247)===16&&(e&240)===32||(i&247)===23&&(e&255)===45)t="black",(i&7)===0&&(t=WE[(e&14)>>1]),n.g.o=t;else if((i&247)===17&&(e&240)===48)Qd(n.g,1,e);else if((i&246)===18&&(e&224)===32)Qd(n.g,i&1?3:2,e);else{if((i&246)===20&&(e&240)===32){switch(e=t.pts,i=null,t.Mb){case 32:oT(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:i=g0(n,2,e);break;case 38:i=g0(n,3,e);break;case 39:i=g0(n,4,e);break;case 40:Qd(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:sg(n.o),sT(n);break;case 43:sT(n);break;case 44:t=n.i,i=null,n.h!==4&&(i=dv(t,n.l,e)),Ca(t,0,15);break;case 45:t=n.g,n.h!==3?i=null:(i=dv(t,n.l,e),r=t.g-t.h+1,iT(t,r-1,r,t.h),Ca(t,0,r-1),Ca(t,t.g,15-t.g),n.l=e);break;case 46:Ca(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=dv(n.i,n.l,e)),i=n.j,n.j=n.i,n.i=i,oT(n),n.l=e,i=t}r=i;break e}(i==23||i==31)&&33<=e&&35>=e&&(n.g.A=e-32)}r=null}else e=t.Mb,Qd(n.g,0,t.mb),Qd(n.g,0,e);return r}function oA(e,t){var n=[];try{for(;t.ta();){var i=Vn(t).value,r=(i&224)>>5,o=i&31;if(r===7&&o!=0&&(r=Vn(t).value&63),r!=0){e.A.add("svc"+r),e.j.has(r)||e.j.set(r,new tA(r));for(var a=e.j.get(r),l=t.Ba();t.Ba()-l<o;){r=a;var f=t,h=Vn(f),p=h.value,g=h.pts;if(p===16){var y=Vn(f);p=p<<16|y.value}if(0<=p&&31>=p)var T=nA(r,f,p,g);else if(128<=p&&159>=p)T=iA(r,f,p,g);else{if(4096<=p&&4127>=p)r=f,f=p&255,8<=f&&15>=f?r.skip(1):16<=f&&23>=f?r.skip(2):24<=f&&31>=f&&r.skip(3);else if(4224<=p&&4255>=p)r=f,f=p&255,128<=f&&135>=f?r.skip(4):136<=f&&143>=f&&r.skip(5);else if(32<=p&&127>=p)f=p,r.g&&(f===127?Pl(r.g,"♪"):Pl(r.g,String.fromCharCode(f)));else if(160<=p&&255>=p)r.g&&Pl(r.g,String.fromCharCode(p));else if(4128<=p&&4223>=p){if(f=p&255,r.g)if(hT.has(f)){var w=hT.get(f);Pl(r.g,w)}else Pl(r.g,"_")}else 4256<=p&&4351>=p&&r.g&&((p&255)!=160?Pl(r.g,"_"):Pl(r.g,"[CC]"));T=[]}n.push.apply(n,ce(T))}}}}catch(A){if(A instanceof O&&A.code===3e3)Eu("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw A}return n}function pT(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}Zd.prototype.getStreams=function(){return Array.from(this.A)},me("shaka.cea.CeaDecoder",Zd),Va=function(){return new Zd};function gT(e){for(var t=[],n=e,i=e=0;i<n.length;)e==2&&n[i]==3?(e=0,n=[].concat(ce(n)),n.splice(i,1),n=new Uint8Array(n)):n[i]==0?e++:e=0,i++;for(e=n,i=0;i<e.length;){for(n=0;e[i]==255;)n+=255,i++;n+=e[i++];for(var r=0;e[i]==255;)r+=255,i++;r+=e[i++],n==4&&t.push(e.subarray(i,i+r)),i+=r}return t}function pv(){this.j=new Map,this.i=this.h=0,this.g=T0}pv.prototype.init=function(e){function t(o){o=o.name,gv.has(o)&&(n.g=gv.get(o))}var n=this,i=[],r=[];if(new At().box("moov",Ve).box("mvex",Ve).R("trex",function(o){var a=o.reader;a.skip(4),a.skip(4),o=a.S(),a=a.S(),n.h=o,n.i=a}).box("trak",Ve).R("tkhd",function(o){var a=o.reader;o=o.version,o==1?(a.skip(8),a.skip(8)):(a.skip(4),a.skip(4));var l=a.S();o==1?a.skip(8):a.skip(4),a.skip(4),a.skip(8),a.skip(2),a.skip(2),a.skip(2),a.skip(2),a.skip(36),a.na(),a.na(),a.na(),a.na(),i.push(l)}).box("mdia",Ve).R("mdhd",function(o){o=Qs(o.reader,o.version),r.push(o.timescale)}).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Pt).box("sinf",Ve).box("frma",function(o){o=Zs(o.reader).codec,gv.has(o)&&(n.g=gv.get(o))}).parse(e,!0),!i.length||!r.length||i.length!=r.length)throw new O(2,2,2010);this.g==T0&&ot("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(o,a){n.j.set(o,r[a])})},pv.prototype.parse=function(e){var t=this;if(this.g==T0)return[];var n=[],i=0,r=[];return new At().box("moof",function(o){i=o.start,r=[],Ve(o)}).box("traf",function(o){r.push({baseMediaDecodeTime:null,ld:t.h,md:t.i,lh:[],timescale:9e4}),Ve(o)}).R("trun",function(o){var a=r[r.length-1];o=Lc(o.reader,o.version,o.flags),a.lh.push(o)}).R("tfhd",function(o){var a=r[r.length-1];o=Ys(o.reader,o.flags),a.ld=o.ld||t.h,a.md=o.md||t.i,o=o.trackId,t.j.has(o)&&(a.timescale=t.j.get(o))}).R("tfdt",function(o){var a=r[r.length-1];o=is(o.reader,o.version),a.baseMediaDecodeTime=o.baseMediaDecodeTime}).box("mdat",function(o){for(var a=i-o.start-8,l=o.reader.Ba(),f=x(r),h=f.next();!h.done;h=f.next()){if(h=h.value,h.baseMediaDecodeTime===null)throw ot("Unable to find base media decode time for CEA captions!"),new O(2,2,2010);o.reader.seek(l),sA(t,o.reader,h.baseMediaDecodeTime,h.timescale,h.ld,h.md,a,h.lh,n)}}).parse(e,!1),n};function sA(e,t,n,i,r,o,a,l,f){var h=0,p=o,g=l.map(function(w){return w.fg});for(g=[].concat.apply([],ce(g)),g.length&&(p=g[0].sampleSize||o),t.skip(a+l[0].nf);t.ta();){a=t.S();var y=t.X(),T=null;switch(T=!1,l=1,e.g){case cg:T=y&31,T=T==6;break;case fg:l=2,t.skip(1),T=y>>1&63,T=T==39||T==40;break;case dg:l=2,t.skip(1),T=y>>1&63,T=T==23||T==24;break;default:return}if(T)for(y=0,h<g.length&&(y=g[h].ye||0),y=(n+y)/i,l=x(gT(t.Cb(a-l))),T=l.next();!T.done;T=l.next())f.push({packet:T.value,pts:y});else try{t.skip(a-l)}catch(w){break}p-=a+4,p==0&&(n=h<g.length?n+(g[h].gg||r):n+r,h++,h<g.length?p=g[h].sampleSize||o:p=o)}}me("shaka.cea.Mp4CeaParser",pv);var T0=0,cg=1,fg=2,dg=3,gv=new Map().set("avc1",cg).set("avc3",cg).set("dvav",cg).set("dva1",cg).set("hev1",fg).set("hvc1",fg).set("dvh1",fg).set("dvhe",fg).set("vvc1",dg).set("vvi1",dg).set("dvc1",dg).set("dvi1",dg);xh("video/mp4",function(){return new pv});function mv(){this.g=null}mv.prototype.init=function(){},mv.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Nt;var t=[];if(e=Ue(e),!Cn(e))return t;e=this.g.parse(e);var n=e.od(),i=e.be();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=x(i),i=n.next();!i.done;i=n.next())if(i=i.value,e.includes(i.type)&&i.time!=null)for(var r=x(gT(i.data)),o=r.next();!o.done;o=r.next())t.push({packet:o.value,pts:i.time});return t},me("shaka.cea.TsCeaParser",mv),xh("video/mp2t",function(){return new mv});function aA(e){var t=0,n=ii(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,(r&1)!=0||r+e>n.byteLength){n=[];break e}var o=Ue(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function mT(e){return e=er(gn(e)),e=aA(e).filter(function(t){return t.type===lA})[0],e?(e=io(e.value,!0),(e=_s(e,"WRMHEADER"))?e:null):null}function vv(e){try{var t=mT(e);if(t)e:{for(var n=x(Or(t,"DATA")),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.children)for(var o=x(r.children),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.tagName=="LA_URL"){var f=gn(l);break e}}}f=""}else f="";return f}catch(h){return""}}var lA=1;function vT(e,t,n){var i=dA(e),r=null;e=[];var o=[],a=null,l=new Set(i.map(function(h){return h.keyId}));l.delete(null);var f="cenc";if(1<l.size)throw new O(2,4,4010);if(!t){if(o=i.filter(function(h){return h.cd=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new O(2,4,4050);o.length&&(a=pA(o[0])),(o=i.find(function(h){return h.cd=="urn:mpeg:dash:mp4protection:2011"}))&&o.encryptionScheme&&(f=o.encryptionScheme),o=i.filter(function(h){return h.cd=="urn:mpeg:dash:mp4protection:2011"?(r=h.init||r,!1):h.cd!="urn:mpeg:dash:sea:2012"}),o.length&&(e=fA(r,f,o,n,l),e.length==0&&(e=[Du("",f,r)]))}if(i.length&&!a&&(t||!o.length))for(e=[],t=x(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(Du(n,f,r));if(l=Array.from(l)[0]||null)for(f=x(e),t=f.next();!t.done;t=f.next())for(t=x(t.value.initData),n=t.next();!n.done;n=t.next())n.value.keyId=l;return{Jg:l,Pk:r,drmInfos:e,cf:a,Og:!0}}function cA(e,t,n,i){var r=vT(e,n,i);if(t.Og)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=r.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=r.drmInfos),t.Og=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return r.drmInfos.some(function(a){return a.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new O(2,4,4008);return r.Jg||t.Jg}function yv(e){var t=yr(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=gn(t)))return t;if((t=yr(e.node,"urn:microsoft:playready","pro"))&&gn(t))return vv(t);if((e=yr(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=gn(e))){t=er(e),e=8,t=ii(t);var n=t.getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),e=Ue(t,e+4),e=ro(e),e=_s("<pro>"+e+"</pro>"),vv(e)}return""}function fA(e,t,n,i,r){var o=[];n=x(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var l=i[a.cd];if(l){var f;if((f=yr(a.node,"urn:microsoft:playready","pro"))&&gn(f)){f=gn(f),f=er(f);var h=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);f=[{initData:Mc(f,h,new Set,0),initDataType:"cenc",keyId:a.keyId}]}else f=null;if(h=null,a.cd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){h=a;var p=r;if(p.size==0)h=null;else{var g=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),y=new Uint8Array([]);h=[{initData:Mc(y,g,p,1),initDataType:"cenc",keyId:h.keyId}]}}f=Du(l,t,a.init||e||f||h),(l=gA.get(l))&&(f.licenseServerUri=l(a)),o.push(f)}}return o}function dA(e){var t=[];e=x(e);for(var n=e.next();!n.done;n=e.next())(n=hA(n.value))&&t.push(n);return t}function hA(e){var t=e.attributes.schemeIdUri,n=nr(e,"urn:mpeg:cenc:2013","default_KID"),i=Gg(e,"urn:mpeg:cenc:2013","pssh").map(Hi),r=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new O(2,4,4009);var o=[];try{o=i.map(function(a){return{initDataType:"cenc",initData:er(a),keyId:null}})}catch(a){throw new O(2,4,4007)}return{node:e,cd:t,keyId:n,init:0<o.length?o:null,encryptionScheme:r}}function pA(e){if(!F.crypto||!F.crypto.subtle)throw ot("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new O(2,4,4042);var t=yr(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new O(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new O(2,4,4051);if(t=yr(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new O(2,4,4051);if(e=t.attributes.IV,t=Jn(t.attributes.keyUriTemplate),!e||!t)throw new O(2,4,4051);if(e=uo(e.substr(2)),e.byteLength!=16)throw new O(2,4,4048);return{Xi:t,iv:e}}var gA=new Map().set("com.apple.fps",function(e){if(F.shakaMediaKeysPolyfill==="apple")throw new O(2,4,4054);return(e=yr(e.node,"https://dashif.org/CPS","Laurl"))&&(e=gn(e))?e:""}).set("com.widevine.alpha",function(e){var t=yr(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=gn(t))?t:(e=yr(e.node,"urn:microsoft","laurl"))&&Jn(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",yv).set("com.microsoft.playready.recommendation",yv).set("com.microsoft.playready.software",yv).set("com.microsoft.playready.hardware",yv).set("org.w3.clearkey",function(e){var t=yr(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=gn(t))?t:(e=yr(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=gn(e))?e:""});function hg(e,t,n,i,r,o){var a=new Map().set("RepresentationID",t).set("Number",n).set("SubNumber",i).set("Bandwidth",r).set("Time",o);return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(l,f,h,p){if(l=="$$")return"$";var g=a.get(f);if(g==null)return l;switch(f=="RepresentationID"&&h&&(h=void 0),f=="Time"&&typeof g!="bigint"&&(.2<=Math.abs(g-Math.round(g))&&ot("Calculated $Time$ values must be close to integers"),g=Math.round(g)),p){case void 0:case"d":case"i":case"u":l=g.toString();break;case"o":l=g.toString(8);break;case"x":l=g.toString(16);break;case"X":l=g.toString(16).toUpperCase();break;default:l=g.toString()}return h=F.parseInt(h,10)||1,Array(Math.max(0,h-l.length)+1).join("0")+l})}function yT(e,t){var n=Qu(e,t,"timescale"),i=1;n&&(i=Sr(n)||1),n=Qu(e,t,"duration");var r=(n=Sr(n||""))?n/i:null,o=Qu(e,t,"startNumber"),a=Number(Qu(e,t,"presentationTimeOffset"))||0,l=oi(o||"");if((o==null||l==null)&&(l=1),o=null,t=Wd(e,t,"SegmentTimeline")){t=dt(t,"S"),o=i,e=e.ha.duration||1/0;for(var f=l,h=[],p=-a,g=0;g<t.length;++g){var y=t[g],T=t[g+1],w=Oe(y,"t",oi),A=Oe(y,"d",oi),E=Oe(y,"r",jn);if(y=Oe(y,"k",jn)||0,w!=null&&(w-=a),A){if(w=w!=null?w:p,E=E||0,0>E)if(T){if(T=Oe(T,"t",oi),T==null)break;if(w>=T)break;E=Math.ceil((T-w)/A)-1}else{if(e==1/0)break;if(w/o>=e)break;E=Math.ceil((e*o-w)/A)-1}for(0<h.length&&w!=p&&(h[h.length-1].end=w/o),T=0;T<=E;++T)p=w+A,h.push({start:w/o,end:p/o,xg:w,Jb:y,wj:h.length+f}),w=p}}o=h}return{timescale:i,He:n,Wa:r,Ld:l,hc:a/i||0,wg:a,timeline:o}}function ST(e,t){return[t(e.J),t(e.ga),t(e.qa)].filter(ho)}function Qu(e,t,n){t=ST(e,t),e=null,t=x(t);for(var i=t.next();!i.done&&!(e=i.value.attributes[n]);i=t.next());return e}function Wd(e,t,n){t=ST(e,t),e=null,t=x(t);for(var i=t.next();!i.done&&!(e=ln(i.value,n));i=t.next());return e}function mA(e,t,n,i,r,o){for(var a=nr(e,"http://www.w3.org/1999/xlink","href"),l=nr(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",f=x(Object.keys(e.attributes)),h=f.next();!h.done;h=f.next()){h=h.value;var p=h.split(":"),g=Ch("http://www.w3.org/1999/xlink");p[0]==g&&delete e.attributes[h]}if(5<=o)return vo(new O(2,4,4028));if(l!="onLoad")return vo(new O(2,4,4027));var y=Qt([i],[a]);return r.request(0,mn(y,t)).Ha(function(T){if(T=uc(T.data,e.tagName),!T)return vo(new O(2,4,4001,a));for(e.children=[];T.children.length;){var w=T.children.shift();e.children.push(w)}w=x(Object.keys(T.attributes));for(var A=w.next();!A.done;A=w.next())A=A.value,e.attributes[A]=T.attributes[A];return Sv(e,t,n,y[0],r,o+1)})}function Sv(e,t,n,i,r,o){if(o=o===void 0?0:o,nr(e,"http://www.w3.org/1999/xlink","href")){var a=mA(e,t,n,i,r,o);return n&&(a=a.Ha(void 0,function(){return Sv(e,t,n,i,r,o)})),a}a=[];for(var l=x(kf(e)),f=l.next(),h={};!f.done;h={hd:void 0},f=l.next())h.hd=f.value,nr(h.hd,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter(function(p){return function(g){return g!==p.hd}}(h)):h.hd.tagName!="SegmentTimeline"&&a.push(Sv(h.hd,t,n,i,r,o));return rl(a).Ha(function(){return e})}function vA(e,t,n,i,r,o,a){var l,f=new At().R("sidx",function(h){l=yA(t,i,r,o,a,n,h)});if(e&&f.parse(e),l)return l;throw new O(2,3,3004)}function yA(e,t,n,i,r,o,a){var l=[];a.reader.skip(4);var f=a.reader.S();if(f==0)throw new O(2,3,3005);if(a.version==0)var h=a.reader.S(),p=a.reader.S();else h=a.reader.bd(),p=a.reader.bd();a.reader.skip(2);var g=a.reader.na();for(e=e+a.size+p,p=0;p<g;p++){var y=a.reader.S(),T=(y&2147483648)>>>31;y&=2147483647;var w=a.reader.S();if(a.reader.skip(4),T==1)throw new O(2,3,3006);l.push(new Me(h/f+n,(h+w)/f+n,function(){return o},e,e+y-1,t,n,i,r)),h+=w,e+=y}return a.parser.stop(),l}function Bl(e){this.h=ii(e),this.g=new Ut(this.h,0)}Bl.prototype.ta=function(){return this.g.ta()};function Da(e){var t=TT(e);if(7<t.length)throw new O(2,3,3002);var n=0;t=x(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=TT(e);e:{i=x(SA);for(var r=i.next();!r.done;r=i.next())if($u(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.Ba();else{if(t.length==8&&t[1]&224)throw new O(2,3,3001);for(r=i=0;r<t.length;r++){var o=t[r];i=r==0?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.g.Ba()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Ba(),i=ii(e.h,e.g.Ba(),t),e.g.skip(t),new TA(n,i)}function TT(e){var t=e.g.Ba(),n=e.g.X();if(n==0)throw new O(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ue(e.h,t,n)}var SA=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function TA(e,t){this.id=e,this.g=t}function x0(e){if(8<e.g.byteLength)throw new O(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new O(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var i=e.g.getUint8(n);t=256*t+i}return t}function xA(e,t,n,i,r,o,a,l,f){function h(){return r}var p=[];e=new Bl(e.g);for(var g=null,y=null;e.ta();){var T=Da(e);if(T.id==187){var w=wA(T);w&&(T=n*w.Jj,w=t+w.nj,g!=null&&p.push(new Me(g+a,T+a,h,y,w-1,o,a,l,f)),g=T,y=w)}}return g!=null&&p.push(new Me(g+a,i+a,h,y,null,o,a,l,f)),p}function wA(e){var t=new Bl(e.g);if(e=Da(t),e.id!=179)throw new O(2,3,3013);if(e=x0(e),t=Da(t),t.id!=183)throw new O(2,3,3012);t=new Bl(t.g);for(var n=0;t.ta();){var i=Da(t);if(i.id==241){n=x0(i);break}}return{Jj:e,nj:n}}function xT(e,t,n){if(t=Wd(e,t,"Initialization"),!t)return null;var i=e.J.Ua(),r=t.attributes.sourceURL;r&&(i=Qt(i,[Jn(r)],e.vb())),r=0;var o=null;return(t=Oe(t,"range",oc))&&(r=t.start,o=t.end),n=new yi(function(){return i},r,o,MT(e),null,null,n,e.ga.encrypted),n.codecs=e.J.codecs,n.mimeType=e.J.mimeType,e.ha&&(n.g=e.ha.start+e.ha.duration),n}function EA(e,t,n){var i=Number(Qu(e,Jd,"presentationTimeOffset"))||0,r=Qu(e,Jd,"timescale"),o=1;r&&(o=Sr(r)||1);var a=i/o||0,l=xT(e,Jd,n);AA(e,l);var f=Us(e);return{rc:function(){var h=Wd(f,Jd,"RepresentationIndex"),p=f.J.Ua();return h&&(h=Jn(h.attributes.sourceURL))&&(p=Qt(p,[h],f.vb())),h=ET(f),wT(f,t,l,p,h.start,h.end,a)}}}function wT(e,t,n,i,r,o,a){var l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P;return L(function(j){if(j.g==1)return l=e.presentationTimeline,f=!e.Ob||!e.ha.$g,h=e.ha.start,p=e.ha.duration,g=e.J.mimeType.split("/")[1],y=t,T=null,w=[y(i,r,o,!1),g=="webm"?y(n.N(),n.Sa,n.wa,!0):null],y=null,C(j,Promise.all(w),2);if(A=j.h,E=A[0],M=A[1]||null,I=null,U=h-a,_=h,b=p?h+p:1/0,g=="mp4")var V=vA(E,r,i,n,U,_,b);else{V=E;var H=new Bl(M);if(Da(H).id!=440786851)throw new O(2,3,3008);var z=Da(H);if(z.id!=408125543)throw new O(2,3,3009);H=z.g.byteOffset,z=new Bl(z.g);for(var K=null;z.ta();){var X=Da(z);if(X.id==357149030){K=X;break}}if(!K)throw new O(2,3,3010);for(K=new Bl(K.g),X=1e6,z=null;K.ta();){var Z=Da(K);if(Z.id==2807729)X=x0(Z);else if(Z.id==17545)if(Z.g.byteLength==4)z=Z.g.getFloat32(0);else if(Z.g.byteLength==8)z=Z.g.getFloat64(0);else throw new O(2,3,3003)}if(z==null)throw new O(2,3,3011);if(K=X/1e9,z*=K,V=Da(new Bl(V)),V.id!=475249515)throw new O(2,3,3007);V=xA(V,H,K,z,i,n,U,_,b)}for(I=V,N=x(I),k=N.next();!k.done;k=N.next())P=k.value,P.codecs=e.J.codecs,P.mimeType=e.J.mimeType,P.bandwidth=e.bandwidth;return l.Ed(I),T=new st(I),f&&T.Oc(_,b,!0),j.return(T)})}function Jd(e){return e.dd}function ET(e){var t=Wd(e,Jd,"RepresentationIndex");return e=Qu(e,Jd,"indexRange"),e=oc(e||""),t&&(e=Oe(t,"range",oc,e)),e}function AA(e,t){if(AT(e,t),!ET(e))throw new O(2,4,4002)}function AT(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=Xe&&n!="mp4"&&n!="webm")throw new O(2,4,4006);if(n=="webm"&&!t)throw new O(2,4,4005)}function MT(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.oe,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function MA(e,t,n){var i=xT(e,CT,n),r=CA(e);if(!r.Wa&&!r.timeline&&1<r.Xc.length)throw new O(2,4,4002);if(!r.Wa&&!e.ha.duration&&!r.timeline&&r.Xc.length==1)throw new O(2,4,4002);if(r.timeline&&r.timeline.length==0)throw new O(2,4,4002);var o=null,a=null;e.qa.id&&e.J.id&&(a=t.get(e.qa.id+","+e.J.id))&&(o=a.segmentIndex);var l=DA(e.ha.start,e.ha.duration,e.J.Ua,r,i,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.vb);return t=!o,o?o.Bd(l,e.presentationTimeline.pb()):o=new st(l),e.presentationTimeline.Ed(l),e.Ob&&e.ha.$g||o.Oc(e.ha.start,e.ha.duration?e.ha.start+e.ha.duration:1/0,t),a&&(a.segmentIndex=o),{rc:function(){return o&&o.getNumReferences()!=0||o.ke(l),Promise.resolve(o)}}}function CT(e){return e.Zb}function CA(e){var t=IA(e);e=yT(e,CT);var n=e.Ld;n==0&&(n=1);var i=0;return e.Wa?i=e.Wa*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{Wa:e.Wa,startTime:i,Ld:n,hc:e.hc,timeline:e.timeline,Xc:t}}function DA(e,t,n,i,r,o,a,l,f,h){var p=i.Xc.length;i.timeline&&i.timeline.length!=i.Xc.length&&(p=Math.min(i.timeline.length,i.Xc.length));for(var g=e-i.hc,y=t?e+t:1/0,T=[],w=i.startTime,A={},E=0;E<p;A={Je:void 0,ze:void 0},E++){A.ze=i.Xc[E];var M=w;w=void 0,w=i.Wa!=null?M+i.Wa:i.timeline?i.timeline[E].end:M+t,A.Je=null,A=new Me(e+M,e+w,function(I){return function(){return I.Je==null&&(I.Je=Qt(n(),[I.ze.cj],h())),I.Je}}(A),A.ze.start,A.ze.end,r,g,e,y,[],"",null,null,bu,o),A.codecs=l,A.mimeType=a,A.bandwidth=f,T.push(A)}return T}function IA(e){return[e.J.Zb,e.ga.Zb,e.qa.Zb].filter(ho).map(function(t){return dt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.attributes.indexRange&&!e.Lf&&(e.Lf=!0);var n=Jn(t.attributes.media);return t=Oe(t,"mediaRange",oc,{start:0,end:null}),{cj:n,start:t.start,end:t.end}})}function DT(e,t,n,i,r,o,a,l,f){f||e.J.de||(e.J.de=Qu(e,Hl,"initialization"));var h=e.J.de?LA(e,a):null,p=RA(e);kA(p);var g=Us(e);if(p.vd)return AT(e,h),{rc:function(){var A=hg(p.vd,g.J.originalId,null,null,g.bandwidth||null,null);return A=Qt(g.J.Ua(),[A]),wT(g,t,h,A,0,null,p.hc)}};if(p.Wa)return i||e.ga.contentType==="image"||e.ga.contentType==="text"||(n=e.ha.start,i=e.qa.id,f=e.ha.duration,i=(i=i!=null&&o.get(i)||f)?n+i:1/0,e.presentationTimeline.Tf(p.Wa),e.presentationTimeline.jh(n,i)),{rc:function(){return NA(g,p,r,h,o,a,l,e.J.Ae)}};var y=null;i=i=null,e.qa.id&&e.J.id&&(i=e.qa.id+","+e.J.id,i=n.get(i))&&(y=i.segmentIndex);var T=e.ha.start,w=e.ha.duration?T+e.ha.duration:1/0;return y?(n=y,IT(n,p,T,w,h),n.Oa(e.presentationTimeline.pb())):y=new Tv(p,e.J.originalId,e.bandwidth,e.J.Ua,e.vb,T,w,h,a,e.J.Ae),p.timeline&&e.ga.contentType!=="image"&&e.ga.contentType!=="text"&&e.presentationTimeline.kh(y.h?y.h.timeline:[],T),i&&e.Ob&&(i.segmentIndex=y),{rc:function(){return y instanceof Tv&&y.getNumReferences()==0&&IT(y,p,T,w,h),Promise.resolve(y)}}}function Hl(e){return e.ic}function RA(e){var t=yT(e,Hl),n=Qu(e,Hl,"media"),i=Qu(e,Hl,"index"),r=Qu(e,Hl,"k"),o=0;return r&&(o=parseInt(r,10)),{He:t.He,Wa:t.Wa,timescale:t.timescale,Ld:t.Ld,hc:t.hc,wg:t.wg,timeline:t.timeline,ec:n&&Jn(n),vd:i,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,dj:o}}function kA(e){var t=e.vd?1:0;if(t+=e.timeline?1:0,t+=e.Wa?1:0,t==0)throw new O(2,4,4002);if(t!=1&&(e.vd&&(e.timeline=null),e.He=null,e.Wa=null),!e.vd&&!e.ec)throw new O(2,4,4002)}function NA(e,t,n,i,r,o,a,l){function f(z){var K=z-E,X=K*A,Z=t.He,Y=K*Z;"BigInt"in F&&Y>Number.MAX_SAFE_INTEGER&&(Y=BigInt(K)*BigInt(Z)),X+=y,K=X+A,Z=Math.min(K,p());var ie=[],se=t.dj;if(se)for(var Le=(Z-X)/se,we={},yt=0;yt<se;we={Eh:void 0},yt++){var et=X+Le*yt,Ge=et+Le;we.Eh=yt+1,we=new Me(et,Ge,function(Ze){return function(){var pt=hg(M,U,z,Ze.Eh,I,Y);return Qt(_(),[pt],b())}}(we),0,null,i,N,y,p(),[],"",null,null,bu,o),we.codecs=e.J.codecs,we.mimeType=e.J.mimeType,l==0?0<yt&&we.Vc():yt%l!=0&&we.Vc(),ie.push(we)}return X=new Me(X,Z,function(){if(se)return[];var Ze=hg(M,U,z,null,I,Y);return Qt(_(),[Ze],b())},0,null,i,N,y,p(),ie,"",null,null,bu,o,0<ie.length),X.codecs=e.J.codecs,X.mimeType=e.J.mimeType,X.bandwidth=e.bandwidth,X.j=K,X}function h(){var z=[Math.max(g.pb(),y),Math.min(g.cc(),p())].map(function(K){return K-y});return z=[Math.ceil(z[0]/A),Math.ceil(z[1]/A)-1],e.J.cb&&z[1]++,z.map(function(K){return K+E})}function p(){var z=T!=null&&r.get(T)||w;return z?y+z:1/0}var g=e.presentationTimeline,y=e.ha.start,T=e.qa.id,w=e.ha.duration,A=t.Wa,E=t.Ld,M=t.ec,I=e.bandwidth||null,U=e.J.id,_=e.J.Ua,b=e.vb,N=y-t.hc,k=h();n=e.Ob?Math.max(k[0],k[1]-n+1):k[0],a=a||k[1],k=[];for(var P=n;P<=a;++P){var j=f(P);k.push(j)}var V=new st(k);if(k=g.cc()<p(),P=g.U(),k||P){var H=Math.max(n,a+1);n=A,e.J.cb&&(n=.1),V.Ie(n,function(){var z=g.pb();V.Oa(z);var K=x(h());K.next(),K=K.next().value;for(var X=[];H<=K;){var Z=f(H);X.push(Z),H++}return z>p()&&!X.length?null:X})}return Promise.resolve(V)}function LA(e,t){var n=e.J.de;if(n||(n=Qu(e,Hl,"initialization")),!n)return null;n=Jn(n);var i=e.J.originalId,r=e.bandwidth||null,o=e.J.Ua,a=e.vb;return t=new yi(function(){var l=hg(n,i,null,null,r,null);return Qt(o(),[l],a())},0,null,MT(e),null,null,t,e.ga.encrypted),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,e.ha&&(t.g=e.ha.start+e.ha.duration),t}function Tv(e,t,n,i,r,o,a,l,f,h){st.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=i,this.H=r,this.j=o,this.l=a,this.u=l,this.A=f,this.G=h,w0(this)}Yt(Tv,st),S=Tv.prototype,S.getNumReferences=function(){return this.h?this.h.timeline.length:0},S.release=function(){st.prototype.release.call(this),this.h=null},S.Oa=function(e){if(this.h){for(var t=0,n=this.h.timeline,i=0;i<n.length&&n[i].end+this.j<=e;i+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function IT(e,t,n,i,r){if(UA(e,r),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var o=n[n.length-1];t=t.timeline.filter(function(a){return a.end>o.end})}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,ce(t)),e.l!==i&&(e.l=i)}else e.h=t,e.j=n,e.l=i;w0(e)}function UA(e,t){if(e.u!==t){e.u=t,e=x(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&od(n,t)}}function w0(e){if(e.h&&!e.o){for(var t=[],n=x(e.h.timeline),i=n.next();!i.done;i=n.next())i=i.value,i.start>=e.l||0>=i.end||t.push(i);e.h.timeline=t,e.Oa(e.j)}}S.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,i=0;i<t.length;i++){var r=t[i],o=r.start+this.j;if(r=i<n?t[i+1].start+this.j:this.l===1/0?r.end+this.j:this.l,e>=o&&e<r)return i+this.i}return null},S.get=function(e){var t=this;if(e-=this.i,0>e||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var i=this.h.timeline[e],r=i.wj,o=i.xg+this.h.wg;n=this.j-this.h.hc;var a=this.j+i.end,l=a;e===this.getNumReferences()-1&&this.l!==1/0&&(l=this.l);for(var f=this.h.codecs,h=this.h.mimeType,p=this.h.bandwidth,g=[],y=(i.end-i.start)/i.Jb,T={},w=0;w<i.Jb;T={Ke:void 0,Fh:void 0},w++){var A=i.start+y*w,E=A+y;T.Fh=w+1,T.Ke=null,T=new Me(this.j+A,this.j+E,function(M){return function(){return t.h?(M.Ke==null&&(M.Ke=RT(t.h.ec,t.F,r,t.B,o,M.Fh,t.C,t.H)),M.Ke):[]}}(T),0,null,this.u,n,this.j,this.l,[],"",null,null,bu,this.A),T.codecs=f,T.mimeType=h,T.bandwidth=p,this.G==0?0<w&&T.Vc():w%this.G!=0&&T.Vc(),g.push(T)}n=new Me(this.j+i.start,l,function(){return 0<i.Jb||!t.h?[]:RT(t.h.ec,t.F,r,t.B,o,null,t.C,t.H)},0,null,this.u,n,this.j,this.l,g,"",null,null,bu,this.A,0<i.Jb),n.codecs=f,n.mimeType=h,n.j=a,n.bandwidth=p,this.g[e]=n}return n},S.Eb=function(e){w0(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function RT(e,t,n,i,r,o,a,l){return e=hg(e,t,n,o,i||null,r),Qt(a(),[e],l()).map(function(f){return f.toString()})}function $d(e){this.o=null,this.A=e,this.G=new qs,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}$d.prototype.configure=function(e){this.o=e},$d.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.G.destroy()},$d.prototype.setManifestType=function(e){this.u=e};function pg(e,t){var n,i,r,o,a,l,f;return L(function(h){if(h.g==1)return n=Qt(e.i,[_A(e,t)]),i=mn(n,e.o.retryParameters),r=e.A.networkingEngine.request(8,i),Pr(e.G,r),Se(h,2),C(h,r.promise,4);if(h.g!=2)return o=h.h,a=Xt(o.data),l=JSON.parse(a),l.VERSION==1&&OA(e,l,o.uri),Pe(h,0);if((f=Te(h))&&f.code==7001)return h.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new Ke(function(){pg(e,t)}),e.g.da(e.C),le(h)})}function _A(e,t){if(!e.m.length)return t;t=new Jt(t);var n=e.B||e.m[0],i=Math.round(e.A.getBandwidthEstimate()),r=t.g;return e.u=="DASH"?(r.add("_DASH_pathway",n),r.add("_DASH_throughput",String(i))):e.u=="HLS"&&(r.add("_HLS_pathway",n),r.add("_HLS_throughput",String(i))),Es(r)&&$r(t,r),t.toString()}function OA(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var i=t["RELOAD-URI"]||n;e.g=new Ke(function(){pg(e,i)}),(n=t.TTL)&&(e.C=n),e.g.da(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}function eh(e,t,n,i){var r=e.l.get(t);r||(r=new Map),r.set(n,i),e.l.set(t,r)}$d.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function gg(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var i=[],r=x(e.m),o=r.next(),a={};!o.done;a={Zc:void 0},o=r.next())if(a.Zc=o.value,o=t.get(a.Zc))i.push({Yf:a.Zc,location:o});else if(o=e.F.find(function(f){return function(h){return h.ek==f.Zc}}(a))){var l=t.get(o["BASE-ID"]);l&&(o["URI-REPLACEMENT"].Oh?(l=new Jt(l),Zl(l,o["URI-REPLACEMENT"].Oh),i.push({Yf:a.Zc,location:l.toString()})):i.push({Yf:a.Zc,location:l}))}for(r=Date.now(),a=x(e.j.keys()),o=a.next();!o.done;o=a.next())o=o.value,l=e.j.get(o),r>l&&e.j.delete(o);if(i=i.filter(function(f){for(var h=x(e.j.keys()),p=h.next();!p.done;p=h.next())if(p.value.includes(new Jt(f.location).nb))return!1;return!0}),i.length&&(e.B=i[0].Yf),i=i.map(function(f){return f.location}),!i.length&&e.h)for(r=x(e.h.split(",")),a=r.next();!a.done;a=r.next())(a=t.get(a.value))&&(e.B=e.h,i.push(a));if(!i.length)for(t=x(t.values()),r=t.next();!r.done;r=t.next())i.push(r.value);return n?i:Qt(e.i,i)}function _i(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}S=_i.prototype,S.release=function(){for(var e=x(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},S.Ki=function(){return this.l},S.Jf=function(){return this.j.slice()},S.oi=function(){return this.i},S.Kg=function(e,t){if(e){if(e.type=="audio")for(var n=x(this.h),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="video")for(n=x(this.g),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e}),i.trickModeVideo&&(i.trickModeVideo.matchedStreams=i.trickModeVideo.matchedStreams.filter(function(r){return r!==e})),i.dependencyStream&&(i.dependencyStream.matchedStreams=i.dependencyStream.matchedStreams.filter(function(r){return r!==e}));else if(e.type==Xe)for(n=x(this.j),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});else if(e.type=="image")for(n=x(this.i),i=n.next();!i.done;i=n.next())i=i.value,i.matchedStreams=i.matchedStreams.filter(function(r){return r!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function kT(e,t){var n=[],i=[],r=[],o=[];e=x(e);for(var a=e.next();!a.done;a=e.next()){var l=a.value;a=new Map(l.audioStreams.map(function(g){return[C0(g),g]}));var f=new Map(l.videoStreams.map(function(g){return[M0(g),g]})),h=new Map(l.textStreams.map(function(g){return[yg(g),g]}));if(l=new Map(l.imageStreams.map(function(g){return[Sg(g),g]})),t){var p=jT(Xe);h.set(yg(p),p),p=jT("image"),l.set(Sg(p),p)}n.push(a),i.push(f),r.push(h),o.push(l)}return{Dg:n,Mh:i,Ih:r,Yg:o}}S.gf=function(e,t,n){n=n===void 0?!1:n;var i=this,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le;return L(function(we){if(we.g==1){if(r=an,!t&&e.length==1)return o=kT(e,!1),a=o.Dg,l=o.Mh,f=o.Ih,h=o.Yg,i.h=Array.from(a[0].values()),i.g=Array.from(l[0].values()),i.j=Array.from(f[0].values()),i.i=Array.from(h[0].values()),we.s(2);for(p=n?i.m.size:0,g=-1,y=0;y<e.length;y++)T=e[y],i.m.has(T.id)||(i.m.add(T.id),g==-1&&(g=y));return g==-1?we.return():(w=kT(e,!0),A=w.Dg,E=w.Mh,M=w.Ih,I=w.Yg,C(we,Promise.all([Vl(i,i.h,A,g,th,zl,p),Vl(i,i.g,E,g,th,zl,p),Vl(i,i.j,M,g,th,zl,p),Vl(i,i.i,I,g,th,zl,p)]),2))}if(U=0,_=[],i.g.length&&i.h.length)for(H=x(i.h),z=H.next();!z.done;z=H.next())for(K=z.value,X=x(i.g),Z=X.next();!Z.done;Z=X.next())Y=Z.value,ie=Xn(K.drmInfos,Y.drmInfos),K.drmInfos.length&&Y.drmInfos.length&&!ie.length||(se=(K.bandwidth||0)+(Y.bandwidth||0),K.dependencyStream&&(se+=K.dependencyStream.bandwidth||0),Y.dependencyStream&&(se+=Y.dependencyStream.bandwidth||0),Le=U++,_.push({id:Le,language:K.language,disabledUntilTime:0,primary:K.primary,audio:K,video:Y,bandwidth:se,drmInfos:ie,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(b=i.g.length?i.g:i.h,N=x(b),k=N.next();!k.done;k=N.next())P=k.value,j=U++,V=P.bandwidth||0,P.dependencyStream&&(V+=P.dependencyStream.bandwidth||0),_.push({id:j,language:P.language,disabledUntilTime:0,primary:P.primary,audio:P.type==r.V?P:null,video:P.type==r.la?P:null,bandwidth:V,drmInfos:P.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});i.l=_,le(we)})};function NT(e){var t,n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X;return L(function(Z){switch(Z.g){case 1:if(t=an,e.length==1)return Z.return(e[0]);for(n=e.map(function(Y){return new Map(Y.filter(function(ie){return ie.type===t.V}).map(function(ie){return[C0(ie),ie]}))}),i=e.map(function(Y){return new Map(Y.filter(function(ie){return ie.type===t.la}).map(function(ie){return[M0(ie),ie]}))}),r=e.map(function(Y){return new Map(Y.filter(function(ie){return ie.type===t.za}).map(function(ie){return[yg(ie),ie]}))}),o=e.map(function(Y){return new Map(Y.filter(function(ie){return ie.type===t.$e}).map(function(ie){return[Sg(ie),ie]}))}),a=x(r),l=a.next();!l.done;l=a.next())f=l.value,h=OT(t.za),f.set(yg(h),h);for(p=x(o),g=p.next();!g.done;g=p.next())y=g.value,T=OT(t.$e),y.set(Sg(T),T);return w=new _i,C(Z,Vl(w,[],n,0,xv,wv,0),2);case 2:return A=Z.h,C(Z,Vl(w,[],i,0,xv,wv,0),3);case 3:return E=Z.h,C(Z,Vl(w,[],r,0,xv,wv,0),4);case 4:return M=Z.h,C(Z,Vl(w,[],o,0,xv,wv,0),5);case 5:if(I=Z.h,U=0,E.length&&A.length)for(P=x(A),j=P.next();!j.done;j=P.next())for(V=j.value,H=x(E),z=H.next();!z.done;z=H.next())K=z.value,X=U++,K.variantIds.push(X),V.variantIds.push(X);else for(_=E.concat(A),b=x(_),N=b.next();!N.done;N=b.next())k=N.value,k.variantIds=[U++];return Z.return(E.concat(A).concat(M).concat(I))}})}function Vl(e,t,n,i,r,o,a){var l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j;return L(function(V){switch(V.g){case 1:for(l=[],f=0;f<n.length;f++)f>=i?l.push(new Set(n[f].values())):l.push(new Set);h=x(t),p=h.next();case 2:if(p.done){V.s(4);break}return g=p.value,C(V,jA(e,g,n,i,o,l,a),5);case 5:if(y=V.h,!y)throw new O(2,4,4037);p=h.next(),V.s(2);break;case 4:for(T=x(l),w=T.next();!w.done;w=T.next())for(A=w.value,E=x(A),M=E.next();!M.done;M=E.next())I=M.value,(U=bA(e,I,n,r,o,l))&&t.push(U);for(_=x(l),b=_.next();!b.done;b=_.next())for(N=b.value,k=x(N),P=k.next(),j={};!P.done;j={ng:void 0},P=k.next())if(j.ng=P.value,!A0(j.ng)&&t.some(function(H){return function(z){return E0(e,H.ng,z)}}(j)))throw new O(2,4,4037);return V.return(t)}})}function jA(e,t,n,i,r,o,a){return L(function(l){return l.g==1?(_T(e,n,t,0<a),t.matchedStreams?t.segmentIndex?C(l,LT(t,i+a),2):l.s(2):l.return(!1)):(UT(t,i,r,o,a),l.return(!0))})}function LT(e,t){var n,i,r,o,a,l;return L(function(f){if(f.g==1){for(n=[],i=e.matchedStreams,r=t;r<i.length;r++)o=i[r],n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex()),o.dependencyStream&&!o.dependencyStream.segmentIndex&&n.push(o.dependencyStream.createSegmentIndex());return C(f,Promise.all(n),2)}if(e.segmentIndex instanceof vt)for(a=t;a<i.length;a++)l=i[a],l.segmentIndex&&e.segmentIndex.h.push(l.segmentIndex);le(f)})}function bA(e,t,n,i,r,o){if(A0(t))return null;var a=i(t);return _T(e,n,a),a.createSegmentIndex&&(a.createSegmentIndex=function(){return L(function(l){return a.segmentIndex?l.s(0):(a.segmentIndex=new vt,C(l,LT(a,0),0))})}),!a.matchedStreams||!a.matchedStreams.length?null:(UT(a,0,r,o,0),a)}function UT(e,t,n,i,r){var o=e.matchedStreams;for(t+=r;t<o.length;t++){var a=o[t];n(e,a);var l=!0;if(e.type=="audio"&&Di(e.language,a.language)==0&&(l=!1),l&&(i[t-r].delete(a),a.fullMimeTypes))for(a=x(a.fullMimeTypes.values()),l=a.next();!l.done;l=a.next())e.fullMimeTypes.add(l.value)}}function th(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=x(t.matchedStreams),i=n.next();!i.done;i=n.next())i=i.value,i.segmentIndex&&(i.segmentIndex.release(),i.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function xv(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function zl(e,t){function n(a,l){a||(a=[]),l=x(l);for(var f=l.next();!f.done;f=l.next())f=f.value,a.includes(f)||a.push(f);return a}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var i=x(t.keyIds),r=i.next();!r.done;r=i.next())e.keyIds.add(r.value);if(e.originalId==null?e.originalId=t.originalId:(i=t.originalId||"")&&!e.originalId.endsWith(i)&&(e.originalId+=","+i),i=Xn(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new O(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=x(t.closedCaptions),r=i.next();!r.done;r=i.next()){var o=x(r.value);r=o.next().value,o=o.next().value,e.closedCaptions.set(r,o)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=th(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var a=new vt,l=x(e.trickModeVideo.matchedStreams),f=l.next();!f.done;f=l.next())a.h.push(f.value.segmentIndex);return e.trickModeVideo.segmentIndex=a,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),zl(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),zl(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=th(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var a=new vt,l=x(e.dependencyStream.matchedStreams),f=l.next();!f.done;f=l.next())a.h.push(f.value.segmentIndex);return e.dependencyStream.segmentIndex=a,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),zl(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),zl(e.dependencyStream,t))}function wv(e,t){var n=e.roles;n||(n=[]);for(var i=x(t.roles),r=i.next();!r.done;r=i.next())r=r.value,n.includes(r)||n.push(r);for(e.roles=n,n=x(t.keyIds),i=n.next();!i.done;i=n.next())e.keyIds.add(i.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,ce(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=x(t.closedCaptions),n=t.next();!n.done;n=t.next())i=x(n.value),n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}function _T(e,t,n,i){i=i!==void 0&&i?n.matchedStreams:[],t=x(t);for(var r=t.next();!r.done;r=t.next()){if(r=PA(e,r.value,n),!r)return;i.push(r)}n.matchedStreams=i}function PA(e,t,n){var i={audio:C0,video:M0,text:yg,image:Sg}[n.type],r=null,o=i(n);if(t.has(o))r=t.get(o);else{o={audio:function(h,p){return E0(e,h,p)},video:function(h,p){return E0(e,h,p)},text:BA,image:HA}[n.type];for(var a={audio:VA,video:zA,text:GA,image:XA}[n.type],l=x(t.values()),f=l.next();!f.done;f=l.next())f=f.value,!o(n,f)||n.fastSwitching!=f.fastSwitching||r&&!a(n,r,f)||(r=f)}return e.u&&!A0(r)&&t.delete(i(r)),r}function mg(e,t){return e.mimeType!=t.mimeType?!1:Ev(e.codecs)===Ev(t.codecs)}S.uh=function(e){this.o=e},S.Ah=function(e){this.u=e};function E0(e,t,n){return!(!mg(t,n)&&!e.o||t.drmInfos&&!As(t.drmInfos,n.drmInfos))}function BA(e,t){return t.language?!(e.forced!==t.forced||Di(e.language,t.language)==0||t.kind!=e.kind):!0}function HA(){return!0}function VA(e,t,n){var i=mg(e,t),r=mg(e,n);if(i&&!r)return!1;if(!i&&r||(i=Di(e.language,t.language),r=Di(e.language,n.language),r>i))return!0;if(r<i)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(i=vg(e.channelsCount,t.channelsCount,n.channelsCount),i==Lo?!0:i==Ia?!1:(i=vg(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==Lo?!0:i==Ia?!1:!!(e.bandwidth&&bT(e.bandwidth,t.bandwidth,n.bandwidth)==Lo)))}function zA(e,t,n){var i=mg(e,t),r=mg(e,n);if(i&&!r)return!1;if(!i&&r||(i=vg(e.width*e.height,t.width*t.height,n.width*n.height),i==Lo))return!0;if(i==Ia)return!1;if(e.frameRate){if(i=vg(e.frameRate,t.frameRate,n.frameRate),i==Lo)return!0;if(i==Ia)return!1}return!!(e.bandwidth&&bT(e.bandwidth,t.bandwidth,n.bandwidth)==Lo)}function GA(e,t,n){var i=Di(e.language,t.language),r=Di(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function XA(e,t,n){return vg(e.width*e.height,t.width*t.height,n.width*n.height)==Lo}function OT(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function jT(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new st([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function vg(e,t,n){if(t==e&&e!=n)return Ia;if(n==e&&e!=t)return Lo;if(t>e){if(n<=e||n-e<t-e)return Lo;if(n-e>t-e)return Ia}else{if(n>e)return Ia;if(e-n<e-t)return Lo;if(e-n>e-t)return Ia}return PT}function bT(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Lo:t<e?Ia:PT}function A0(e){switch(e.type){case Xe:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function M0(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,Ev(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function C0(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,Ev(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function yg(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Sg(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function Ev(e){if(!D0.has(e)){var t=Sn(e);D0.set(e,t)}return D0.get(e)}me("shaka.util.PeriodCombiner",_i),_i.prototype.setUseStreamOnce=_i.prototype.Ah,_i.prototype.setAllowMultiTypeVariants=_i.prototype.uh,_i.prototype.combinePeriods=_i.prototype.gf,_i.prototype.deleteStream=_i.prototype.Kg,_i.prototype.getImageStreams=_i.prototype.oi,_i.prototype.getTextStreams=_i.prototype.Jf,_i.prototype.getVariants=_i.prototype.Ki;var Lo=1,PT=0,Ia=-1,D0=new Map;function qA(e,t){var n=new DOMParser,i=FA.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch(r){return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function BT(e,t){try{var n=iu(e);return qA(n,t)}catch(i){return null}}var FA=new eo(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Av(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.pa=1,this.F=[],this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.u=new Map,this.o=new Map,this.B=new Map,this.ka=new Map,this.m=new _i,this.I=0,this.oa=new La(5),this.K=new Ke(function(){if(e.H&&!e.g.continueLoadingWhenPaused&&(e.G.Ja(e.H,"timeupdate"),e.H.paused)){e.G.ma(e.H,"timeupdate",function(){return FT(e)});return}FT(e)}),this.O=new qs,this.M=null,this.C=[],this.Z=1/0,this.fa=!1,this.h=null,this.L=0,this.P=!1,this.G=new $e,this.H=null,this.T=!1,this.Y="",this.ea=function(){return!1},this.W=[]}S=Av.prototype,S.configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.ea=t),n&&this.i&&this.i.presentationTimeline.U()&&this.K.sb(),this.h&&this.h.configure(this.g),this.m&&(this.m.uh(this.g.dash.multiTypeVariantsAllowed&&so()),this.m.Ah(this.g.dash.useStreamOnceInPeriodFlattening))},S.start=function(e,t){var n=this,i;return L(function(r){if(r.g==1)return n.fa=t.isLowLatencyMode(),n.A=[e],n.j=t,C(r,I0(n),2);if(i=r.h,n.j&&R0(n,i),!n.j)throw new O(2,7,7001);return r.return(n.i)})},S.stop=function(){for(var e=x(this.o.values()),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o.clear(),this.B.clear(),this.u.clear(),this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.m=null,this.K!=null&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},S.update=function(){var e=this,t;return L(function(n){if(n.g==1)return Se(n,2),C(n,I0(e),4);if(n.g!=2)return Pe(n,0);if(t=Te(n),!e.j||!t)return n.return();e.j.onError(t),le(n)})},S.onExpirationUpdated=function(){},S.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.cc();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,R0(this,0))}}},S.banLocation=function(e){this.h&&this.h.banLocation(e)},S.setMediaElement=function(e){this.H=e};function I0(e){var t,n,i,r,o,a,l,f,h,p,g;return L(function(y){return y.g==1?(t=4,n="MPD",i=aM(e),r=e.A,i.length?(r=i,n="Patch",t=6):1<e.A.length&&e.h&&(o=gg(e.h,"Location",!0),o.length&&(r=o)),a=mn(r,e.g.retryParameters),l=Date.now(),C(y,N0(e,a,0,{type:t}),2)):y.g!=3?(f=y.h,e.j?(f.uri&&f.uri!=f.originalUri&&!e.A.includes(f.uri)&&e.A.unshift(f.uri),h=new Jt(f.uri),e.Y=h.g.toString(),C(y,KA(e,f.data,f.uri,n),3)):y.return(0)):(p=Date.now(),g=(p-l)/1e3,e.oa.sample(1,g),y.return(g))})}function KA(e,t,n,i){var r,o,a,l,f,h,p,g,y,T;return L(function(w){if(w.g==1){if(r=t,o=e.g.dash.manifestPreprocessor,a=Ld,o!=a){if(ct("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),l=BT(r,i),!l)throw new O(2,4,4001,n);o(l),r=Ji(l.outerHTML)}if(f=uc(r,i),!f)throw new O(2,4,4001,n);return h=e.g.dash.manifestPreprocessorTXml,p=Ll,h!=p&&h(f),i==="Patch"?w.return(YA(e,f)):e.g.dash.disableXlinkProcessing?w.return(HT(e,f,n)):(g=e.g.dash.xlinkFailGracefully,y=Sv(f,e.g.retryParameters,g,n,e.j.networkingEngine),Pr(e.O,y),C(w,y.promise,2))}return T=w.h,w.return(HT(e,T,n))})}function HT(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be,it,be,He,_t,Gn,tn,un,Rn,Zn,pf,ka,Xl;return L(function(wu){switch(wu.g){case 1:for(e.h&&e.h.l.clear(),i=[n],r=[],o=new Map,a=dt(t,"Location"),l=x(a),f=l.next();!f.done;f=l.next())h=f.value,p=h.attributes.serviceLocation,(g=Hi(h))&&(y=Qt(i,[g])[0],p&&(e.h?eh(e.h,"Location",p,y):o.set(p,y)),r.push(y));if(e.h?(T=gg(e.h,"Location",!0),0<T.length&&(i=e.A=T)):r.length&&(i=e.A=r),e.l.me=t.attributes.id||"",e.l.Id=Oe(t,"publishTime",Vo)||0,e.F=dt(t,"PatchLocation"),w=Promise.resolve(),(A=ln(t,"ContentSteering"))&&e.j)for(E=A.attributes.defaultServiceLocation,e.h?(e.h.i=i,e.h.h=E):(e.h=new $d(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=i,e.h.h=E,(M=Hi(A))&&(Oe(A,"queryBeforeStart",sc,!1)?w=pg(e.h,M):pg(e.h,M))),I=x(o.keys()),U=I.next();!U.done;U=I.next())_=U.value,b=o.get(_),eh(e.h,"Location",_,b);if(N=dt(t,"BaseURL"),k=!1,e.h)for(P=x(N),j=P.next();!j.done;j=P.next())V=j.value,H=V.attributes.serviceLocation,z=Hi(V),H&&z&&(eh(e.h,"BaseURL",H,z),k=!0);if(e.W=null,k&&e.h||(K=N.map(Hi),e.W=Qt(i,K)),X=function(){return e.h&&k?gg(e.h,"BaseURL"):e.W?e.W:[]},e.l.Ua=X,Z=0,N&&N.length&&(Z=Oe(N[0],"availabilityTimeOffset",zo)||0),e.l.cb=Z,e.I=Oe(t,"minimumUpdatePeriod",uu,-1),Y=Oe(t,"availabilityStartTime",Vo),ie=Oe(t,"timeShiftBufferDepth",uu),se=e.g.dash.ignoreSuggestedPresentationDelay,Le=null,se||(Le=Oe(t,"suggestedPresentationDelay",uu)),we=e.g.dash.ignoreMaxSegmentDuration,yt=null,we||(yt=Oe(t,"maxSegmentDuration",uu)),et=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.T=e.i.presentationTimeline.U()&&et=="static"),e.l.type=et,e.i)for(Ge=e.i.presentationTimeline,Ze=Ge.pb(),pt=x(e.o.values()),Be=pt.next();!Be.done;Be=pt.next())it=Be.value,it.segmentIndex&&it.segmentIndex.Oa(Ze);else be=e.g.dash.ignoreMinBufferTime,He=0,be||(He=Oe(t,"minBufferTime",uu)||0),_t=0,_t=Le!=null?Math.min(Le,ie||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*He,ie||1/0),Ge=new xe(Y,_t,e.g.dash.autoCorrectDrift);return Ge.Gc(et=="static"),Ge.U()&&!isNaN(e.g.availabilityWindowOverride)&&(ie=e.g.availabilityWindowOverride),ie==null&&(ie=1/0),Ge.Ce(ie),Gn=t.attributes.profiles||"",e.l.profiles=Gn.split(","),tn={Ob:et!="static",presentationTimeline:Ge,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:Z,Wb:null,profiles:Gn.split(","),roles:null,vb:function(){return""}},C(wu,w,2);case 2:return e.L=0,un=XT(e,tn,X,t,!1),Rn=un.duration,Zn=un.periods,(et!="static"||e.T)&&un.Mg||Ge.bb(Rn||1/0),e.P&&e.fa&&Ge.vh(e.Z),Ge.Tf(yt||1),e.P&&e.fa&&(pf=Le!=null?Le:e.g.defaultPresentationDelay,Ge.jg(pf)),e.i?(e.i.periodCount=Zn.length,e.i.gapCount=e.L,C(wu,VT(e,Zn,!1),4)):C(wu,e.m.gf(Zn,tn.Ob),6);case 6:if(e.i={presentationTimeline:Ge,variants:e.m.l,textStreams:e.m.Jf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:WA(t),nextUrl:JA(t),periodCount:Zn.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!Ge.Kh()){wu.s(7);break}return ka=dt(t,"UTCTiming"),C(wu,oM(e,X,ka),8);case 8:if(Xl=wu.h,!e.j)return wu.return();Ge.wh(Xl);case 7:Ge.ie();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),$A(e),le(wu)}})}function VT(e,t,n){var i;return L(function(r){if(r.g==1)return C(r,e.m.gf(t,!0,n),2);e.i.variants=e.m.l,i=e.m.Jf(),0<i.length&&(e.i.textStreams=i),e.i.imageStreams=e.m.i,e.j.filter(e.i),le(r)})}function YA(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z;return L(function(K){if(K.g==1){if(n=t.attributes.mpdId,i=Oe(t,"originalPublishTime",Vo),!n||n!==e.l.me||i!==e.l.Id)throw e.F=[],new O(1,4,4052);for(r=[],o=[],a=new Set,l=x(kf(t)),f=l.next();!f.done;f=l.next())if(h=f.value,p=Xa(h.attributes.sel||""),g=p[p.length-1],y=Hi(h)||"",g.name==="MPD")if(g.ac==="mediaPresentationDuration"){T=Hi(h)||"";var X=uu(T);if(X!=null){e.l.Wb=X;for(var Z=x(e.u.values()),Y=Z.next();!Y.done;Y=Z.next())Y.value.Wb=X}}else if(g.ac==="type"){for(e.i.presentationTimeline.Gc(y=="static"),e.l.type=y,X=x(e.u.values()),Z=X.next();!Z.done;Z=X.next())Z.value.Ob=y=="dynamic";y=="static"&&(e.I=-1)}else g.ac==="publishTime"?e.l.Id=Vo(y)||0:g.ac===null&&h.tagName==="add"&&o.push(h);else if(g.name==="PatchLocation")Nf(e.F,h);else if(g.name==="Period")h.tagName==="add"?o.push(h):h.tagName==="remove"&&g.id&&ZA(e,g.id);else if(g.name==="SegmentTemplate"){if(Z=Xa(h.attributes.sel||""),X=Z[Z.length-1],X.ac){Z=zT(e,Z),Y=Hi(h)||"";for(var ie=x(Z),se=ie.next();!se.done;se=ie.next())se=e.u.get(se.value),Ih(se.J.ic,h.tagName,X.ac,Y);X=Z}else X=[];for(w=X,A=x(w),E=A.next();!E.done;E=A.next())M=E.value,a.add(M)}else if(g.name==="SegmentTimeline"||g.name==="S"){for(X=Xa(h.attributes.sel||""),X=zT(e,X),Z=x(X),Y=Z.next();!Y.done;Y=Z.next())Y=e.u.get(Y.value),Y=Wd(Y,Hl,"SegmentTimeline"),ie=dt(Y,"S"),Nf(ie,h),Y.children=ie;for(I=X,U=x(I),_=U.next();!_.done;_=U.next())b=_.value,a.add(b)}for(N=x(a),k=N.next();!k.done;k=N.next())P=k.value,GT(e,P);for(j=x(o),V=j.next();!V.done;V=j.next())H=V.value,r.push.apply(r,ce(QA(e,H)));return r.length?(e.i.periodCount+=r.length,e.i.gapCount=e.L,C(K,VT(e,r,!0),2)):K.s(2)}e.l.type=="static"&&(z=e.l.Wb,e.i.presentationTimeline.bb(z||1/0)),le(K)})}function QA(e,t){return XT(e,{Ob:e.l.type=="dynamic",presentationTimeline:e.i.presentationTimeline,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:e.l.cb,profiles:e.l.profiles,Wb:e.l.Wb,roles:null,vb:function(){return""}},e.l.Ua,t,!0).periods}function ZA(e,t){e.i.periodCount--;for(var n=x(e.u.keys()),i=n.next();!i.done;i=n.next())if(i=i.value,i.startsWith(t)){var r=e.u.get(i);Wd(r,Hl,"SegmentTimeline").children=[],GT(e,i),e.u.delete(i)}e.C=e.C.filter(function(o){return o!==t})}function zT(e,t){var n="",i="",r=-1,o="";t=x(t);for(var a=t.next();!a.done;a=t.next())a=a.value,a.name==="Period"?n=a.id:a.name==="AdaptationSet"?(i=a.id,a.position!==null&&(r=a.position)):a.name==="Representation"&&(o=a.id);if(t=[],o)t.push(n+","+o);else if(i)for(r=x(e.u.values()),e=r.next();!e.done;e=r.next())e=e.value,e.qa.id===n&&e.ga.id===i&&e.J.id&&t.push(n+","+e.J.id);else if(-1<r)for(i=x(e.u.values()),e=i.next();!e.done;e=i.next())e=e.value,e.qa.id===n&&e.ga.position===r&&e.J.id&&t.push(n+","+e.J.id);return t}function GT(e,t){var n=e.u.get(t),i=e.o.get(t);i.segmentIndex&&i.segmentIndex.Oa(e.i.presentationTimeline.pb());try{var r=DT(n,function(o,a,l,f){return YT(e,o,a,l,f)},e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);i.createSegmentIndex=function(){return L(function(o){if(o.g==1)return i.segmentIndex?o.s(0):C(o,r.rc(),3);i.segmentIndex=o.h,le(o)})}}catch(o){if(t=n.J.contentType,t!=Xe&&t!="application"&&t!="image"||o.code!=4002)throw o}}function WA(e){var t=ln(e,"ServiceDescription");if(!t||(e=ln(t,"Latency"),t=ln(t,"PlaybackRate"),!e&&!t))return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function JA(e){if(e=dt(e,"SupplementalProperty"),!e.length)return null;e=x(e);for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016")return t.attributes.value;return null}function XT(e,t,n,i,r){var o=t.Wb;o||(o=Oe(i,"mediaPresentationDuration",uu),e.l.Wb=o);var a=0;e.i&&e.i.presentationTimeline&&e.T&&(a=e.i.presentationTimeline.Hb());var l=[],f=a;i=dt(i,"Period");for(var h=0;h<i.length;h++){var p=i[h],g=i[h+1],y=Oe(p,"start",uu,f),T=p.attributes.id,w=Oe(p,"duration",uu);y=h==0&&y==0&&e.T?a:y;var A=null;if(g){var E=Oe(g,"start",uu);E!=null&&(A=E-y+a)}else o!=null&&(A=o-y+a);if(E=Mf,A&&w&&Math.abs(A-w)>E&&A>w&&e.L++,A==null&&(A=w),!(e.M!==null&&T!==null&&y!==null&&y<e.M)||e.C.includes(T)||h+1==i.length){if(y!==null&&(e.M===null||y>e.M)&&(e.M=y),f=eM(e,t,n,{start:y,duration:A,node:p,$g:A==null||!g}),l.push(f),t.qa.id&&A&&e.ka.set(t.qa.id,A),A==null){f=null;break}f=y+A}}if(r)for(t=x(l),n=t.next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=l.map(function(M){return M.id});return o!=null?{periods:l,duration:o+a,Mg:!1}:{periods:l,duration:f,Mg:!0}}function $A(e){var t=Array.from(e.B.keys()).filter(function(l){return!e.C.includes(l)});t=x(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var i=!0,r=x(e.B.get(n)),o=r.next();!o.done;o=r.next()){o=o.value;var a=e.o.get(o);a&&(a.segmentIndex&&a.segmentIndex.getNumReferences()!=0?i=!1:(e.m&&e.m.Kg(a,n),e.o.delete(o)))}i&&e.B.delete(n)}}function eM(e,t,n,i){t.qa=k0(e,i.node,null,n),t.ha=i,t.qa.cb=t.cb,t.qa.id||(t.qa.id="__shaka_period_"+i.start);var r=dt(i.node,"EventStream");n=t.presentationTimeline.pb(),r=x(r);for(var o=r.next();!o.done;o=r.next())sM(e,i.start,i.duration,o.value,n);for(n=dt(i.node,"SupplementalProperty"),n=x(n),r=n.next();!r.done;r=n.next())r=r.value,r.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(r=Tg(e,r))&&(t.vb=r);if(n=dt(i.node,"AdaptationSet").map(function(T,w){return qT(e,t,w,T)}).filter(ho),t.Ob){r=[],o=x(n);for(var a=o.next();!a.done;a=o.next()){a=x(a.value.rj);for(var l=a.next();!l.done;l=a.next())r.push(l.value)}if(r.length!=new Set(r).size)throw new O(2,4,4018)}for(r=new Map,o=x(n),a=o.next();!a.done;a=o.next())for(a=x(a.value.ei),l=a.next();!l.done;l=a.next()){var f=x(l.value);l=f.next().value,f=f.next().value,r.set(l,f)}if(r.size)for(o=null,a=x(n),l=a.next();!l.done;l=a.next()){l=l.value,f=[];for(var h=x(l.streams),p=h.next(),g={};!p.done;g={og:void 0},p=h.next())if(g.og=p.value,r.has(g.og.originalId)){o||(o=dt(i.node,"AdaptationSet").map(function(T,w){return qT(e,t,w,T)}).filter(ho)),p=x(o);for(var y=p.next();!y.done;y=p.next())(y=y.value.streams.find(function(T){return function(w){return w.originalId==T.og.originalId}}(g)))&&(y.dependencyStream=r.get(y.originalId),f.push(y))}f.length&&l.streams.push.apply(l.streams,ce(f))}if(i=n.filter(function(T){return!T.vg}),n=n.filter(function(T){return T.vg}),!e.g.disableIFrames){for(n=x(n),r=n.next();!r.done;r=n.next())for(r=r.value,o=r.vg.split(" "),a=x(i),l=a.next();!l.done;l=a.next())if(l=l.value,o.includes(l.id))for(l=x(l.streams),f=l.next();!f.done;f=l.next())Jg(f.value,r.streams)}if(n=Mv(e.g.disableAudio,i,"audio"),r=Mv(e.g.disableVideo,i,"video"),o=Mv(e.g.disableText,i,Xe),i=Mv(e.g.disableThumbnails,i,"image"),r.length===0&&n.length===0)throw new O(2,4,4004);return{id:t.qa.id,audioStreams:n,videoStreams:r,textStreams:o,imageStreams:i}}function Mv(e,t,n){return e||!t.length?[]:t.reduce(function(i,r){return r.contentType!=n||i.push.apply(i,ce(r.streams)),i},[])}function qT(e,t,n,i){function r(z){var K=z.attributes["dvb:fontFamily"];z=z.attributes["dvb:url"],K&&z&&(z=Qt(t.ga.Ua(),[z],t.vb()),e.j.addFont(K,z[0]))}function o(z){switch(z){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function a(z){switch(z){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.ga=k0(e,i,t.qa,null),t.ga.position=n;var l=!1;n=dt(i,"Role");var f=n.map(function(z){return z.attributes.value}).filter(ho),h=void 0,p=t.ga.contentType==Xe;p&&(h="subtitle"),n=x(n);for(var g=n.next();!g.done;g=n.next()){g=g.value;var y=g.attributes.schemeIdUri;if(y==null||y=="urn:mpeg:dash:role:2011")switch(g=g.attributes.value,g){case"main":l=!0;break;case"caption":case"subtitle":h=g}}var T=dt(i,"EssentialProperty");n=null;var w=!1;g=null,y=!1,T=x(T);for(var A=T.next();!A.done;A=T.next()){A=A.value;var E=A.attributes.schemeIdUri;if(E=="http://dashif.org/guidelines/trickmode")n=A.attributes.value;else if(E=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var M=a(parseInt(A.attributes.value,10));else if(E=="urn:mpeg:mpegB:cicp:ColourPrimaries")var I=o(parseInt(A.attributes.value,10));else E!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(E=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?w=!0:E=="urn:dvb:dash:fontdownload:2014"?r(A):E=="urn:mpeg:dash:urlparam:2014"&&(g=Tg(e,A))||(y=!0))}if(y)return null;var U=null;for(y=dt(i,"SupplementalProperty"),y=x(y),T=y.next();!T.done;T=y.next())T=T.value,A=T.attributes.schemeIdUri,A=="http://dashif.org/guidelines/last-segment-number"?U=parseInt(T.attributes.value,10)-1:A=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?M=a(parseInt(T.attributes.value,10)):A=="urn:mpeg:mpegB:cicp:ColourPrimaries"?I=o(parseInt(T.attributes.value,10)):A=="urn:dvb:dash:fontdownload:2014"?r(T):A=="urn:mpeg:dash:urlparam:2014"&&(g=Tg(e,T));g&&(t.vb=g),g=dt(i,"Accessibility");var _=new Map,b;for(g=x(g),y=g.next();!y.done;y=g.next())if(T=y.value,y=T.attributes.schemeIdUri,T=T.attributes.value,y!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(y!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)y=="urn:mpeg:dash:role:2011"?T!=null&&(f.push(T),T=="captions"&&(h="caption")):y=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(T=="1"?b="visually impaired":T=="2"&&(b="hard of hearing"));else if(y=1,T!=null)for(T=x(T.split(";")),A=T.next();!A.done;A=T.next()){E=A.value;var N=A=void 0;E.includes("=")?(E=E.split("="),A="svc"+E[0],N=E[1].split(",")[0].split(":").pop()):(A="svc"+y,y++,N=E),_.set(A,ht(N))}else _.set("svc1","und");else if(y=1,T!=null)for(T=T.split(";"),A=x(T),E=A.next();!E.done;E=A.next()){N=E.value;var k=E=void 0;N.includes("=")?(N=N.split("="),E=N[0].startsWith("CC")?N[0]:"CC"+N[0],k=N[1]||"und"):(E="CC"+y,T.length==2?y+=2:y++,k=N),_.set(E,ht(k))}else _.set("CC1","und");g=dt(i,"ContentProtection");var P=vT(g,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI);t.ga.encrypted=0<g.length;var j=ht(t.ga.language||"und"),V=t.ga.label,H=new Map;if(i=dt(i,"Representation"),!e.g.ignoreSupplementalCodecs){for(g=[],y=x(i),T=y.next();!T.done;T=y.next())A=T.value,(T=nr(A,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&(A=ru(A),A.attributes.codecs=T.split(" ").join(","),A.attributes.id&&(A.attributes.supplementalId=A.attributes.id+"_supplementalCodecs"),g.push(A));i.push.apply(i,ce(g))}if(g=i.map(function(z){var K=tM(e,t,P,h,j,V,l,f,_,z,b,U);return K&&(K.hdr=K.hdr||M,K.colorGamut=K.colorGamut||I,K.fastSwitching=w,z=z.attributes.dependencyId)?(K.baseOriginalId=z,H.set(z,K),null):K}).filter(function(z){return!!z}),g.length==0&&H.size==0){if(n=t.ga.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||p||n)return null;throw new O(2,4,4003)}if(!t.ga.contentType||t.ga.contentType=="application")for(t.ga.contentType=QT(g[0].mimeType,g[0].codecs),p=x(g),y=p.next();!y.done;y=p.next())y.value.type=t.ga.contentType;for(p=t.ga.id||"__fake__"+e.pa++,y=x(g),T=y.next();!T.done;T=y.next()){for(T=T.value,A=x(P.drmInfos),E=A.next();!E.done;E=A.next())E=E.value,E.keyIds=E.keyIds&&T.keyIds?new Set([].concat(ce(E.keyIds),ce(T.keyIds))):E.keyIds||T.keyIds;T.groupId=p}return i=i.map(function(z){return z.attributes.supplementalId||z.attributes.id}).filter(ho),{id:p,contentType:t.ga.contentType,language:j,Qk:l,streams:g,drmInfos:P.drmInfos,vg:n,rj:i,ei:H}}function Tg(e,t){if((t=yr(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Oe(t,"useMPDUrlQuery",sc,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.Y:n.split("&").map(function(i){if(i=="$querypart$")return e.Y;var r=/\$query:(.*?)\$/g.exec(i);if(r&&r.length==2){r=r[1];var o=new Un(e.Y).get(r);if(o.length)return r+"="+o[0]}return i}).join("&")}}return null}function tM(e,t,n,i,r,o,a,l,f,h,p,g){t.J=k0(e,h,t.ga,null);var y=t.J.id;if(e.Z=Math.min(e.Z,t.J.cb),e.P=0<e.Z,!uM(t.J))return null;var T=t.ha.start;t.bandwidth=Oe(h,"bandwidth",Sr)||0,t.roles=l;var w=dt(h,"SupplementalProperty"),A=dt(h,"EssentialProperty"),E=dt(h,"ContentProtection");h=null;var M=A.find(function(Z){return Z.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(M||(M=w.find(function(Z){return Z.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(h=Tg(e,M)),h&&(t.vb=h),M=t.J.contentType,h=M==Xe||M=="application",M=M=="image",E.length&&(t.ga.encrypted=!0);try{var I=void 0;if(n.cf){var U=t.J.Ua,_=t.vb,b=Qt(U(),[n.cf.Xi],_()),N=mn(b,e.g.retryParameters);I={bitsKey:128,blockCipherMode:"CBC",iv:n.cf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var Z,Y,ie;return L(function(se){if(se.g==1)return C(se,N0(e,N,6),2);if(se.g!=3){if(Z=se.h,!Z.data||Z.data.byteLength!=16)throw new O(2,4,4049);return Y={name:"AES-CBC"},ie=I,C(se,F.crypto.subtle.importKey("raw",Z.data,Y,!0,["decrypt"]),3)}ie.cryptoKey=se.h,I.fetchKey=void 0,le(se)})}}}if(t.J.aesKey=I,U=function(Z,Y,ie,se){return YT(e,Z,Y,ie,se)},t.J.dd)var k=EA(t,U,I);else if(t.J.Zb)k=MA(t,e.o,I);else if(t.J.ic)k=DT(t,U,e.o,!!e.i,e.g.dash.initialSegmentLimit,e.ka,I,g,!1);else{var P=t.ha.duration||0,j=t.J.Ua,V=t.J.mimeType,H=t.J.codecs;k={rc:function(){var Z=Ni(T,P,j());return Z.Eb(function(Y){Y.mimeType=V,Y.codecs=H}),Promise.resolve(Z)}}}}catch(Z){if((h||M)&&Z.code==4002)return null;throw Z}g=cA(E,n,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]),E=!1,w.some(function(Z){return Z.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&Z.attributes.value=="JOC"})&&(E=!0),w=!1,h&&(w=l.includes("forced_subtitle")||l.includes("forced-subtitle"));var z;if(M&&((A=A.find(function(Z){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(Z.attributes.schemeIdUri)}))&&(z=A.attributes.value),!z))return null;var K;h=t.J.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(h.includes("hvc1.2.4.L153.B0")||h.includes("hev1.2.4.L153.B0"))&&(K="PQ"),A=t.J.id?t.qa.id+","+t.J.id:"",e.F.length&&y&&e.u.set(t.qa.id+","+y,nM(t));var X=A&&e.o.has(A)?e.o.get(A):{id:e.pa++,originalId:t.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){X.segmentIndex&&(X.segmentIndex.release(),X.segmentIndex=null)},segmentIndex:null,mimeType:t.J.mimeType,codecs:h,frameRate:t.J.frameRate,pixelAspectRatio:t.J.pixelAspectRatio,bandwidth:t.bandwidth,width:t.J.width,height:t.J.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:g,language:r,originalLanguage:t.ga.language,label:o,type:t.ga.contentType,primary:a,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:t.J.emsgSchemeIdUris,roles:l,forced:w,channelsCount:t.J.oe,audioSamplingRate:t.J.audioSamplingRate,spatialAudio:E,closedCaptions:f,hdr:K,colorGamut:void 0,videoLayout:void 0,tilesLayout:z,accessibilityPurpose:p,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Zt(t.J.mimeType,t.J.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return X.createSegmentIndex=function(){var Z;return L(function(Y){if(Y.g==1)return X.segmentIndex?Y.s(0):(Z=X,C(Y,k.rc(),3));Z.segmentIndex=Y.h,le(Y)})},A&&t.Ob&&!e.o.has(A)&&(t=t.qa.id||"",e.B.has(t)||e.B.set(t,[]),e.o.set(A,X),e.B.get(t).push(A)),X}function nM(e){function t(n){return n?(n=Us(n),n.dd=null,n.Zb=null,n.ic=kh(n.ic),n):null}return e=Us(e),e.qa=t(e.qa),e.ga=t(e.ga),e.J=t(e.J),e.ha&&(e.ha=Us(e.ha),e.ha.node=null),e}function FT(e){var t,n;return L(function(i){switch(i.g){case 1:return t=0,Se(i,2),C(i,I0(e),4);case 4:t=i.h,Pe(i,3);break;case 2:if(n=Te(i),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),i.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return i.return();e.j.onManifestUpdated(),R0(e,t),le(i)}})}function R0(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.updatePeriod&&(n=e.g.updatePeriod),e.K.da(Math.max(n-t,yf(e.oa)))}}function k0(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,oe:null,audioSamplingRate:null,cb:0,Ae:0,encrypted:!1},i=i||n.Ua;var r=t.attributes.id,o=t.attributes.supplementalId,a=dt(t,"BaseURL"),l,f=!1;if(e.h)for(var h=x(a),p=h.next();!p.done;p=h.next()){var g=p.value;p=g.attributes.serviceLocation,g=Hi(g),p&&g&&(eh(e.h,r,p,g),f=!0)}f&&e.h||(l=a.map(Hi)),h=t.attributes.contentType||n.contentType,p=t.attributes.mimeType||n.mimeType,g=Ed([t.attributes.codecs||n.codecs]).join(",");var y=Oe(t,"frameRate",Xg)||n.frameRate,T=t.attributes.sar||n.pixelAspectRatio,w=iM(dt(t,"InbandEventStream"),n.emsgSchemeIdUris),A=dt(t,"AudioChannelConfiguration");A=rM(A)||n.oe;var E=Oe(t,"audioSamplingRate",oi)||n.audioSamplingRate;h||(h=QT(p,g));var M=ln(t,"SegmentBase"),I=ln(t,"SegmentTemplate"),U=M&&Oe(M,"availabilityTimeOffset",zo)||0,_=I&&Oe(I,"availabilityTimeOffset",zo)||0,b=a&&a.length&&Oe(a[0],"availabilityTimeOffset",zo)||0;U=n.cb+b+U+_,_=null,(b=ln(t,"SegmentSequenceProperties"))&&(b=ln(b,"SAP"))&&(_=Oe(b,"cadence",jn)),b=t.attributes.label;var N=dt(t,"Label");return N&&N.length&&(N=N[0],gn(N)&&(b=gn(N))),{Ua:function(){return Qt(i(),a.length?e.h&&f?gg(e.h,r):l||[]:[])},dd:M||n.dd,Zb:ln(t,"SegmentList")||n.Zb,ic:I||n.ic,width:Oe(t,"width",oi)||n.width,height:Oe(t,"height",oi)||n.height,contentType:h,mimeType:p,codecs:g,frameRate:y,pixelAspectRatio:T,emsgSchemeIdUris:w,id:o||r,originalId:r,language:t.attributes.lang,oe:A,audioSamplingRate:E,cb:U,de:null,Ae:_||n.Ae,label:b||null,encrypted:!1}}function iM(e,t){t=t.slice(),e=x(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function rM(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var i=0,r=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(r=i=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}function uM(e){var t=e.dd?1:0;return t+=e.Zb?1:0,t+=e.ic?1:0,t==0?e.contentType==Xe||e.contentType=="application":(t!=1&&(e.dd&&(e.Zb=null),e.ic=null),!0)}function KT(e,t,n,i){var r,o,a,l,f,h,p;return L(function(g){if(g.g==1)return r=[Jn(n)],o=Qt(t(),r),a=mn(o,e.g.retryParameters),a.method=i,l=e.j.networkingEngine.request(4,a,{isPreload:e.ea()}),Pr(e.O,l),C(g,l.promise,2);if(f=g.h,i=="HEAD"){if(!f.headers||!f.headers.date)return g.return(0);h=f.headers.date}else h=Xt(f.data);return p=Date.parse(h),isNaN(p)?g.return(0):g.return(p-Date.now())})}function oM(e,t,n){var i,r,o,a,l,f,h,p;return L(function(g){switch(g.g){case 1:i=n.map(function(y){return{scheme:y.attributes.schemeIdUri,value:y.attributes.value}}),r=e.g.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),o=x(i),a=o.next();case 2:if(a.done){g.s(4);break}switch(l=a.value,Se(g,5),f=l.scheme,h=l.value,f){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return g.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return g.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return p=Date.parse(h),g.return(isNaN(p)?0:p-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":ot("NTP UTCTiming scheme is not supported");break;default:ot("Unrecognized scheme in UTCTiming element",f)}g.s(9);break;case 7:return C(g,KT(e,t,h,"HEAD"),10);case 10:return g.return(g.h);case 8:return C(g,KT(e,t,h,"GET"),11);case 11:return g.return(g.h);case 9:Pe(g,3);break;case 5:Te(g);case 3:a=o.next(),g.s(2);break;case 4:return ot("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),g.return(0)}})}function sM(e,t,n,i,r){var o=i.attributes.schemeIdUri||"",a=i.attributes.value||"",l=Oe(i,"timescale",oi)||1,f=Oe(i,"presentationTimeOffset",oi)||0;i=x(dt(i,"Event"));for(var h=i.next();!h.done;h=i.next()){h=h.value;var p=Oe(h,"presentationTime",oi)||0,g=Oe(h,"duration",oi)||0;p=Math.max((p-f)/l+t,t),g=p+g/l,n!=null&&(p=Math.min(p,t+n),g=Math.min(g,t+n)),g<r||(h={schemeIdUri:o,value:a,startTime:p,endTime:g,id:h.attributes.id||"",timescale:l,eventElement:Rh(h),eventNode:kh(h)},e.j.onTimelineRegionAdded(h))}}function YT(e,t,n,i,r){var o,a,l,f;return L(function(h){return h.g==1?(o=li,a=r?0:1,l=Al(t,n,i,e.g.retryParameters),C(h,N0(e,l,o,{type:a}),2)):(f=h.h,h.return(f.data))})}function QT(e,t){return t=Zt(e,t),cu(t)?Xe:e.split("/")[0]}function N0(e,t,n,i){return i||(i={}),i.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,i),Pr(e.O,t),t.promise}function aM(e){var t=e.l.Id;if(!e.l.me||!t||!e.F.length)return[];var n=Date.now()/1e3,i=e.F.filter(function(r){return r=oi(r.attributes.ttl),!r||t+r>n}).map(Hi).filter(ho);return i.length?Qt(e.A,i):[]}me("shaka.dash.DashParser",Av),ns("application/dash+xml",function(){return new Av}),ns("video/vnd.mpeg.dash.mpd",function(){return new Av});function Cv(){}me("shaka.dependencies",Cv),Cv.has=function(e){return L0.has(e)},Cv.add=function(e,t){if(!WT[e])throw Error(e+" is not supported");e==ZT?ct("mux.js","mux.js is no longer used in Shaka Player."):L0.set(e,function(){return t})};var ZT="muxjs",WT={Rk:ZT,ISOBoxer:"ISOBoxer"};Cv.Allowed=WT;var L0=new Map([["ISOBoxer",function(){return F.ISOBoxer}]]);function JT(e,t,n){this.type=e,this.ca=t,this.segments=n||null}function Dv(e,t,n,i){this.id=e,this.name=t,this.attributes=n,this.value=i===void 0?null:i}Dv.prototype.toString=function(e){function t(r){return r.name+"="+(isNaN(Number(r.value))?'"'+r.value+'"':r.value)}var n="#"+this.name,i=this.attributes?this.attributes.filter(function(r){return e?!e.has(r.name):!0}).map(t):[];return this.value&&i.unshift(this.value),0<i.length&&(n+=":"+i.join(",")),n};function $T(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function nh(e,t){return e=e.attributes.filter(function(n){return n.name==t}),e.length?e[0]:null}function Ee(e,t,n){return(e=nh(e,t))?e.value:n||null}function It(e,t){if(e=nh(e,t),!e)throw new O(2,4,4023,t);return e.value}function ex(e,t,n){n=n===void 0?[]:n,this.ca=t,this.g=e,this.Jb=n}function Iv(e,t){this.name=e,this.value=t}function mu(e,t){return e.filter(function(n){return n.name==t})}function tx(e,t){return e.filter(function(n){return It(n,"TYPE")==t})}function ti(e,t){e=x(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function ih(e,t,n){return n=n===void 0?0:n,(e=ti(e,t))?Number(e.value):n}function Gl(e,t,n){return t?nx(e,[t],n):[]}function nx(e,t,n){if(!t.length)return[];var i=t;return n&&n.size&&(i=t.map(function(r){return ix(r,n)})),Qt(e,i)}function ix(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=x(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=i.slice(2,i.length-1),o=t.get(r);if(o)e=e.replace(i,o);else throw new O(2,4,4039,r)}}return e}function lM(){this.g=0}function U0(e,t){t=Xt(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new O(2,4,4015);t=0;for(var i=!0,r=x(n),o=r.next();!o.done;o=r.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else if(o=_0(e,o),--e.g,rx.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(i=!0);for(r=[],i=!0,o=0;o<n.length;o++){var a=n[o],l=n[o+1];if(/^#(?!EXT)/m.test(a)||i)i=!1;else{if(a=_0(e,a),cM.includes(a.name)){if(t!=1)throw new O(2,4,4017);a=n.splice(o,n.length-o),n=[],i=[],o=[],l=null,a=x(a);for(var f=a.next();!f.done;f=a.next())f=f.value,/^(#EXT)/.test(f)?(f=_0(e,f),rx.includes(f.name)?r.push(f):f.name=="EXT-X-MAP"?l=f:f.name=="EXT-X-PART"?o.push(f):f.name=="EXT-X-PRELOAD-HINT"?Ee(f,"TYPE")=="PART"?o.push(f):Ee(f,"TYPE")=="MAP"&&(f.name="EXT-X-MAP",l=f):i.push(f)):/^#(?!EXT)/m.test(f)||(f=f.trim(),l&&i.push(l),n.push(new ex(f,i,o)),i=[],o=[]);return o.length&&(l&&i.push(l),n.push(new ex("",i,o))),new JT(t,r,n)}r.push(a),a.name=="EXT-X-STREAM-INF"&&(a.attributes.push(new Iv("URI",l)),i=!0)}}return new JT(t,r)}function _0(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new O(2,4,4016,t);t=n[1];var i=n[2];n=[];var r;if(i){i=new Ga(i);var o;(o=ks(i,/^([^,=]+)(?:,|$)/g))&&(r=o[1]);for(var a=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=ks(i,a);)n.push(new Iv(o[1],o[2]||o[3])),Ho(i)}return new Dv(e,t,n,r)}var rx="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),cM="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function ux(){}function ox(e,t){try{var n=Rv(e);return Er({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(i){return vo(i)}}function Rv(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new O(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new O(2,1,1004,e);var n=t[0];e=F.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var i=!1;1<t.length&&t[t.length-1]=="base64"&&(i=!0,t.pop());var r;return i?r=er(e):r=Ji(e),{data:r,contentType:n}}me("shaka.net.DataUriPlugin",ux),ux.parse=ox,Lu("data",ox);function kv(){var e=this;this.g=this.h=null,this.F=1,this.A=new Map,this.I=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(Xe,new Map),this.M.set("image",new Map),this.Sb=new Map().set("com.apple.streamingkeydelivery",function(t,n,i){return _M(e,t,n,i)}).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",function(t){var n=It(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs"),n=It(t,"URI"),n=Rv(n.split("?")[0]),n=Ue(n.data),i=Du("com.widevine.alpha",i,[{initDataType:"cenc",initData:n}]),(t=Ee(t,"KEYID"))&&i.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(i)}else t=Promise.resolve(null);return t}).set("com.microsoft.playready",function(t){var n=It(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs"),t=It(t,"URI"),t=Rv(t.split("?")[0]),t=Ue(t.data),n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),n=Mc(t,n,new Set,0),i=Du("com.microsoft.playready",i,[{initDataType:"cenc",initData:n}]),(t=_s(["<PLAYREADY>",$i(t),"</PLAYREADY>"].join("\n")))&&(i.licenseServerUri=vv(t)),i=Promise.resolve(i)}else i=Promise.resolve(null);return i}).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",function(t){var n=It(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";n=="SAMPLE-AES"&&(i="cbcs"),n=It(t,"URI"),n=Rv(n.split("?")[0]),n=Ue(n.data),i=Du("com.huawei.wiseplay",i,[{initDataType:"cenc",initData:n}]),(t=Ee(t,"KEYID"))&&i.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(i)}else t=Promise.resolve(null);return t}),this.Na=new Set,this.i=new Map,this.l=null,this.C="",this.Ga=new lM,this.K=-1,this.ea=1/0,this.Z=this.Ub=this.Ma=!1,this.B=new Ke(function(){if(e.W&&!e.g.continueLoadingWhenPaused&&(e.T.Ja(e.W,"timeupdate"),e.W.paused)){e.T.ma(e.W,"timeupdate",function(){return Dx(e)});return}Dx(e)}),this.Ea=Ov,this.m=null,this.La=0,this.o=1/0,this.Fa=this.Aa=this.P=0,this.Y=new qs,this.G=new Map,this.H=new Map,this.sa=new Map,this.ka=new Map,this.L=new Map,this.oa=new Map,this.pa=new Map,this.Tb=this.fa=!1,this.Pb=new La(5),this.j=null,this.O=!0,this.ya=new Set,this.T=new $e,this.u=this.W=null,this.Qb=function(){return!1}}S=kv.prototype,S.configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.Qb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.sb()},S.start=function(e,t){var n=this,i;return L(function(r){return r.g==1?(n.h=t,n.fa=t.isLowLatencyMode(),C(r,z0(n,[e]).promise,2)):r.g!=3?(i=r.h,n.C=i.uri,C(r,hM(n,i.data),3)):r.return(n.m)})},S.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.Y&&(e.push(this.Y.destroy()),this.Y=null),this.g=this.h=null,this.Na.clear(),this.m=null,this.i.clear(),this.I.clear(),this.H.clear(),this.A.clear(),this.sa.clear(),this.ka.clear(),this.L.clear(),this.oa.clear(),this.pa.clear(),this.ya.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},S.update=function(){var e=this,t,n,i,r,o,a,l,f,h,p,g,y;return L(function(T){if(T.g==1){if(!qi(e))return T.return();for(t=[],n=Array.from(e.i.values()),e.o=1/0,e.m.gapCount=0,i=n.filter(function(w){return w.stream.segmentIndex}),r=x(i),o=r.next();!o.done;o=r.next())a=o.value,t.push(fM(e,a));return C(T,Promise.all(t),2)}for(px(e,i.map(function(w){return w.stream})),l=i.some(function(w){return w.rd==0}),i.length&&!l&&(f=BM,Uv(e,f.Ph),h=i.map(function(w){return w.Vb}),e.l.bb(Math.min.apply(Math,ce(h))),e.h.updateDuration()),l&&j0(e),p=x(i),g=p.next();!g.done;g=p.next())y=g.value,y.stream.isAudioMuxedInVideo||!y.stream.segmentIndex||Mr(y.stream.segmentIndex)||e.h.disableStream(y.stream);le(T)})};function O0(e,t){return qi(e)?e.M.get(t.type):t.je}function fM(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt;return L(function(et){switch(et.g){case 1:if(t.stream.isAudioMuxedInVideo)return et.return();for(n=[],i=x(t.N()),r=i.next();!r.done;r=i.next())o=r.value,a=new Jt(o),l=a.g,t.Td&&(0<=t.Ab&&l.add("_HLS_msn",String(t.Ab)),0<=t.Bb&&l.add("_HLS_part",String(t.Bb))),t.Ud&&l.add("_HLS_skip","YES"),Es(l)&&$r(a,Ua(l.toString())),n.push(a.toString());return Se(et,2),C(et,z0(e,n,!0).promise,4);case 4:f=et.h,Pe(et,3);break;case 2:throw h=Te(et),e.h&&e.h.disableStream(t.stream),h;case 3:if(!t.stream.segmentIndex)return et.return();if(p=U0(e.Ga,f.data),p.type!=1)throw new O(2,4,4017);return g=f.uri,g==f.originalUri||t.N().includes(g)||t.ve.push(g),y=mu(p.ca,"EXT-X-DEFINE"),T=b0(e,y,g),w=t.stream,A=O0(e,t),C(et,yx(e,p,w.mimeType,t.N,T),5);case 5:for(E=et.h,M=E.keyIds,I=E.drmInfos,U=E.encrypted,_=E.Bg,w.encrypted||!U||_||(w.encrypted=!0),b=function(Ge,Ze){return Ge.size===Ze.size&&[].concat(ce(Ge)).every(function(pt){return Ze.has(pt)})},b(w.keyIds,M)||(w.keyIds=M,w.drmInfos=I,e.h.newDrmInfo(w)),N=Ax(e,p,A,T,t.N,t.type),k=N.segments,(P=N.bandwidth)&&(w.bandwidth=P),j=Gc(w),V=x(k),H=V.next();!H.done;H=V.next())z=H.value,z.$&&(z.$.Wc=j);w.segmentIndex.Bd(k,e.l.pb()),k.length&&(K=ih(p.ca,"EXT-X-MEDIA-SEQUENCE",0),Z=(X=ti(p.ca,"EXT-X-SKIP"))?Number(Ee(X,"SKIPPED-SEGMENTS")):0,Y=mx(K,k),ie=Y.Ab,se=Y.Bb,t.Ab=ie+Z,t.Bb=se,Le=A.get(K),w.segmentIndex.Oa(Le)),(we=Mr(w.segmentIndex))&&(t.Bc=we.startTime,yt=k[k.length-1],t.Vb=yt.endTime),ti(p.ca,"EXT-X-ENDLIST")&&(t.rd=!0),B0(e,p),H0(e,p.ca,w.type,T,t.N),le(et)}})}S.onExpirationUpdated=function(){},S.onInitialVariantChosen=function(){},S.banLocation=function(e){this.j&&this.j.banLocation(e)},S.setMediaElement=function(e){this.W=e};function sx(e,t,n){n=n===void 0?!1:n;for(var i=e.K==-1,r=x(t),o=r.next();!o.done;o=r.next()){o=o.value;var a=o.stream.segmentIndex,l=O0(e,o);if(a=Mr(a)){l=x(l);for(var f=l.next();!f.done;f=l.next()){f=x(f.value);var h=f.next().value;if(f.next().value==a.startTime){i&&(e.K=Math.max(e.K,h)),o.qf=h;break}}}}if(!(0>e.K))for(t=x(t),i=t.next();!i.done;i=t.next())i=i.value,(xg(e,i.type)||n)&&(r=i.stream.segmentIndex)&&(o=e.K-i.qf,0<o&&(r.g.splice(0,o),r=Mr(r))&&(r=-r.startTime,i.stream.segmentIndex.offset(r),ax(e,i,r)))}function dM(e,t){if(e.ea==1/0){t=x(t);for(var n=t.next();!n.done;n=t.next())n=Mr(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.ea=Math.min(e.ea,n.h))}if(t=e.ea,t!=1/0){n=x(e.i.values());for(var i=n.next();!i.done;i=n.next())if(i=i.value,!xg(e,i.type)){var r=i.stream.segmentIndex;if(r!=null){var o=Mr(r);if(o)if(o.h==null)Jr("Missing EXT-X-PROGRAM-DATE-TIME for stream",i.N(),"Expect AV sync issues!");else for(ax(e,i,o.h-t-o.startTime),i=x(r),r=i.next();!r.done;r=i.next())r.value.qg(t)}}}}function ax(e,t,n){if(!(.001>Math.abs(n))){t.Bc+=n,t.Vb+=n,e=O0(e,t);for(var i=x(e),r=i.next();!r.done;r=i.next()){var o=x(r.value);r=o.next().value,o=o.next().value,e.set(r,o+n)}t.N()}}function hM(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be,it;return L(function(be){switch(be.g){case 1:return n=an,i=U0(e.Ga,t),r=mu(i.ca,"EXT-X-DEFINE"),o=[],a=[],l=[],e.l=new xe(null,0),e.l.Gc(!0),f=function(){return[e.C]},h=null,p=new Map,i.type==1?(e.O=!1,ie=mu(i.ca,"EXT-X-DEFINE"),p=b0(e,ie,e.C),h=n.la,se="",Le=new Map,C(be,gx(e,e.F++,p,i,f,"",h,se,!0,"Media Playlist",null,Le,null,!1,null,!1),7)):(gM(e,r),g=mu(i.ca,"EXT-X-MEDIA"),y=mu(i.ca,"EXT-X-STREAM-INF"),T=mu(i.ca,"EXT-X-IMAGE-STREAM-INF"),w=mu(i.ca,"EXT-X-I-FRAME-STREAM-INF"),A=mu(i.ca,"EXT-X-SESSION-KEY"),E=mu(i.ca,"EXT-X-SESSION-DATA"),M=mu(i.ca,"EXT-X-CONTENT-STEERING"),vM(e,E),C(be,yM(e,M),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(I=[],U=x(y),_=U.next(),b={};!_.done;b={Gh:void 0},_=U.next())N=_.value,(k=Ee(N,"SUPPLEMENTAL-CODECS"))&&(b.Gh=k.split(/\s*,\s*/).map(function(He){return He.split("/")[0]}),P=N.attributes.map(function(He){return function(_t){var Gn=_t.name,tn=_t.value;return Gn=="CODECS"&&(tn=He.Gh.join(","),_t=_t.value.split(","),1<_t.length&&(_t=ri("audio",_t))&&(tn+=","+_t)),new Iv(Gn,tn)}}(b)),I.push(new Dv(N.id,N.name,P,null)));for(y.push.apply(y,ce(I)),j=[],V=x(w),H=V.next(),z={};!H.done;z={Hh:void 0},H=V.next())K=H.value,(X=Ee(K,"SUPPLEMENTAL-CODECS"))&&(z.Hh=X.split(/\s*,\s*/).map(function(He){return He.split("/")[0]}),Z=K.attributes.map(function(He){return function(_t){var Gn=_t.name;return _t=_t.value,Gn=="CODECS"&&(_t=He.Hh.join(",")),new Iv(Gn,_t)}}(z)),j.push(new Dv(K.id,K.name,Z,null)));w.push.apply(w,ce(j))}return mM(e,y),CM(e,g),Y=wM(e,w),C(be,EM(e,y,A,g,f,e.A,Y),5);case 5:return o=be.h,a=SM(e,g),C(be,TM(e,T,w),6);case 6:l=be.h,be.s(3);break;case 7:we=be.h,e.i.set(e.C,we),we.stream&&(yt=Gc(we.stream),we.stream.segmentIndex.Eb(function(He){He.$&&(He.$.Wc=yt)})),h=we.stream.type,o.push({id:0,language:ht(se||"und"),disabledUntilTime:0,primary:!0,audio:h=="audio"?we.stream:null,video:h=="video"?we.stream:null,bandwidth:we.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new O(2,7,7001);if(Tx(e,i),i.type==1&&(qi(e)&&(xx(e,i),et=e.o,e.B.da(et)),Ge=Array.from(e.i.values()),P0(e,Ge),j0(e),H0(e,i.ca,h,p,f)),e.m={presentationTimeline:e.l,variants:o,textStreams:a,imageStreams:l,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.Z||!e.g.hls.disableCodecGuessing){be.s(8);break}for(Ze=[],pt=x(e.m.variants),Be=pt.next();!Be.done;Be=pt.next())it=Be.value,it.audio&&it.audio.codecs===""&&Ze.push(it.audio.createSegmentIndex()),it.video&&it.video.codecs===""&&Ze.push(it.video.createSegmentIndex());return C(be,Promise.all(Ze),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),le(be)}})}function pM(e,t){var n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U;return L(function(_){if(_.g==1)return n=da(e.g.hls.mediaPlaylistFullMimeType),t.length?(i=Mx(e,t),r=i.segment,o=i.segmentIndex,a=r.N(),l=a[0],f=new Jt(l),h=f.ab.split(".").pop(),(p=G0.get(h))?_.return(da(p)):C(_,Promise.all([lx(e,r.$,0),lx(e,r,o)]),2)):_.return(n);if(g=_.h,y=g[0].mimeType,T=g[1].mimeType,w=g[0].data,A=g[1].data,E="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),M=["audio/mp4","video/mp4","video/iso.segment"],Cn(Ue(A))){var b=A,N=e.g.disableAudio,k=e.g.disableVideo,P=e.g.disableText,j=Ue(b),V=new Nt().parse(j),H=V.od();j=V.Kf();var z=[],K=!1,X=!1;if(!N)switch(H.audio){case"aac":case"aac-loas":V.fb().length&&(z.push("mp4a.40.2"),K=!0);break;case"mp3":V.fb().length&&(z.push("mp4a.40.34"),K=!0);break;case"ac3":V.fb().length&&(z.push("ac-3"),K=!0);break;case"ec3":V.fb().length&&(z.push("ec-3"),K=!0);break;case"opus":V.fb().length&&(z.push("opus"),K=!0)}if(!k)switch(H.video){case"avc":j.codec?z.push(j.codec):z.push("avc1.42E01E"),X=!0;break;case"hvc":j.codec?z.push(j.codec):z.push("hvc1.1.6.L93.90"),X=!0;break;case"av1":z.push("av01.0.01M.08"),X=!0}if(z.length){if(N=K&&!X,k=new Map,X&&!P){for(P=new tr("video/mp2t"),P.i(b),b=x(P.j()),X=b.next();!X.done;X=b.next())X=X.value,k.set(X,X);P.g()}j={type:N?"audio":"video",mimeType:"video/mp2t",codecs:z.join(", "),language:null,height:j.height,width:j.width,channelCount:null,sampleRate:null,closedCaptions:k,Nd:null,colorGamut:null,frameRate:j.frameRate}}else j=null;if(I=j)return _.return(I)}else if((E.includes(h)||M.includes(T)||y&&M.includes(y))&&(U=km(w,A,e.g.disableText)))return _.return(U);return T?_.return(da(T)):y?_.return(da(y)):_.return(n)})}function lx(e,t,n){var i,r,o,a,l,f;return L(function(h){switch(h.g){case 1:return t?(i=li,r=Al(t.N(),t.uc(),t.tc(),e.g.retryParameters),o=t instanceof Me?1:0,C(h,Ra(e,r,i,{type:o}).promise,2)):h.return({mimeType:null,data:null});case 2:if(a=h.h,l=a.data,!t.aesKey){h.s(3);break}return C(h,Np(l,t.aesKey,n),4);case 4:l=h.h;case 3:return t instanceof Me?t.Kd(l,!0):t.Kd(l),(f=a.headers["content-type"])&&(f=f.split(";")[0].toLowerCase()),h.return({mimeType:f,data:l})}})}function j0(e){if(qi(e)){if(e.Ea==jv){for(var t=1/0,n=1/0,i=x(e.i.values()),r=i.next();!r.done;r=i.next())r=r.value,r.stream.segmentIndex&&r.stream.type!="text"&&!r.stream.isAudioMuxedInVideo&&(t=Math.min(t,r.Vb),n=Math.min(n,r.Bc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Ce(t)}}else e.l.bb(hx(e));if(!e.l.u)for(t=x(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=Mr(n.stream.segmentIndex))&&n.h&&e.l.xh(n.h);e.l.ie()}function gM(e,t){var n=new Jt(e.C).g;t=x(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=Ee(r,"NAME");var o=Ee(r,"VALUE");r=Ee(r,"QUERYPARAM"),i&&o&&(e.A.has(i)||e.A.set(i,o)),r&&(i=n.get(r)[0])&&!e.A.has(i)&&e.A.set(r,i)}}function b0(e,t,n){n=new Jt(n).g;var i=new Map;t=x(t);for(var r=t.next();!r.done;r=t.next()){var o=r.value,a=Ee(o,"NAME"),l=Ee(o,"VALUE");r=Ee(o,"QUERYPARAM"),o=Ee(o,"IMPORT"),a&&l&&(i.has(a)||i.set(a,l)),r&&(a=n.get(r)[0])&&!i.has(a)&&i.set(r,a),o&&(r=e.A.get(o))&&i.set(o,r)}return i}function mM(e,t){t=x(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=Ee(i,"AUDIO");n=Ee(i,"VIDEO");var o=Ee(i,"SUBTITLES");if(i=cx(e,i),o){var a=ri(Xe,i);e.H.set(o,a),_r(i,a)}r&&(o=ri("audio",i),o||(o=e.g.hls.defaultAudioCodec),e.H.set(r,o)),n&&(r=ri("video",i),r||(r=e.g.hls.defaultVideoCodec),e.H.set(n,r))}}function vM(e,t){t=x(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=Ee(i,"DATA-ID");n=Ee(i,"URI");var o=Ee(i,"LANGUAGE");i=Ee(i,"VALUE"),r=new Map().set("id",r),n&&r.set("uri",Gl([e.C],n,e.A)[0]),o&&r.set("language",o),i&&r.set("value",i),n=new fe("sessiondata",r),e.h&&e.h.onEvent(n)}}function yM(e,t){var n,i,r,o,a,l;return L(function(f){if(!e.h||!e.g)return f.return();for(i=x(t),r=i.next();!r.done;r=i.next())if(o=r.value,a=Ee(o,"PATHWAY-ID"),l=Ee(o,"SERVER-URI"),a&&l){e.j=new $d(e.h),e.j.configure(e.g),e.j.i=[e.C],e.j.setManifestType("HLS"),e.j.h=a,n=pg(e.j,l);break}return C(f,n,0)})}function SM(e,t){var n=tx(t,"SUBTITLES");t=n.map(function(a){if(e.g.disableText)return null;try{return fx(e,[a],new Map).stream}catch(l){if(e.g.hls.ignoreTextStreamFailures)return null;throw l}}),n=x(n);for(var i=n.next();!i.done;i=n.next()){var r=It(i.value,"GROUP-ID");if((i=e.H.get(r))&&(r=e.I.get(r))){r=x(r);for(var o=r.next();!o.done;o=r.next())o=o.value,o.stream.codecs=i,o.stream.mimeType=V0(Xe,i)||Lv(Xe),ff(o.stream)}}return t.filter(function(a){return a})}function ff(e){var t=new Set([Zt(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Eb(function(n){n.mimeType&&t.add(Zt(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function TM(e,t,n){var i,r;return L(function(o){return o.g==1?(i=t.map(function(a){var l,f;return L(function(h){if(h.g==1)return e.g.disableThumbnails?h.return(null):(Se(h,2),C(h,DM(e,a),4));if(h.g!=2)return l=h.h,h.return(l.stream);if(f=Te(h),e.g.hls.ignoreImageStreamFailures)return h.return(null);throw f})}).concat(n.map(function(a){if(e.g.disableThumbnails)return null;try{var l=dx(e,a);return l.stream.type!=="image"?null:l.stream}catch(f){if(e.g.hls.ignoreImageStreamFailures)return null;throw f}})),C(o,Promise.all(i),2)):(r=o.h,o.return(r.filter(function(a){return a})))})}function xM(e,t,n){t=t.filter(function(l){var f=Ee(l,"URI")||"";return l=Ee(l,"TYPE"),l!="SUBTITLES"&&(f!=""||l=="AUDIO")});var i={};t=x(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=$T(r,!e.j);i[o]?i[o].push(r):i[o]=[r]}for(var a in i)fx(e,i[a],n,!1)}function wM(e,t){return t.map(function(n){return n=dx(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function EM(e,t,n,i,r,o,a){var l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be;return L(function(it){switch(it.g){case 1:if(l=[],f=new Set,e.g.ignoreDrmInfo||!(0<n.length)){it.s(2);break}h=x(n),p=h.next();case 3:if(p.done){it.s(2);break}if(g=p.value,y=It(g,"METHOD"),T=Ee(g,"KEYFORMAT")||"identity",w=null,y=="NONE"){it.s(4);break}if(_v(y)){A=Gl(r(),It(g,"URI"),o),E=A.sort().join(""),e.L.has(E)||(M=mn(A,e.g.retryParameters),I=Ra(e,M,6).promise,e.L.set(E,I)),it.s(4);break}if(T=="identity")return C(it,Ix(e,g,"",r,null,o),12);if(U=e.Sb.get(T),!U){_=null,it.s(10);break}return C(it,U(g,"",null),11);case 11:_=it.h;case 10:w=_,it.s(6);break;case 12:w=it.h;case 6:if(w){if(w.keyIds)for(b=x(w.keyIds),N=b.next();!N.done;N=b.next())k=N.value,f.add(k);l.push(w)}case 4:p=h.next(),it.s(3);break;case 2:for(P={},j=x(t),V=j.next();!V.done;V=j.next())H=V.value,z=$T(H,!e.j),P[z]?P[z].push(H):P[z]=[H];K=[];for(X in P)Z=P[X],Y=Z[0],ie=Ee(Y,"FRAME-RATE"),se=Number(Ee(Y,"AVERAGE-BANDWIDTH"))||Number(It(Y,"BANDWIDTH")),Le=Ee(Y,"RESOLUTION"),we=x(Le?Le.split("x"):[null,null]),yt=we.next().value,et=we.next().value,Ge=Ee(Y,"VIDEO-RANGE"),(Ze=Ee(Y,"REQ-VIDEO-LAYOUT"))&&Ze.includes(",")&&(pt=Ze.split(",").filter(function(be){return be=="CH-STEREO"||be=="CH-MONO"}),Ze=pt[0]),Ze=Ze||"CH-MONO",Be=AM(e,Z,i),K.push.apply(K,ce(MM(e,Be.audio,Be.video,se,yt,et,ie,Ge,Ze,l,f,a)));return it.return(K.filter(function(be){return be!=null}))}})}function AM(e,t,n){for(var i={audio:[],video:[]},r=new Map,o=[],a=!1,l=!1,f=x(t),h=f.next();!h.done;h=f.next()){var p=h.value;h=Ee(p,"AUDIO");var g=Ee(p,"VIDEO"),y=h||g;y&&(o.includes(y)||o.push(y),(p=Ee(p,"PATHWAY-ID"))&&r.set(y,p),h?a=!0:g&&(l=!0))}o.length&&n.length&&(n=n.filter(function(w){return o.includes(It(w,"GROUP-ID"))}),xM(e,n,r)),n=(r=o.sort().join(","))&&e.I.has(r)?e.I.get(r):[],a?i.audio.push.apply(i.audio,ce(n)):l&&i.video.push.apply(i.video,ce(n)),a=!1;var T=t.map(function(w){return It(w,"URI")});return h=i.audio.find(function(w){return w&&w.N().find(function(A){return T.includes(A)})}),l=cx(e,t[0]),n=ri("video",l),(f=ri("audio",l))&&!n?(h="audio",a=0<i.audio.length):!i.audio.length&&!i.video.length&&f&&n?(h="video",l=[[n,f].join()]):i.audio.length&&h?(h="audio",a=!0):h=i.video.length&&!i.audio.length?"audio":"video",a||(e=IM(e,t,l,h),r&&(e.stream.groupId=r),i[e.stream.type]=[e]),i}function cx(e,t){return t=Ee(t,"CODECS")||"",e.Z=0<t.length,e.Z||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),Ed(t.split(/\s*,\s*/))}function MM(e,t,n,i,r,o,a,l,f,h,p,g){for(var y=x(n),T=y.next();!T.done;T=y.next())Cx(T.value.stream,r,o,a,l,f,null);for(r=e.g.disableAudio,(!t.length||r)&&(t=[null]),r=e.g.disableVideo,(!n.length||r)&&(n=[null]),r=[],t=x(t),o=t.next();!o.done;o=t.next())for(o=o.value,a=x(n),l=a.next();!l.done;l=a.next()){var w=l.value;(l=o?o.stream:null)&&(l.drmInfos=h,l.keyIds=p),(f=w?w.stream:null)&&(f.drmInfos=h,f.keyIds=p,e.g.disableIFrames||Jg(f,g)),f&&!l&&(f.bandwidth=i),!f&&l&&(l.bandwidth=i),y=o?o.stream.drmInfos:null,T=w?w.stream.drmInfos:null,w=w?w.N().sort().join(","):"";var A=o?o.N().sort().join(","):"",E=[];l&&l.codecs&&E.push(l.codecs),f&&f.codecs&&E.push(f.codecs),w=[w,A,E.sort()].join("-"),l&&f&&!As(y,T)||e.Na.has(w)||(l={id:e.F++,language:l?l.language:"und",disabledUntilTime:0,primary:!!l&&l.primary||!!f&&f.primary,audio:l,video:f,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},r.push(l),e.Na.add(w))}return r}function CM(e,t){t=tx(t,"CLOSED-CAPTIONS"),e.O=t.length==0,t=x(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=Ee(i,"LANGUAGE");n=ht(r||"und"),r||(r=Ee(i,"NAME"))&&(n=r),r=It(i,"GROUP-ID"),i=It(i,"INSTREAM-ID").replace("SERVICE","svc"),e.G.get(r)||e.G.set(r,new Map),e.G.get(r).set(i,n)}}function fx(e,t,n,i){i=i===void 0?!0:i;for(var r=[],o=[],a=new Map,l=x(t),f=l.next();!f.done;f=l.next()){var h=f.value;f=i?It(h,"URI"):Ee(h,"URI")||"shaka://hls-muxed",h=It(h,"GROUP-ID"),r.push(f),o.push(h),a.set(h,f)}if(i=o.sort().join(","),f=t[0],t="",l=It(f,"TYPE").toLowerCase(),l=="subtitles"&&(l=Xe),l==Xe)t=Ee(f,"CODECS")||"";else for(o=x(o),h=o.next();!h.done;h=o.next())if(h=h.value,e.H.has(h)){t=e.H.get(h);break}if(o=r.sort().join(","),e.i.has(o))return e.i.get(o);if(h=e.F++,e.j){a=x(a);for(var p=a.next();!p.done;p=a.next()){var g=x(p.value);p=g.next().value,g=g.next().value,(p=n.get(p))&&eh(e.j,h,p,g)}}n=Ee(f,"LANGUAGE"),a=Ee(f,"NAME"),p=Ee(f,"DEFAULT")=="YES",l=="audio"?g=(g=Ee(f,"CHANNELS"))?parseInt(g.split("/")[0],10):null:g=null;var y;l=="audio"&&(y=Ee(f,"CHANNELS"))?(y=y.split("/"),y=y.length!=2?!1:y[1]==="JOC"||y[1].includes("ATMOS")):y=!1;var T=Ee(f,"CHARACTERISTICS"),w=Ee(f,"FORCED")=="YES";return l=="audio"?f=(f=Ee(f,"SAMPLE-RATE"))?parseInt(f,10):null:f=null,r=Nv(e,h,r,t,l,n,p,a,g,null,T,w,f,y),r.stream&&(r.stream.groupId=i),e.I.has(i)?e.I.get(i).push(r):e.I.set(i,[r]),e.i.set(o,r),r}function DM(e,t){var n,i,r,o,a,l,f,h,p,g;return L(function(y){return y.g==1?(n=It(t,"URI"),i=Ee(t,"CODECS","jpeg")||"",e.i.has(n)?y.return(e.i.get(n)):(r=Ee(t,"LANGUAGE"),o=Ee(t,"NAME"),a=Ee(t,"CHARACTERISTICS"),l=Nv(e,e.F++,[n],i,"image",r,!1,o,null,null,a,!1,null,!1),(f=Ee(t,"RESOLUTION"))?C(y,l.stream.createSegmentIndex(),3):y.s(2))):(y.g!=2&&(h=Mr(l.stream.segmentIndex),p=h.tilesLayout)&&(l.stream.width=Number(f.split("x")[0])*Number(p.split("x")[0]),l.stream.height=Number(f.split("x")[1])*Number(p.split("x")[1])),(g=Ee(t,"BANDWIDTH"))&&(l.stream.bandwidth=Number(g)),e.i.set(n,l),y.return(l))})}function dx(e,t){var n="video",i=It(t,"URI"),r=Ee(t,"CODECS")||"";if(r=="mjpg"&&(n="image"),e.i.has(i))return e.i.get(i);var o=Ee(t,"LANGUAGE"),a=Ee(t,"NAME"),l=Ee(t,"CHARACTERISTICS");return n=Nv(e,e.F++,[i],r,n,o,!1,a,null,null,l,!1,null,!1),r=Ee(t,"RESOLUTION"),o=x(r?r.split("x"):[null,null]),r=o.next().value,o=o.next().value,n.stream.width=Number(r)||void 0,n.stream.height=Number(o)||void 0,(t=Ee(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(i,n),n}function IM(e,t,n,i){for(var r=e.F++,o=[],a=x(t),l=a.next();!l.done;l=a.next()){var f=l.value;l=It(f,"URI"),f=Ee(f,"PATHWAY-ID"),e.j&&f&&eh(e.j,r,f,l),o.push(l)}if(a=o.sort().join(",")+n.sort().join(","),e.i.has(a))return e.i.get(a);l=o.join(",");e:{if(t=Ee(t[0],"CLOSED-CAPTIONS"),i=="video"){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if(t!="NONE"){t=e.G.get(t);break e}e.O=!1}else if(!t&&e.G.size)for(t=x(e.G.keys()).next();!t.done;){t=e.G.get(t.value);break e}}t=null}return n=vr(i,n),i=Nv(e,r,o,n,i,null,!1,l,null,t,null,!1,null,!1),e.i.set(a,i),i}function Nv(e,t,n,i,r,o,a,l,f,h,p,g,y,T){function w(_){var b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be,it;return L(function(be){switch(be.g){case 1:return b=an,Se(be,2),C(be,_.promise,4);case 4:if(N=be.h,_.aborted)return be.return();if(k=N.uri,k!=N.originalUri&&(P=M.N(),P.includes(k)||M.ve.push(k)),j=U0(e.Ga,N.data),j.type!=1)throw new O(2,4,4017);return V=mu(j.ca,"EXT-X-DEFINE"),H=b0(e,V,k),z=!1,(!e.Z&&e.g.hls.disableCodecGuessing||e.O&&r==b.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<j.segments.length&&(e.O=!1,z=!0),K=!e.Z&&e.g.hls.disableCodecGuessing,X=qi(e),C(be,gx(e,0,H,j,A,i,r,o,a,l,f,h,p,g,y,T,void 0,z,K),5);case 5:if(Z=be.h,_.aborted)return be.return();if(Y=Z.stream,Tx(e,j),qi(e)&&!X&&xx(e,j),M.Bc=Z.Bc,M.Vb=Z.Vb,M.Ud=Z.Ud,M.Td=Z.Td,M.rd=Z.rd,M.je=Z.je,M.Ab=Z.Ab,M.Bb=Z.Bb,M.Rf=!0,E.segmentIndex=Y.segmentIndex,E.encrypted=Y.encrypted,E.drmInfos=Y.drmInfos,E.keyIds=Y.keyIds,E.mimeType=Y.mimeType,E.bandwidth=E.bandwidth||Y.bandwidth,E.codecs=E.codecs||Y.codecs,E.closedCaptions=E.closedCaptions||Y.closedCaptions,E.width=E.width||Y.width,E.height=E.height||Y.height,E.hdr=E.hdr||Y.hdr,E.colorGamut=E.colorGamut||Y.colorGamut,E.frameRate=E.frameRate||Y.frameRate,E.language=="und"&&Y.language!="und"&&(E.language=Y.language),E.language=E.language||Y.language,E.channelsCount=E.channelsCount||Y.channelsCount,E.audioSamplingRate=E.audioSamplingRate||Y.audioSamplingRate,ff(E),E.drmInfos.length&&e.h.newDrmInfo(E),ie=!1,(!h&&E.closedCaptions||h&&E.closedCaptions&&h.size!=E.closedCaptions.size)&&(ie=!0),e.m&&ie&&e.h.makeTextStreamsForClosedCaptions(e.m),r==b.la||r==b.V)for(se=x(e.i.values()),Le=se.next();!Le.done;Le=se.next())we=Le.value,we.Rf||we.type!=r||(we.stream.mimeType=Y.mimeType,ff(we.stream));r==b.za&&(yt=Mr(Y.segmentIndex))&&yt.$&&(E.mimeType="application/mp4",ff(E)),et=Gc(E),E.segmentIndex.Eb(function(He){He.$&&(He.$.Wc=et)}),RM(e)&&(e.Ub?P0(e,[M]):(e.Ub=!0,Ge=Array.from(e.i.values()),Ze=Ge.filter(function(He){return He.stream.segmentIndex}),P0(e,Ze),j0(e),pt=e.o,0<pt&&e.B.da(pt))),H0(e,j.ca,E.type,H,A),e.m&&(e.m.startTime=e.u),Pe(be,0);break;case 2:if(Be=Te(be),E.closeSegmentIndex(),Be.code===7001)return be.return();if(it=e.h.disableStream(E),!it)throw Be;le(be)}})}function A(){return e.j&&1<n.length?gg(e.j,t):M.ve.concat(nx([e.C],n,e.A))}var E=vx(e,i,r,o,a,l,f,h,p,g,y,T);n.includes("shaka://hls-muxed")&&(E.isAudioMuxedInVideo=!0,E.mimeType="video/mp2t",ff(E));var M={stream:E,type:r,ve:[],Bc:0,Vb:0,je:new Map,Ud:!1,Td:!1,rd:!1,qf:-1,Ab:-1,Bb:-1,Rf:!1,N:A},I=null,U;return E.createSegmentIndex=function(){return I||(E.isAudioMuxedInVideo?(E.segmentIndex=new st([]),Promise.resolve()):(U=z0(e,M.N(),!0),I=new Promise(function(_){_(w(U))})))},E.closeSegmentIndex=function(){I&&!E.segmentIndex&&U.abort(),E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null),I=null},M}function hx(e){var t=1/0;e=x(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Vb));return t}function px(e,t){var n=[];t=x(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.segmentIndex&&i.segmentIndex.Eb(function(r){n.push(r)});e.l.Ed(n)}function P0(e,t){if(!qi(e))for(var n=hx(e),i=x(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.Oc(0,n);px(e,t.map(function(o){return o.stream})),i=Array.from(e.i.values()).filter(function(o){return o.stream.segmentIndex}),n=i.some(function(o){return o.stream.type=="audio"}),r=i.some(function(o){return o.stream.type=="video"}),i=qi(e)&&!e.Ma,n=!qi(e)&&e.Ma&&!(n&&r),e.g.hls.ignoreManifestProgramDateTime||i||n?sx(e,t,i):(dM(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&sx(e,t))}function xg(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function RM(e){if(!e.m)return!1;var t=[],n=[];e=x(e.m.variants);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&t.push(i.video),i.audio&&n.push(i.audio);return!(0<t.length&&!t.some(function(r){return r.segmentIndex})||0<n.length&&!n.some(function(r){return r.segmentIndex}))}function gx(e,t,n,i,r,o,a,l,f,h,p,g,y,T,w,A,E,M,I){M=M===void 0?!0:M,I=I===void 0?!0:I;var U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie,se,Le,we,yt,et,Ge,Ze,pt,Be,it,be,He,_t,Gn;return L(function(tn){switch(tn.g){case 1:if(U=i.segments||[],_=U.every(function(un){return!!ti(un.ca,"EXT-X-GAP")}),!U.length||_)throw new O(2,4,4053);if(kM(e,i),qi(e)&&B0(e,i),b=qi(e)?e.M.get(a):new Map,N=Ax(e,i,b,n,r,a),k=N.segments,P=N.bandwidth,K=z=H=V=j=null,!(0<k.length&&M)){tn.s(2);break}return C(tn,pM(e,k),3);case 3:X=tn.h,a=X.type,l=X.language,p=X.channelCount,w=X.sampleRate,e.g.disableText||(g=X.closedCaptions),V=X.height,j=X.width,H=X.Nd,z=X.colorGamut,K=X.frameRate,I&&(E=X.mimeType,o=X.codecs);case 2:if(E){tn.s(4);break}return C(tn,UM(e,a,o,k),5);case 5:E=tn.h,a!=Xe||o||E!="application/mp4"||!k[0]||k[0].$||(E="text/vtt");case 4:return C(tn,yx(e,i,E,r,n),6);case 6:if(Z=tn.h,Y=Z.drmInfos,ie=Z.keyIds,se=Z.encrypted,Le=Z.Bg,se&&!Y.length&&!Le)throw new O(2,4,4026);return we=vx(e,o,a,l,f,h,p,g,y,T,w,A),we.encrypted=se&&!Le,we.drmInfos=Y,we.keyIds=ie,we.mimeType=E,P&&(we.bandwidth=P),ff(we),a=="video"&&(j||V||H||z)&&Cx(we,j,V,K,H,null,z),qi(e)&&B0(e,i),yt=k[0].startTime,et=k[k.length-1],Ge=et.endTime,Ze=new st(k),we.segmentIndex=Ze,Be=(pt=ti(i.ca,"EXT-X-SERVER-CONTROL"))?nh(pt,"CAN-SKIP-UNTIL")!=null:!1,it=pt?nh(pt,"CAN-BLOCK-RELOAD")!=null:!1,be=ih(i.ca,"EXT-X-MEDIA-SEQUENCE",0),He=mx(be,k),_t=He.Ab,Gn=He.Bb,tn.return({stream:we,type:a,ve:[],N:r,Bc:yt,Vb:Ge,Ud:Be,Td:it,rd:!1,qf:-1,Ab:_t,Bb:Gn,je:b,Rf:!1})}})}function mx(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{Ab:e,Bb:n};t=t[t.length-1];var i=t.g;return t.g.length?(n=i.length-1,i[i.length-1].isPreload()||(e++,n=0),{Ab:e,Bb:n}):(e++,t.m&&(n=0),{Ab:e,Bb:n})}function vx(e,t,n,i,r,o,a,l,f,h,p,g){var y=V0(n,t)||Lv(n),T=[];if(f){f=x(f.split(","));for(var w=f.next();!w.done;w=f.next())T.push(w.value)}return f=void 0,w=null,n==Xe?f=T.includes("public.accessibility.transcribes-spoken-dialog")&&T.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":T.includes("public.accessibility.describes-video")&&(w="visually impaired"),T.length||f!=="subtitle"||T.push("subtitle"),e={id:e.F++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:y,codecs:t,kind:n==Xe?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:ht(i||"und"),originalLanguage:i,label:o,type:n,primary:r,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:T,forced:h,channelsCount:a,audioSamplingRate:p,spatialAudio:g,closedCaptions:l,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:w,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null},ff(e),e}function yx(e,t,n,i,r){var o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie;return L(function(se){switch(se.g){case 1:if(o=new Map,!e.g.ignoreDrmInfo&&t.segments){for(a=x(t.segments),l=a.next();!l.done;l=a.next())if(f=l.value,h=mu(f.ca,"EXT-X-KEY"),p=null,h.length)for(p=wx(e,t,f.ca,i,r),g=x(h),y=g.next();!y.done;y=g.next())T=y.value,o.set(T,p)}A=w=!1,E=[],M=new Set,I=x(o),U=I.next();case 2:if(U.done){se.s(4);break}if(_=U.value,b=x(_),N=b.next().value,k=b.next().value,P=N,j=k,V=It(P,"METHOD"),V=="NONE"){se.s(3);break}if(w=!0,H=Ee(P,"KEYFORMAT")||"identity",z=null,_v(V)){A=!0,se.s(3);break}if(H=="identity")return C(se,Ix(e,P,n,i,j,r),11);if(K=e.Sb.get(H),!K){X=null,se.s(9);break}return C(se,K(P,n,j),10);case 10:X=se.h;case 9:z=X,se.s(6);break;case 11:z=se.h;case 6:if(z){if(z.keyIds)for(Z=x(z.keyIds),Y=Z.next();!Y.done;Y=Z.next())ie=Y.value,M.add(ie);E.push(z)}case 3:U=I.next(),se.s(2);break;case 4:return se.return({drmInfos:E,keyIds:M,encrypted:w,Bg:A})}})}function Sx(e,t,n,i,r){if(!F.crypto||!F.crypto.subtle)throw ot("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new O(2,4,4042);var o=0,a=Ee(t,"IV","");if(a){var l=uo(a.substr(2));if(l.byteLength!=16)throw new O(2,4,4048)}else o=ih(n.ca,"EXT-X-MEDIA-SEQUENCE",0);var f=Gl(i(),It(t,"URI"),r),h=f.sort().join("");if(n=t.toString()+"-"+o+"-"+h,!e.ka.has(n)){var p={bitsKey:128,blockCipherMode:"CBC",iv:l,firstMediaSequenceNumber:o};switch(It(t,"METHOD")){case"AES-256":p.bitsKey=256;break;case"AES-256-CTR":p.bitsKey=256,p.blockCipherMode="CTR"}p.fetchKey=function(){var g,y,T,w;return L(function(A){if(A.g==1)return e.L.has(h)||(g=mn(f,e.g.retryParameters),y=Ra(e,g,6).promise,e.L.set(h,y)),C(A,e.L.get(h),2);if(A.g!=3){if(T=A.h,!T.data||T.data.byteLength!=p.bitsKey/8)throw new O(2,4,4049);return w={name:p.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:p.bitsKey},C(A,F.crypto.subtle.importKey("raw",T.data,w,!0,["decrypt"]),3)}p.cryptoKey=A.h,p.fetchKey=void 0,le(A)})},e.ka.set(n,p)}return e.ka.get(n)}function Tx(e,t){e.u==null&&(t=ti(t.ca,"EXT-X-START"))&&(e.u=Number(It(t,"TIME-OFFSET")))}function kM(e,t){var n=ti(t.ca,"EXT-X-PLAYLIST-TYPE");t=ti(t.ca,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?Uv(e,Ov):n?Uv(e,jv):Uv(e,Nx)}function B0(e,t){var n=1/0,i=t.segments;if(i.length)for(var r=i.length-1;0<=r;){var o=ti(i[r].ca,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}r--}if(i=ti(t.ca,"EXT-X-TARGETDURATION"),!i)throw new O(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),(r=ti(t.ca,"EXT-X-PART-INF"))&&(e.P=Number(It(r,"PART-TARGET"))),t=ti(t.ca,"EXT-X-SERVER-CONTROL"),e.fa&&e.P?(e.o=e.Tb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Fa=t?Number(It(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?nh(t,"HOLD-BACK"):null,e.Aa=n?Number(n.value):0),e.La=Math.max(i,e.La)}function xx(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Fa)n=e.Fa;else if(e.Aa)n=e.Aa;else{var i=t.segments.length,r=e.g.hls.liveSegmentsDelay;for(r>i-2&&(r=Math.max(1,i-2)),r=i-r;r<i;r++){var o=ti(t.segments[r].ca,"EXTINF");n=o?n+Math.ceil(Number(o.value.split(",")[0])):n+e.La}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.yh(0),e.l.jg(n),e.l.Gc(!1)}function wx(e,t,n,i,r){var o=ti(n,"EXT-X-MAP");if(!o)return null;var a=It(o,"URI"),l=Gl(i(),a,r);if(a=[l.toString(),Ee(o,"BYTERANGE","")].join("-"),!e.sa.has(a)){var f=void 0,h=null,p=!1;n=x(n);for(var g=n.next();!g.done;g=n.next())g=g.value,g.name=="EXT-X-KEY"?(p=It(g,"METHOD"),_v(p)&&g.id<o.id?(p=!1,f=Sx(e,g,t,i,r)):p=p!="NONE"):g.name=="EXT-X-BYTERANGE"&&g.id<o.id&&(h=g);t=NM(l,o,h,f,p),e.sa.set(a,t)}return e.sa.get(a)}function NM(e,t,n,i,r){var o=0,a=null;return t=Ee(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(o=t.split("@"),a=Number(o[0]),o=Number(o[1]),a=o+a-1,i&&(n=a+1-o,n%16&&(a+=16-n%16))),new yi(function(){return e},o,a,null,null,null,i,r)}function LM(e,t,n,i,r,o,a,l,f){function h(se){se=new Jt(se).ab.split(".").pop();var Le=X0.get(a).get(se);return Le||(Le=G0.get(se)),Le}var p=i.ca,g=ti(p,"EXTINF"),y=0,T=0,w=null;i.Jb.length&&(e.m.isLowLatency=!0);var A=null;if(!e.g.hls.ignoreManifestProgramDateTime){var E=ti(p,"EXT-X-PROGRAM-DATE-TIME");E&&E.value&&(A=Vo(E.value),e.Ma=!0)}var M=bu;if(ti(p,"EXT-X-GAP")&&(e.m.gapCount++,M=2),!g){if(i.Jb.length==0)throw new O(2,4,4024,"EXTINF");if(!e.fa)return null}var I=[];E=!1;var U=null,_=!1,b=!1;if(e.fa&&i.Jb.length){y=t&&F.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var N=A,k={},P=0;P<i.Jb.length;k={Le:void 0,re:void 0},P++){var j=i.Jb[P],V=P==0?n:I[I.length-1],H=P==0?r:V.endTime,z=Number(Ee(j,"DURATION"))||e.P;if(z){var K=H+z,X=0,Z=null;if(j.name=="EXT-X-PRELOAD-HINT"?(X=(X=Ee(j,"BYTERANGE-START"))?Number(X):0,(V=Ee(j,"BYTERANGE-LENGTH"))?Z=X+Number(V)-1:X&&(Z=Number.MAX_SAFE_INTEGER)):(X=Ee(j,"BYTERANGE"),Z=x(Ex(V,X)),X=Z.next().value,Z=Z.next().value),k.re=Ee(j,"URI"),k.re){V=bu,Ee(j,"GAP")=="YES"&&(e.m.gapCount++,V=2,_=!0),k.Le=null;var Y=function(se){return function(){return se.Le==null&&(se.Le=Gl(l(),se.re,o)),se.Le}}(k);y&&0<=X&&Z!=null&&(U=Y,E=!0),H=new Me(H,K,Y,X,Z,t,0,0,1/0,[],"",null,N,V,f),j.name=="EXT-X-PRELOAD-HINT"&&(H.Sf(),b=!0),Ee(j,"INDEPENDENT")!="YES"&&0<P&&H.Vc(),(k=h(k.re))&&(H.mimeType=k,kx.has(k)&&(H.$=null)),I.push(H),N&&(N+=z)}}}}if(g){if(g=Number(g.value.split(",")[0]),g==0)return null;y=r+g}else if(I.length)y=I[I.length-1].endTime;else return null;E&&(_||I[0].Sa!=0?(E=!1,U=null):I=[]),(g=ti(p,"EXT-X-BYTERANGE"))?(w=x(Ex(n,g.value)),T=w.next().value,w=w.next().value):I.length&&(T=I[0].Sa,w=I[I.length-1].wa),n="",g=null,a=="image"&&(n="1x1",p=ti(p,"EXT-X-TILES"))&&(n=It(p,"LAYOUT"),(p=Ee(p,"DURATION"))&&(g=Number(p)));var ie=null;return t=new Me(r,y,function(){return U?U():(ie==null&&(ie=Gl(l(),i.g,o)),ie||[])},T,w,t,0,0,1/0,I,n,g,A,M,f,0<I.length&&!!i.g),(r=h(i.g))&&(t.mimeType=r,kx.has(r)&&(t.$=null)),E&&(e.Tb=!0,t.dh(),b&&t.Sf()),t}function Ex(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.wa+1,i=n+t-1),[n,i]}function H0(e,t,n,i,r){if(n=="video"||n=="audio"){var o=e.l.m;if(o&&!xg(e,n))for(t=mu(t,"EXT-X-DATERANGE"),t=t.filter(function(H){return nh(H,"START-DATE")!=null}).sort(function(H,z){return H=It(H,"START-DATE"),z=It(z,"START-DATE"),H<z?-1:H>z?1:0}),n=0;n<t.length;n++){var a=t[n];try{var l=It(a,"ID");if(!e.ya.has(l)){var f=It(a,"START-DATE"),h=Vo(f);if(!isNaN(h)){var p=Math.max(0,h-o),g=null,y=Ee(a,"END-DATE");if(y){var T=Vo(y);if(!isNaN(T)&&(g=T-o,0>g))continue}if(g==null){var w=Ee(a,"DURATION")||Ee(a,"PLANNED-DURATION");if(w){var A=parseFloat(w);if(isNaN(A)||(g=p+A),0>h-o+A)continue}}var E=Ee(a,"CLASS")||"com.apple.quicktime.HLS",M=Ee(a,"END-ON-NEXT")=="YES";if(g==null&&M){for(var I=n+1;I<t.length;I++){var U=Ee(t[I],"CLASS")||"com.apple.quicktime.HLS";if(E==U){var _=It(t[I],"START-DATE"),b=Vo(_);if(!isNaN(b)&&b&&b>h){g=Math.max(0,b-o);break}}}if(g==null)continue}I=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var N=[],k=x(a.attributes),P=k.next();!P.done;P=k.next()){var j=P.value;if(!I.includes(j.name)){var V=ix(j.value,i);(j.name=="X-ASSET-URI"||j.name=="X-ASSET-LIST")&&(V=Gl(r(),j.value,i)[0]),N.push({key:j.name,description:"",data:V,mimeType:null,pictureType:null})}}1<N.length&&e.h.onMetadata(E,p,g,N),e.ya.add(l)}}}catch(H){}}}}function Ax(e,t,n,i,r,o){var a=t.segments,l=void 0,f=ih(t.ca,"EXT-X-DISCONTINUITY-SEQUENCE",-1),h=ih(t.ca,"EXT-X-MEDIA-SEQUENCE",0),p=ti(t.ca,"EXT-X-SKIP"),g=p?Number(Ee(p,"SKIPPED-SEGMENTS")):0,y=h+g,T=0;qi(e)&&n.has(y)&&(T=n.get(y)),T===0&&e.Ea==jv&&0<n.size&&!n.has(y)&&e.l.i!=null&&(T=e.l.pb());var w=[],A=null;p=[];for(var E=0;E<a.length;E++){var M=a[E],I=E==0?T:A.endTime;y=h+g+E,ti(M.ca,"EXT-X-DISCONTINUITY")&&(f++,A&&A.$&&(A.$.g=I));for(var U=x(M.ca),_=U.next();!_.done;_=U.next())_=_.value,_.name=="EXT-X-KEY"&&(_v(It(_,"METHOD"))?l=Sx(e,_,t,r,i):l=void 0);n.set(y,I),U=wx(e,t,M.ca,r,i),(I=LM(e,U,A,M,I,i,o,r,l))&&((A=ih(M.ca,"EXT-X-BITRATE"))?p.push({bitrate:A,duration:I.endTime-I.startTime}):p.length&&(A=p.pop(),A.duration+=I.endTime-I.startTime,p.push(A)),A=I,I.i=f,xg(e,o)&&e.K!=null&&y<e.K||w.push(I))}if(t=void 0,p.length&&(t=p.reduce(function(b,N){return b+N.duration},0),t=Math.round(p.reduce(function(b,N){return b+N.bitrate*N.duration},0)/t*1e3)),p=w.some(function(b){return b.h!=null})){for(n={},i=0;i<w.length;n={Xd:void 0,Wd:void 0,Qd:void 0,Dc:void 0,Pd:void 0},i++)if(n.Dc=w[i],n.Dc.h==null)for(n.Wd=0,n.Xd=i,r=function(b){return function(){var N=w[b.Xd];if(N){if(N.h!=null)return N.h+b.Wd;b.Wd-=N.endTime-N.startTime,b.Xd+=1}return null}}(n),n.Pd=0,n.Qd=i,a=function(b){return function(){var N=w[b.Qd];if(N){if(N!=b.Dc&&(b.Pd+=N.endTime-N.startTime),N.h!=null)return N.h+b.Pd;--b.Qd}return null}}(n);n.Dc.h==null;)n.Dc.h=a(),n.Dc.h==null&&(n.Dc.h=r())}if(p)for(n=x(w),i=n.next();!i.done;i=n.next())for(r=i.value,i=r.h,r=x(r.g),a=r.next();!a.done;a=r.next())a=a.value,a.h=i,i+=a.endTime-a.startTime;if(n=e.ea,p&&n!=1/0&&!xg(e,o))for(e=x(w),o=e.next();!o.done;o=e.next())o.value.qg(n);return{segments:w,bandwidth:t}}function V0(e,t){if(e==Xe){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function Lv(e){return e==Xe?"text/vtt":X0.get(e).get("mp4")}function Mx(e,t){e=qi(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.dc()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function UM(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A,E;return L(function(M){switch(M.g){case 1:return r=li,o=Mx(e,i),a=o.segment,a.status==2?M.return(Lv(t)):(l=a.N(),f=new Jt(l[0]),h=f.ab.split(".").pop(),p=X0.get(t),(g=p.get(h))||(g=G0.get(h))||(g=V0(t,n))?M.return(g):(T=1,w=mn(l,e.g.retryParameters),Se(M,2),w.method="HEAD",C(M,Ra(e,w,r,{type:T}).promise,4)));case 4:A=M.h,y=A.headers["content-type"],Pe(M,3);break;case 2:if(E=Te(M),!E||E.code!=1002&&E.code!=1001){M.s(3);break}return w.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(w.headers.Range="bytes=0-0"),C(M,Ra(e,w,r,{type:T}).promise,6);case 6:A=M.h,y=A.headers["content-type"];case 3:if(!y){M.s(7);break}if(g=y.toLowerCase().split(";")[0],g!="application/octet-stream"){M.s(8);break}if(A.data.byteLength){M.s(9);break}return w.method="GET",C(M,Ra(e,w,r,{type:T}).promise,10);case 10:A=M.h;case 9:Cn(Ue(A.data))&&(g="video/mp2t");case 8:if(g!="application/octet-stream")return M.return(g);case 7:return M.return(Lv(t))}})}function Cx(e,t,n,i,r,o,a){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(i)||void 0,e.hdr=r||void 0,e.videoLayout=o||void 0,e.colorGamut=a||void 0)}function z0(e,t,n){return Ra(e,mn(t,e.g.retryParameters),0,{type:n?2:3})}function Dx(e){var t,n,i,r,o,a;return L(function(l){switch(l.g){case 1:return e.h?(Se(l,2),t=Date.now(),C(l,e.update(),4)):l.return();case 4:n=Date.now(),qi(e)&&(i=(n-t)/1e3,e.Pb.sample(1,i),r=0<e.g.updatePeriod?e.g.updatePeriod:e.o,o=Math.max(0,r-yf(e.Pb)),e.B.da(o)),Pe(l,3);break;case 2:if(a=Te(l),!e.h)return l.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(a),l.return();a.severity=1,e.h.onError(a),e.B.da(.1);case 3:if(!e.h)return l.return();e.h.onManifestUpdated(),le(l)}})}function qi(e){return e.Ea!=Ov}function Uv(e,t){e.Ea=t,e.l&&e.l.Gc(!qi(e)),qi(e)||e.B.stop()}function Ra(e,t,n,i){if(!e.Y)throw new O(2,7,7001);return i||(i={}),i.isPreload=e.Qb(),t=e.h.networkingEngine.request(n,t,i),Pr(e.Y,t),t}function _v(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function _M(e,t,n,i){var r,o,a,l,f,h;return L(function(p){if(p.g==1){if(n=="video/mp2t")throw new O(2,4,4040);if(F.shakaMediaKeysPolyfill==="apple")throw new O(2,4,4041);if(r=It(t,"METHOD"),o=["SAMPLE-AES","SAMPLE-AES-CTR"],!o.includes(r))return p.return(null);a="cenc",r=="SAMPLE-AES"&&(a="cbcs"),l=It(t,"URI"),f=Du("com.apple.fps",a,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],l);var g=new Jt(l).nb.replace(/-/g,"").toLowerCase();return(h=g.length===32&&/^[0-9a-f]+$/.test(g)?g:null)||!i?p.s(2):C(p,Rx(e,i),3)}return p.g!=2&&(h=p.h),h&&f.keyIds.add(h),p.return(f)})}function Ix(e,t,n,i,r,o){var a,l,f,h,p,g,y,T,w,A,E,M;return L(function(I){switch(I.g){case 1:if(n=="video/mp2t")throw new O(2,4,4040);if(F.shakaMediaKeysPolyfill==="apple")throw new O(2,4,4041);if(a=It(t,"METHOD"),l=["SAMPLE-AES","SAMPLE-AES-CTR"],!l.includes(a))return I.return(null);if(f=Gl(i(),It(t,"URI"),o),f[0].startsWith("data:text/plain;base64,")){h=Cu(er(f[0].split("data:text/plain;base64,").pop())),I.s(2);break}return p=f.sort().join(""),e.oa.has(p)||(g=mn(f,e.g.retryParameters),y=Ra(e,g,6).promise,e.oa.set(p,y)),C(I,e.oa.get(p),3);case 3:T=I.h,h=Cu(T.data);case 2:if(w="00000000000000000000000000000000",!r){I.s(4);break}return C(I,Rx(e,r),5);case 5:(A=I.h)&&(w=A);case 4:return E=new Map,E.set(w,h),M="cenc",a=="SAMPLE-AES"&&(M="cbcs"),I.return(Pa(E,M))}})}function Rx(e,t){var n,i,r,o;return L(function(a){return a.g==1?(n=null,e.pa.has(t)?(n=e.pa.get(t),a.s(2)):(i=Al(t.N(),t.uc(),t.tc(),e.g.retryParameters),r=li,C(a,Ra(e,i,r,{type:0}).promise,3))):(a.g!=2&&(o=a.h,t.Kd(o.data),n=kp(o.data),e.pa.set(t,n)),a.return(n))})}me("shaka.hls.HlsParser",kv);var G0=new Map().set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),OM=new Map().set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),jM=new Map().set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),bM=new Map().set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),PM=new Map().set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),X0=new Map().set("audio",OM).set("video",jM).set("text",bM).set("image",PM),kx=new Set(["video/mp2t"].concat(ce(Vi))),Ov="VOD",Nx="EVENT",jv="LIVE",BM={Ph:Ov,Zj:Nx,gk:jv};ns("application/x-mpegurl",function(){return new kv}),ns("application/vnd.apple.mpegurl",function(){return new kv});function bv(e){return vv(e)}var HM=new Map().set("com.microsoft.playready",bv).set("com.microsoft.playready.recommendation",bv).set("com.microsoft.playready.software",bv).set("com.microsoft.playready.hardware",bv);function q0(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.C=new La(5),this.o=new Ke(function(){VM(e)}),this.B=new qs,this.m=new Map,this.A=function(){return!1}}S=q0.prototype,S.configure=function(e,t){this.g=e,t&&(this.A=t)},S.start=function(e,t){var n=this;return L(function(i){if(i.g==1)return n.l=[e],n.h=t,C(i,F0(n),2);if(!n.h)throw new O(2,7,7001);return i.return(n.j)})};function VM(e){var t;L(function(n){switch(n.g){case 1:return Se(n,2),C(n,F0(e),4);case 4:Pe(n,3);break;case 2:t=Te(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();le(n)}})}S.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},S.update=function(){var e=this,t;return L(function(n){if(n.g==1)return Se(n,2),C(n,F0(e),4);if(n.g!=2)return Pe(n,0);if(t=Te(n),!e.h||!t)return n.return();e.h.onError(t),le(n)})},S.onExpirationUpdated=function(){},S.onInitialVariantChosen=function(){},S.banLocation=function(){},S.setMediaElement=function(){};function F0(e){var t,n,i,r,o,a,l;return L(function(f){if(f.g==1)return t=mn(e.l,e.g.retryParameters),n=e.h.networkingEngine,i=Date.now(),r=n.request(0,t,{type:5,isPreload:e.A()}),Pr(e.B,r),C(f,r.promise,2);if(o=f.h,!e.h)return f.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var h=o.uri,p=o.data,g=e.g.mss.manifestPreprocessor;if(g!=Ld){if(ct("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),p=BT(p,"SmoothStreamingMedia"),!p)throw new O(2,4,4046,h);g(p),p=Ji(p.outerHTML)}var y=uc(p,"SmoothStreamingMedia");if(!y)throw new O(2,4,4046,h);if(h=e.g.mss.manifestPreprocessorTXml,h!=Ll&&h(y),e.i||(e.i=new xe(null,0)),h=Oe(y,"IsLive",sc,!1))throw new O(2,4,4047);e.i.Gc(!h),g=Oe(y,"TimeScale",oi,1e7),p=Oe(y,"DVRWindowLength",oi),h&&(p===0||isNaN(p))&&(p=1/0);var T=Oe(y,"CanSeek",sc,!1);p===0&&T&&(p=1/0),T=null,p&&0<p&&(T=p/g),h&&!isNaN(e.g.availabilityWindowOverride)&&(T=e.g.availabilityWindowOverride),T==null&&(T=1/0),e.i.Ce(T),p=Oe(y,"Duration",oi,1/0),h||e.i.bb(p/g),h={variants:[],textStreams:[],timescale:g,duration:p/g};var w;for(T=dt(y,"Protection"),g=e.g.mss.keySystemsBySystemId,p=[],T=x(T),w=T.next();!w.done;w=T.next())p=p.concat(dt(w.value,"ProtectionHeader"));if(p.length){for(T=[],w=0;w<p.length;w++){var A=p[w],E=A.attributes.SystemID.toLowerCase(),M=g[E];if(M){var I;e:{if(I=mT(A)){I=x(Or(I,"DATA"));for(var U=I.next();!U.done;U=I.next())if(U=ln(U.value,"KID")){I=er(gn(U)),I=new Uint8Array([I[3],I[2],I[1],I[0],I[5],I[4],I[7],I[6]].concat(ce(I.slice(8)))),I=Cu(I);break e}}I=null}U=er(gn(A)),E=uo(E.replace(/-/g,"")),E=[{initData:Mc(U,E,new Set,0),initDataType:"cenc",keyId:I}],E=Du(M,"cenc",E),I&&E.keyIds.add(I),(M=HM.get(M))&&(E.licenseServerUri=M(A)),T.push(E)}}g=T}else g=[];for(w=g,T=[],g=[],p=[],y=dt(y,"StreamIndex"),y=x(y),A=y.next();!A.done;A=y.next()){A=A.value,M=dt(A,"QualityLevel"),E=h.timescale,I=h.duration,U=dt(A,"c");for(var _=[],b=0,N=0;N<U.length;++N){var k=U[N],P=U[N+1],j=Oe(k,"t",oi),V=Oe(k,"d",oi);if(k=Oe(k,"r",jn),!V)break;if(j=j!=null?j:b,(k=k||0)&&k--,0>k)if(P){if(P=Oe(P,"t",oi),P==null)break;if(j>=P)break;k=Math.ceil((P-j)/V)-1}else{if(I==1/0)break;if(j/E>=I)break;k=Math.ceil((I*E-j)/V)-1}for(P=0;P<=k;++P)b=j+V,_.push({start:j/E,end:b/E,xg:j}),j=b}for(E=_,M=x(M),I=M.next();!I.done;I=M.next())(I=zM(e,A,I.value,E,w,h))&&(I.type!="audio"||e.g.disableAudio?I.type!="video"||e.g.disableVideo?I.type!=Xe||e.g.disableText||p.push(I):g.push(I):T.push(I))}for(y=[],T=x(0<T.length?T:[null]),w=T.next();!w.done;w=T.next())for(w=w.value,A=x(0<g.length?g:[null]),_=A.next();!_.done;_=A.next())M=y,E=M.push,I=e,U=w,_=_.value,N=0,U&&U.bandwidth&&0<U.bandwidth&&(N+=U.bandwidth),_&&_.bandwidth&&0<_.bandwidth&&(N+=_.bandwidth),I={id:I.u++,language:U?U.language:"und",disabledUntilTime:0,primary:!!U&&U.primary||!!_&&_.primary,audio:U,video:_,bandwidth:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},E.call(M,I);h.variants=y,h.textStreams=p,e.j?(e.j.variants=h.variants,e.j.textStreams=h.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:h.variants,textStreams:h.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.ie()),Promise.resolve(),a=Date.now(),l=(a-i)/1e3,e.C.sample(1,l),le(f)})}function zM(e,t,n,i,r,o){var a=t.attributes.Type;if(a!=="audio"&&a!=="video"&&a!=="text")return ot("Ignoring unrecognized type:",a),null;var l=t.attributes.Language,f=e.u++,h=Oe(n,"Bitrate",Sr),p=Oe(n,"MaxWidth",Sr),g=Oe(n,"MaxHeight",Sr),y=Oe(n,"Channels",Sr),T=Oe(n,"SamplingRate",Sr),w=o.duration;i.length&&(w=i[i.length-1].end-i[0].start);var A=e.i.getDuration();e.i.bb(Math.min(w,A));var E={id:f,originalId:t.attributes.Name||String(f),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:h||0,width:p||void 0,height:g||void 0,kind:"",encrypted:0<r.length,drmInfos:r,keyIds:new Set,language:ht(l||"und"),originalLanguage:l,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:y,audioSamplingRate:T,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:w,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((r=t.attributes.Subtype)&&((r=YM.get(r))&&E.roles.push(r),r==="main"&&(E.primary=!0)),r=n.attributes.FourCC,(r===null||r==="")&&(r=t.attributes.FourCC),!r){if(a==="audio")r="AAC";else if(a==="video")return ot('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!KM.includes(r.toUpperCase()))return ot("Codec not supported:",r),null;switch(n=GM(n,a,r,E),E.mssPrivateData.codecPrivateData=n,a){case"audio":if(!n)return ot("Quality unsupported without CodecPrivateData",a),null;E.type="audio",E.mimeType="mss/audio/mp4",E.codecs=XM(r,n);break;case"video":if(!n)return ot("Quality unsupported without CodecPrivateData",a),null;E.type="video",E.mimeType="mss/video/mp4",E.codecs=qM(n);break;case"text":E.type=Xe,E.mimeType="application/mp4",(r==="TTML"||r==="DFXP")&&(E.codecs="stpp")}return E.fullMimeTypes.add(Zt(E.mimeType,E.codecs)),E.createSegmentIndex=function(){if(E.segmentIndex)return Promise.resolve();if(e.m.has(E.id))var M=e.m.get(E.id);else M=[],E.type=="video"&&(M=E.mssPrivateData.codecPrivateData.split("00000001").slice(1)),M={id:E.id,type:E.type,codecs:E.codecs,encrypted:E.encrypted,timescale:E.mssPrivateData.timescale,duration:E.mssPrivateData.duration,lb:M,ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:null,stream:E},M=Ws(new ur([M])),e.m.set(E.id,M);return M=FM(e,new yi(function(){return[]},0,null,Gc(E),E.mssPrivateData.timescale,M,null,E.encrypted),E,t,i),E.segmentIndex=new st(M),Promise.resolve()},E.closeSegmentIndex=function(){E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null)},E}function GM(e,t,n,i){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=i.channelsCount||2,e=i.audioSamplingRate||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return i=r[e],n==="AACH"?(n=new Uint8Array(4),e=r[2*e],n[0]=40|i>>1,n[1]=i<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|i>>1,n[1]=i<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function XM(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function qM(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function FM(e,t,n,i,r){var o=i.attributes.Url.replace("{bitrate}",String(n.bandwidth));i=[],r=x(r);for(var a=r.next(),l={};!a.done;l={Fe:void 0},a=r.next())l.Fe=a.value,i.push(new Me(l.Fe.start,l.Fe.end,function(f){return function(){return Qt(e.l,[o.replace("{start time}",String(f.Fe.xg))])}}(l),0,null,t,0,0,n.mssPrivateData.duration));return i}me("shaka.mss.MssParser",q0);var KM="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),YM=new Map().set("CAPT","main").set("SUBT","alternate").set("DESC","main");ns("application/vnd.ms-sstr+xml",function(){return new q0});function Lx(e,t,n,i,r,o,a){if(200<=n&&299>=n&&n!=202||n==304)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:o};o=null;try{o=iu(t)}catch(l){}throw new O(n==401||n==403?2:1,1,1001,i,n,o,e,a,r||i)}function K0(){}function Pv(e,t,n,i,r,o){var a=new $M;To(t.headers).forEach(function(p,g){a.append(g,p)});var l=new WM,f={Gg:!1,Jh:!1};if(e=QM(e,t,n,{body:t.body||void 0,headers:a,method:t.method,signal:l.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},f,i,r,t.streamDataCallback,o.minBytesForProgressEvents||0),e=new bt(e,function(){return f.Gg=!0,l.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var h=new Ke(function(){f.Jh=!0,l.abort()});h.da(t/1e3),e.finally(function(){h.stop()})}return e}function QM(e,t,n,i,r,o,a,l,f){var h,p,g,y,T,w,A,E,M,I,U,_,b,N;return L(function(k){switch(k.g){case 1:return h=ZM,p=JM,y=new ArrayBuffer(0),w=T=0,A=Date.now(),Se(k,2),C(k,h(e,i),4);case 4:if(g=k.h,a(Ux(g.headers)),i.method=="HEAD"){k.s(5);break}return M=(E=g.headers.get("Content-Length"))?parseInt(E,10):0,g.body?(I=g.clone().body.getReader(),U=function(P){function j(){var V,H,z,K;return L(function(X){switch(X.g){case 1:return Se(X,2),C(X,I.read(),4);case 4:V=X.h,Pe(X,3);break;case 2:return Te(X),X.return();case 3:if(V.done){X.s(5);break}if(T+=V.value.byteLength,!l){X.s(5);break}return C(X,l(V.value),5);case 5:H=Date.now(),z=T-w,(100<H-A&&z>=f||V.done)&&(K=V.done?0:M-T,o(H-A,z,K),w=T,A=H),V.done?P.close():(P.enqueue(V.value),j()),le(X)}})}j()},new p({start:U}),C(k,g.arrayBuffer(),8)):C(k,g.arrayBuffer(),9);case 8:y=k.h,k.s(5);break;case 9:y=k.h,_=Date.now(),o(_-A,y.byteLength,0);case 5:Pe(k,3);break;case 2:throw b=Te(k),r.Gg?new O(1,1,7001,e,n):r.Jh?new O(1,1,1003,e,n):new O(1,1,1002,e,b,n);case 3:return N=Ux(g.headers),k.return(Lx(N,y,g.status,e,g.url,t,n))}})}function Ux(e){var t={};return e.forEach(function(n,i){t[i.trim()]=n}),t}function _x(){if(F.ReadableStream)try{new ReadableStream({})}catch(e){return!1}else return!1;if(F.Response){if(!new Response("").body)return!1}else return!1;return!(!F.fetch||"polyfill"in F.fetch||!F.AbortController)}me("shaka.net.HttpFetchPlugin",K0),K0.isSupported=_x,K0.parse=Pv;var ZM=F.fetch,WM=F.AbortController,JM=F.ReadableStream,$M=F.Headers;_x()&&(Lu("http",Pv,2,!0),Lu("https",Pv,2,!0),Lu("blob",Pv,2,!0));function Ox(){}function Bv(e,t,n,i,r,o){var a=new eC,l=Date.now(),f=0,h=new Promise(function(p,g){a.open(t.method,e,!0),a.responseType="arraybuffer",a.timeout=t.retryParameters.timeout,a.withCredentials=t.allowCrossSiteCredentials,a.onabort=function(){g(new O(1,1,7001,e,n))};var y=!1;a.onreadystatechange=function(){if(a.readyState==2&&!y){var w=jx(a);r(w),y=!0}},a.onload=function(w){var A=jx(a),E=a.response;try{i(Date.now()-l,w.loaded-f,0);var M=Lx(A,E,a.status,e,a.responseURL,t,n);p(M)}catch(I){g(I)}},a.onerror=function(w){g(new O(1,1,1002,e,w,n))},a.ontimeout=function(){g(new O(1,1,1003,e,n))},a.onprogress=function(w){var A=Date.now(),E=o.minBytesForProgressEvents||0,M=w.loaded-f;(100<A-l&&M>=E||w.lengthComputable&&w.loaded==w.total)&&(i(A-l,M,a.readyState==4?0:w.total-w.loaded),f=w.loaded,l=A)};for(var T in t.headers)a.setRequestHeader(T.toLowerCase(),t.headers[T]);a.send(t.body)});return new bt(h,function(){return a.abort(),Promise.resolve()})}function jx(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={},t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}me("shaka.net.HttpXHRPlugin",Ox),Ox.parse=Bv;var eC=F.XMLHttpRequest;Lu("http",Bv,1,!0),Lu("https",Bv,1,!0),Lu("blob",Bv,1,!0);function bx(e,t,n,i,r){this.g=e,this.i=t,this.groupId=n,this.h=i,this.j=r}function Y0(e){var t=e.Ib(!1);return t?$i(t):e.N().map(function(n){return"{"+encodeURI(n.split("#xywh=")[0])+"}"}).join("")+":"+e.Sa+":"+e.wa}function tC(e,t){return Al(e.g.N(),e.g.Sa,e.g.wa,t.streaming.retryParameters)}function Px(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function Bx(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}Px.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}};function Hx(e){return e.i==0?0:e.j/e.i}function Vx(e){var t=this;this.u=e,this.i=new Map,this.h=new du(function(){return Q0(t).catch(function(){})}),this.j=[],this.o=function(){},this.m=function(){},this.g=new Px,this.l=!1}Vx.prototype.destroy=function(){return this.h.destroy()};function nC(e,t,n){e.o=t,e.m=n}function Q0(e){e.l=!0;var t=e.j.map(function(n){return n()});return e.j=[],Promise.all(t)}function iC(e,t,n,i,r,o){kt(e.h);var a=(e.i.get(t)||Promise.resolve()).then(function(){var l,f,h,p,g,y,T;return L(function(w){if(w.g==1)return C(w,oC(e,n),2);if(l=w.h,e.h.g)throw new O(2,9,7001);if(r)for(p in f=Ue(l),h=new Ac(f),h.data)g=Number(p),y=h.data[g],T=h.g[g],e.m(y,T);return e.g.close(i,l.byteLength),e.o(Hx(e.g),e.g.g),w.return(o(l))})});e.i.set(t,a)}function rC(e,t,n,i,r,o){kt(e.h);var a=(e.i.get(t)||Promise.resolve()).then(function(){if(e.h.g)throw new O(2,9,7001);if(r){var l=Ue(n);l=new Ac(l);for(var f in l.data){var h=Number(f);e.m(l.data[h],l.g[h])}}return e.g.close(i,n.byteLength),e.o(Hx(e.g),e.g.g),o(n)});e.i.set(t,a)}function uC(e){return L(function(t){return t.g==1?C(t,Promise.all(e.i.values()),2):t.return(e.g.g)})}function oC(e,t){var n,i,r,o;return L(function(a){return a.g==1?(n=li,i=e.u.request(n,t),r=function(){return i.abort()},e.j.push(r),C(a,i.promise,2)):(o=a.h,_r(e.j,r),a.return(o.data))})}function Hv(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new xt,e.onabort=function(i){i.preventDefault(),n.g.reject()},e.onerror=function(i){i.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}Hv.prototype.abort=function(){var e=this;return L(function(t){if(t.g==1){try{e.i.abort()}catch(n){}return Se(t,2),C(t,e.g,4)}if(t.g!=2)return Pe(t,0);Te(t),le(t)})};function Z0(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var o;return L(function(a){if(a.g==1)return r.result==null?(n(),a.return()):(o=r.result,C(a,t(o.key,o.value,o),2));o.continue(),le(a)})}})}Hv.prototype.store=function(){return this.h},Hv.prototype.promise=function(){return this.g};function W0(e){this.h=e,this.g=[]}W0.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function df(e,t){return Vv(e,t,"readwrite")}function Vv(e,t,n){n=e.h.transaction([t],n);var i=new Hv(n,t);return e.g.push(i),i.promise().then(function(){_r(e.g,i)},function(){_r(e.g,i)}),i}function hf(e,t,n){this.h=new W0(e),this.i=t,this.g=n}S=hf.prototype,S.destroy=function(){return this.h.destroy()},S.hasFixedKeySpace=function(){return!0},S.addSegments=function(){return zx(this.i)},S.removeSegments=function(e,t){return Gx(this,this.i,e,t)},S.getSegments=function(e){var t=this,n;return L(function(i){return i.g==1?C(i,Xx(t,t.i,e),2):(n=i.h,i.return(n.map(function(r){return t.Ig(r)})))})},S.addManifests=function(){return zx(this.g)},S.updateManifest=function(){return Promise.reject(new O(2,9,9016,"Cannot modify values in "+this.g))};function sC(e,t,n){e=df(e.h,e.g);var i=e.store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}S.updateManifestExpiration=function(e,t){var n=df(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,i.put(r,e))},n.promise()},S.removeManifests=function(e,t){return Gx(this,this.g,e,t)},S.getManifests=function(e){var t=this,n;return L(function(i){return i.g==1?C(i,Xx(t,t.g,e),2):(n=i.h,i.return(Promise.all(n.map(function(r){return t.jd(r)}))))})},S.getAllManifests=function(){var e=this,t,n;return L(function(i){return i.g==1?(t=Vv(e.h,e.g,"readonly"),n=new Map,C(i,Z0(t,function(r,o){var a;return L(function(l){if(l.g==1)return C(l,e.jd(o),2);a=l.h,n.set(r,a),le(l)})}),2)):i.g!=3?C(i,t.promise(),3):i.return(n)})},S.Ig=function(e){return e},S.jd=function(e){return Promise.resolve(e)};function zx(e){return Promise.reject(new O(2,9,9011,"Cannot add new value to "+e))}S.add=function(e,t){var n=this,i,r,o,a,l,f,h;return L(function(p){if(p.g==1){for(i=df(n.h,e),r=i.store(),o=[],a=x(t),l=a.next(),f={};!l.done;f={cg:void 0},l=a.next())h=l.value,f.cg=r.add(h),f.cg.onsuccess=function(g){return function(){o.push(g.cg.result)}}(f);return C(p,i.promise(),2)}return p.return(o)})};function Gx(e,t,n,i){e=df(e.h,t),t=e.store(),n=x(n);for(var r=n.next(),o={};!r.done;o={Qf:void 0},r=n.next())o.Qf=r.value,t.delete(o.Qf).onsuccess=function(a){return function(){return i(a.Qf)}}(o);return e.promise()}function Xx(e,t,n){var i,r,o,a,l,f,h;return L(function(p){if(p.g==1){for(i=Vv(e.h,t,"readonly"),r=i.store(),o={},a=[],l=x(n),f=l.next(),h={};!f.done;h={we:void 0,ee:void 0},f=l.next())h.ee=f.value,h.we=r.get(h.ee),h.we.onsuccess=function(g){return function(){g.we.result==null&&a.push(g.ee),o[g.ee]=g.we.result}}(h);return C(p,i.promise(),2)}if(a.length)throw new O(2,9,9012,"Could not find values for "+a);return p.return(n.map(function(g){return o[g]}))})}function wg(e){this.g=new W0(e)}wg.prototype.destroy=function(){return this.g.destroy()},wg.prototype.getAll=function(){var e=this,t,n;return L(function(i){return i.g==1?(t=Vv(e.g,"session-ids","readonly"),n=[],C(i,Z0(t,function(r,o){n.push(o)}),2)):i.g!=3?C(i,t.promise(),3):i.return(n)})},wg.prototype.add=function(e){var t=df(this.g,"session-ids"),n=t.store();e=x(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},wg.prototype.remove=function(e){var t=this,n;return L(function(i){return i.g==1?(n=df(t.g,"session-ids"),C(i,Z0(n,function(r,o,a){e.includes(o.sessionId)&&a.delete()}),2)):C(i,n.promise(),0)})};function dr(){this.g=new Map}dr.prototype.destroy=function(){for(var e=[],t=x(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},dr.prototype.init=function(){var e=this;Eg.forEach(function(r,o){(r=r())&&e.g.set(o,r)});for(var t=[],n=x(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)};function qx(e){var t=null;if(e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){r.hasFixedKeySpace()||t||(t={path:{zb:i,Ta:o},Ta:r})})}),t)return t;throw new O(2,9,9013,"Could not find a cell that supports add-operations")}function aC(e,t){e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){t({zb:i,Ta:o},r)})})}function zv(e,t,n){if(e=e.g.get(t),!e)throw new O(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new O(2,9,9013,"Could not find cell with name "+n);return t}function lC(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function cC(e){var t=Array.from(e.g.keys());if(!t.length)throw new O(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function fC(e){var t,n,i;return L(function(r){return r.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(i=Eg,i.forEach(function(o){(o=o())&&t.push(o)})),C(r,Promise.all(t.map(function(o){return o.erase()})),2)):n?r.s(0):C(r,Promise.all(t.map(function(o){return o.destroy()})),0)})}function Fx(e,t){Eg.set(e,t)}me("shaka.offline.StorageMuxer",dr),dr.unregister=function(e){Eg.delete(e)},dr.register=Fx,dr.prototype.destroy=dr.prototype.destroy;var Eg=new Map;function Ag(){hf.apply(this,arguments)}Yt(Ag,hf),Ag.prototype.updateManifestExpiration=function(e,t){var n=this,i,r,o;return L(function(a){return i=df(n.h,n.g),r=i.store(),o=new xt,r.get(e).onsuccess=function(l){(l=l.target.result)?(l.expiration=t,r.put(l),o.resolve()):o.reject(new O(2,9,9012,"Could not find values for "+e))},C(a,Promise.all([i.promise(),o]),0)})},Ag.prototype.jd=function(e){var t,n,i,r,o,a;return L(function(l){if(l.g==1){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,o=dC(e.periods[n],r),t.push(o);return C(l,NT(t),2)}return a=l.h,l.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:a,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function dC(e,t){pC(e);for(var n=x(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(r){return hC(r,e.startTime,t)})}function hC(e,t,n){var i=e.initSegmentUri?Kx(e.initSegmentUri):null,r=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(a){var l=Kx(a.uri);return{startTime:t+a.startTime,endTime:t+a.endTime,dataKey:l,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:r,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}Ag.prototype.Ig=function(e){return{data:e.data}};function Kx(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new O(2,9,9004,"Could not parse uri "+e)}function pC(e){var t=e.streams.filter(function(l){return l.contentType=="audio"});if(e=e.streams.filter(function(l){return l.contentType=="video"}),!t.every(function(l){return l.variantIds})||!e.every(function(l){return l.variantIds})){for(var n=x(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=x(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){i=n++;for(var r=x(e),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,r=x(t),o=r.next();!o.done;o=r.next())o.value.variantIds.push(i);if(e.length&&t.length)for(t=x(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=x(e),o=r.next();!o.done;o=r.next()){o=o.value;var a=n++;i.variantIds.push(a),o.variantIds.push(a)}}}function Gv(){hf.apply(this,arguments)}Yt(Gv,hf),Gv.prototype.jd=function(e){var t,n,i,r,o,a;return L(function(l){if(l.g==1){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var f=e.periods[n],h=[],p=x(f.streams),g=p.next();!g.done;g=p.next())g=g.value,g.variantIds.length!=0&&h.push(gC(g,f.startTime,f.startTime+r));o=h,t.push(o)}return C(l,NT(t),2)}return a=l.h,l.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:a,sequenceMode:!1})})};function gC(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function J0(){hf.apply(this,arguments)}Yt(J0,hf),S=J0.prototype,S.hasFixedKeySpace=function(){return!1},S.addSegments=function(e){return this.add(this.i,e)},S.addManifests=function(e){return this.add(this.g,e)},S.updateManifest=function(e,t){return sC(this,e,t)},S.jd=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function Yx(){this.m=this.j=this.i=this.h=this.g=this.l=null}S=Yx.prototype,S.init=function(){var e=this,t=new xt,n=!1,i=new Ke(function(){n=!0,t.reject(new O(2,9,9017))});i.da(5);var r=F.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){if(!n){var o=r.result;e.l=o;var a=o.objectStoreNames;a=a.contains("manifest")&&a.contains("segment")?new Ag(o,"segment","manifest"):null,e.g=a,a=o.objectStoreNames,a=a.contains("manifest-v2")&&a.contains("segment-v2")?new Gv(o,"segment-v2","manifest-v2"):null,e.h=a,a=o.objectStoreNames,a=a.contains("manifest-v3")&&a.contains("segment-v3")?new Gv(o,"segment-v3","manifest-v3"):null,e.i=a,a=o.objectStoreNames,a=a.contains("manifest-v5")&&a.contains("segment-v5")?new J0(o,"segment-v5","manifest-v5"):null,e.j=a,o=o.objectStoreNames.contains("session-ids")?new wg(o):null,e.m=o,i.stop(),t.resolve()}},r.onupgradeneeded=function(){for(var o=r.result,a=x(["segment-v5","manifest-v5","session-ids"]),l=a.next();!l.done;l=a.next())l=l.value,o.objectStoreNames.contains(l)||o.createObjectStore(l,{autoIncrement:!0})},r.onerror=function(o){n||(t.reject(new O(2,9,9001,r.error)),i.stop(),o.preventDefault())},t},S.destroy=function(){var e=this;return L(function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return C(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return C(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return C(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return C(t,e.j.destroy(),8);case 8:if(!e.m){t.s(10);break}return C(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),le(t)}})},S.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},S.getEmeSessionCell=function(){return this.m},S.erase=function(){var e=this;return L(function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return C(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return C(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return C(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return C(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),C(t,mC(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,C(t,e.init(),0)}})};function mC(){var e=new xt,t=F.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new O(2,9,9001,t.error)),n.preventDefault()},e}Fx("idb",function(){return(!Wi()||Wi()&&no())&&!Zi()&&F.indexedDB?new Yx:null});function Ts(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}Ts.prototype.zb=function(){return this.i},Ts.prototype.Ta=function(){return this.h},Ts.prototype.key=function(){return this.l},Ts.prototype.toString=function(){return this.j};function $0(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var i=e[3];return i&&t!=null?new Ts(t,n,i,Number(e[4])):null}function Qx(e,t){this.h=e,this.g=t}function Zx(e,t){var n=new xe(null,0);n.bb(t.duration);var i=t.streams.filter(function(h){return h.type=="audio"}),r=t.streams.filter(function(h){return h.type=="video"});i=vC(e,i,r,n),r=t.streams.filter(function(h){return h.type==Xe}).map(function(h){return Xv(e,h,n)});var o=t.streams.filter(function(h){return h.type=="image"}).map(function(h){return Xv(e,h,n)}),a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var l=x(i.values()),f=l.next();!f.done;f=l.next())f=f.value,f.audio&&f.audio.encrypted&&(f.audio.drmInfos=a),f.video&&f.video.encrypted&&(f.video.drmInfos=a);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function vC(e,t,n,i){for(var r=new Set,o=x(t),a=o.next();!a.done;a=o.next()){a=x(a.value.variantIds);for(var l=a.next();!l.done;l=a.next())r.add(l.value)}for(o=x(n),a=o.next();!a.done;a=o.next())for(a=x(a.value.variantIds),l=a.next();!l.done;l=a.next())r.add(l.value);for(o=new Map,r=x(r),a=r.next();!a.done;a=r.next())a=a.value,o.set(a,{id:a,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=x(t),r=t.next();!r.done;r=t.next())for(a=r.value,r=Xv(e,a,i),a=x(a.variantIds),l=a.next();!l.done;l=a.next())l=o.get(l.value),l.language=r.language,l.primary=l.primary||r.primary,l.audio=r;for(n=x(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Xv(e,r,i),r=x(r.variantIds),a=r.next();!a.done;a=r.next())a=o.get(a.value),a.primary=a.primary||t.primary,a.video=t;return o}function Xv(e,t,n){var i=t.segments.map(function(r){return yC(e,r,t)});return n.Ed(i),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new st(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Zt(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function yC(e,t,n){var i=new Ts("segment",e.h,e.g,t.dataKey);return e=new Me(t.startTime,t.endTime,function(){return[i.toString()]},0,null,t.initSegmentKey!=null?SC(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.De(t.thumbnailSprite),e}function SC(e,t){var n=new Ts("segment",e.h,e.g,t);return new yi(function(){return[n.toString()]},0,null)}function Wx(){this.g=null}S=Wx.prototype,S.configure=function(){},S.start=function(e,t){var n=this,i,r,o,a,l,f,h;return L(function(p){switch(p.g){case 1:if(i=$0(e),n.g=i,i==null||i.g!="manifest")throw new O(2,1,9004,e);return r=new dr,bi(p,2),C(p,r.init(),4);case 4:return C(p,zv(r,i.zb(),i.Ta()),5);case 5:return o=p.h,C(p,o.getManifests([i.key()]),6);case 6:return a=p.h,l=a[0],f=new Qx(i.zb(),i.Ta()),h=Zx(f,l),t.makeTextStreamsForClosedCaptions(h),p.return(h);case 2:return re(p),C(p,r.destroy(),7);case 7:ye(p,0)}})},S.stop=function(){return Promise.resolve()},S.update=function(){},S.onExpirationUpdated=function(e,t){var n=this,i,r,o,a,l,f,h;return L(function(p){switch(p.g){case 1:return i=n.g,r=new dr,Se(p,2,3),C(p,r.init(),5);case 5:return C(p,zv(r,i.zb(),i.Ta()),6);case 6:return o=p.h,C(p,o.getManifests([i.key()]),7);case 7:if(a=p.h,l=a[0],f=l.sessionIds.includes(e),h=l.expiration==null||l.expiration>t,!f||!h){p.s(3);break}return C(p,o.updateManifestExpiration(i.key(),t),3);case 3:return re(p),C(p,r.destroy(),10);case 10:ye(p,0);break;case 2:Te(p),p.s(3)}})},S.onInitialVariantChosen=function(){},S.banLocation=function(){},S.setMediaElement=function(){},ns("application/x-offline-manifest",function(){return new Wx});function Jx(){}function $x(e,t){var n=$0(e);return n&&n.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t},e=Er(e)):e=n&&n.g=="segment"?TC(n.key(),n,t):vo(new O(2,1,9004,e)),e}function TC(e,t,n){var i=new dr;return Er(void 0).Ha(function(){return i.init()}).Ha(function(){return zv(i,t.zb(),t.Ta())}).Ha(function(r){return r.getSegments([t.key()])}).Ha(function(r){return{uri:t,data:r[0].data,headers:{},originalRequest:n}}).finally(function(){return i.destroy()})}me("shaka.offline.OfflineScheme",Jx),Jx.plugin=$x,Lu("offline",$x);function e2(e,t,n){var i,r,o,a,l,f;return L(function(h){switch(h.g){case 1:i=[];for(var p=[],g=x(n),y=g.next();!y.done;y=g.next()){y=y.value;for(var T=!1,w=x(p),A=w.next();!A.done;A=w.next())if(A=A.value,wC(A.info,y)){A.sessionIds.push(y.sessionId),T=!0;break}T||p.push({info:y,sessionIds:[y.sessionId]})}r=x(p),o=r.next();case 2:if(o.done){h.s(4);break}return a=o.value,l=xC(e,t,a),C(h,l,5);case 5:f=h.h,i=i.concat(f),o=r.next(),h.s(2);break;case 4:return h.return(i)}})}function xC(e,t,n){var i,r;return L(function(o){switch(o.g){case 1:return i=new Cc({Xb:t,onError:function(){},pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),Se(o,2),i.configure(e),C(o,nm(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:Pe(o,3);break;case 2:return Te(o),C(o,i.destroy(),5);case 5:return o.return([]);case 3:return r=[],C(o,Promise.all(n.sessionIds.map(function(a){return L(function(l){if(l.g==1)return Se(l,2),C(l,rm(i,a),4);if(l.g!=2)return r.push(a),Pe(l,0);Te(l),le(l)})})),6);case 6:return C(o,i.destroy(),7);case 7:return o.return(r)}})}function wC(e,t){function n(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Ah(e.audioCapabilities,t.audioCapabilities,n)&&Ah(e.videoCapabilities,t.videoCapabilities,n)}function EC(e,t,n){var i=t.presentationTimeline.getDuration();return t=t2(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function e1(e,t){var n=Zx(new Qx(e.zb(),e.Ta()),t),i=t.appMetadata||{};return n=t2(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function t2(e){var t=[],n=mo(e.variants);n=x(n);for(var i=n.next();!i.done;i=n.next())t.push(Gs(i.value));for(e=x(e.textStreams),n=e.next();!n.done;n=e.next())t.push(hc(n.value));return t}function AC(){this.g=new Map}function MC(e,t){var n=t.audio,i=t.video;if(n&&!i&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&i&&e.g.set(i.id,i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,o=i.bandwidth||t.bandwidth-r;0>=o&&(o=t.bandwidth),e.g.set(n.id,r),e.g.set(i.id,o)}}function CC(e,t){e.g.set(t.id,t.bandwidth||2048)}function n2(e,t){return e=e.g.get(t),e==null&&(e=0),e}function ni(e){var t=this;if(e&&e.constructor!=W)throw new O(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.xb()):(this.h=Cr(),this.g=new Ct),this.i=[],this.l=[];var n=!e;this.j=new du(function(){var i,r,o,a,l;return L(function(f){switch(f.g){case 1:return C(f,Promise.all(t.l.map(function(h){return Q0(h)})),2);case 2:for(i=function(){},r=[],o=x(t.i),a=o.next();!a.done;a=o.next())l=a.value,r.push(l.then(i,i));return C(f,Promise.all(r),3);case 3:if(!n){f.s(4);break}return C(f,t.g.destroy(),4);case 4:t.h=null,t.g=null,le(f)}})}),this.m=1e9}function t1(){if(tu())e:{for(var e=x(Eg.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}S=ni.prototype,S.destroy=function(){return this.j.destroy()},S.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=Qc(e,t)),Xu(this.h,e)},S.getConfiguration=function(){var e=Cr();return Xu(e,this.h,Cr()),e},S.xb=function(){return this.g},S.store=function(e,t,n,i,r){var o=this,a=this.getConfiguration(),l=new Vx(this.g);return this.l.push(l),t=DC(this,e,t||{},i||[],r||[],function(){var f;return L(function(h){return h.g==1?n?h.s(2):C(h,zr(e,o.g,a.manifest.retryParameters),3):(h.g!=2&&(n=h.h),f=Ks(e,n||null),h.return(f()))})},a,l),t=new bt(t,function(){return Q0(l)}),t.finally(function(){_r(o.l,l)}),GC(this,t)};function DC(e,t,n,i,r,o,a,l){var f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z;return L(function(Y){switch(Y.g){case 1:return qv(),h=f=null,p=new dr,T=y=g=null,Se(Y,2,3),C(Y,o(),5);case 5:return f=Y.h,C(Y,jC(e,t,f,a),6);case 6:if(w=Y.h,Xr(e),A=!w.presentationTimeline.U()&&!w.presentationTimeline.yc(),!A)throw new O(2,9,9005,t);E=x(i),M=E.next();case 7:if(M.done){Y.s(9);break}return I=M.value,C(Y,bC(e,I,w),10);case 10:U=Y.h,w.imageStreams.push(U),Xr(e),M=E.next(),Y.s(7);break;case 9:_=x(r),b=_.next();case 11:return b.done?(np(a.drm.clearKeys,w.variants),P=w.variants.some(function(ie){if(ie.audio){for(var se=x(ie.audio.drmInfos),Le=se.next();!Le.done;Le=se.next())if(Le.value.licenseServerUri.startsWith("data:"))return!0}if(ie.video){for(ie=x(ie.video.drmInfos),se=ie.next();!se.done;se=ie.next())if(se.value.licenseServerUri.startsWith("data:"))return!0}return!1}),j=a.offline.usePersistentLicense,P&&(j=!1),C(Y,e.Lc(w,function(ie){T=T||ie},a,j),15)):(N=b.value,C(Y,PC(e,w,N.uri,N.language,N.kind,N.mime,N.codecs),14));case 14:k=Y.h,w.textStreams.push(k),Xr(e),b=_.next(),Y.s(11);break;case 15:if(h=Y.h,Xr(e),T)throw T;return C(Y,RC(w,h,a,j),16);case 16:return C(Y,p.init(),17);case 17:return Xr(e),C(Y,qx(p),18);case 18:return g=Y.h,Xr(e),V=kC(h,w,t,n,a,l,j),H=V.Yi,z=V.tg,C(Y,g.Ta.addManifests([H]),19);case 19:if(K=Y.h,Xr(e),y=K[0],Xr(e),T)throw T;return C(Y,IC(e,z,y,H,l,a,g.Ta,w,h,j),20);case 20:return Xr(e),o2(w,H,h,j),C(Y,g.Ta.updateManifest(y,H),21);case 21:return Xr(e),X=new Ts("manifest",g.path.zb,g.path.Ta,y),Y.return(e1(X,H));case 3:return re(Y),C(Y,p.destroy(),22);case 22:if(!f){Y.s(23);break}return C(Y,f.stop(),23);case 23:if(!h){Y.s(25);break}return C(Y,h.destroy(),25);case 25:ye(Y,0);break;case 2:if(Z=Te(Y),y==null){Y.s(27);break}return C(Y,i2(y),27);case 27:throw T||Z}})}function IC(e,t,n,i,r,o,a,l,f,h){var p,g,y,T,w,A,E,M,I,U,_;return L(function(b){switch(b.g){case 1:if(p={},g=0,y=function(){if(e.j.g||r.l)throw new O(2,9,7001)},T=function(N,k){var P,j,V,H,z,K,X,Z,Y;return L(function(ie){if(ie.g==1){for(P=x(N),j=P.next(),V={};!j.done;V={Nb:void 0},j=P.next())V.Nb=j.value,y(),H=tC(V.Nb,o),z=V.Nb.i,K=V.Nb.h,X=function(se){return function(Le){var we,yt,et,Ge;return L(function(Ze){switch(Ze.g){case 1:if(we=se.Nb.g,yt=we.Ib(!1),!we.aesKey||yt){Ze.s(2);break}return C(Ze,Np(Le,we.aesKey,se.Nb.j),3);case 3:Le=Ze.h;case 2:return et=Y0(we),C(Ze,a.addSegments([{data:Le}]),4);case 4:Ge=Ze.h,y(),p[et]=Ge[0],g+=Le.byteLength,le(Ze)}})}}(V),Z=V.Nb.g,(Y=Z.Ib(!1))?rC(r,V.Nb.groupId,Y,z,K,X):iC(r,V.Nb.groupId,H,z,K,X);return C(ie,uC(r),2)}return y(),!k||r.l?ie.s(0):(o2(l,i,f,h),C(ie,a.updateManifest(n,i),0))})},w=!1,Se(b,2),!n1(l)||!w||u2(l)){b.s(4);break}return C(b,T(t.filter(function(N){return N.h}),!0),5);case 5:return y(),t=t.filter(function(N){return!N.h}),A=p,E=g,p={},g=0,C(b,r2(a,n,i,A,E,function(){return Xr(e)}),6);case 6:y();case 4:if(w){b.s(7);break}return C(b,T(t,!1),8);case 8:return y(),M=p,I=g,p={},g=0,C(b,r2(a,n,i,M,I,function(){return y()}),9);case 9:y();case 7:Pe(b,0);break;case 2:return U=Te(b),_=Object.values(p),C(b,a.removeSegments(_,function(){}),10);case 10:throw U}})}function i2(e){var t,n,i,r;return L(function(o){switch(o.g){case 1:return t=new dr,C(o,t.init(),2);case 2:return C(o,qx(t),3);case 3:return n=o.h,i=new Ts("manifest",n.path.zb,n.path.Ta,e),C(o,t.destroy(),4);case 4:return r=new ni,C(o,r.remove(i.toString()),0)}})}function r2(e,t,n,i,r,o){var a,l,f,h,p,g,y,T,w,A,E;return L(function(M){switch(M.g){case 1:for(a=!1,Se(M,2),l=!0,f=x(n.streams),h=f.next();!h.done;h=f.next())for(p=h.value,g=x(p.segments),y=g.next();!y.done;y=g.next())T=y.value,w=T.pendingSegmentRefId?i[T.pendingSegmentRefId]:null,w!=null&&(T.dataKey=w,T.pendingSegmentRefId=void 0),w=T.pendingInitSegmentRefId?i[T.pendingInitSegmentRefId]:null,w!=null&&(T.initSegmentKey=w,T.pendingInitSegmentRefId=void 0),T.pendingSegmentRefId&&(l=!1),T.pendingInitSegmentRefId&&(l=!1);return n.size+=r,l&&(n.isIncomplete=!1),C(M,e.updateManifest(t,n),4);case 4:a=!0,o(),Pe(M,0);break;case 2:return A=Te(M),C(M,i2(t),5);case 5:if(a){M.s(6);break}return E=Object.values(i),C(M,e.removeSegments(E,function(){}),6);case 6:throw A}})}function RC(e,t,n,i){var r,o,a,l,f,h,p,g,y,T,w,A,E,M,I,U,_,b,N,k,P,j,V,H,z,K,X,Z,Y,ie;return L(function(se){switch(se.g){case 1:return r={width:1/0,height:1/0},fc(e,n.restrictions,r),C(se,ku(t,e,i,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(o=[],a=n.preferredDecodingAttributes,l=n.preferredVideoCodecs,f=n.preferredAudioCodecs,h=n.preferredTextFormats,Wa(e,l,f,a,h),p=x(e.variants),g=p.next();!g.done;g=p.next())y=g.value,o.push(Gs(y));for(T=x(e.textStreams),w=T.next();!w.done;w=T.next())A=w.value,o.push(hc(A));for(E=x(e.imageStreams),M=E.next();!M.done;M=E.next())I=M.value,o.push(bn(I));return C(se,n.offline.trackSelectionCallback(o),3);case 3:for(U=se.h,_=e.presentationTimeline.getDuration(),b=0,N=x(U),k=N.next();!k.done;k=N.next())P=k.value,j=P.bandwidth*_/8,b+=j;return Se(se,4),C(se,n.offline.downloadSizeCallback(b),6);case 6:if(V=se.h,!V)throw new O(2,9,9014);Pe(se,5);break;case 4:throw H=Te(se),H instanceof O?H:new O(2,9,9015);case 5:for(z=new Set,K=new Set,X=new Set,Z=x(U),Y=Z.next();!Y.done;Y=Z.next())ie=Y.value,ie.type=="variant"&&z.add(ie.id),ie.type=="text"&&K.add(ie.id),ie.type=="image"&&X.add(ie.id);e.variants=e.variants.filter(function(Le){return z.has(Le.id)}),e.textStreams=e.textStreams.filter(function(Le){return K.has(Le.id)}),e.imageStreams=e.imageStreams.filter(function(Le){return X.has(Le.id)}),FC(e),le(se)}})}function kC(e,t,n,i,r,o,a){var l=EC(n,t,i),f=r.offline.progressCallback;nC(o,function(w,A){l.size=A,f(l,w)},function(w,A){h&&a&&p==A&&Fs(e,"cenc",w)});var h=n1(t)&&!u2(t),p=null;h&&(p=KC.get(e.h.keySystem));for(var g=new AC,y=x(t.textStreams),T=y.next();!T.done;T=y.next())g.g.set(T.value.id,52);for(y=x(t.imageStreams),T=y.next();!T.done;T=y.next())CC(g,T.value);for(y=x(t.variants),T=y.next();!T.done;T=y.next())MC(g,T.value);return o=HC(o,g,t,r),r=o.streams,o=o.tg,(g=e.h)&&a&&(g.initData=[]),{Yi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.pd(),streams:r,sessionIds:a?Yh(e):[],drmInfo:g,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},tg:o}}function n1(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function u2(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function o2(e,t,n,i){if(t.expiration=n.pd(),n=Yh(n),t.sessionIds=i?n:[],n1(e)&&i&&!n.length)throw new O(2,9,9007)}S.remove=function(e){return i1(this,NC(this,e))};function NC(e,t){var n,i,r,o,a,l;return L(function(f){switch(f.g){case 1:if(qv(),n=$0(t),n==null||n.g!="manifest")throw new O(2,9,9004,t);return i=n,r=new dr,bi(f,2),C(f,r.init(),4);case 4:return C(f,zv(r,i.zb(),i.Ta()),5);case 5:return o=f.h,C(f,o.getManifests([i.key()]),6);case 6:return a=f.h,l=a[0],C(f,Promise.all([LC(e,l,r),UC(o,i,l)]),2);case 2:return re(f),C(f,r.destroy(),8);case 8:ye(f,0)}})}function s2(e,t){for(var n=[],i=x(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&r.type=="video"?n.push({contentType:Zt(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||r.type!="audio"||n.push({contentType:Zt(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function LC(e,t,n){return L(function(i){return C(i,qC(e.g,e.h.drm,n,t),0)})}function UC(e,t,n){function i(){}var r=XC(n);return e1(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}S.qj=function(){return i1(this,_C(this))};function _C(e){var t,n,i,r,o,a,l,f,h,p;return L(function(g){switch(g.g){case 1:return qv(),t=e.g,n=e.h.drm,i=new dr,r=!1,bi(g,2),C(g,i.init(),4);case 4:o=[],lC(i,function(y){return o.push(y)}),a=x(o),l=a.next();case 5:if(l.done){g.s(2);break}return f=l.value,C(g,f.getAll(),8);case 8:return h=g.h,C(g,e2(n,t,h),9);case 9:return p=g.h,C(g,f.remove(p),10);case 10:p.length!=h.length&&(r=!0),l=a.next(),g.s(5);break;case 2:return re(g),C(g,i.destroy(),11);case 11:ye(g,3);break;case 3:return g.return(!r)}})}S.list=function(){return i1(this,OC())};function OC(){var e,t,n;return L(function(i){switch(i.g){case 1:return qv(),e=[],t=new dr,bi(i,2),C(i,t.init(),4);case 4:return n=Promise.resolve(),aC(t,function(r,o){n=n.then(function(){var a;return L(function(l){if(l.g==1)return C(l,o.getAllManifests(),2);a=l.h,a.forEach(function(f,h){f=e1(new Ts("manifest",r.zb,r.Ta,h),f),e.push(f)}),le(l)})})}),C(i,n,2);case 2:return re(i),C(i,t.destroy(),6);case 6:ye(i,3);break;case 3:return i.return(e)}})}function jC(e,t,n,i){var r,o,a,l,f;return L(function(h){if(h.g==1)return r=null,o=e.g,a={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(p){r=p},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return i.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(i.manifest),Xr(e),C(h,n.start(t,a),2);if(h.g!=3)return l=h.h,Xr(e),f=l2(l),C(h,Promise.all(En(f,function(p){return p.createSegmentIndex()})),3);if(Xr(e),r)throw r;return h.return(l)})}function bC(e,t,n){var i,r,o,a,l,f,h,p,g,y,T,w,A,E,M;return L(function(I){switch(I.g){case 1:return C(I,a2(e,t),2);case 2:if(i=I.h,i!="text/vtt")throw new O(1,2,2017,t);return C(I,BC(t,e.g,e.h.streaming.retryParameters),3);case 3:if(r=I.h,o=co(i),!o)throw new O(2,2,2014,i);for(a=o(),l={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},f=Ue(r),h=a.parseMedia(f,l,t,[]),p=[],g=x(h),y=g.next(),T={};!y.done;T={Me:void 0,Nc:void 0},y=g.next())T.Nc=y.value,T.Me=null,w=function(U){return function(){return U.Me==null&&(U.Me=Qt([t],[U.Nc.payload])),U.Me||[]}}(T),A=new Me(T.Nc.startTime,T.Nc.endTime,w,0,null,null,0,0,1/0),T.Nc.payload.includes("#xywh")&&(E=T.Nc.payload.split("#xywh=")[1].split(","),E.length===4&&A.De({height:parseInt(E[3],10),positionX:parseInt(E[0],10),positionY:parseInt(E[1],10),width:parseInt(E[2],10)})),p.push(A);if(M=i,!p.length){I.s(4);break}return C(I,zr(p[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:M=I.h;case 4:return I.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new st(p),mimeType:M||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Zt(M||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}})}function PC(e,t,n,i,r,o,a){var l,f,h;return L(function(p){if(p.g==1)return o?p.s(2):C(p,a2(e,n),3);if(p.g!=2&&(o=p.h),l={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ni(0,t.presentationTimeline.getDuration(),[n]),mimeType:o||"",codecs:a||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:i,originalLanguage:i,label:null,type:Xe,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Zt(o||"",a||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},f=Zt(l.mimeType,l.codecs),h=cu(f),!h)throw new O(2,2,2014,o);return p.return(l)})}function a2(e,t){var n;return L(function(i){switch(i.g){case 1:return Se(i,2),C(i,zr(t,e.g,e.h.streaming.retryParameters),4);case 4:n=i.h,Pe(i,3);break;case 2:Te(i);case 3:if(n)return i.return(n);throw new O(1,2,2011,t)}})}function BC(e,t,n){var i,r,o;return L(function(a){return a.g==1?(i=li,r=mn([e],n),r.method="GET",C(a,t.request(i,r).promise,2)):(o=a.h,a.return(o.data))})}S.Lc=function(e,t,n,i){var r=this,o;return L(function(a){return a.g==1?(o=new Cc({Xb:r.g,onError:t,pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(n.drm),C(a,tm(o,e.variants,i),2)):a.g!=3?C(a,Kh(o),3):a.return(o)})};function HC(e,t,n,i){var r=new Map,o=l2(n),a=new Map;o=x(o);for(var l=o.next();!l.done;l=o.next()){l=l.value;var f=VC(e,t,n,l,i,r);a.set(l.id,f)}for(e=x(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&a.get(t.audio.id).variantIds.push(t.id),t.video&&a.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(a.values()),tg:Array.from(r.values())}}function VC(e,t,n,i,r,o){var a={id:i.id,originalId:i.originalId,groupId:i.groupId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,kind:i.kind,language:i.language,originalLanguage:i.originalLanguage,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout,mssPrivateData:i.mssPrivateData,external:i.external,fastSwitching:i.fastSwitching,isAudioMuxedInVideo:i.isAudioMuxedInVideo},l=r.offline.numberOfParallelDownloads,f=l===0?i.id:0;return zC(i,n.presentationTimeline.pb(),function(h,p){var g=Y0(h),y=void 0;if(!o.has(g)){var T=h.endTime-h.startTime;T=n2(t,i.id)*T,T=Bx(e.g,T),o.set(g,new bx(h,T,f,!1,p))}h.$&&(y=Y0(h.$),o.has(y)||(T=.5*n2(t,i.id),T=Bx(e.g,T),o.set(y,new bx(h.$,T,f,!0,p)))),a.segments.push({pendingInitSegmentRefId:y,initSegmentKey:y?0:null,startTime:h.startTime,endTime:h.endTime,appendWindowStart:h.appendWindowStart,appendWindowEnd:h.appendWindowEnd,timestampOffset:h.timestampOffset,tilesLayout:h.tilesLayout,pendingSegmentRefId:g,dataKey:0,mimeType:h.mimeType,codecs:h.codecs,thumbnailSprite:h.thumbnailSprite}),l!==0&&(f=(f+1)%l)}),a}function zC(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var i=e.segmentIndex.get(t);i;)n(i,t),i=e.segmentIndex.get(++t)}function Xr(e){if(e.j.g)throw new O(2,9,7001)}function qv(){if(!t1())throw new O(2,9,9e3)}function i1(e,t){return L(function(n){return n.g==1?(e.i.push(t),bi(n,2),C(n,t,4)):n.g!=2?n.return(n.h):(re(n),_r(e.i,t),ye(n,0))})}function GC(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){_r(e.i,n)})}function XC(e){var t=new Set;e=x(e.streams);for(var n=e.next();!n.done;n=e.next()){n=x(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,i.initSegmentKey!=null&&t.add(i.initSegmentKey),t.add(i.dataKey)}return Array.from(t)}function qC(e,t,n,i){var r,o,a;return L(function(l){return l.g==1?i.drmInfo?(r=cC(n),o=i.sessionIds.map(function(f){return{sessionId:f,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:s2(i,!1),videoCapabilities:s2(i,!0)}}),C(l,e2(t,e,o),2)):l.return():l.g!=3?(a=l.h,C(l,r.remove(a),3)):C(l,r.add(o.filter(function(f){return!a.includes(f.sessionId)})),0)})}function l2(e){for(var t=new Set,n=x(e.variants),i=n.next();!i.done;i=n.next())i=i.value,i.audio&&t.add(i.audio),i.video&&t.add(i.video);for(n=x(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=x(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function FC(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=x(t),i=n.next();!i.done;i=n.next()){i=x(t);for(var r=i.next();!r.done;r=i.next());}for(t=x(e),n=t.next();!n.done;n=t.next())for(n=x(e),i=n.next();!i.done;i=n.next());}me("shaka.offline.Storage",ni),ni.deleteAll=function(){var e;return L(function(t){return t.g==1?(e=new dr,bi(t,2),C(t,fC(e),2)):t.g!=5?(re(t),C(t,e.destroy(),5)):ye(t,0)})},ni.prototype.list=ni.prototype.list,ni.prototype.removeEmeSessions=ni.prototype.qj,ni.prototype.remove=ni.prototype.remove,ni.prototype.store=ni.prototype.store,ni.prototype.getNetworkingEngine=ni.prototype.xb,ni.prototype.getConfiguration=ni.prototype.getConfiguration,ni.prototype.configure=ni.prototype.configure,ni.prototype.destroy=ni.prototype.destroy,ni.support=t1;var KC=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");d("offline",t1);function Oi(){}function hr(e,t){for(e={priority:t||0,callback:e},t=0;t<Mg.length;t++)if(Mg[t].priority<e.priority){Mg.splice(t,0,e);return}Mg.push(e)}me("shaka.polyfill",Oi),Oi.register=hr,Oi.installAll=function(){for(var e=x(Mg),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){ot("Error installing polyfill!",n)}}};var Mg=[];function c2(){}function f2(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=x(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())YC(t.value)}function YC(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}Oi.Aria=c2,c2.install=f2,hr(f2);function d2(){}function h2(){kn()||Rt("Sky_STB")||Cw()}Oi.EncryptionScheme=d2,d2.install=h2,hr(h2,-2);function p2(){}function g2(){if(F.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",rh),document.addEventListener("webkitfullscreenerror",rh),document.addEventListener("mozfullscreenchange",rh),document.addEventListener("mozfullscreenerror",rh),document.addEventListener("MSFullscreenChange",rh),document.addEventListener("MSFullscreenError",rh)}}function rh(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}Oi.Fullscreen=p2,p2.install=g2,hr(g2);function r1(){}function m2(){var e=!0;(Wi()&&!no()&&!ba()||qn()||Ms()||kn()||Mu()||Wn()||tc()||Po()&&!qn())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),v2=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=QC)}function QC(e){var t,n,i,r,o,a,l,f,h,p,g;return L(function(y){switch(y.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},n=e.video,i=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(r=n.contentType,o=ec(r),!o)||i&&(a=i.contentType,l=ec(a),!l))return y.return(t)}else return y.return(t);y.s(2);break}if(!tu())return y.return(t);if(!n){y.s(3);break}return C(y,ZC(n),4);case 4:if(f=y.h,!f)return y.return(t);case 3:if(i){var T=i.contentType;if(Wi()&&i.spatialRendering&&(T+="; spatialRendering=true"),h=On(T),!h)return y.return(t)}case 2:return e.keySystemConfiguration?(p=e.keySystemConfiguration,C(y,WC(n,i,p),6)):(t.supported=!0,y.return(t));case 6:(g=y.h)&&(t.supported=!0,t.keySystemAccess=g);case 5:return y.return(t)}})}function ZC(e){var t,n;return L(function(i){return i.g==1?Wi()?C(i,JC(e),3):Wn()?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width,t+="; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.bitrate&&(t+="; bitrate="+e.bitrate),i.return(On(t))):i.s(2):i.g!=2?(n=i.h,i.return(n)):i.return(On(e.contentType))})}function WC(e,t,n){var i,r,o,a,l,f,h,p,g,y,T;return L(function(w){switch(w.g){case 1:if(i=[],r=[],n.audio&&(o={robustness:n.audio.robustness||"",contentType:t.contentType},Wn()&&t.contentType.includes('codecs="ac-3"')&&(o.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(o.encryptionScheme=n.audio.encryptionScheme),i.push(o)),n.video&&(a={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(a.encryptionScheme=n.video.encryptionScheme),r.push(a)),l={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},i.length&&(l.audioCapabilities=i),r.length&&(l.videoCapabilities=r),f=e?e.contentType:"",h=t?t.contentType:"",p=cn(f)+";"+Zo(f),g=cn(h)+";"+Zo(h),y=n.keySystem,T=null,Se(w,2),eu.has(p+"#"+g+"#"+y)){T=eu.get(p+"#"+g+"#"+y)||null,w.s(4);break}return C(w,navigator.requestMediaKeySystemAccess(n.keySystem,[l]),5);case 5:T=w.h,eu.set(p+"#"+g+"#"+y,T);case 4:Pe(w,3);break;case 2:Te(w);case 3:return w.return(T)}})}function JC(e){var t,n,i,r,o;return L(function(a){if(a.g==1){if(!(F.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return a.return(On(e.contentType));switch(t=e.contentType,e.width&&e.height&&1280<e.width&&720<e.height&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(n=Math.round(e.framerate),24>n||30<n)&&(t+="; framerate="+e.framerate),i=e.transferFunction||"",i){case"":case"srgb":break;case"pq":t+="; eotf=smpte2084";break;case"hlg":t+="; eotf=arib-std-b67";break;default:return a.return(!1)}return r=!1,o=$C,o.has(t)?(r=o.get(t),a.s(2)):C(a,cast.__platform__.canDisplayType(t),3)}return a.g!=2&&(r=a.h,o.set(t,r)),a.return(r)})}Oi.MediaCapabilities=r1,r1.install=m2;var v2=null;r1.originalMcap=v2;var $C=new Map;hr(m2,-1);function y2(){}function S2(){var e=Vg();(F.MediaSource||F.ManagedMediaSource)&&(e&&F.MediaSource?12>=e?(u1(),T2()):15>=e&&u1():Rt("DT_STB_BCM")?(u1(),T2()):(Rt("Tizen 2")||nu()||Rt("Tizen 4"))&&t3()),(F.MediaSource||F.ManagedMediaSource)&&e3(),F.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&n3()}function u1(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,rt.apply(0,arguments));return t.abort=function(){},t}}function T2(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function e3(){if(F.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return Ps(n)!="mp2t"&&e(n)}}if(F.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);F.ManagedMediaSource.isTypeSupported=function(n){return Ps(n)!="mp2t"&&t(n)}}}function t3(){var e=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(n){return Zo(n)!="opus"&&e(n)},F.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);F.ManagedMediaSource.isTypeSupported=function(n){return Zo(n)!="opus"&&t(n)}}}function n3(){var e=MediaSource.isTypeSupported;Mu()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(a){return a.startsWith("codecs=")});if(0>i)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=r.findIndex(function(a){return a.startsWith("vp09")});return 0<=o&&(r[o]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}Oi.MediaSource=y2,y2.install=S2,hr(S2);function x2(){}function w2(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?i3():F.orientation!=null&&r3())}function i3(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function r3(){function e(){switch(F.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Fv;screen.orientation=t,e(),F.addEventListener("orientationchange",function(){e();var n=new fe("change");t.dispatchEvent(n)})}Oi.Orientation=x2,x2.install=w2;function Fv(){wt.call(this),this.type="",this.angle=0}Yt(Fv,wt),Fv.prototype.lock=function(e){function t(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):screen.msLockOrientation?screen.msLockOrientation(i):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Fv.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},hr(w2);function o1(){}var s1,a1,l1,c1,f1,d1;function E2(e){F.HTMLVideoElement&&F.WebKitMediaKeys&&(e!==void 0&&e&&(s1=!0,a1=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),l1=HTMLMediaElement.prototype.setMediaKeys,c1=F.MediaKeys,f1=F.MediaKeySystemAccess,d1=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=o3,F.MediaKeys=Cg,F.MediaKeySystemAccess=Kv,navigator.requestMediaKeySystemAccess=u3,F.shakaMediaKeysPolyfill=a3,nl.clear(),eu.clear())}function u3(e,t){try{var n=new Kv(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function o3(e){var t=this.mediaKeys;return t&&t!=e&&A2(t,null),delete this.mediaKeys,(this.mediaKeys=e)?A2(e,this):Promise.resolve()}function s3(e){if(e=Ue(e.initData),ii(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=io(e.subarray(4),!0),e=Ji(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=mr(e),this.dispatchEvent(t)}Oi.PatchedMediaKeysApple=o1,o1.uninstall=function(){s1&&(s1=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",a1),HTMLMediaElement.prototype.setMediaKeys=l1,F.MediaKeys=c1,F.MediaKeySystemAccess=f1,navigator.requestMediaKeySystemAccess=d1,a1=d1=l1=f1=c1=null,F.shakaMediaKeysPolyfill="",nl.clear(),eu.clear())},o1.install=E2;function Kv(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=x(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var o=x(n.audioCapabilities),a=o.next();!a.done;a=o.next())a=a.value,a.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.audioCapabilities.push(a),r=!0));if(n.videoCapabilities)for(n=x(n.videoCapabilities),o=n.next();!o.done;o=n.next())o=o.value,o.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Kv.prototype.createMediaKeys=function(){var e=new Cg(this.keySystem);return Promise.resolve(e)},Kv.prototype.getConfiguration=function(){return this.g};function Cg(e){this.h=new WebKitMediaKeys(e),this.g=new $e}Cg.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new h1(this.h)},Cg.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function A2(e,t){if(e.g.Qa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",s3);try{return Gu(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}Cg.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function h1(e){wt.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new $e,this.sessionId="",this.expiration=NaN,this.closed=new xt,this.keyStatuses=new M2}Yt(h1,wt),S=h1.prototype,S.generateRequest=function(e,t){var n=this;this.h=new xt;try{var i=this.l.createSession("video/mp4",Ue(t));this.i=i,this.sessionId=i.sessionId||"",this.j.D(this.i,"webkitkeymessage",function(r){n.h&&(n.h.resolve(),n.h=null),r=new Map().set("messageType",n.keyStatuses.dc()==null?"license-request":"license-renewal").set("message",mr(r.message)),r=new fe("message",r),n.dispatchEvent(r)}),this.j.D(i,"webkitkeyadded",function(){n.g&&(Yv(n,"usable"),n.g.resolve(),n.g=null)}),this.j.D(i,"webkitkeyerror",function(){var r=Error("EME PatchedMediaKeysApple key error");if(r.errorCode=n.i.error,n.h!=null)n.h.reject(r),n.h=null;else if(n.g!=null)n.g.reject(r),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Yv(n,"output-not-allowed");break;default:Yv(n,"internal-error")}}),Yv(this,"status-pending")}catch(r){this.h.reject(r)}return this.h},S.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},S.update=function(e){this.g=new xt;try{this.i.update(Ue(e))}catch(t){this.g.reject(t)}return this.g},S.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Qa()}catch(e){this.closed.reject(e)}return this.closed},S.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function Yv(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new fe("keystatuseschange"),e.dispatchEvent(t)}function M2(){this.size=0,this.g=void 0}S=M2.prototype,S.dc=function(){return this.g},S.forEach=function(e){this.g&&e(this.g,Au.value())},S.get=function(e){if(this.has(e))return this.g},S.has=function(e){var t=Au.value();return!!(this.g&&$u(e,t))},S.entries=function(){},S.keys=function(){},S.values=function(){};var a3="apple";hr(function(){F.HTMLVideoElement&&F.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||E2())});function C2(){}function D2(){F.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||nu()||Rt("Tizen 4")||Rt("Tizen 5.0")||to())&&(MediaKeys.prototype.setServerCertificate=l3)}function l3(){return Promise.resolve(!1)}Oi.PatchedMediaKeysCert=C2,C2.install=D2,hr(D2);function I2(){}function R2(){if(!(!F.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)y1="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=c3,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=f3,F.MediaKeys=Dg,F.MediaKeySystemAccess=Qv,F.shakaMediaKeysPolyfill=d3}}function p1(e){var t=y1;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function c3(e,t){try{var n=new Qv(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function f3(e){var t=this.mediaKeys;return t&&t!=e&&k2(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&k2(e,this),Promise.resolve()}Oi.PatchedMediaKeysWebkit=I2,I2.install=R2;function Qv(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video"),t=x(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var f=x(o.audioCapabilities),h=f.next();!h.done;h=f.next())h=h.value,h.contentType&&(l=!0,r.canPlayType(h.contentType.split(";")[0],this.g)&&(a.audioCapabilities.push(h),i=!0));if(o.videoCapabilities)for(f=x(o.videoCapabilities),h=f.next();!h.done;h=f.next())h=h.value,h.contentType&&(l=!0,r.canPlayType(h.contentType,this.g)&&(a.videoCapabilities.push(h),i=!0));if(l||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(a.persistentState="required",a.sessionTypes=["persistent-license"]):i=!1),i){this.h=a;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Qv.prototype.createMediaKeys=function(){var e=new Dg(this.g);return Promise.resolve(e)},Qv.prototype.getConfiguration=function(){return this.h};function Dg(e){this.l=e,this.h=null,this.g=new $e,this.i=[],this.j=new Map}function k2(e,t){e.h=t,e.g.Qa();var n=y1;t&&(e.g.D(t,n+"needkey",function(i){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=mr(i.initData),e.h.dispatchEvent(r)}),e.g.D(t,n+"keymessage",function(i){var r=g1(e,i.sessionId);r&&(i=new Map().set("messageType",r.keyStatuses.dc()==null?"licenserequest":"licenserenewal").set("message",i.message),i=new fe("message",i),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(i))}),e.g.D(t,n+"keyadded",function(i){(i=g1(e,i.sessionId))&&i.ready()}),e.g.D(t,n+"keyerror",function(i){var r=g1(e,i.sessionId);if(r){var o=Error("EME v0.1b key error"),a=i.errorCode;a.systemCode=i.systemCode,o.errorCode=a,!i.sessionId&&r.h?(i.systemCode==45&&(o.message="Unsupported session type."),r.h.reject(o),r.h=null):i.sessionId&&r.g?(r.g.reject(o),r.g=null):(o=i.systemCode,i.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Zv(r,"output-restricted"):o==1?Zv(r,"expired"):Zv(r,"internal-error"))}}))}Dg.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new m1(t,this.l,e),this.i.push(e),e},Dg.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Dg.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function g1(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function m1(e,t,n){wt.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new xt,this.keyStatuses=new L2}Yt(m1,wt),S=m1.prototype,S.ready=function(){Zv(this,"usable"),this.g&&this.g.resolve(),this.g=null};function N2(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var i=Ue(Ji("LOAD_SESSION|"+n));else{var r=Ji("PERSISTENT|");i=Vt(r,t)}else i=Ue(t)}catch(a){return Promise.reject(a)}e.h=new xt;var o=p1("generateKeyRequest");try{e.j[o](e.i,i)}catch(a){if(a.name!="InvalidStateError")return e.h=null,Promise.reject(a);new Ke(function(){try{e.j[o](e.i,i)}catch(l){e.h.reject(l),e.h=null}}).da(.01)}return e.h}function v1(e,t,n){if(e.g)e.g.then(function(){return v1(e,t,n)}).catch(function(){return v1(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var i=Xt(n),r=JSON.parse(i);r.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=er(r.keys[0].k),r=er(r.keys[0].kid)}else i=Ue(n),r=null;var o=p1("addKey");try{e.j[o](e.i,i,r,e.sessionId)}catch(a){e.g.reject(a),e.g=null}}}function Zv(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new fe("keystatuseschange"),e.dispatchEvent(t)}S.generateRequest=function(e,t){return N2(this,t,null)},S.load=function(e){return this.l=="persistent-license"?N2(this,null,e):Promise.reject(Error("Not a persistent session."))},S.update=function(e){var t=new xt;return v1(this,t,e),t},S.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=p1("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},S.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function L2(){this.size=0,this.g=void 0}S=L2.prototype,S.dc=function(){return this.g},S.forEach=function(e){this.g&&e(this.g,Au.value())},S.get=function(e){if(this.has(e))return this.g},S.has=function(e){var t=Au.value();return!!(this.g&&$u(e,t))},S.entries=function(){},S.keys=function(){},S.values=function(){};var y1="",d3="webkit";hr(R2);function U2(){}function _2(){if(F.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=p3,Object.defineProperty(e,"disablePictureInPicture",{get:m3,set:v3,enumerable:!0,configurable:!0}),document.exitPictureInPicture=g3,document.addEventListener("webkitpresentationmodechanged",h3,!0))}}function h3(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function p3(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function g3(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function m3(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function v3(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Oi.PiPWebkit=U2,U2.install=_2,hr(_2);function O2(){}function j2(){F.crypto&&("randomUUID"in F.crypto||(F.crypto.randomUUID=y3))}function y3(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}Oi.RandomUUID=O2,O2.install=j2,hr(j2);function b2(){}function P2(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:S3})}function S3(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}Oi.Symbol=b2,b2.install=P2,hr(P2);function B2(){}function H2(){if(F.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}Oi.VideoPlayPromise=B2,B2.install=H2,hr(H2);function V2(){}function z2(){if(F.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||to())&&(e.getVideoPlaybackQuality=T3)}}function T3(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Oi.VideoPlaybackQuality=V2,V2.install=z2,hr(z2);function G2(){}function X2(){if(!F.VTTCue&&F.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=S1;else if(t==6)e=x3;else{try{var n=!!S1(1,2,"")}catch(i){n=!1}n&&(e=S1)}e&&(F.VTTCue=function(i,r,o){return e(i,r,o)})}}function S1(e,t,n){return new F.TextTrackCue(e,t,n)}function x3(e,t,n){return new F.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}Oi.VTTCue=G2,G2.install=X2,hr(X2);function qr(){}qr.prototype.parseInit=function(){},qr.prototype.setSequenceMode=function(){},qr.prototype.setManifestType=function(){},qr.prototype.parseMedia=function(e,t){var n=null,i=[];e=Xt(e).split(/\r?\n/),e=x(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=w3.exec(r))){var o=E3.exec(r[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),r=new Ot(o,t.segmentEnd?t.segmentEnd:o+2,r[2]),n&&(n.endTime=o,i.push(n)),n=r}return n&&i.push(n),i},me("shaka.text.LrcTextParser",qr),qr.prototype.parseMedia=qr.prototype.parseMedia,qr.prototype.setManifestType=qr.prototype.setManifestType,qr.prototype.setSequenceMode=qr.prototype.setSequenceMode,qr.prototype.parseInit=qr.prototype.parseInit;var w3=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,E3=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;Nn("application/x-subtitle-lrc",function(){return new qr});function Ir(){}Ir.prototype.parseInit=function(){},Ir.prototype.setSequenceMode=function(){},Ir.prototype.setManifestType=function(){},Ir.prototype.parseMedia=function(e,t,n,i){var r=Xt(e);if(e=[],r=="")return e;var o=_s(r,"tt",!0);if(!o)throw new O(2,2,2005,"Failed to parse TTML.");if(r=Or(o,"body")[0],!r)return[];var a=Iu(o,Ig,"frameRate"),l=Iu(o,Ig,"subFrameRate"),f=Iu(o,Ig,"frameRateMultiplier"),h=Iu(o,Ig,"tickRate"),p=Iu(o,Ig,"cellResolution"),g=o.attributes["xml:space"]||"default",y=Iu(o,$v,"extent");if(g!="default"&&g!="preserve")throw new O(2,2,2005,"Invalid xml:space value: "+g);g=g=="default",a=new I3(a,l,f,h),p=D3(p),l=Or(o,"metadata")[0],l=(l?l.children:[]).filter(function(A){return A!="\n"}),f=Or(o,"style"),o=Or(o,"region"),h=[];for(var T=x(o),w=T.next();!w.done;w=T.next())(w=A3(w.value,f,y))&&h.push(w);if(dt(r,"p").length)throw new O(2,2,2001,"<p> can only be inside <div> in TTML");for(y=x(dt(r,"div")),T=y.next();!T.done;T=y.next())if(dt(T.value,"span").length)throw new O(2,2,2001,"<span> can only be inside <p> in TTML");return(t=q2(r,t,a,l,f,o,h,g,p,null,!1,n,i))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function q2(e,t,n,i,r,o,a,l,f,h,p,g,y){var T=h;if(Rf(e)){if(!p)return null;var w={tagName:"span",children:[gn(e)],attributes:{},parent:null}}else w=e;for(var A=null,E=x(tw),M=E.next();!M.done&&!(A=Jv(w,"backgroundImage",i,"#",M.value)[0]);M=E.next());E=null,M=Iu(w,tw,"backgroundImage");var I=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(M&&I.test(M)){if(E=parseInt(M.split(":").pop(),10)-1,E>=y.length)return null;E=y[E]}else g&&M&&!M.startsWith("#")&&(I=new Jt(g),M=new Jt(M),(M=I.resolve(M).toString())&&(E=M));if((e.tagName=="p"||A||E)&&(p=!0),e=p,M=(w.attributes["xml:space"]||(l?"default":"preserve"))=="default",I=w.children.every(Rf),l=[],!I)for(var U=x(w.children),_=U.next();!_.done;_=U.next())(_=q2(_.value,t,n,i,r,o,a,M,f,w,p,g,y))&&l.push(_);if(i=h!=null,g=gn(w),g=w.children.length&&g&&/\S/.test(g),U=w.attributes.begin||w.attributes.end||w.attributes.dur,!(U||g||w.tagName=="br"||l.length!=0||i&&!M))return null;for(y=Y2(w,n),g=y.start,y=y.end;T&&T.tagName&&T.tagName!="tt";)y=C3(T,n,g,y),g=y.start,y=y.end,T=T.parent;if(g==null&&(g=0),g+=t.periodStart,y=y==null?1/0:y+t.periodStart,g=Math.max(g,t.segmentStart),y=Math.min(y,t.segmentEnd),!U&&0<l.length)for(g=1/0,y=0,t=x(l),n=t.next();!n.done;n=t.next())n=n.value,g=Math.min(g,n.startTime),y=Math.max(y,n.endTime);if(w.tagName=="br")return r=new Ot(g,y,""),r.lineBreak=!0,r;if(t="",I&&(t=Jn(gn(w)||""),M&&(t=t.replace(/\s+/g," "))),t=new Ot(g,y,t),t.nestedCues=l,p||(t.isContainer=!0),f&&(t.cellResolution=f),f=Jv(w,"region",o,"")[0],w.attributes.region&&f&&f.attributes["xml:id"]){var b=f.attributes["xml:id"];t.region=a.filter(function(N){return N.id==b})[0]}return a=f,h&&i&&!w.attributes.region&&!w.attributes.style&&(a=Jv(h,"region",o,"")[0]),M3(t,w,a,A,E,r,e,l.length==0),t}function A3(e,t,n){var i=new Rs,r=e.attributes["xml:id"];if(!r)return null;i.id=r,r=null,n&&(r=A1.exec(n)||M1.exec(n)),n=r?Number(r[1]):null,r=r?Number(r[2]):null;var o,a=Wv(e,t,"extent");if(a){var l=(o=A1.exec(a))||M1.exec(a);l!=null&&(i.width=Number(l[1]),i.height=Number(l[2]),o||(n!=null&&(i.width=100*i.width/n),r!=null&&(i.height=100*i.height/r)),i.widthUnits=o||n!=null?Bi:0,i.heightUnits=o||r!=null?Bi:0)}return(e=Wv(e,t,"origin"))&&(l=(o=A1.exec(e))||M1.exec(e),l!=null&&(i.viewportAnchorX=Number(l[1]),i.viewportAnchorY=Number(l[2]),o?a||(i.width=100-i.viewportAnchorX,i.widthUnits=Bi,i.height=100-i.viewportAnchorY,i.heightUnits=Bi):(r!=null&&(i.viewportAnchorY=100*i.viewportAnchorY/r),n!=null&&(i.viewportAnchorX=100*i.viewportAnchorX/n)),i.viewportAnchorUnits=o||n!=null?Bi:0)),i}function T1(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function M3(e,t,n,i,r,o,a,l){if(a=a||l,wi(t,n,o,"direction",a)=="rtl"&&(e.direction="rtl"),l=wi(t,n,o,"writingMode",a),l=="tb"||l=="tblr"?e.writingMode="vertical-lr":l=="tbrl"?e.writingMode="vertical-rl":l=="rltb"||l=="rl"?e.direction="rtl":l&&(e.direction=js),(l=wi(t,n,o,"textAlign",!0))?(e.positionAlign=N3.get(l),e.lineAlign=k3.get(l),e.textAlign=Xo[l.toUpperCase()]):e.textAlign=Ru,(l=wi(t,n,o,"displayAlign",!0))&&(e.displayAlign=Ka[l.toUpperCase()]),(l=wi(t,n,o,"color",a))&&(e.color=T1(l)),(l=wi(t,n,o,"backgroundColor",a))&&(e.backgroundColor=T1(l)),(l=wi(t,n,o,"border",a))&&(e.border=l),l=wi(t,n,o,"fontFamily",a))switch(l){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=l.split(",").filter(function(f){return f!="default"}).join(",")}switch((l=wi(t,n,o,"fontWeight",a))&&l=="bold"&&(e.fontWeight=bs),l=wi(t,n,o,"wrapOption",a),e.wrapLine=!(l&&l=="noWrap"),(l=wi(t,n,o,"lineHeight",a))&&l.match(uh)&&(e.lineHeight=l),(l=wi(t,n,o,"fontSize",a))&&(l.match(uh)||l.match(R3))&&(e.fontSize=l),(l=wi(t,n,o,"fontStyle",a))&&(e.fontStyle=Kg[l.toUpperCase()]),i?(r=i.attributes.imageType||i.attributes.imagetype,l=i.attributes.encoding,i=gn(i).trim(),r=="PNG"&&l=="Base64"&&i&&(e.backgroundImage="data:image/png;base64,"+i)):r&&(e.backgroundImage=r),(i=wi(t,n,o,"textOutline",a))&&(i=i.split(" "),i[0].match(uh)?e.textStrokeColor=e.color:(e.textStrokeColor=T1(i[0]),i.shift()),i[0]&&i[0].match(uh)?e.textStrokeWidth=i[0]:e.textStrokeColor=""),(i=wi(t,n,o,"letterSpacing",a))&&i.match(uh)&&(e.letterSpacing=i),(i=wi(t,n,o,"linePadding",a))&&i.match(uh)&&(e.linePadding=i),(i=wi(t,n,o,"opacity",a))&&(e.opacity=parseFloat(i)),(i=Wv(n,o,"textDecoration"))&&F2(e,i),(i=x1(t,o,"textDecoration"))&&F2(e,i),(i=wi(t,n,o,"textCombine",a))&&(e.textCombineUpright=i),wi(t,n,o,"ruby",a)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function F2(e,t){t=x(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(ao)||e.textDecoration.push(ao);break;case"noUnderline":e.textDecoration.includes(ao)&&_r(e.textDecoration,ao);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&_r(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&_r(e.textDecoration,"overline")}}function wi(e,t,n,i,r){return r=r===void 0?!0:r,(e=x1(e,n,i))?e:r?Wv(t,n,i):null}function Wv(e,t,n){if(!e)return null;var i=Iu(e,$v,n);return i||K2(e,t,n)}function x1(e,t,n){var i=Iu(e,$v,n);return i||K2(e,t,n)}function K2(e,t,n){e=Jv(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var o=nr(e[r],"urn:ebu:tt:style",n);o||(o=Iu(e[r],$v,n)),o||(o=x1(e[r],t,n)),o&&(i=o)}return i}function Jv(e,t,n,i,r){var o=[];if(!e||1>n.length)return o;var a=e;for(e=null;!e&&!(e=r?nr(a,r,t):a.attributes[t])&&(a=a.parent,a););if(t=e){for(t=x(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=x(n),a=e.next();!a.done;a=e.next())if(a=a.value,i+a.attributes["xml:id"]==r){o.push(a);break}}return o}function C3(e,t,n,i){return e=Y2(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),i==null?i=e.end:e.start!=null&&(i+=e.start),{start:n,end:i}}function Y2(e,t){var n=w1(e.attributes.begin,t),i=w1(e.attributes.end,t);return e=w1(e.attributes.dur,t),i==null&&e!=null&&(i=n+e),{start:n,end:i}}function w1(e,t){var n=null;if(Q2.test(e)){e=Q2.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,r+=o/t.frameRate,n=r+60*i+3600*n}else if(Z2.test(e))n=E1(Z2,e);else if(W2.test(e))n=E1(W2,e);else if(J2.test(e))e=J2.exec(e),n=Number(e[1])/t.frameRate;else if($2.test(e))e=$2.exec(e),n=Number(e[1])/t.g;else if(ew.test(e))n=E1(ew,e);else if(e)throw new O(2,2,2001,"Could not parse cue time range in TTML");return n}function E1(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function D3(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}me("shaka.text.TtmlTextParser",Ir),Ir.prototype.parseMedia=Ir.prototype.parseMedia,Ir.prototype.setManifestType=Ir.prototype.setManifestType,Ir.prototype.setSequenceMode=Ir.prototype.setSequenceMode,Ir.prototype.parseInit=Ir.prototype.parseInit;function I3(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var A1=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,R3=/^(\d{1,4}(?:\.\d+)?|100)%$/,uh=/^(\d+px|\d+em|\d*\.?\d+c)$/,M1=/^(\d+)px (\d+)px$/,Q2=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Z2=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,W2=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,J2=/^(\d*(?:\.\d*)?)f$/,$2=/^(\d*(?:\.\d*)?)t$/,ew=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),k3=new Map().set("left",jr).set("center","center").set("right","end").set("start",jr).set("end","end"),N3=new Map().set("left","line-left").set("center","center").set("right","line-right"),Ig=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],$v=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],tw=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];Nn("application/ttml+xml",function(){return new Ir});function zn(){this.g=new Ir}zn.prototype.parseInit=function(e){var t=!1;if(new At().box("moov",Ve).box("trak",Ve).box("mdia",Ve).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new O(2,2,2007)},zn.prototype.setSequenceMode=function(){},zn.prototype.setManifestType=function(){},zn.prototype.parseMedia=function(e,t,n){var i=[],r=null,o=[],a=new Map,l=[];if(new At().box("moof",Ve).box("traf",Ve).R("tfhd",function(M){r=Ys(M.reader,M.flags).md}).R("trun",function(M){M=Lc(M.reader,M.version,M.flags),M=x(M.fg);for(var I=M.next();!I.done;I=M.next())l.push(I.value.sampleSize||r||0)}).R("subs",function(M){for(var I=M.reader,U=I.S(),_=-1,b=0;b<U;b++){var N=I.S();_+=N,N=I.na();for(var k=[],P=0;P<N;P++)M.version==1?k.push(I.S()):k.push(I.na()),I.X(),I.X(),I.S();a.set(_,k)}}).box("mdat",Uu(function(M){o.push(M)})).parse(e,!1),o.length==0)throw new O(2,2,2007);for(var f=Vt.apply(_n,ce(o)),h=0,p=0;p<l.length;p++){var g=Ue(f,h,l[p]);h+=l[p];var y=a.get(p);if(y&&y.length){g=Ue(g,0,y[0]);for(var T=[],w=y[0],A=1;A<y.length;A++){var E=Ue(e,w,y[A]);E=ro(E),T.push("data:image/png;base64,"+E),w+=y[A]}i=i.concat(this.g.parseMedia(g,t,n,T))}else i=i.concat(this.g.parseMedia(g,t,n,[]))}return i},me("shaka.text.Mp4TtmlParser",zn),zn.prototype.parseMedia=zn.prototype.parseMedia,zn.prototype.setManifestType=zn.prototype.setManifestType,zn.prototype.setSequenceMode=zn.prototype.setSequenceMode,zn.prototype.parseInit=zn.prototype.parseInit,Nn('application/mp4; codecs="stpp"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.im1i"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.im1t"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.im2i"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.im2t"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.etd1"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.etd1|im1t"',function(){return new zn}),Nn('application/mp4; codecs="stpp.ttml.im1t|etd1"',function(){return new zn}),Nn('application/mp4; codecs="stpp.TTML.im1t"',function(){return new zn});function Fi(){this.g="UNKNOWN"}Fi.prototype.parseInit=function(){},Fi.prototype.setSequenceMode=function(){},Fi.prototype.setManifestType=function(e){this.g=e},Fi.prototype.parseMedia=function(e,t){e=Xt(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new O(2,2,2e3);if(e=t.vttOffset,this.g=="HLS")if(n[0].includes("X-TIMESTAMP-MAP")){var i=n[0];if(e=i.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=i.match(/MPEGTS:(\d+)/m),!e||!i)throw new O(2,2,2e3);if(e=Ls(e[1]),e==null)throw new O(2,2,2e3);i=Number(i[1]);for(var r=t.segmentStart-t.periodStart;95443.7176888889<=r;)r-=95443.7176888889,i+=8589934592;e=t.periodStart+i/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],i=x(n[0].split("\n")),r=i.next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new Ga(r);var o=new Rs;Ns(r),Ho(r);for(var a=Ns(r);a;){var l=o,f=a;(a=/^id=(.*)$/.exec(f))?l.id=a[1]:(a=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(a[1]):(a=/^lines=(\d+)$/.exec(f))?(l.height=Number(a[1]),l.heightUnits=2):(a=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(a[1]),l.regionAnchorY=Number(a[2])):(a=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(a[1]),l.viewportAnchorY=Number(a[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),Ho(r),a=Ns(r)}t.push(o)}for(i=new Map,Uh(i),r=[],n=x(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split("\n"),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(l=[],a=-1,f=1;f<o.length;f++)o[f].includes("::cue")&&(l.push([]),a=l.length-1),a!=-1&&(l[a].push(o[f]),o[f].includes("}")&&(a=-1));for(l=x(l),a=l.next();!a.done;a=l.next()){var h=a.value;a="global",(f=h[0].match(/\((.*)\)/))&&(a=f.pop()),f=h.slice(1,-1),h[0].includes("}")&&(h=/\{(.*?)\}/.exec(h[0]))&&(f=h[1].split(";")),(h=i.get(a))||(h=new Ot(0,0,""));for(var p=!1,g=0;g<f.length;g++){var y=/^\s*([^:]+):\s*(.*)/.exec(f[g]);if(y){var T=y[2].trim().replace(";","");switch(y[1].trim()){case"background-color":case"background":p=!0,h.backgroundColor=T;break;case"color":p=!0,h.color=T;break;case"font-family":p=!0,h.fontFamily=T;break;case"font-size":p=!0,h.fontSize=T;break;case"font-weight":(700<=parseInt(T,10)||T=="bold")&&(p=!0,h.fontWeight=bs);break;case"font-style":switch(T){case"normal":p=!0,h.fontStyle=Lf;break;case"italic":p=!0,h.fontStyle=Ya;break;case"oblique":p=!0,h.fontStyle="oblique"}break;case"opacity":p=!0,h.opacity=parseFloat(T);break;case"text-combine-upright":p=!0,h.textCombineUpright=T;break;case"text-shadow":p=!0,h.textShadow=T;break;case"white-space":p=!0,h.wrapLine=T!="noWrap"}}}p&&i.set(a,h)}}if(h=o,p=e,h.length==1&&!h[0]||/^NOTE($|[ \t])/.test(h[0])||h[0]=="STYLE"||h[0]=="REGION")o=null;else if(o=null,h[0].includes("-->")||(o=h[0],h.splice(0,1)),l=new Ga(h[0]),a=rc(l),g=ks(l,/[ \t]+--\x3e[ \t]+/g),f=rc(l),a==null||g==null||f==null)ot("Failed to parse VTT time code. Cue skipped:",o,h),o=null;else{for(a+=p,f+=p,p=h.slice(1).join("\n").trim(),i.has("global")?(h=i.get("global").clone(),h.startTime=a,h.endTime=f,h.payload=p):h=new Ot(a,f,p),Ho(l),a=Ns(l);a;)nw(h,a,t),Ho(l),a=Ns(l);Go(h,i),o!=null&&(h.id=o),o=h}o&&r.push(o)}return r};function nw(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],t=="middle"?e.textAlign=Ru:e.textAlign=Xo[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=i[1]=="lr"?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":Fa)):(i=/^region:(.*)$/.exec(t))?(t=L3(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=ac[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=ou,e.line=Number(n[1]),n[2]&&(e.lineAlign=ac[n[2].toUpperCase()]))}function L3(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}me("shaka.text.VttTextParser",Fi),Fi.prototype.parseMedia=Fi.prototype.parseMedia,Fi.prototype.setManifestType=Fi.prototype.setManifestType,Fi.prototype.setSequenceMode=Fi.prototype.setSequenceMode,Fi.prototype.parseInit=Fi.prototype.parseInit,Nn("text/vtt",function(){return new Fi}),Nn('text/vtt; codecs="vtt"',function(){return new Fi}),Nn('text/vtt; codecs="wvtt"',function(){return new Fi});function Fr(){this.g=null}Fr.prototype.parseInit=function(e){var t=this,n=!1;if(new At().box("moov",Ve).box("trak",Ve).box("mdia",Ve).R("mdhd",function(i){i=Qs(i.reader,i.version),t.g=i.timescale}).box("minf",Ve).box("stbl",Ve).R("stsd",Bn).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new O(2,2,2008);if(!n)throw new O(2,2,2008)},Fr.prototype.setSequenceMode=function(){},Fr.prototype.setManifestType=function(){},Fr.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new O(2,2,2008);var n=0,i=[],r,o=[],a=!1,l=!1,f=!1,h=null;if(new At().box("moof",Ve).box("traf",Ve).R("tfdt",function(U){a=!0,n=is(U.reader,U.version).baseMediaDecodeTime}).R("tfhd",function(U){h=Ys(U.reader,U.flags).ld}).R("trun",function(U){l=!0,i=Lc(U.reader,U.version,U.flags).fg}).box("mdat",Uu(function(U){f=!0,r=U})).parse(e,!1),!f&&!a&&!l)throw new O(2,2,2008);e=n;for(var p=new Ut(r,0),g=x(i),y=g.next();!y.done;y=g.next()){y=y.value;var T=y.gg||h,w=y.ye?n+y.ye:e;e=w+(T||0);var A=0;do{var E=p.S();A+=E;var M=p.S(),I=null;ol(M)=="vttc"?8<E&&(I=p.Cb(E-8)):p.skip(E-8),T&&I&&(E=U3(I,t.periodStart+w/this.g,t.periodStart+e/this.g),o.push(E))}while(y.sampleSize&&A<y.sampleSize)}return o.filter(ho)};function U3(e,t,n){var i,r,o;return new At().box("payl",Uu(function(a){i=Xt(a)})).box("iden",Uu(function(a){r=Xt(a)})).box("sttg",Uu(function(a){o=Xt(a)})).parse(e),i?_3(i,r,o,t,n):null}function _3(e,t,n,i,r){if(e=new Ot(i,r,e),Go(e),t&&(e.id=t),n)for(t=new Ga(n),n=Ns(t);n;)nw(e,n,[]),Ho(t),n=Ns(t);return e}me("shaka.text.Mp4VttParser",Fr),Fr.prototype.parseMedia=Fr.prototype.parseMedia,Fr.prototype.setManifestType=Fr.prototype.setManifestType,Fr.prototype.setSequenceMode=Fr.prototype.setSequenceMode,Fr.prototype.parseInit=Fr.prototype.parseInit,Nn('application/mp4; codecs="wvtt"',function(){return new Fr});function Kr(){}Kr.prototype.parseInit=function(){},Kr.prototype.setSequenceMode=function(){},Kr.prototype.setManifestType=function(){},Kr.prototype.parseMedia=function(e){var t=Xt(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=x(t.split("\n\n"));for(var n=t.next();!n.done;n=t.next()){n=n.value.split("\n");var i=new Ga(n[0]),r=rc(i),o=ks(i,/,/g);if(i=rc(i),r==null||o==null||i==null)throw new O(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Ot(r,i,n.slice(1).join("\n").trim()))}return e},me("shaka.text.SbvTextParser",Kr),Kr.prototype.parseMedia=Kr.prototype.parseMedia,Kr.prototype.setManifestType=Kr.prototype.setManifestType,Kr.prototype.setSequenceMode=Kr.prototype.setSequenceMode,Kr.prototype.parseInit=Kr.prototype.parseInit,Nn("text/x-subviewer",function(){return new Kr});function Rr(){this.g=new Fi}Rr.prototype.parseInit=function(){},Rr.prototype.setSequenceMode=function(){},Rr.prototype.setManifestType=function(){},Rr.prototype.parseMedia=function(e,t,n){return e=Xt(e),e=iw(e),e=Ue(Ji(e)),this.g.parseMedia(e,t,n,[])};function iw(e){var t="WEBVTT\n\n";if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=x(e.split("\n\n"));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}me("shaka.text.SrtTextParser",Rr),Rr.srt2webvtt=iw,Rr.prototype.parseMedia=Rr.prototype.parseMedia,Rr.prototype.setManifestType=Rr.prototype.setManifestType,Rr.prototype.setSequenceMode=Rr.prototype.setSequenceMode,Rr.prototype.parseInit=Rr.prototype.parseInit,Nn("text/srt",function(){return new Rr});function Yr(){}Yr.prototype.parseInit=function(){},Yr.prototype.setSequenceMode=function(){},Yr.prototype.setManifestType=function(){},Yr.prototype.parseMedia=function(e){var t="",n="",i=null,r=null;for(r=Xt(e).split(/\r?\n\s*\r?\n/),e=x(r),r=e.next();!r.done;r=e.next()){var o=r.value;r=o,(o=j3.exec(o))&&(i=o[1],r=o[2]),i=="V4 Styles"||i=="V4+ Styles"?(t=r,t=n?t+("\n"+r):r):i=="Events"&&(n=n?n+("\n"+r):r)}for(i=[],r=null,t=x(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(o=ow.exec(e))){if(e=o[1].trim(),o=o[2].trim(),e=="Format")r=o.split(ey);else if(e=="Style"){e=o.split(ey),o={};for(var a=0;a<r.length&&a<e.length;a++)o[r[a]]=e[a];i.push(o)}}for(r=[],t=null,n=x(n.split(/\r?\n/)),o=n.next(),e={};!o.done;e={Dh:void 0},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(a=ow.exec(o))){if(o=a[1].trim(),a=a[2].trim(),o=="Format")t=a.split(ey);else if(o=="Dialogue"){a=a.split(ey),o={};for(var l=0;l<t.length&&l<a.length;l++)o[t[l]]=a[l];l=uw(o.Start);var f=uw(o.End);a=new Ot(l,f,a.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.Dh=o.Style,(e=i.find(function(h){return function(p){return p.Name==h.Dh}}(e)))&&O3(a,e),r.push(a)}}return r};function O3(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=rw(n))&&(e.color=n),(n=t.BackColour)&&(n=rw(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=bs),t.Italic&&(e.fontStyle=Ya),t.Underline&&e.textDecoration.push(ao),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=Os,e.textAlign="start";break;case 2:e.displayAlign=Os,e.textAlign=Ru;break;case 3:e.displayAlign=Os,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=Ru;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=Ru;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function rw(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function uw(e){return e=b3.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}me("shaka.text.SsaTextParser",Yr),Yr.prototype.parseMedia=Yr.prototype.parseMedia,Yr.prototype.setManifestType=Yr.prototype.setManifestType,Yr.prototype.setSequenceMode=Yr.prototype.setSequenceMode,Yr.prototype.parseInit=Yr.prototype.parseInit;var j3=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,ow=/^\s*([^:]+):\s*(.*)/,ey=/\s*,\s*/,b3=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;Nn("text/x-ssa",function(){return new Yr});function sw(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{ud:n,ia:e}:null}function aw(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(e[t+2]&60)>>>2;if(i>n.length-1)return null;var r=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[i],channelCount:o,codec:"mp4a.40."+r}}function lw(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var i=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return i<=n?!1:(t+=i,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function P3(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function Qr(e){this.j=e,this.h=0,this.g=new Map,this.i=null}S=Qr.prototype,S.destroy=function(){this.g.clear()},S.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?On(this.convertCodecs("audio",e)):!1},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(mi(t)||"mp4a.40.2")+'"':t},S.getOriginalMimeType=function(){return this.j},S.transmux=function(e,t,n,i){for(var r=Ue(e),o=gl(r),a=o.length;a<r.length&&!lw(r,a);a++);if(e=1e3*n.endTime,o=ea(o),o.length&&n&&(o=o.find(function(p){return p.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=o.data),o=aw(r,a),!o)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=o.sampleRate,t.channelsCount=o.channelCount;for(var l=[];a<r.length;){var f=sw(r,a);if(!f)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));var h=f.ud+f.ia;a+h<=r.length&&l.push({data:r.subarray(a+f.ud,a+h),size:f.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=h}return r=o.sampleRate,e=Math.floor(e*r/1e3),i={id:t.id,type:"audio",codecs:o.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:l},stream:t},i=new ur([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Ws(i),this.g.set(n,t)),n=this.i!==t,i=Js(i),this.i=t,this.h++,n?(t=Vt(t,i),Promise.resolve(t)):Promise.resolve(i)},me("shaka.transmuxer.AacTransmuxer",Qr),Qr.prototype.transmux=Qr.prototype.transmux,Qr.prototype.getOriginalMimeType=Qr.prototype.getOriginalMimeType,Qr.prototype.convertCodecs=Qr.prototype.convertCodecs,Qr.prototype.isSupported=Qr.prototype.isSupported,Qr.prototype.destroy=Qr.prototype.destroy,su("audio/aac",function(){return new Qr("audio/aac")},$n);function cw(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var i=e[t+4]&63,r=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*i+n];if(t+r>e.length)return null;var o=e[t+6]>>5,a=0;o===2?a+=2:(o&1&&o!==1&&(a+=2),o&4&&(a+=2)),a=(e[t+6]<<8|e[t+7])>>12-a&1;var l=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|l>>2,(l&3)<<6|o<<3|a<<2|i>>4,i<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+a,ra:e,ia:r}}function B3(e,t){if(e[t]===11&&e[t+1]===119){var n=0,i=5;t+=i;for(var r,o;0<i;){o=e[t];var a=Math.min(i,8),l=8-a;r=4278190080>>>24+l<<l,r=(o&r)>>l,n=n?n<<a|r:r,t+=1,i-=a}if(16>n)return!0}return!1}function vu(e){this.j=e,this.h=0,this.g=new Map,this.i=null}S=vu.prototype,S.destroy=function(){this.g.clear()},S.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?On(this.convertCodecs("audio",e)):!1},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?nu()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},S.getOriginalMimeType=function(){return this.j},S.transmux=function(e,t,n,i){e=Ue(e);for(var r=gl(e),o=r.length;o<e.length&&!B3(e,o);o++);var a=1e3*n.endTime;r=ea(r),r.length&&n&&(r=r.find(function(p){return p.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=r.data),r=0;for(var l=new Uint8Array([]),f=[];o<e.length;){var h=cw(e,o);if(!h)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=h.sampleRate,t.channelsCount=h.channelCount,r=h.sampleRate,l=h.ra,f.push({data:e.subarray(o,o+h.ia),size:h.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),o+=h.ia}return e=Math.floor(a*r/1e3),i={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,lb:[],ra:l,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:f},stream:t},i=new ur([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Ws(i),this.g.set(n,t)),n=this.i!==t,i=Js(i),this.i=t,this.h++,n?(t=Vt(t,i),Promise.resolve(t)):Promise.resolve(i)},me("shaka.transmuxer.Ac3Transmuxer",vu),vu.prototype.transmux=vu.prototype.transmux,vu.prototype.getOriginalMimeType=vu.prototype.getOriginalMimeType,vu.prototype.convertCodecs=vu.prototype.convertCodecs,vu.prototype.isSupported=vu.prototype.isSupported,vu.prototype.destroy=vu.prototype.destroy,su("audio/ac3",function(){return new vu("audio/ac3")},$n);function fw(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new Pu(e.subarray(t+2));Ln(n,2),Ln(n,3);var i=Je(n,11)+1<<1,r=Je(n,2);if(r==3){r=Je(n,2),r=[24e3,22060,16e3][r];var o=3}else r=[48e3,44100,32e3][r],o=Je(n,2);var a=Je(n,3),l=Je(n,1);return n=Je(n,5),t+i>e.byteLength?null:(e=Math.floor(i*r/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,r<<6|n<<1|0,0|a<<1|l<<0,0]),{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][a]+l,ra:e,ia:i})}function yu(e){this.j=e,this.h=0,this.g=new Map,this.i=null}S=yu.prototype,S.destroy=function(){this.g.clear()},S.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?On(this.convertCodecs("audio",e)):!1},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},S.getOriginalMimeType=function(){return this.j},S.transmux=function(e,t,n,i){e=Ue(e);for(var r=gl(e),o=r.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var a=1e3*n.endTime;r=ea(r),r.length&&n&&(r=r.find(function(p){return p.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=r.data),r=0;for(var l=new Uint8Array([]),f=[];o<e.length;){var h=fw(e,o);if(!h)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=h.sampleRate,t.channelsCount=h.channelCount,r=h.sampleRate,l=h.ra,f.push({data:e.subarray(o,o+h.ia),size:h.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),o+=h.ia}return e=Math.floor(a*r/1e3),i={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,lb:[],ra:l,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:f},stream:t},i=new ur([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Ws(i),this.g.set(n,t)),n=this.i!==t,i=Js(i),this.i=t,this.h++,n?(t=Vt(t,i),Promise.resolve(t)):Promise.resolve(i)},me("shaka.transmuxer.Ec3Transmuxer",yu),yu.prototype.transmux=yu.prototype.transmux,yu.prototype.getOriginalMimeType=yu.prototype.getOriginalMimeType,yu.prototype.convertCodecs=yu.prototype.convertCodecs,yu.prototype.isSupported=yu.prototype.isSupported,yu.prototype.destroy=yu.prototype.destroy,su("audio/ec3",function(){return new yu("audio/ec3")},$n);function H3(e){if(!e.length)return null;var t=e.find(function(A){return A.type==7});if(e=e.find(function(A){return A.type==8}),!t||!e)return null;var n=new Pu(t.data),i=mt(n);if(mt(n),mt(n),Kn(n),z3.includes(i)&&(i=pe(n),i===3&&Ln(n,1),Kn(n),Kn(n),Ln(n,1),Ae(n))){i=i!==3?8:12;for(var r=0;r<i;r++)Ae(n)&&(6>r?ml(n,16):ml(n,64))}if(Kn(n),i=pe(n),i===0)pe(n);else if(i===1)for(Ln(n,1),Kn(n),Kn(n),i=pe(n),r=0;r<i;r++)Kn(n);Kn(n),Ln(n,1);var o=pe(n),a=pe(n),l=Je(n,1);l===0&&Ln(n,1),Ln(n,1);var f=0,h=0,p=0,g=0;if(Ae(n)&&(f=pe(n),h=pe(n),p=pe(n),g=pe(n)),r=i=1,Ae(n)&&Ae(n)){var y=mt(n),T=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],w=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<y&&16>=y?(i=T[y-1],r=w[y-1]):y===255&&(i=Je(n,16),r=Je(n,16))}return n=(2-l)*(a+1)*16-2*p-2*g,o=16*(o+1)-2*f-2*h,f=[],t=t.fullData,f.push(t.byteLength>>>8&255),f.push(t.byteLength&255),f=f.concat.apply(f,ce(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,ce(e)),e=new Uint8Array([1,f[3],f[4],f[5],255,225].concat(f,[1],t)),{height:n,width:o,Ca:e,Ia:i,Ka:r}}function V3(e){function t(w){r={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:w.pts,dts:w.dts,nalus:[]}}function n(){if(r&&r.nalus.length&&r.frame){for(var w=[],A=x(r.nalus),E=A.next();!E.done;E=A.next()){E=E.value;var M=E.fullData.byteLength,I=new Uint8Array(4);I[0]=M>>24&255,I[1]=M>>16&255,I[2]=M>>8&255,I[3]=M&255,w.push(I),w.push(E.fullData)}r.data=Vt.apply(_n,ce(w)),i.push(r)}}for(var i=[],r=null,o=!1,a=0;a<e.length;a++){var l=e[a],f=l.nalus,h=!1;r&&f.length&&!o&&(n(),t(l)),f=x(l.nalus);for(var p=f.next();!p.done;p=f.next()){p=p.value;var g=!1;switch(p.type){case 1:var y=!1;g=!0;var T=p.data;h&&4<T.length&&(T=pp(new Pu(T)),T===2||T===4||T===7||T===9)&&(y=!0),y&&r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(l),r.frame=!0,r.isKeyframe=y;break;case 5:g=!0,r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(l),r.frame=!0,r.isKeyframe=!0;break;case 6:g=!0;break;case 7:h=g=!0;break;case 8:g=!0;break;case 9:o=g=!0,r&&r.frame&&(n(),r=null),r||t(l);break;case 12:g=!0;break;default:g=!1}r&&g&&r.nalus.push(p)}}return n(),i}var z3=[100,110,122,244,44,83,86,118,128,138,139,134];function G3(e){if(!e.length)return null;var t=e.find(function(a){return a.type==32}),n=e.find(function(a){return a.type==33}),i=e.find(function(a){return a.type==34});if(!t||!n||!i)return null;var r=X3(t.fullData);e=q3(n.fullData);var o=F3(i.fullData);return t=K3(t.fullData,n.fullData,i.fullData,{Uf:r.Uf,rg:r.rg,Ef:e.Ef,Ff:e.Ff,yf:e.yf,Df:e.Df,zf:e.zf,Af:e.Af,Bf:e.Bf,Cf:e.Cf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,xf:e.xf,hf:e.hf,le:e.le,ff:e.ff,ef:e.ef,df:e.df,Wf:o.Wf}),{height:e.height,width:e.width,Ca:t,Ia:e.vj,Ka:e.uj}}function X3(e){var t=new Pu(e,!0);return mt(t),mt(t),Je(t,4),Je(t,2),Je(t,6),e=Je(t,3),t=Ae(t),{Uf:e+1,rg:t}}function q3(e){e=new Pu(e,!0),mt(e),mt(e);var t=0,n=0,i=0,r=0;Je(e,4);var o=Je(e,3);Ae(e);for(var a=Je(e,2),l=Je(e,1),f=Je(e,5),h=mt(e),p=mt(e),g=mt(e),y=mt(e),T=mt(e),w=mt(e),A=mt(e),E=mt(e),M=mt(e),I=mt(e),U=mt(e),_=[],b=[],N=0;N<o;N++)_.push(Ae(e)),b.push(Ae(e));if(0<o)for(N=o;8>N;N++)Je(e,2);for(N=0;N<o;N++)_[N]&&Je(e,88),b[N]&&mt(e);pe(e),_=pe(e),_==3&&Je(e,1),b=pe(e),N=pe(e),Ae(e)&&(t+=pe(e),n+=pe(e),i+=pe(e),r+=pe(e));var k=pe(e),P=pe(e),j=pe(e);if(Ae(e))for(var V=0;V<=o;V++)pe(e),pe(e),pe(e);else pe(e),pe(e),pe(e);if(pe(e),pe(e),pe(e),pe(e),pe(e),pe(e),Ae(e)&&Ae(e))for(V=0;4>V;V++)for(var H=0;H<(V===3?2:6);H++)if(Ae(e)){var z=Math.min(64,1<<4+(V<<1));1<V&&na(e);for(var K=0;K<z;K++)na(e)}else pe(e);for(Ae(e),Ae(e),Ae(e)&&(mt(e),pe(e),pe(e),Ae(e)),V=pe(e),z=H=0;z<V;z++)if(K=!1,z!==0&&(K=Ae(e)),K){z===V&&pe(e),Ae(e),pe(e);for(var X=K=0;X<=H;X++){var Z=Ae(e),Y=!1;Z||(Y=Ae(e)),(Z||Y)&&K++}H=K}else{for(X=pe(e),K=pe(e),H=X+K,Z=0;Z<X;Z++)pe(e),Ae(e);for(X=0;X<K;X++)pe(e),Ae(e)}if(Ae(e))for(V=pe(e),H=0;H<V;H++){for(z=0;z<j+4;z++)Je(e,1);Je(e,1)}if(V=j=1,H=0,Ae(e),Ae(e),Ae(e)){if(Ae(e)&&(z=mt(e),K=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],X=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<z&&16>=z?(j=K[z-1],V=X[z-1]):z===255&&(j=Je(e,16),V=Je(e,16))),Ae(e)&&Ae(e),Ae(e)&&(Je(e,3),Ae(e),Ae(e)&&(mt(e),mt(e),mt(e))),Ae(e)&&(pe(e),pe(e)),Ae(e),Ae(e),Ae(e),(z=Ae(e))&&(pe(e),pe(e),pe(e),pe(e)),Ae(e)&&(Je(e,32),Je(e,32),Ae(e)&&pe(e),Ae(e)))for(X=!1,z=Ae(e),K=Ae(e),(z||K)&&((X=Ae(e))&&(mt(e),Je(e,5),Ae(e),Je(e,5)),Je(e,4),Je(e,4),X&&Je(e,4),Je(e,5),Je(e,5),Je(e,5)),Z=0;Z<=o;Z++){var ie=!0;Y=1,Ae(e)||(ie=Ae(e));var se=!1;if(ie?pe(e):se=Ae(e),se||(Y=pe(e)+1),z){for(ie=0;ie<Y;ie++)pe(e),pe(e),X&&(pe(e),pe(e));Ae(e)}if(K){for(ie=0;ie<Y;ie++)pe(e),pe(e),X&&(pe(e),pe(e));Ae(e)}}Ae(e)&&(Ae(e),Ae(e),Ae(e),H=pe(e),pe(e),pe(e),pe(e),pe(e))}return{yf:U,Ef:a,Ff:l,Df:f,zf:h,Af:p,Bf:g,Cf:y,rf:T,tf:w,uf:A,vf:E,wf:M,xf:I,le:H,hf:0,ff:_,ef:k,df:P,width:b-(t+n)*(_===1||_===2?2:1),height:N-(i+r)*(_===1?2:1),vj:j,uj:V}}function F3(e){var t=new Pu(e,!0);mt(t),mt(t),pe(t),pe(t),Ae(t),Ae(t),Je(t,3),Ae(t),Ae(t),pe(t),pe(t),na(t),Ae(t),Ae(t),Ae(t)&&pe(t),na(t),na(t),Ae(t),Ae(t),Ae(t),Ae(t),e=Ae(t),t=Ae(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Wf:n}}function K3(e,t,n,i){var r=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return r[0]=1,r[1]=(i.Ef&3)<<6|(i.Ff?1:0)<<5|i.Df&31,r[2]=i.zf,r[3]=i.Af,r[4]=i.Bf,r[5]=i.Cf,r[6]=i.rf,r[7]=i.tf,r[8]=i.uf,r[9]=i.vf,r[10]=i.wf,r[11]=i.xf,r[12]=i.yf,r[13]=240|(i.le&3840)>>8,r[14]=i.le&255,r[15]=252|i.Wf&3,r[16]=252|i.ff&3,r[17]=248|i.ef&7,r[18]=248|i.df&7,r[19]=0,r[20]=0,r[21]=(i.hf&3)<<6|(i.Uf&7)<<3|(i.rg?1:0)<<2|3,r[22]=3,r[23]=160,r[24]=0,r[25]=1,r[26]=(e.byteLength&65280)>>8,r[27]=(e.byteLength&255)>>0,r.set(e,28),r[23+(5+e.byteLength)]=161,r[e.byteLength+29]=0,r[e.byteLength+30]=1,r[e.byteLength+31]=(t.byteLength&65280)>>8,r[e.byteLength+32]=(t.byteLength&255)>>0,r.set(t,e.byteLength+33),r[23+(e.byteLength+10+t.byteLength)]=162,r[e.byteLength+10+t.byteLength+24]=0,r[e.byteLength+10+t.byteLength+25]=1,r[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,r[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,r.set(n,e.byteLength+10+t.byteLength+28),r}function ty(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&r!==0&&r!==15&&o!==3){var a=e[t+3]>>6;r=1e3*Y3[14*(n===3?3-i:i===3?3:4)+r-1],o=Q3[3*(n===3?0:n===2?1:2)+o],n=Z3[n][i];var l=W3[i],f=Math.floor(n*r/o+(e[t+2]>>1&1))*l,h=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(h=h?parseInt(h[1],10):0)&&87>=h&&i===2&&224e3<=r&&a===0&&(e[t+3]|=128),{sampleRate:o,channelCount:a===3?1:2,ia:f,tj:8*n*l}}return null}function dw(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function hw(e,t){if(t+1<e.length&&dw(e,t)){var n=ty(e,t),i=4;return n&&n.ia&&(i=n.ia),t+=i,t===e.length||t+1<e.length&&dw(e,t)}return!1}var Y3=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Q3=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Z3=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],W3=[0,1,1,4];function Su(e){this.j=e,this.h=0,this.g=new Map,this.i=null}S=Su.prototype,S.destroy=function(){this.g.clear()},S.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?On(this.convertCodecs("audio",e)):!1},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},S.getOriginalMimeType=function(){return this.j},S.transmux=function(e,t,n,i){for(var r=Ue(e),o=gl(r).length;o<r.length&&!hw(r,o);o++);var a;for(e=[];o<r.length;){var l=ty(r,o);if(!l)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));a||(a=l),o+l.ia<=r.length&&e.push({data:r.subarray(o,o+l.ia),size:l.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),o+=l.ia}return a?(r=9e4*a.tj/a.sampleRate*this.h,i={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:a.sampleRate,duration:i,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:r,jb:e},stream:t},i=new ur([i]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Ws(i),this.g.set(n,t)),n=this.i!==t,i=Js(i),this.i=t,this.h++,n?(t=Vt(t,i),Promise.resolve(t)):Promise.resolve(i)):Promise.reject(new O(2,3,3018,n?n.N()[0]:null))},me("shaka.transmuxer.Mp3Transmuxer",Su),Su.prototype.transmux=Su.prototype.transmux,Su.prototype.getOriginalMimeType=Su.prototype.getOriginalMimeType,Su.prototype.convertCodecs=Su.prototype.convertCodecs,Su.prototype.isSupported=Su.prototype.isSupported,Su.prototype.destroy=Su.prototype.destroy,su("audio/mpeg",function(){return new Su("audio/mpeg")},$n);function Tu(e){this.h=e,this.g=null}S=Tu.prototype,S.destroy=function(){},S.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=mi(e).split(","),n=ri("audio",t);return t=ri("video",t),!n||t||Sn(n)!="mp3"?!1:On(this.convertCodecs("audio",e))},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},S.getOriginalMimeType=function(){return this.h},S.transmux=function(e,t,n,i,r){if(this.g?this.g.clearData():this.g=new Nt,e=Ue(e),e=this.g.parse(e),e.od().audio!="mp3"||r!="audio")return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),r=x(e.fb()),e=r.next();!e.done;e=r.next())if(e=e.value.data)for(t=0;t<e.length;)(i=ty(e,t))?(t+i.ia<=e.length&&(n=Vt(n,e.subarray(t,t+i.ia))),t+=i.ia):t++;return Promise.resolve(n)},me("shaka.transmuxer.MpegTsTransmuxer",Tu),Tu.prototype.transmux=Tu.prototype.transmux,Tu.prototype.getOriginalMimeType=Tu.prototype.getOriginalMimeType,Tu.prototype.convertCodecs=Tu.prototype.convertCodecs,Tu.prototype.isSupported=Tu.prototype.isSupported,Tu.prototype.destroy=Tu.prototype.destroy,su("video/mp2t",function(){return new Tu("video/mp2t")},ir);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Zr(e){this.h=e,(this.g=L0.get("ISOBoxer")())&&J3(this)}function J3(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(i){this._procEntryField(i,"BytesOfClearData","uint",16),this._procEntryField(i,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,i=0;16>i;i++)this.usertype[i]!==$3[i]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}S=Zr.prototype,S.destroy=function(){},S.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?On(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),On(t)||On(e))},S.convertCodecs=function(e,t){return t.replace("mss/","")},S.getOriginalMimeType=function(){return this.h},S.transmux=function(e,t,n){if(!n)return Promise.resolve(Ue(e));if(!t.mssPrivateData)return Promise.reject(new O(2,3,3020,n?n.N()[0]:null));try{var i,r=this.g.parseBuffer(e),o=r.fetch("tfhd");o.track_ID=t.id+1;var a=r.fetch("tfdt"),l=r.fetch("traf");a===null&&(a=this.g.createFullBox("tfdt",l,o),a.version=1,a.flags=0,a.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var f=r.fetch("trun"),h=r.fetch("tfxd");h&&h._parent.boxes.splice(h._parent.boxes.indexOf(h),1);var p=r.fetch("tfrf");p&&p._parent.boxes.splice(p._parent.boxes.indexOf(p),1);var g=r.fetch("sepiff");if(g!==null){g.type="senc",g.usertype=void 0;var y=r.fetch("saio");if(y===null){y=this.g.createFullBox("saio",l),y.version=0,y.flags=0,y.entry_count=1,y.offset=[0];var T=this.g.createFullBox("saiz",l);if(T.version=0,T.flags=0,T.sample_count=g.sample_count,T.default_sample_info_size=0,T.sample_info_size=[],g.flags&2)for(i=0;i<g.sample_count;i+=1)T.sample_info_size[i]=10+6*g.entry[i].NumberOfEntries;else T.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,f.flags|=1;var w=r.fetch("moof");f.data_offset=w.getLength()+8;var A=r.fetch("saio");A!==null&&(A.offset[0]=pw(w,"traf")+pw(l,"senc")+16);var E=Ue(r.write());return Promise.resolve(E)}catch(M){return M instanceof O?Promise.reject(M):Promise.reject(new O(2,3,3022,n?n.N()[0]:null))}};function pw(e,t){for(var n=8,i=0;i<e.boxes.length&&e.boxes[i].type!==t;i++)n+=e.boxes[i].size;return n}me("shaka.transmuxer.MssTransmuxer",Zr),Zr.prototype.transmux=Zr.prototype.transmux,Zr.prototype.getOriginalMimeType=Zr.prototype.getOriginalMimeType,Zr.prototype.convertCodecs=Zr.prototype.convertCodecs,Zr.prototype.isSupported=Zr.prototype.isSupported,Zr.prototype.destroy=Zr.prototype.destroy;var $3=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);su("mss/audio/mp4",function(){return new Zr("mss/audio/mp4")},$n),su("mss/video/mp4",function(){return new Zr("mss/video/mp4")},$n);function xu(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}S=xu.prototype,S.destroy=function(){this.i.clear(),this.h&&this.h.destroy()},S.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var i=mi(n).split(",");return n=ri("audio",i),i=ri("video",i),n&&(n=Sn(n),!e4.includes(n))||i&&(n=Sn(i),!t4.includes(n))?!1:t?On(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),On(t)||On(e))},S.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=mi(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return fu(n,"audio/mp4")}).map(ai).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},S.getOriginalMimeType=function(){return this.m},S.transmux=function(e,t,n,i,r){var o=Ue(e);if(r=="audio"&&!Cn(o)){for(var a=gl(o),l=a.length;l<o.length;l++)if(hw(o,l))return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));for(l=a.length;l<o.length;l++)if(lw(o,l))return this.h||(this.h=new Qr("audio/aac")),this.h.transmux(e,t,n,i,r);return Promise.reject(new O(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new Nt;var f=this.j.parse(o),h=[],p=f.od();try{var g=null;if(r=="video"){switch(p.video){case"avc":var y=[],T=null,w=f.wc(),A=V3(w);if(!A.length)throw new O(2,3,3023,n?n.N()[0]:null);for(var E=0;E<A.length;E++){var M=A[E];T==null&&(T=M.dts);var I=void 0;I=E+1<A.length?(A[E+1].dts||0)-(M.dts||0):1<A.length?(M.dts||0)-(A[E-1].dts||0):9e4*(n.endTime-n.startTime),y.push({data:M.data,size:M.data.byteLength,duration:I,eb:Math.round((M.pts||0)-(M.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:M.isKeyframe?2:1,ib:M.isKeyframe?0:1}})}for(var U=[],_=x(w),b=_.next();!b.done;b=_.next())U.push.apply(U,ce(b.value.nalus));var N=H3(U);if(!N||T==null)throw new O(2,3,3018,n?n.N()[0]:null);t.height=N.height,t.width=N.width,g={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,lb:[],ra:new Uint8Array([]),Ca:N.Ca,Ia:N.Ia,Ka:N.Ka,data:{Db:this.g,baseMediaDecodeTime:T,jb:y},stream:t};break;case"hvc":var k=[],P=null,j=[],V=f.wc();if(!V.length)throw new O(2,3,3023,n?n.N()[0]:null);for(var H=0;H<V.length;H++){var z=V[H],K=z.nalus;j.push.apply(j,ce(K));for(var X=!1,Z=[],Y=!1,ie=x(K),se=ie.next();!se.done;se=ie.next()){var Le=se.value;switch(Le.type){case 1:case 0:var we=Y=!0;break;case 19:case 20:case 21:X=we=Y=!0;break;case 32:we=!0;break;case 33:we=!0;break;case 34:we=!0;break;case 35:Y=we=!0;break;case 39:case 40:we=!0;break;default:we=!1}if(Y&&we){var yt=Le.fullData.byteLength,et=new Uint8Array(4);et[0]=yt>>24&255,et[1]=yt>>16&255,et[2]=yt>>8&255,et[3]=yt&255,Z.push(et),Z.push(Le.fullData)}}var Ge=Z.length?{data:Vt.apply(_n,ce(Z)),isKeyframe:X}:null;if(Ge){P==null&&z.dts!=null&&(P=z.dts);var Ze=void 0;Ze=H+1<V.length?(V[H+1].dts||0)-(z.dts||0):1<V.length?(z.dts||0)-(V[H-1].dts||0):9e4*(n.endTime-n.startTime),k.push({data:Ge.data,size:Ge.data.byteLength,duration:Ze,eb:Math.round((z.pts||0)-(z.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:Ge.isKeyframe?2:1,ib:Ge.isKeyframe?0:1}})}}var pt=G3(j);if(!pt||P==null)throw new O(2,3,3018,n?n.N()[0]:null);t.height=pt.height,t.width=pt.width,g={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,lb:[],ra:new Uint8Array([]),Ca:pt.Ca,Ia:pt.Ia,Ka:pt.Ka,data:{Db:this.g,baseMediaDecodeTime:P,jb:k},stream:t}}g&&(h.push(g),g=null)}if(r=="audio"){switch(p.audio){case"aac":for(var Be=[],it,be=null,He=null,_t=null,Gn=x(f.fb()),tn=Gn.next();!tn.done;tn=Gn.next()){var un=tn.value,Rn=un.data;if(Rn){var Zn=0;if(He==-1&&_t)Rn=Vt(_t,un.data),He=null;else if(He!=null&&_t){Zn=Math.max(0,He);var pf=Vt(_t,Rn.subarray(0,Zn));Be.push({data:pf,size:pf.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),He=_t=null}if(it=aw(Rn,Zn),!it)throw new O(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=it.sampleRate,t.channelsCount=it.channelCount,be==null&&un.pts!==null&&(be=un.pts);Zn<Rn.length;){var ka=sw(Rn,Zn);if(!ka){_t=Rn.subarray(Zn,Rn.length),He=-1;break}var Xl=ka.ud+ka.ia;He=Math.max(0,Zn+Xl-Rn.length),He!=0?_t=Rn.subarray(Zn+ka.ud,Zn+Xl):Zn+Xl<=Rn.length&&Be.push({data:Rn.subarray(Zn+ka.ud,Zn+Xl),size:ka.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Zn+=Xl}}}if(!it||be==null){if(!f.wc().length)throw new O(2,3,3018,n?n.N()[0]:null);be=9e4*n.startTime;var wu=ri("audio",t.codecs.split(","));if(!wu||!t.channelsCount||!t.audioSamplingRate)throw new O(2,3,3018,n?n.N()[0]:null);it={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:wu};var R1=P3(wu,t.channelsCount);if(!R1)throw new O(2,3,3018,n?n.N()[0]:null);for(var s4=be+9e4*(n.endTime-n.startTime),Rw=be;Rw<s4;)Be.push({data:R1,size:R1.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Rw+=1024/it.sampleRate*9e4}var kw=it.sampleRate,a4=be/9e4*kw;g={id:t.id,type:"audio",codecs:it.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:kw,duration:i,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:a4,jb:Be},stream:t};break;case"ac3":for(var Nw=[],iy=0,k1=new Uint8Array([]),ry=null,Lw=x(f.fb()),N1=Lw.next();!N1.done;N1=Lw.next()){var L1=N1.value,U1=L1.data;ry==null&&L1.pts!==null&&(ry=L1.pts);for(var oh=0;oh<U1.length;){var ql=cw(U1,oh);ql?(t.audioSamplingRate=ql.sampleRate,t.channelsCount=ql.channelCount,iy=ql.sampleRate,k1=ql.ra,Nw.push({data:U1.subarray(oh,oh+ql.ia),size:ql.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),oh+=ql.ia):oh++}}if(iy==0||k1.byteLength==0||ry==null)throw new O(2,3,3018,n?n.N()[0]:null);var l4=ry/9e4*iy;g={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:iy,duration:i,lb:[],ra:k1,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:l4,jb:Nw},stream:t};break;case"ec3":for(var Uw=[],uy=0,_1=new Uint8Array([]),oy=null,_w=x(f.fb()),O1=_w.next();!O1.done;O1=_w.next()){var j1=O1.value,b1=j1.data;oy==null&&j1.pts!==null&&(oy=j1.pts);for(var sh=0;sh<b1.length;){var Fl=fw(b1,sh);Fl?(t.audioSamplingRate=Fl.sampleRate,t.channelsCount=Fl.channelCount,uy=Fl.sampleRate,_1=Fl.ra,Uw.push({data:b1.subarray(sh,sh+Fl.ia),size:Fl.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),sh+=Fl.ia):sh++}}if(uy==0||_1.byteLength==0||oy==null)throw new O(2,3,3018,n?n.N()[0]:null);var c4=oy/9e4*uy;g={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:uy,duration:i,lb:[],ra:_1,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:c4,jb:Uw},stream:t};break;case"mp3":for(var Ow=[],sy,ay=null,jw=x(f.fb()),P1=jw.next();!P1.done;P1=jw.next()){var B1=P1.value,Ng=B1.data;if(Ng){ay==null&&B1.pts!==null&&(ay=B1.pts);for(var gf=0;gf<Ng.length;){var ah=ty(Ng,gf);ah?(sy||(sy=ah),gf+ah.ia<=Ng.length&&Ow.push({data:Ng.subarray(gf,gf+ah.ia),size:ah.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),gf+=ah.ia):gf++}}}if(!sy||ay==null)throw new O(2,3,3018,n?n.N()[0]:null);var bw=sy.sampleRate,f4=ay/9e4*bw;g={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:bw,duration:i,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:f4,jb:Ow},stream:t};break;case"opus":var Pw=[],ly=null,xs=f.F;if(!xs)throw new O(2,3,3018,n?n.N()[0]:null);var Ki=[];switch(xs.Zh){case 1:case 2:Ki=[0];break;case 0:Ki=[255,1,1,0,1];break;case 128:Ki=[255,2,0,0,1];break;case 3:Ki=[1,2,1,0,2,1];break;case 4:Ki=[1,2,2,0,1,2,3];break;case 5:Ki=[1,3,2,0,4,1,2,3];break;case 6:Ki=[1,4,2,0,4,1,2,3,5];break;case 7:Ki=[1,4,2,0,4,1,2,3,5,6];break;case 8:Ki=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Ki=[1,1,2,0,1];break;case 131:Ki=[1,1,3,0,1,2];break;case 132:Ki=[1,1,4,0,1,2,3];break;case 133:Ki=[1,1,5,0,1,2,3,4];break;case 134:Ki=[1,1,6,0,1,2,3,4,5];break;case 135:Ki=[1,1,7,0,1,2,3,4,5,6];break;case 136:Ki=[1,1,8,0,1,2,3,4,5,6,7]}for(var Bw=new Uint8Array([0,xs.channelCount,0,0,xs.sampleRate>>>24&255,xs.sampleRate>>>17&255,xs.sampleRate>>>8&255,xs.sampleRate>>>0&255,0,0].concat(ce(Ki))),Hw=xs.sampleRate,Vw=x(f.fb()),H1=Vw.next();!H1.done;H1=Vw.next()){var V1=H1.value,lh=V1.data;ly==null&&V1.pts!==null&&(ly=V1.pts);for(var Lg=0;Lg<lh.length;){for(var d4=(lh[Lg+1]&16)!==0,h4=(lh[Lg+1]&8)!==0,Na=Lg+2,cy=0;lh[Na]===255;)cy+=255,Na+=1;cy+=lh[Na],Na+=1,Na+=d4?2:0,Na+=h4?2:0;var zw=lh.slice(Na,Na+cy);Pw.push({data:zw,size:zw.byteLength,duration:960,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Lg=Na+cy}}if(Bw.byteLength==0||ly==null)throw new O(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=xs.sampleRate,t.channelsCount=xs.channelCount;var p4=ly/9e4*Hw;g={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Hw,duration:i,lb:[],ra:Bw,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:p4,jb:Pw},stream:t}}g&&(h.push(g),g=null)}}catch(G1){return G1&&G1.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(G1)}if(!h.length)return Promise.reject(new O(2,3,3018,n?n.N()[0]:null));var Gw=new ur(h),z1=t.id+"_"+n.i;if(this.i.has(z1))var Ug=this.i.get(z1);else Ug=Ws(Gw),this.i.set(z1,Ug);var g4=this.l!==Ug,Xw=Js(Gw);if(this.l=Ug,this.g++,g4){var m4=Vt(Ug,Xw);return Promise.resolve(m4)}return Promise.resolve(Xw)},me("shaka.transmuxer.TsTransmuxer",xu),xu.prototype.transmux=xu.prototype.transmux,xu.prototype.getOriginalMimeType=xu.prototype.getOriginalMimeType,xu.prototype.convertCodecs=xu.prototype.convertCodecs,xu.prototype.isSupported=xu.prototype.isSupported,xu.prototype.destroy=xu.prototype.destroy;var e4=["aac","ac-3","ec-3","mp3","opus"],t4=["avc","hevc"];su("video/mp2t",function(){return new xu("video/mp2t")},Ko);function gw(){}Yt(gw,di),me("shaka.util.FairPlayUtils",gw);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function mw(){}var Rg;function vw(){Rg||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Rg=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=n4,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function n4(e,t){var n=this,i;return L(function(r){return r.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),C(r,Rg.call(n,e,t),2)):(i=r.h,Mw(i)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Rg,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=yw,r.return(yw.call(n,e,t))))})}function yw(e,t){var n=this,i,r,o,a,l,f,h,p,g,y,T,w;return L(function(A){if(A.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=Aw(e),r=[],o=x(t),a=o.next();!a.done;a=o.next())l=a.value,f=Sw(l.videoCapabilities,i),h=Sw(l.audioCapabilities,i),l.videoCapabilities&&l.videoCapabilities.length&&!f.length||l.audioCapabilities&&l.audioCapabilities.length&&!h.length||(p=Object.assign({},l),p.videoCapabilities=f,p.audioCapabilities=h,r.push(p));if(!r.length)throw g=Error("Unsupported keySystem or supportedConfigurations."),g.name="NotSupportedError",g.code=DOMException.NOT_SUPPORTED_ERR,g;return C(A,Rg.call(n,e,r),2)}return y=A.h,w=T=null,r[0]&&(r[0].videoCapabilities&&(T=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(w=r[0].audioCapabilities[0].encryptionScheme)),A.return(new ny(y,T,w))})}function Sw(e,t){return e&&e.filter(function(n){return C1(n.encryptionScheme,t)})}me("EmeEncryptionSchemePolyfill",mw),mw.install=vw;function Tw(){}var kg;function xw(){kg||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(kg=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=i4,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function i4(e){var t=this,n,i;return L(function(r){switch(r.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),C(r,kg.call(t,e),2);case 2:if(n=r.h,!n.supported||!e.keySystemConfiguration)return r.return(n);if((i=n.keySystemAccess)&&Mw(i))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=kg,r.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=ww,i){r.s(3);break}return C(r,Ew(e),4);case 4:return n.keySystemAccess=r.h,r.return(n);case 3:return r.return(ww.call(t,e))}})}function ww(e){var t=this,n,i,r,o,a,l,f;return L(function(h){switch(h.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),i=n=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,o=r.keySystem,i=r.audio&&r.audio.encryptionScheme,n=r.video&&r.video.encryptionScheme,a=Aw(o),l={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},C1(i,a)&&C1(n,a))?C(h,kg.call(t,e),2):h.return(l);case 2:if(f=h.h,f.keySystemAccess){f.keySystemAccess=new ny(f.keySystemAccess,n,i),h.s(3);break}if(!e.keySystemConfiguration){h.s(3);break}return C(h,Ew(e),5);case 5:f.keySystemAccess=h.h;case 3:return h.return(f)}})}function Ew(e){var t,n;return L(function(i){if(i.g==1){var r=e.keySystemConfiguration,o=[],a=[];return r.audio&&o.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:r.audio.encryptionScheme}),r.video&&a.push({robustness:r.video.robustness||"",contentType:e.video.contentType,encryptionScheme:r.video.encryptionScheme}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},o.length&&(r.audioCapabilities=o),a.length&&(r.videoCapabilities=a),t=r,C(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}me("McEncryptionSchemePolyfill",Tw),Tw.install=xw;function ny(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}ny.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=x(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=x(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},ny.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function Aw(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function Mw(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function C1(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&(u4||o4||r4))}function D1(){}function Cw(){vw(),xw()}me("EncryptionSchemePolyfills",D1),D1.install=Cw;var r4=navigator.userAgent.includes("CrKey"),u4=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),I1,Dw=navigator.userAgent||"";if(Dw.includes("Web0S")){var Iw=Dw.match(/Chrome\/(\d+)/);I1=Iw?79<=parseInt(Iw[1],10):!1}else I1=!1;var o4=I1;typeof St<"u"&&St.exports&&(St.exports=D1)}).call(lt,ft,ft,void 0);for(var ee in lt.shaka)ge[ee]=lt.shaka[ee]})()}(Z1)),Z1}var U4=L4();const nE=rE(U4);var mf=(ge=>(ge.HLS="HLS",ge.DASH="DASH",ge.DASH_WIDEVINE="DASH WIDEVINE",ge.HLS_WIDEVINE="HLS WIDEVINE",ge))(mf||{});const _4=({src:ge,type:ft})=>{const lt=kr.useRef(null),ee=kr.useRef(null),{addLog:F}=fy(),gt=kr.useCallback(St=>{if(St!=null&&St.detail){const S=St.detail;F(" Error on player: ".concat(S.mesage," (").concat(S.code,") (").concat(S.severity,")"),"error");return}F("Error on player","error")},[F]);return kr.useEffect(()=>{if(!lt.current)return;nE.polyfill.installAll();const St=new nE.Player(lt.current);return ee.current=St,St.addEventListener("error",gt),()=>{St.destroy()}},[]),kr.useEffect(()=>{ee!=null&&ee.current&&((ft==="DASH WIDEVINE"||ft==="HLS WIDEVINE")&&(console.log("is widevine"),ee.current.configure({drm:{servers:{"com.widevine.alpha":"https://cwip-ssdfsdfqdsgfsdfgsdfgsdfgsdfgrgfgsdfghaka-proxy.appspot.com/no_auth"}}})),ee.current.load(ge).then(()=>F("Vidéo chargée")).catch(St=>F(St.message?"Error: "+St.message:"Error","error")))},[ge,ft]),yn.jsxs("div",{className:"player",children:[yn.jsxs("h2",{className:"videoType",children:[" ",ft]}),yn.jsx("video",{ref:lt,autoPlay:!0}),";"]})},O4=()=>yn.jsx("div",{className:"help-container",children:yn.jsxs("div",{className:"help-message",children:[yn.jsx("div",{className:"message",children:" press 0: Reload"}),yn.jsx("div",{className:"message",children:" press 1: Play DASH"}),yn.jsx("div",{className:"message",children:" press 2: Play HLS"}),yn.jsx("div",{className:"message",children:" press 3: Play HLS CRYPTED widevine"}),yn.jsx("div",{className:"message",children:" press 4: Play DASH CRYPTED widevine"})]})}),iE=[{src:"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd",type:mf.DASH},{src:"https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd",type:mf.DASH}],j4=[{src:"https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8",type:mf.HLS},{src:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",type:mf.HLS}],b4=[{src:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine/dash.mpd",type:mf.DASH_WIDEVINE}],P4=[{src:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine-hls/hls.m3u8",type:mf.HLS_WIDEVINE}],B4=()=>{const[ge,ft]=kr.useState(iE[0]),{addLog:lt}=fy();kr.useEffect(()=>{lt("VERSION 1.0.2")},[]);const ee=kr.useCallback(gt=>{const St=gt.filter(qe=>qe.src!==ge.src),S=Math.floor(Math.random()*St.length);return St.length?St[S]:gt[0]},[ge]),F=kr.useCallback(gt=>{switch(gt){case"1":{ft(ee(iE));return}case"2":{ft(ee(j4));return}case"3":{ft(ee(P4));return}case"4":{ft(ee(b4));return}}},[ee]);return N4(F),yn.jsxs(yn.Fragment,{children:[yn.jsx(I4,{}),yn.jsxs("div",{className:"content",children:[yn.jsx(k4,{}),yn.jsx(_4,{src:ge.src,type:ge.type}),yn.jsx(O4,{})]})]})};D4.createRoot(document.getElementById("root")).render(yn.jsx(R4,{children:yn.jsx(B4,{})}));export{H4 as __vite_legacy_guard};
